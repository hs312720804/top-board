{"version":3,"file":"js/chunk-vendors-02ec2db9-legacy.90229582.js","mappings":"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","sources":["webpack://databoard/./node_modules/echarts/lib/component/helper/RoamController.js","webpack://databoard/./node_modules/echarts/lib/component/helper/brushHelper.js","webpack://databoard/./node_modules/echarts/lib/component/helper/cursorHelper.js","webpack://databoard/./node_modules/echarts/lib/component/helper/interactionMutex.js","webpack://databoard/./node_modules/echarts/lib/component/helper/listComponent.js","webpack://databoard/./node_modules/echarts/lib/component/helper/roamHelper.js","webpack://databoard/./node_modules/echarts/lib/component/helper/sliderMove.js","webpack://databoard/./node_modules/echarts/lib/component/legend/LegendModel.js","webpack://databoard/./node_modules/echarts/lib/component/legend/LegendView.js","webpack://databoard/./node_modules/echarts/lib/component/legend/legendFilter.js","webpack://databoard/./node_modules/echarts/lib/component/legend/legendAction.js","webpack://databoard/./node_modules/echarts/lib/component/legend/installLegendPlain.js","webpack://databoard/./node_modules/echarts/lib/component/legend/ScrollableLegendModel.js","webpack://databoard/./node_modules/echarts/lib/component/legend/ScrollableLegendView.js","webpack://databoard/./node_modules/echarts/lib/component/legend/scrollableLegendAction.js","webpack://databoard/./node_modules/echarts/lib/component/legend/installLegendScroll.js","webpack://databoard/./node_modules/echarts/lib/component/legend/install.js","webpack://databoard/./node_modules/echarts/lib/component/marker/MarkAreaModel.js","webpack://databoard/./node_modules/echarts/lib/component/marker/MarkAreaView.js","webpack://databoard/./node_modules/echarts/lib/component/marker/MarkLineModel.js","webpack://databoard/./node_modules/echarts/lib/component/marker/MarkLineView.js","webpack://databoard/./node_modules/echarts/lib/component/marker/MarkPointModel.js","webpack://databoard/./node_modules/echarts/lib/component/marker/MarkPointView.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as interactionMutex from './interactionMutex.js';\nimport { isString, bind, defaults, clone } from 'zrender/lib/core/util.js';\n;\n\nvar RoamController =\n/** @class */\nfunction (_super) {\n  __extends(RoamController, _super);\n\n  function RoamController(zr) {\n    var _this = _super.call(this) || this;\n\n    _this._zr = zr; // Avoid two roamController bind the same handler\n\n    var mousedownHandler = bind(_this._mousedownHandler, _this);\n    var mousemoveHandler = bind(_this._mousemoveHandler, _this);\n    var mouseupHandler = bind(_this._mouseupHandler, _this);\n    var mousewheelHandler = bind(_this._mousewheelHandler, _this);\n    var pinchHandler = bind(_this._pinchHandler, _this);\n    /**\n     * Notice: only enable needed types. For example, if 'zoom'\n     * is not needed, 'zoom' should not be enabled, otherwise\n     * default mousewheel behaviour (scroll page) will be disabled.\n     */\n\n    _this.enable = function (controlType, opt) {\n      // Disable previous first\n      this.disable();\n      this._opt = defaults(clone(opt) || {}, {\n        zoomOnMouseWheel: true,\n        moveOnMouseMove: true,\n        // By default, wheel do not trigger move.\n        moveOnMouseWheel: false,\n        preventDefaultMouseMove: true\n      });\n\n      if (controlType == null) {\n        controlType = true;\n      }\n\n      if (controlType === true || controlType === 'move' || controlType === 'pan') {\n        zr.on('mousedown', mousedownHandler);\n        zr.on('mousemove', mousemoveHandler);\n        zr.on('mouseup', mouseupHandler);\n      }\n\n      if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\n        zr.on('mousewheel', mousewheelHandler);\n        zr.on('pinch', pinchHandler);\n      }\n    };\n\n    _this.disable = function () {\n      zr.off('mousedown', mousedownHandler);\n      zr.off('mousemove', mousemoveHandler);\n      zr.off('mouseup', mouseupHandler);\n      zr.off('mousewheel', mousewheelHandler);\n      zr.off('pinch', pinchHandler);\n    };\n\n    return _this;\n  }\n\n  RoamController.prototype.isDragging = function () {\n    return this._dragging;\n  };\n\n  RoamController.prototype.isPinching = function () {\n    return this._pinching;\n  };\n\n  RoamController.prototype.setPointerChecker = function (pointerChecker) {\n    this.pointerChecker = pointerChecker;\n  };\n\n  RoamController.prototype.dispose = function () {\n    this.disable();\n  };\n\n  RoamController.prototype._mousedownHandler = function (e) {\n    if (eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      return;\n    }\n\n    var el = e.target;\n\n    while (el) {\n      if (el.draggable) {\n        return;\n      } // check if host is draggable\n\n\n      el = el.__hostTarget || el.parent;\n    }\n\n    var x = e.offsetX;\n    var y = e.offsetY; // Only check on mosedown, but not mousemove.\n    // Mouse can be out of target when mouse moving.\n\n    if (this.pointerChecker && this.pointerChecker(e, x, y)) {\n      this._x = x;\n      this._y = y;\n      this._dragging = true;\n    }\n  };\n\n  RoamController.prototype._mousemoveHandler = function (e) {\n    if (!this._dragging || !isAvailableBehavior('moveOnMouseMove', e, this._opt) || e.gestureEvent === 'pinch' || interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var oldX = this._x;\n    var oldY = this._y;\n    var dx = x - oldX;\n    var dy = y - oldY;\n    this._x = x;\n    this._y = y;\n    this._opt.preventDefaultMouseMove && eventTool.stop(e.event);\n    trigger(this, 'pan', 'moveOnMouseMove', e, {\n      dx: dx,\n      dy: dy,\n      oldX: oldX,\n      oldY: oldY,\n      newX: x,\n      newY: y,\n      isAvailableBehavior: null\n    });\n  };\n\n  RoamController.prototype._mouseupHandler = function (e) {\n    if (!eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      this._dragging = false;\n    }\n  };\n\n  RoamController.prototype._mousewheelHandler = function (e) {\n    var shouldZoom = isAvailableBehavior('zoomOnMouseWheel', e, this._opt);\n    var shouldMove = isAvailableBehavior('moveOnMouseWheel', e, this._opt);\n    var wheelDelta = e.wheelDelta;\n    var absWheelDeltaDelta = Math.abs(wheelDelta);\n    var originX = e.offsetX;\n    var originY = e.offsetY; // wheelDelta maybe -0 in chrome mac.\n\n    if (wheelDelta === 0 || !shouldZoom && !shouldMove) {\n      return;\n    } // If both `shouldZoom` and `shouldMove` is true, trigger\n    // their event both, and the final behavior is determined\n    // by event listener themselves.\n\n\n    if (shouldZoom) {\n      // Convenience:\n      // Mac and VM Windows on Mac: scroll up: zoom out.\n      // Windows: scroll up: zoom in.\n      // FIXME: Should do more test in different environment.\n      // wheelDelta is too complicated in difference nvironment\n      // (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),\n      // although it has been normallized by zrender.\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var factor = absWheelDeltaDelta > 3 ? 1.4 : absWheelDeltaDelta > 1 ? 1.2 : 1.1;\n      var scale = wheelDelta > 0 ? factor : 1 / factor;\n      checkPointerAndTrigger(this, 'zoom', 'zoomOnMouseWheel', e, {\n        scale: scale,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n\n    if (shouldMove) {\n      // FIXME: Should do more test in different environment.\n      var absDelta = Math.abs(wheelDelta); // wheelDelta of mouse wheel is bigger than touch pad.\n\n      var scrollDelta = (wheelDelta > 0 ? 1 : -1) * (absDelta > 3 ? 0.4 : absDelta > 1 ? 0.15 : 0.05);\n      checkPointerAndTrigger(this, 'scrollMove', 'moveOnMouseWheel', e, {\n        scrollDelta: scrollDelta,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n  };\n\n  RoamController.prototype._pinchHandler = function (e) {\n    if (interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n\n    var scale = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n    checkPointerAndTrigger(this, 'zoom', null, e, {\n      scale: scale,\n      originX: e.pinchX,\n      originY: e.pinchY,\n      isAvailableBehavior: null\n    });\n  };\n\n  return RoamController;\n}(Eventful);\n\nfunction checkPointerAndTrigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  if (controller.pointerChecker && controller.pointerChecker(e, contollerEvent.originX, contollerEvent.originY)) {\n    // When mouse is out of roamController rect,\n    // default befavoius should not be be disabled, otherwise\n    // page sliding is disabled, contrary to expectation.\n    eventTool.stop(e.event);\n    trigger(controller, eventName, behaviorToCheck, e, contollerEvent);\n  }\n}\n\nfunction trigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  // Also provide behavior checker for event listener, for some case that\n  // multiple components share one listener.\n  contollerEvent.isAvailableBehavior = bind(isAvailableBehavior, null, behaviorToCheck, e); // TODO should not have type issue.\n\n  controller.trigger(eventName, contollerEvent);\n} // settings: {\n//     zoomOnMouseWheel\n//     moveOnMouseMove\n//     moveOnMouseWheel\n// }\n// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\n\n\nfunction isAvailableBehavior(behaviorToCheck, e, settings) {\n  var setting = settings[behaviorToCheck];\n  return !behaviorToCheck || setting && (!isString(setting) || e.event[setting + 'Key']);\n}\n\nexport default RoamController;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { onIrrelevantElement } from './cursorHelper.js';\nimport * as graphicUtil from '../../util/graphic.js';\nexport function makeRectPanelClipPath(rect) {\n  rect = normalizeRect(rect);\n  return function (localPoints) {\n    return graphicUtil.clipPointsByRect(localPoints, rect);\n  };\n}\nexport function makeLinearBrushOtherExtent(rect, specifiedXYIndex) {\n  rect = normalizeRect(rect);\n  return function (xyIndex) {\n    var idx = specifiedXYIndex != null ? specifiedXYIndex : xyIndex;\n    var brushWidth = idx ? rect.width : rect.height;\n    var base = idx ? rect.x : rect.y;\n    return [base, base + (brushWidth || 0)];\n  };\n}\nexport function makeRectIsTargetByCursor(rect, api, targetModel) {\n  var boundingRect = normalizeRect(rect);\n  return function (e, localCursorPoint) {\n    return boundingRect.contain(localCursorPoint[0], localCursorPoint[1]) && !onIrrelevantElement(e, api, targetModel);\n  };\n} // Consider width/height is negative.\n\nfunction normalizeRect(rect) {\n  return BoundingRect.create(rect);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar IRRELEVANT_EXCLUDES = {\n  'axisPointer': 1,\n  'tooltip': 1,\n  'brush': 1\n};\n/**\n * Avoid that: mouse click on a elements that is over geo or graph,\n * but roam is triggered.\n */\n\nexport function onIrrelevantElement(e, api, targetCoordSysModel) {\n  var model = api.getComponentByElement(e.topTarget); // If model is axisModel, it works only if it is injected with coordinateSystem.\n\n  var coordSys = model && model.coordinateSystem;\n  return model && model !== targetCoordSysModel && !IRRELEVANT_EXCLUDES.hasOwnProperty(model.mainType) && coordSys && coordSys.model !== targetCoordSysModel;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as echarts from '../../core/echarts.js';\nimport { noop } from 'zrender/lib/core/util.js';\nvar ATTR = '\\0_ec_interaction_mutex';\nexport function take(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  store[resourceKey] = userKey;\n}\nexport function release(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  var uKey = store[resourceKey];\n\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\nexport function isTaken(zr, resourceKey) {\n  return !!getStore(zr)[resourceKey];\n}\n\nfunction getStore(zr) {\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n// TODO: SELF REGISTERED.\n\n\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, noop);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { getLayoutRect, box as layoutBox, positionElement } from '../../util/layout.js';\nimport * as formatUtil from '../../util/format.js';\nimport * as graphic from '../../util/graphic.js';\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\n\nexport function layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\nexport function makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  }); // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n\n  return rect;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * For geo and graph.\n */\nexport function updateViewOnPan(controllerHost, dx, dy) {\n  var target = controllerHost.target;\n  target.x += dx;\n  target.y += dy;\n  target.dirty();\n}\n/**\n * For geo and graph.\n */\n\nexport function updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\n  var target = controllerHost.target;\n  var zoomLimit = controllerHost.zoomLimit;\n  var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\n  newZoom *= zoomDelta;\n\n  if (zoomLimit) {\n    var zoomMin = zoomLimit.min || 0;\n    var zoomMax = zoomLimit.max || Infinity;\n    newZoom = Math.max(Math.min(zoomMax, newZoom), zoomMin);\n  }\n\n  var zoomScale = newZoom / controllerHost.zoom;\n  controllerHost.zoom = newZoom; // Keep the mouse center when scaling\n\n  target.x -= (zoomX - target.x) * (zoomScale - 1);\n  target.y -= (zoomY - target.y) * (zoomScale - 1);\n  target.scaleX *= zoomScale;\n  target.scaleY *= zoomScale;\n  target.dirty();\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param delta Move length.\n * @param handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param handleIndex Can be 'all', means that both move the two handleEnds.\n * @param minSpan The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param maxSpan The range of dataZoom can not be larger than that.\n * @return The input handleEnds.\n */\nexport default function sliderMove(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0]; // Notice maxSpan and minSpan can be null/undefined.\n\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n\n  if (handleIndex === 'all') {\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\n    handleIndex = 0;\n  }\n\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta; // Restrict in extent.\n\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent); // Expand span.\n\n  var currDistSign;\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbidden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  } // Shrink span.\n\n\n  currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n\n  return handleEnds;\n}\n\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex]; // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\n\nfunction restrict(value, extend) {\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\n}","import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.concat.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from '../../model/Model.js';\nimport { isNameSpecified } from '../../util/model.js';\nimport ComponentModel from '../../model/Component.js';\nvar getDefaultSelectorOptions = function getDefaultSelectorOptions(ecModel, type) {\n  if (type === 'all') {\n    return {\n      type: 'all',\n      title: ecModel.getLocaleModel().get(['legend', 'selector', 'all'])\n    };\n  } else if (type === 'inverse') {\n    return {\n      type: 'inverse',\n      title: ecModel.getLocaleModel().get(['legend', 'selector', 'inverse'])\n    };\n  }\n};\nvar LegendModel = /** @class */\nfunction (_super) {\n  __extends(LegendModel, _super);\n  function LegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LegendModel.type;\n    _this.layoutMode = {\n      type: 'box',\n      // legend.width/height are maxWidth/maxHeight actually,\n      // whereas real width/height is calculated by its content.\n      // (Setting {left: 10, right: 10} does not make sense).\n      // So consider the case:\n      // `setOption({legend: {left: 10});`\n      // then `setOption({legend: {right: 10});`\n      // The previous `left` should be cleared by setting `ignoreSize`.\n      ignoreSize: true\n    };\n    return _this;\n  }\n  LegendModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n    this._updateSelector(option);\n  };\n  LegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n    this._updateSelector(option);\n  };\n  LegendModel.prototype._updateSelector = function (option) {\n    var selector = option.selector;\n    var ecModel = this.ecModel;\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, getDefaultSelectorOptions(ecModel, item.type));\n      });\n    }\n  };\n  LegendModel.prototype.optionUpdated = function () {\n    this._updateData(this.ecModel);\n    var legendData = this._data; // If selectedMode is single, try to select one\n\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false; // If has any selected in option.selected\n\n      for (var i = 0; i < legendData.length; i++) {\n        var name_1 = legendData[i].get('name');\n        if (this.isSelected(name_1)) {\n          // Force to unselect others\n          this.select(name_1);\n          hasSelected = true;\n          break;\n        }\n      } // Try select the first if selectedMode is single\n\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  };\n  LegendModel.prototype._updateData = function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n\n    this._availableNames = availableNames; // If legend.data is not specified in option, use availableNames as data,\n    // which is convenient for user preparing option.\n\n    var rawData = this.get('data') || potentialData;\n    var legendNameMap = zrUtil.createHashMap();\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (zrUtil.isString(dataItem) || zrUtil.isNumber(dataItem)) {\n        dataItem = {\n          name: dataItem\n        };\n      }\n      if (legendNameMap.get(dataItem.name)) {\n        // remove legend name duplicate\n        return null;\n      }\n      legendNameMap.set(dataItem.name, true);\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._data = zrUtil.filter(legendData, function (item) {\n      return !!item;\n    });\n  };\n  LegendModel.prototype.getData = function () {\n    return this._data;\n  };\n  LegendModel.prototype.select = function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n    selected[name] = true;\n  };\n  LegendModel.prototype.unSelect = function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  };\n  LegendModel.prototype.toggleSelected = function (name) {\n    var selected = this.option.selected; // Default is true\n\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  };\n  LegendModel.prototype.allSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  };\n  LegendModel.prototype.inverseSelect = function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true); // Initially, default value is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n      selected[name] = !selected[name];\n    });\n  };\n  LegendModel.prototype.isSelected = function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  };\n  LegendModel.prototype.getOrient = function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  };\n  LegendModel.type = 'legend.plain';\n  LegendModel.dependencies = ['series'];\n  LegendModel.defaultOption = {\n    // zlevel: 0,\n    z: 4,\n    show: true,\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemGap: 10,\n    itemWidth: 25,\n    itemHeight: 14,\n    symbolRotate: 'inherit',\n    symbolKeepAspect: true,\n    inactiveColor: '#ccc',\n    inactiveBorderColor: '#ccc',\n    inactiveBorderWidth: 'auto',\n    itemStyle: {\n      color: 'inherit',\n      opacity: 'inherit',\n      borderColor: 'inherit',\n      borderWidth: 'auto',\n      borderCap: 'inherit',\n      borderJoin: 'inherit',\n      borderDashOffset: 'inherit',\n      borderMiterLimit: 'inherit'\n    },\n    lineStyle: {\n      width: 'auto',\n      color: 'inherit',\n      inactiveColor: '#ccc',\n      inactiveWidth: 2,\n      opacity: 'inherit',\n      type: 'inherit',\n      cap: 'inherit',\n      join: 'inherit',\n      dashOffset: 'inherit',\n      miterLimit: 'inherit'\n    },\n    textStyle: {\n      color: '#333'\n    },\n    selectedMode: true,\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: 'sans-serif',\n      color: '#666',\n      borderWidth: 1,\n      borderColor: '#666'\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: '#eee',\n        backgroundColor: '#666'\n      }\n    },\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    tooltip: {\n      show: false\n    }\n  };\n  return LegendModel;\n}(ComponentModel);\nexport default LegendModel;","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parse, stringify } from 'zrender/lib/tool/color.js';\nimport * as graphic from '../../util/graphic.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { setLabelStyle, createTextStyle } from '../../label/labelStyle.js';\nimport { makeBackground } from '../helper/listComponent.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport ComponentView from '../../view/Component.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal.js';\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\nvar LegendView = /** @class */\nfunction (_super) {\n  __extends(LegendView, _super);\n  function LegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = LegendView.type;\n    _this.newlineDisabled = false;\n    return _this;\n  }\n  LegendView.prototype.init = function () {\n    this.group.add(this._contentGroup = new Group());\n    this.group.add(this._selectorGroup = new Group());\n    this._isFirstRender = true;\n  };\n  /**\n   * @protected\n   */\n\n  LegendView.prototype.getContentGroup = function () {\n    return this._contentGroup;\n  };\n  /**\n   * @protected\n   */\n\n  LegendView.prototype.getSelectorGroup = function () {\n    return this._selectorGroup;\n  };\n  /**\n   * @override\n   */\n\n  LegendView.prototype.render = function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    } // selector has been normalized to an array in model\n\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.x = layoutRect.x - mainRect.x;\n    this.group.y = layoutRect.y - mainRect.y;\n    this.group.markRedraw(); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  };\n  LegendView.prototype.resetInner = function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  };\n  LegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (legendItemModel, dataIndex) {\n      var name = legendItemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        var g = new Group(); // @ts-ignore\n\n        g.newline = true;\n        contentGroup.add(g);\n        return;\n      } // Representitive series.\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n      if (legendDrawnMap.get(name)) {\n        // Have been drawn\n        return;\n      } // Legend to control series.\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var lineVisualStyle = data.getVisual('legendLineStyle') || {};\n        var legendIcon = data.getVisual('legendIcon');\n        /**\n         * `data.getVisual('style')` may be the color from the register\n         * in series. For example, for line series,\n         */\n\n        var style = data.getVisual('style');\n        var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, style, legendIcon, selectMode, api);\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n            if (!provider.containName(name)) {\n              return;\n            }\n            var idx = provider.indexOfName(name);\n            var style = provider.getItemVisual(idx, 'style');\n            var legendIcon = provider.getItemVisual(idx, 'legendIcon');\n            var colorArr = parse(style.fill); // Color may be set to transparent in visualMap when data is out of range.\n            // Do not show nothing.\n\n            if (colorArr && colorArr[3] === 0) {\n              colorArr[3] = 0.2; // TODO color is set to 0, 0, 0, 0. Should show correct RGBA\n\n              style = zrUtil.extend(zrUtil.extend({}, style), {\n                fill: stringify(colorArr, 'rgba')\n              });\n            }\n            var itemGroup = this._createItem(seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, {}, style, legendIcon, selectMode, api); // FIXME: consider different series has items with the same name.\n\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        if (!legendDrawnMap.get(name)) {\n          console.warn(name + ' series not exists. Legend data should be same with series name or data name.');\n        }\n      }\n    }, this);\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  };\n  LegendView.prototype._createSelector = function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function onclick() {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel(['emphasis', 'selectorLabel']);\n      setLabelStyle(labelText, {\n        normal: labelModel,\n        emphasis: emphasisLabelModel\n      }, {\n        defaultText: selectorItem.title\n      });\n      enableHoverEmphasis(labelText);\n    });\n  };\n  LegendView.prototype._createItem = function (seriesModel, name, dataIndex, legendItemModel, legendModel, itemAlign, lineVisualStyle, itemVisualStyle, legendIcon, selectMode, api) {\n    var drawType = seriesModel.visualDrawType;\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var isSelected = legendModel.isSelected(name);\n    var iconRotate = legendItemModel.get('symbolRotate');\n    var symbolKeepAspect = legendItemModel.get('symbolKeepAspect');\n    var legendIconType = legendItemModel.get('icon');\n    legendIcon = legendIconType || legendIcon || 'roundRect';\n    var style = getLegendStyle(legendIcon, legendItemModel, lineVisualStyle, itemVisualStyle, drawType, isSelected, api);\n    var itemGroup = new Group();\n    var textStyleModel = legendItemModel.getModel('textStyle');\n    if (zrUtil.isFunction(seriesModel.getLegendIcon) && (!legendIconType || legendIconType === 'inherit')) {\n      // Series has specific way to define legend icon\n      itemGroup.add(seriesModel.getLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: iconRotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle,\n        symbolKeepAspect: symbolKeepAspect\n      }));\n    } else {\n      // Use default legend icon policy for most series\n      var rotate = legendIconType === 'inherit' && seriesModel.getData().getVisual('symbol') ? iconRotate === 'inherit' ? seriesModel.getData().getVisual('symbolRotate') : iconRotate : 0; // No rotation for no icon\n\n      itemGroup.add(getDefaultLegendIcon({\n        itemWidth: itemWidth,\n        itemHeight: itemHeight,\n        icon: legendIcon,\n        iconRotate: rotate,\n        itemStyle: style.itemStyle,\n        lineStyle: style.lineStyle,\n        symbolKeepAspect: symbolKeepAspect\n      }));\n    }\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n    if (zrUtil.isString(formatter) && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (zrUtil.isFunction(formatter)) {\n      content = formatter(name);\n    }\n    var inactiveColor = legendItemModel.get('inactiveColor');\n    itemGroup.add(new graphic.Text({\n      style: createTextStyle(textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        fill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        align: textAlign,\n        verticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true\n    });\n    var tooltipModel = legendItemModel.getModel('tooltip');\n    if (tooltipModel.get('show')) {\n      graphic.setTooltipConfig({\n        el: hitRect,\n        componentModel: legendModel,\n        itemName: name,\n        itemTooltipOption: tooltipModel.option\n      });\n    }\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    enableHoverEmphasis(itemGroup); // @ts-ignore\n\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  };\n  LegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n    selectorGroup.markRedraw();\n    contentGroup.markRedraw();\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box(\n      // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      } // Always align selector to content as 'middle'\n\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.x = contentPos[0];\n      contentGroup.y = contentPos[1];\n      return this.group.getBoundingRect();\n    }\n  };\n  /**\n   * @protected\n   */\n\n  LegendView.prototype.remove = function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  };\n  LegendView.type = 'legend.plain';\n  return LegendView;\n}(ComponentView);\nfunction getLegendStyle(iconType, legendItemModel, lineVisualStyle, itemVisualStyle, drawType, isSelected, api) {\n  /**\n   * Use series style if is inherit;\n   * elsewise, use legend style\n   */\n  function handleCommonProps(style, visualStyle) {\n    // If lineStyle.width is 'auto', it is set to be 2 if series has border\n    if (style.lineWidth === 'auto') {\n      style.lineWidth = visualStyle.lineWidth > 0 ? 2 : 0;\n    }\n    each(style, function (propVal, propName) {\n      style[propName] === 'inherit' && (style[propName] = visualStyle[propName]);\n    });\n  } // itemStyle\n\n  var itemStyleModel = legendItemModel.getModel('itemStyle');\n  var itemStyle = itemStyleModel.getItemStyle();\n  var iconBrushType = iconType.lastIndexOf('empty', 0) === 0 ? 'fill' : 'stroke';\n  var decalStyle = itemStyleModel.getShallow('decal');\n  itemStyle.decal = !decalStyle || decalStyle === 'inherit' ? itemVisualStyle.decal : createOrUpdatePatternFromDecal(decalStyle, api);\n  if (itemStyle.fill === 'inherit') {\n    /**\n     * Series with visualDrawType as 'stroke' should have\n     * series stroke as legend fill\n     */\n    itemStyle.fill = itemVisualStyle[drawType];\n  }\n  if (itemStyle.stroke === 'inherit') {\n    /**\n     * icon type with \"emptyXXX\" should use fill color\n     * in visual style\n     */\n    itemStyle.stroke = itemVisualStyle[iconBrushType];\n  }\n  if (itemStyle.opacity === 'inherit') {\n    /**\n     * Use lineStyle.opacity if drawType is stroke\n     */\n    itemStyle.opacity = (drawType === 'fill' ? itemVisualStyle : lineVisualStyle).opacity;\n  }\n  handleCommonProps(itemStyle, itemVisualStyle); // lineStyle\n\n  var legendLineModel = legendItemModel.getModel('lineStyle');\n  var lineStyle = legendLineModel.getLineStyle();\n  handleCommonProps(lineStyle, lineVisualStyle); // Fix auto color to real color\n\n  itemStyle.fill === 'auto' && (itemStyle.fill = itemVisualStyle.fill);\n  itemStyle.stroke === 'auto' && (itemStyle.stroke = itemVisualStyle.fill);\n  lineStyle.stroke === 'auto' && (lineStyle.stroke = itemVisualStyle.fill);\n  if (!isSelected) {\n    var borderWidth = legendItemModel.get('inactiveBorderWidth');\n    /**\n     * Since stroke is set to be inactiveBorderColor, it may occur that\n     * there is no border in series but border in legend, so we need to\n     * use border only when series has border if is set to be auto\n     */\n\n    var visualHasBorder = itemStyle[iconBrushType];\n    itemStyle.lineWidth = borderWidth === 'auto' ? itemVisualStyle.lineWidth > 0 && visualHasBorder ? 2 : 0 : itemStyle.lineWidth;\n    itemStyle.fill = legendItemModel.get('inactiveColor');\n    itemStyle.stroke = legendItemModel.get('inactiveBorderColor');\n    lineStyle.stroke = legendLineModel.get('inactiveColor');\n    lineStyle.lineWidth = legendLineModel.get('inactiveWidth');\n  }\n  return {\n    itemStyle: itemStyle,\n    lineStyle: lineStyle\n  };\n}\nfunction getDefaultLegendIcon(opt) {\n  var symboType = opt.icon || 'roundRect';\n  var icon = createSymbol(symboType, 0, 0, opt.itemWidth, opt.itemHeight, opt.itemStyle.fill, opt.symbolKeepAspect);\n  icon.setStyle(opt.itemStyle);\n  icon.rotation = (opt.iconRotate || 0) * Math.PI / 180;\n  icon.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);\n  if (symboType.indexOf('empty') > -1) {\n    icon.style.stroke = icon.style.fill;\n    icon.style.fill = '#fff';\n    icon.style.lineWidth = 2;\n  }\n  return icon;\n}\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  }); // highlight after select\n  // TODO highlight immediately may cause animation loss.\n\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\nfunction isUseHoverLayer(api) {\n  var list = api.getZr().storage.getDisplayList();\n  var emphasisState;\n  var i = 0;\n  var len = list.length;\n  while (i < len && !(emphasisState = list[i].states.emphasis)) {\n    i++;\n  }\n  return emphasisState && emphasisState.hoverLayer;\n}\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  if (!isUseHoverLayer(api)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\nexport default LegendView;","import \"core-js/modules/es.function.name.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function legendFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n      return true;\n    });\n  }\n}","import \"core-js/modules/es.function.name.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport { curry, each } from 'zrender/lib/core/util.js';\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected; // Update all legend components\n\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n    var legendData = legendModel.getData();\n    each(legendData, function (model) {\n      var name = model.get('name'); // Wrap element\n\n      if (name === '\\n' || name === '') {\n        return;\n      }\n      var isItemSelected = legendModel.isSelected(name);\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  }); // Return the event explicitly\n\n  return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n    selected: selectedMap\n  } : {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\nexport function installLegendAction(registers) {\n  /**\n   * @event legendToggleSelect\n   * @type {Object}\n   * @property {string} type 'legendToggleSelect'\n   * @property {string} [from]\n   * @property {string} name Series name or data item name\n   */\n  registers.registerAction('legendToggleSelect', 'legendselectchanged', curry(legendSelectActionHandler, 'toggleSelected'));\n  registers.registerAction('legendAllSelect', 'legendselectall', curry(legendSelectActionHandler, 'allSelect'));\n  registers.registerAction('legendInverseSelect', 'legendinverseselect', curry(legendSelectActionHandler, 'inverseSelect'));\n  /**\n   * @event legendSelect\n   * @type {Object}\n   * @property {string} type 'legendSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  registers.registerAction('legendSelect', 'legendselected', curry(legendSelectActionHandler, 'select'));\n  /**\n   * @event legendUnSelect\n   * @type {Object}\n   * @property {string} type 'legendUnSelect'\n   * @property {string} name Series name or data item name\n   */\n\n  registers.registerAction('legendUnSelect', 'legendunselected', curry(legendSelectActionHandler, 'unSelect'));\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport LegendModel from './LegendModel.js';\nimport LegendView from './LegendView.js';\nimport legendFilter from './legendFilter.js';\nimport { installLegendAction } from './legendAction.js';\nexport function install(registers) {\n  registers.registerComponentModel(LegendModel);\n  registers.registerComponentView(LegendView);\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\n  registers.registerSubTypeDefaulter('legend', function () {\n    return 'plain';\n  });\n  installLegendAction(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport LegendModel from './LegendModel.js';\nimport { mergeLayoutParam, getLayoutParams } from '../../util/layout.js';\nimport { inheritDefaultOption } from '../../util/component.js';\n\nvar ScrollableLegendModel =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableLegendModel, _super);\n\n  function ScrollableLegendModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScrollableLegendModel.type;\n    return _this;\n  }\n  /**\n   * @param {number} scrollDataIndex\n   */\n\n\n  ScrollableLegendModel.prototype.setScrollDataIndex = function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  };\n\n  ScrollableLegendModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendModel.prototype.mergeOption = function (option, ecModel) {\n    _super.prototype.mergeOption.call(this, option, ecModel);\n\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  };\n\n  ScrollableLegendModel.type = 'legend.scroll';\n  ScrollableLegendModel.defaultOption = inheritDefaultOption(LegendModel.defaultOption, {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    pageFormatter: '{current}/{total}',\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: '#2f4554',\n    pageIconInactiveColor: '#aaa',\n    pageIconSize: 15,\n    pageTextStyle: {\n      color: '#333'\n    },\n    animationDurationUpdate: 800\n  });\n  return ScrollableLegendModel;\n}(LegendModel);\n\n; // Do not `ignoreSize` to enable setting {left: 10, right: 10}.\n\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: !!ignoreSize\n  });\n}\n\nexport default ScrollableLegendModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\n\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as layoutUtil from '../../util/layout.js';\nimport LegendView from './LegendView.js';\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\n\nvar ScrollableLegendView =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableLegendView, _super);\n\n  function ScrollableLegendView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScrollableLegendView.type;\n    _this.newlineDisabled = true;\n    _this._currentIndex = 0;\n    return _this;\n  }\n\n  ScrollableLegendView.prototype.init = function () {\n    _super.prototype.init.call(this);\n\n    this.group.add(this._containerGroup = new Group());\n\n    this._containerGroup.add(this.getContentGroup());\n\n    this.group.add(this._controllerGroup = new Group());\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.resetInner = function () {\n    _super.prototype.resetInner.call(this);\n\n    this._controllerGroup.removeAll();\n\n    this._containerGroup.removeClipPath();\n\n    this._containerGroup.__rectSize = null;\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.renderInner = function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var self = this; // Render content items.\n\n    _super.prototype.renderInner.call(this, itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition);\n\n    var controllerGroup = this._controllerGroup; // FIXME: support be 'auto' adapt to size number text length,\n    // e.g., '3/12345' should not overlap with the control arrow button.\n\n    var pageIconSize = legendModel.get('pageIconSize', true);\n    var pageIconSizeArr = zrUtil.isArray(pageIconSize) ? pageIconSize : [pageIconSize, pageIconSize];\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        // Placeholder to calculate a proper layout.\n        text: 'xx/xx',\n        fill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        verticalAlign: 'middle',\n        align: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(self._pageGo, self, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSizeArr[0] / 2,\n        y: -pageIconSizeArr[1] / 2,\n        width: pageIconSizeArr[0],\n        height: pageIconSizeArr[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  };\n  /**\n   * @override\n   */\n\n\n  ScrollableLegendView.prototype.layoutInner = function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx];\n    selector && layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n    'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n    var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n    var selectorRect = selectorGroup.getBoundingRect();\n    var selectorPos = [-selectorRect.x, -selectorRect.y];\n    var processMaxSize = zrUtil.clone(maxSize);\n    selector && (processMaxSize[wh] = maxSize[wh] - selectorRect[wh] - selectorButtonGap);\n\n    var mainRect = this._layoutContentAndController(legendModel, isFirstRender, processMaxSize, orientIdx, wh, hw, yx, xy);\n\n    if (selector) {\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += mainRect[wh] + selectorButtonGap;\n      } else {\n        var offset = selectorRect[wh] + selectorButtonGap;\n        selectorPos[orientIdx] -= offset;\n        mainRect[xy] -= offset;\n      }\n\n      mainRect[wh] += selectorRect[wh] + selectorButtonGap;\n      selectorPos[1 - orientIdx] += mainRect[yx] + mainRect[hw] / 2 - selectorRect[hw] / 2;\n      mainRect[hw] = Math.max(mainRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(mainRect[yx], selectorRect[yx] + selectorPos[1 - orientIdx]);\n      selectorGroup.x = selectorPos[0];\n      selectorGroup.y = selectorPos[1];\n      selectorGroup.markRedraw();\n    }\n\n    return mainRect;\n  };\n\n  ScrollableLegendView.prototype._layoutContentAndController = function (legendModel, isFirstRender, maxSize, orientIdx, wh, hw, yx, xy) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup; // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box( // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh]; // In case that the inner elements of contentGroup layout do not based on [0, 0]\n\n    var contentPos = [-contentRect.x, -contentRect.y]; // Remain contentPos when scroll animation perfroming.\n    // If first rendering, `contentGroup.position` is [0, 0], which\n    // does not make sense and may cause unexepcted animation if adopted.\n\n    if (!isFirstRender) {\n      contentPos[orientIdx] = contentGroup[xy];\n    } // Layout container group based on 0.\n\n\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true)); // Place containerGroup and controllerGroup and contentGroup.\n\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true); // controller is on the right / bottom.\n\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      } // controller is on the left / top.\n      else {\n          containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n        }\n    } // Always align controller to content as 'middle'.\n\n\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.setPosition(contentPos);\n    containerGroup.setPosition(containerPos);\n    controllerGroup.setPosition(controllerPos); // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n\n    var mainRect = {\n      x: 0,\n      y: 0\n    }; // Consider content may be overflow (should be clipped).\n\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]); // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      })); // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as placeholders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    } // Content translate animation.\n\n\n    var pageInfo = this._getPageInfo(legendModel);\n\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      x: pageInfo.contentPosition[0],\n      y: pageInfo.contentPosition[1]\n    }, // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird effect.\n    showController ? legendModel : null);\n\n    this._updatePageInfoView(legendModel, pageInfo);\n\n    return mainRect;\n  };\n\n  ScrollableLegendView.prototype._pageGo = function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  };\n\n  ScrollableLegendView.prototype._updatePageInfoView = function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var key = name + 'DataIndex';\n      var canJump = pageInfo[key] != null;\n      var icon = controllerGroup.childOfName(name);\n\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current == null ? '' : current + '').replace('{total}', total == null ? '' : total + '') : pageFormatter({\n      current: current,\n      total: total\n    }));\n  };\n  /**\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no previous page.\n   *  pageNextDataIndex: number, null when no next page.\n   * }\n   */\n\n\n  ScrollableLegendView.prototype._getPageInfo = function (legendModel) {\n    var scrollDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var xy = XY[orientIdx];\n\n    var targetItemIndex = this._findTargetItemIndex(scrollDataIndex);\n\n    var children = contentGroup.children();\n    var targetItem = children[targetItemIndex];\n    var itemCount = children.length;\n    var pCount = !itemCount ? 0 : 1;\n    var result = {\n      contentPosition: [contentGroup.x, contentGroup.y],\n      pageCount: pCount,\n      pageIndex: pCount - 1,\n      pagePrevDataIndex: null,\n      pageNextDataIndex: null\n    };\n\n    if (!targetItem) {\n      return result;\n    }\n\n    var targetItemInfo = getItemInfo(targetItem);\n    result.contentPosition[orientIdx] = -targetItemInfo.s; // Strategy:\n    // (1) Always align based on the left/top most item.\n    // (2) It is user-friendly that the last item shown in the\n    // current window is shown at the begining of next window.\n    // Otherwise if half of the last item is cut by the window,\n    // it will have no chance to display entirely.\n    // (3) Consider that item size probably be different, we\n    // have calculate pageIndex by size rather than item index,\n    // and we can not get page index directly by division.\n    // (4) The window is to narrow to contain more than\n    // one item, we should make sure that the page can be fliped.\n\n    for (var i = targetItemIndex + 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i <= itemCount; ++i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // Half of the last item is out of the window.\n      !currItemInfo && winEndItemInfo.e > winStartItemInfo.s + containerRectSize || // If the current item does not intersect with the window, the new page\n      // can be started at the current item or the last item.\n      currItemInfo && !intersect(currItemInfo, winStartItemInfo.s)) {\n        if (winEndItemInfo.i > winStartItemInfo.i) {\n          winStartItemInfo = winEndItemInfo;\n        } else {\n          // e.g., when page size is smaller than item size.\n          winStartItemInfo = currItemInfo;\n        }\n\n        if (winStartItemInfo) {\n          if (result.pageNextDataIndex == null) {\n            result.pageNextDataIndex = winStartItemInfo.i;\n          }\n\n          ++result.pageCount;\n        }\n      }\n\n      winEndItemInfo = currItemInfo;\n    }\n\n    for (var i = targetItemIndex - 1, winStartItemInfo = targetItemInfo, winEndItemInfo = targetItemInfo, currItemInfo = null; i >= -1; --i) {\n      currItemInfo = getItemInfo(children[i]);\n\n      if ( // If the the end item does not intersect with the window started\n      // from the current item, a page can be settled.\n      (!currItemInfo || !intersect(winEndItemInfo, currItemInfo.s)) && // e.g., when page size is smaller than item size.\n      winStartItemInfo.i < winEndItemInfo.i) {\n        winEndItemInfo = winStartItemInfo;\n\n        if (result.pagePrevDataIndex == null) {\n          result.pagePrevDataIndex = winStartItemInfo.i;\n        }\n\n        ++result.pageCount;\n        ++result.pageIndex;\n      }\n\n      winStartItemInfo = currItemInfo;\n    }\n\n    return result;\n\n    function getItemInfo(el) {\n      if (el) {\n        var itemRect = el.getBoundingRect();\n        var start = itemRect[xy] + el[xy];\n        return {\n          s: start,\n          e: start + itemRect[wh],\n          i: el.__legendDataIndex\n        };\n      }\n    }\n\n    function intersect(itemInfo, winStart) {\n      return itemInfo.e >= winStart && itemInfo.s <= winStart + containerRectSize;\n    }\n  };\n\n  ScrollableLegendView.prototype._findTargetItemIndex = function (targetDataIndex) {\n    if (!this._showController) {\n      return 0;\n    }\n\n    var index;\n    var contentGroup = this.getContentGroup();\n    var defaultIndex;\n    contentGroup.eachChild(function (child, idx) {\n      var legendDataIdx = child.__legendDataIndex; // FIXME\n      // If the given targetDataIndex (from model) is illegal,\n      // we use defaultIndex. But the index on the legend model and\n      // action payload is still illegal. That case will not be\n      // changed until some scenario requires.\n\n      if (defaultIndex == null && legendDataIdx != null) {\n        defaultIndex = idx;\n      }\n\n      if (legendDataIdx === targetDataIndex) {\n        index = idx;\n      }\n    });\n    return index != null ? index : defaultIndex;\n  };\n\n  ScrollableLegendView.type = 'legend.scroll';\n  return ScrollableLegendView;\n}(LegendView);\n\nexport default ScrollableLegendView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function installScrollableLegendAction(registers) {\n  /**\n   * @event legendScroll\n   * @type {Object}\n   * @property {string} type 'legendScroll'\n   * @property {string} scrollDataIndex\n   */\n  registers.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n    var scrollDataIndex = payload.scrollDataIndex;\n    scrollDataIndex != null && ecModel.eachComponent({\n      mainType: 'legend',\n      subType: 'scroll',\n      query: payload\n    }, function (legendModel) {\n      legendModel.setScrollDataIndex(scrollDataIndex);\n    });\n  });\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installLegendPlain } from './installLegendPlain.js';\nimport ScrollableLegendModel from './ScrollableLegendModel.js';\nimport ScrollableLegendView from './ScrollableLegendView.js';\nimport installScrollableLegendAction from './scrollableLegendAction.js';\nexport function install(registers) {\n  use(installLegendPlain);\n  registers.registerComponentModel(ScrollableLegendModel);\n  registers.registerComponentView(ScrollableLegendView);\n  installScrollableLegendAction(registers);\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installLegendPlain } from './installLegendPlain.js';\nimport { install as installLegendScroll } from './installLegendScroll.js';\nexport function install(registers) {\n  use(installLegendPlain);\n  use(installLegendScroll);\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\nvar MarkAreaModel = /** @class */\nfunction (_super) {\n  __extends(MarkAreaModel, _super);\n  function MarkAreaModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkAreaModel.type;\n    return _this;\n  }\n  MarkAreaModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkAreaModel(markerOpt, masterMarkerModel, ecModel);\n  };\n  MarkAreaModel.type = 'markArea';\n  MarkAreaModel.defaultOption = {\n    // zlevel: 0,\n    // PENDING\n    z: 1,\n    tooltip: {\n      trigger: 'item'\n    },\n    // markArea should fixed on the coordinate system\n    animation: false,\n    label: {\n      show: true,\n      position: 'top'\n    },\n    itemStyle: {\n      // color and borderColor default to use color from series\n      // color: 'auto'\n      // borderColor: 'auto'\n      borderWidth: 0\n    },\n    emphasis: {\n      label: {\n        show: true,\n        position: 'top'\n      }\n    }\n  };\n  return MarkAreaModel;\n}(MarkerModel);\nexport default MarkAreaModel;","import \"core-js/modules/es.array.fill.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\"; // TODO Optimize on polar\n\nimport * as colorUtil from 'zrender/lib/tool/color.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport * as numberUtil from '../../util/number.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis, setStatesStylesFromModel } from '../../util/states.js';\nimport * as markerHelper from './markerHelper.js';\nimport MarkerView from './MarkerView.js';\nimport { retrieve, mergeAll, map, curry, filter, extend, isString } from 'zrender/lib/core/util.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport MarkerModel from './MarkerModel.js';\nimport { makeInner } from '../../util/model.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { parseDataValue } from '../../data/helper/dataValueHelper.js';\nvar inner = makeInner();\nvar markAreaTransform = function markAreaTransform(seriesModel, coordSys, maModel, item) {\n  // item may be null\n  var item0 = item[0];\n  var item1 = item[1];\n  if (!item0 || !item1) {\n    return;\n  }\n  var lt = markerHelper.dataTransform(seriesModel, item0);\n  var rb = markerHelper.dataTransform(seriesModel, item1); // FIXME make sure lt is less than rb\n\n  var ltCoord = lt.coord;\n  var rbCoord = rb.coord;\n  ltCoord[0] = retrieve(ltCoord[0], -Infinity);\n  ltCoord[1] = retrieve(ltCoord[1], -Infinity);\n  rbCoord[0] = retrieve(rbCoord[0], Infinity);\n  rbCoord[1] = retrieve(rbCoord[1], Infinity); // Merge option into one\n\n  var result = mergeAll([{}, lt, rb]);\n  result.coord = [lt.coord, rb.coord];\n  result.x0 = lt.x;\n  result.y0 = lt.y;\n  result.x1 = rb.x;\n  result.y1 = rb.y;\n  return result;\n};\nfunction isInfinity(val) {\n  return !isNaN(val) && !isFinite(val);\n} // If a markArea has one dim\n\nfunction ifMarkAreaHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  return isInfinity(fromCoord[otherDimIndex]) && isInfinity(toCoord[otherDimIndex]);\n}\nfunction markAreaFilter(coordSys, item) {\n  var fromCoord = item.coord[0];\n  var toCoord = item.coord[1];\n  var item0 = {\n    coord: fromCoord,\n    x: item.x0,\n    y: item.y0\n  };\n  var item1 = {\n    coord: toCoord,\n    x: item.x1,\n    y: item.y1\n  };\n  if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n    // In case\n    // {\n    //  markArea: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n    if (fromCoord && toCoord && (ifMarkAreaHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkAreaHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    } // Directly returning true may also do the work,\n    // because markArea will not be shown automatically\n    // when it's not included in coordinate system.\n    // But filtering ahead can avoid keeping rendering markArea\n    // when there are too many of them.\n\n    return markerHelper.zoneFilter(coordSys, item0, item1);\n  }\n  return markerHelper.dataFilter(coordSys, item0) || markerHelper.dataFilter(coordSys, item1);\n} // dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']\n\nfunction getSingleMarkerEndPoint(data, idx, dims, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get(dims[0]), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get(dims[1]), api.getHeight());\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Consider the case that user input the right-bottom point first\n      // Pick the larger x and y as 'x1' and 'y1'\n      var pointValue0 = data.getValues(['x0', 'y0'], idx);\n      var pointValue1 = data.getValues(['x1', 'y1'], idx);\n      var clampPointValue0 = coordSys.clampData(pointValue0);\n      var clampPointValue1 = coordSys.clampData(pointValue1);\n      var pointValue = [];\n      if (dims[0] === 'x0') {\n        pointValue[0] = clampPointValue0[0] > clampPointValue1[0] ? pointValue1[0] : pointValue0[0];\n      } else {\n        pointValue[0] = clampPointValue0[0] > clampPointValue1[0] ? pointValue0[0] : pointValue1[0];\n      }\n      if (dims[1] === 'y0') {\n        pointValue[1] = clampPointValue0[1] > clampPointValue1[1] ? pointValue1[1] : pointValue0[1];\n      } else {\n        pointValue[1] = clampPointValue0[1] > clampPointValue1[1] ? pointValue0[1] : pointValue1[1];\n      } // Use the getMarkerPosition\n\n      point = seriesModel.getMarkerPosition(pointValue, dims, true);\n    } else {\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      var pt = [x, y];\n      coordSys.clampData && coordSys.clampData(pt, pt);\n      point = coordSys.dataToPoint(pt, true);\n    }\n    if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n      // TODO: TYPE ts@4.1 may still infer it as Axis instead of Axis2D. Not sure if it's a bug\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      if (isInfinity(x)) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[dims[0] === 'x0' ? 0 : 1]);\n      } else if (isInfinity(y)) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[dims[1] === 'y0' ? 0 : 1]);\n      }\n    } // Use x, y if has any\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n  return point;\n}\nexport var dimPermutations = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']];\nvar MarkAreaView = /** @class */\nfunction (_super) {\n  __extends(MarkAreaView, _super);\n  function MarkAreaView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkAreaView.type;\n    return _this;\n  }\n  MarkAreaView.prototype.updateTransform = function (markAreaModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var maModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markArea');\n      if (maModel) {\n        var areaData_1 = maModel.getData();\n        areaData_1.each(function (idx) {\n          var points = map(dimPermutations, function (dim) {\n            return getSingleMarkerEndPoint(areaData_1, idx, dim, seriesModel, api);\n          }); // Layout\n\n          areaData_1.setItemLayout(idx, points);\n          var el = areaData_1.getItemGraphicEl(idx);\n          el.setShape('points', points);\n        });\n      }\n    }, this);\n  };\n  MarkAreaView.prototype.renderSeries = function (seriesModel, maModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var areaGroupMap = this.markerGroupMap;\n    var polygonGroup = areaGroupMap.get(seriesId) || areaGroupMap.set(seriesId, {\n      group: new graphic.Group()\n    });\n    this.group.add(polygonGroup.group);\n    this.markKeep(polygonGroup);\n    var areaData = createList(coordSys, seriesModel, maModel); // Line data for tooltip and formatter\n\n    maModel.setData(areaData); // Update visual and layout of line\n\n    areaData.each(function (idx) {\n      // Layout\n      var points = map(dimPermutations, function (dim) {\n        return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n      });\n      var xAxisScale = coordSys.getAxis('x').scale;\n      var yAxisScale = coordSys.getAxis('y').scale;\n      var xAxisExtent = xAxisScale.getExtent();\n      var yAxisExtent = yAxisScale.getExtent();\n      var xPointExtent = [xAxisScale.parse(areaData.get('x0', idx)), xAxisScale.parse(areaData.get('x1', idx))];\n      var yPointExtent = [yAxisScale.parse(areaData.get('y0', idx)), yAxisScale.parse(areaData.get('y1', idx))];\n      numberUtil.asc(xPointExtent);\n      numberUtil.asc(yPointExtent);\n      var overlapped = !(xAxisExtent[0] > xPointExtent[1] || xAxisExtent[1] < xPointExtent[0] || yAxisExtent[0] > yPointExtent[1] || yAxisExtent[1] < yPointExtent[0]); // If none of the area is inside coordSys, allClipped is set to be true\n      // in layout so that label will not be displayed. See #12591\n\n      var allClipped = !overlapped;\n      areaData.setItemLayout(idx, {\n        points: points,\n        allClipped: allClipped\n      });\n      var style = areaData.getItemModel(idx).getModel('itemStyle').getItemStyle();\n      var color = getVisualFromData(seriesData, 'color');\n      if (!style.fill) {\n        style.fill = color;\n        if (isString(style.fill)) {\n          style.fill = colorUtil.modifyAlpha(style.fill, 0.4);\n        }\n      }\n      if (!style.stroke) {\n        style.stroke = color;\n      } // Visual\n\n      areaData.setItemVisual(idx, 'style', style);\n    });\n    areaData.diff(inner(polygonGroup).data).add(function (idx) {\n      var layout = areaData.getItemLayout(idx);\n      if (!layout.allClipped) {\n        var polygon = new graphic.Polygon({\n          shape: {\n            points: layout.points\n          }\n        });\n        areaData.setItemGraphicEl(idx, polygon);\n        polygonGroup.group.add(polygon);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var polygon = inner(polygonGroup).data.getItemGraphicEl(oldIdx);\n      var layout = areaData.getItemLayout(newIdx);\n      if (!layout.allClipped) {\n        if (polygon) {\n          graphic.updateProps(polygon, {\n            shape: {\n              points: layout.points\n            }\n          }, maModel, newIdx);\n        } else {\n          polygon = new graphic.Polygon({\n            shape: {\n              points: layout.points\n            }\n          });\n        }\n        areaData.setItemGraphicEl(newIdx, polygon);\n        polygonGroup.group.add(polygon);\n      } else if (polygon) {\n        polygonGroup.group.remove(polygon);\n      }\n    }).remove(function (idx) {\n      var polygon = inner(polygonGroup).data.getItemGraphicEl(idx);\n      polygonGroup.group.remove(polygon);\n    }).execute();\n    areaData.eachItemGraphicEl(function (polygon, idx) {\n      var itemModel = areaData.getItemModel(idx);\n      var style = areaData.getItemVisual(idx, 'style');\n      polygon.useStyle(areaData.getItemVisual(idx, 'style'));\n      setLabelStyle(polygon, getLabelStatesModels(itemModel), {\n        labelFetcher: maModel,\n        labelDataIndex: idx,\n        defaultText: areaData.getName(idx) || '',\n        inheritColor: isString(style.fill) ? colorUtil.modifyAlpha(style.fill, 1) : '#000'\n      });\n      setStatesStylesFromModel(polygon, itemModel);\n      toggleHoverEmphasis(polygon, null, null, itemModel.get(['emphasis', 'disabled']));\n      getECData(polygon).dataModel = maModel;\n    });\n    inner(polygonGroup).data = areaData;\n    polygonGroup.group.silent = maModel.get('silent') || seriesModel.get('silent');\n  };\n  MarkAreaView.type = 'markArea';\n  return MarkAreaView;\n}(MarkerView);\nfunction createList(coordSys, seriesModel, maModel) {\n  var areaData;\n  var dataDims;\n  var dims = ['x0', 'y0', 'x1', 'y1'];\n  if (coordSys) {\n    var coordDimsInfos_1 = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var data = seriesModel.getData();\n      var info = data.getDimensionInfo(data.mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n    dataDims = map(dims, function (dim, idx) {\n      return {\n        name: dim,\n        type: coordDimsInfos_1[idx % 2].type\n      };\n    });\n    areaData = new SeriesData(dataDims, maModel);\n  } else {\n    dataDims = [{\n      name: 'value',\n      type: 'float'\n    }];\n    areaData = new SeriesData(dataDims, maModel);\n  }\n  var optData = map(maModel.get('data'), curry(markAreaTransform, seriesModel, coordSys, maModel));\n  if (coordSys) {\n    optData = filter(optData, curry(markAreaFilter, coordSys));\n  }\n  var dimValueGetter = coordSys ? function (item, dimName, dataIndex, dimIndex) {\n    // TODO should convert to ParsedValue?\n    var rawVal = item.coord[Math.floor(dimIndex / 2)][dimIndex % 2];\n    return parseDataValue(rawVal, dataDims[dimIndex]);\n  } : function (item, dimName, dataIndex, dimIndex) {\n    return parseDataValue(item.value, dataDims[dimIndex]);\n  };\n  areaData.initData(optData, null, dimValueGetter);\n  areaData.hasItemOption = true;\n  return areaData;\n}\nexport default MarkAreaView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\nvar MarkLineModel = /** @class */\nfunction (_super) {\n  __extends(MarkLineModel, _super);\n  function MarkLineModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkLineModel.type;\n    return _this;\n  }\n  MarkLineModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkLineModel(markerOpt, masterMarkerModel, ecModel);\n  };\n  MarkLineModel.type = 'markLine';\n  MarkLineModel.defaultOption = {\n    // zlevel: 0,\n    z: 5,\n    symbol: ['circle', 'arrow'],\n    symbolSize: [8, 16],\n    // symbolRotate: 0,\n    symbolOffset: 0,\n    precision: 2,\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'end',\n      distance: 5\n    },\n    lineStyle: {\n      type: 'dashed'\n    },\n    emphasis: {\n      label: {\n        show: true\n      },\n      lineStyle: {\n        width: 3\n      }\n    },\n    animationEasing: 'linear'\n  };\n  return MarkLineModel;\n}(MarkerModel);\nexport default MarkLineModel;","import \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.array.fill.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesData from '../../data/SeriesData.js';\nimport * as numberUtil from '../../util/number.js';\nimport * as markerHelper from './markerHelper.js';\nimport LineDraw from '../../chart/helper/LineDraw.js';\nimport MarkerView from './MarkerView.js';\nimport { getStackedDimension } from '../../data/helper/dataStackHelper.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { getECData } from '../../util/innerStore.js';\nimport MarkerModel from './MarkerModel.js';\nimport { isArray, retrieve, retrieve2, clone, extend, logError, merge, map, curry, filter, isNumber } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nvar inner = makeInner();\nvar markLineTransform = function markLineTransform(seriesModel, coordSys, mlModel, item) {\n  var data = seriesModel.getData();\n  var itemArray;\n  if (!isArray(item)) {\n    // Special type markLine like 'min', 'max', 'average', 'median'\n    var mlType = item.type;\n    if (mlType === 'min' || mlType === 'max' || mlType === 'average' || mlType === 'median' // In case\n    // data: [{\n    //   yAxis: 10\n    // }]\n    || item.xAxis != null || item.yAxis != null) {\n      var valueAxis = void 0;\n      var value = void 0;\n      if (item.yAxis != null || item.xAxis != null) {\n        valueAxis = coordSys.getAxis(item.yAxis != null ? 'y' : 'x');\n        value = retrieve(item.yAxis, item.xAxis);\n      } else {\n        var axisInfo = markerHelper.getAxisInfo(item, data, coordSys, seriesModel);\n        valueAxis = axisInfo.valueAxis;\n        var valueDataDim = getStackedDimension(data, axisInfo.valueDataDim);\n        value = markerHelper.numCalculate(data, valueDataDim, mlType);\n      }\n      var valueIndex = valueAxis.dim === 'x' ? 0 : 1;\n      var baseIndex = 1 - valueIndex; // Normized to 2d data with start and end point\n\n      var mlFrom = clone(item);\n      var mlTo = {\n        coord: []\n      };\n      mlFrom.type = null;\n      mlFrom.coord = [];\n      mlFrom.coord[baseIndex] = -Infinity;\n      mlTo.coord[baseIndex] = Infinity;\n      var precision = mlModel.get('precision');\n      if (precision >= 0 && isNumber(value)) {\n        value = +value.toFixed(Math.min(precision, 20));\n      }\n      mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n      itemArray = [mlFrom, mlTo, {\n        type: mlType,\n        valueIndex: item.valueIndex,\n        // Force to use the value of calculated value.\n        value: value\n      }];\n    } else {\n      // Invalid data\n      if (process.env.NODE_ENV !== 'production') {\n        logError('Invalid markLine data.');\n      }\n      itemArray = [];\n    }\n  } else {\n    itemArray = item;\n  }\n  var normalizedItem = [markerHelper.dataTransform(seriesModel, itemArray[0]), markerHelper.dataTransform(seriesModel, itemArray[1]), extend({}, itemArray[2])]; // Avoid line data type is extended by from(to) data type\n\n  normalizedItem[2].type = normalizedItem[2].type || null; // Merge from option and to option into line option\n\n  merge(normalizedItem[2], normalizedItem[0]);\n  merge(normalizedItem[2], normalizedItem[1]);\n  return normalizedItem;\n};\nfunction isInfinity(val) {\n  return !isNaN(val) && !isFinite(val);\n} // If a markLine has one dim\n\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  var dimName = coordSys.dimensions[dimIndex];\n  return isInfinity(fromCoord[otherDimIndex]) && isInfinity(toCoord[otherDimIndex]) && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n}\nfunction markLineFilter(coordSys, item) {\n  if (coordSys.type === 'cartesian2d') {\n    var fromCoord = item[0].coord;\n    var toCoord = item[1].coord; // In case\n    // {\n    //  markLine: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n  return markerHelper.dataFilter(coordSys, item[0]) && markerHelper.dataFilter(coordSys, item[1]);\n}\nfunction updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPosition\n      point = seriesModel.getMarkerPosition(data.getValues(data.dimensions, idx));\n    } else {\n      var dims = coordSys.dimensions;\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    } // Expand line to the edge of grid if value on one axis is Inifnity\n    // In case\n    //  markLine: {\n    //    data: [{\n    //      yAxis: 2\n    //      // or\n    //      type: 'average'\n    //    }]\n    //  }\n\n    if (isCoordinateSystemType(coordSys, 'cartesian2d')) {\n      // TODO: TYPE ts@4.1 may still infer it as Axis instead of Axis2D. Not sure if it's a bug\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var dims = coordSys.dimensions;\n      if (isInfinity(data.get(dims[0], idx))) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n      } else if (isInfinity(data.get(dims[1], idx))) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n      }\n    } // Use x, y if has any\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n  data.setItemLayout(idx, point);\n}\nvar MarkLineView = /** @class */\nfunction (_super) {\n  __extends(MarkLineView, _super);\n  function MarkLineView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkLineView.type;\n    return _this;\n  }\n  MarkLineView.prototype.updateTransform = function (markLineModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mlModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markLine');\n      if (mlModel) {\n        var mlData_1 = mlModel.getData();\n        var fromData_1 = inner(mlModel).from;\n        var toData_1 = inner(mlModel).to; // Update visual and layout of from symbol and to symbol\n\n        fromData_1.each(function (idx) {\n          updateSingleMarkerEndLayout(fromData_1, idx, true, seriesModel, api);\n          updateSingleMarkerEndLayout(toData_1, idx, false, seriesModel, api);\n        }); // Update layout of line\n\n        mlData_1.each(function (idx) {\n          mlData_1.setItemLayout(idx, [fromData_1.getItemLayout(idx), toData_1.getItemLayout(idx)]);\n        });\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  };\n  MarkLineView.prototype.renderSeries = function (seriesModel, mlModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var lineDrawMap = this.markerGroupMap;\n    var lineDraw = lineDrawMap.get(seriesId) || lineDrawMap.set(seriesId, new LineDraw());\n    this.group.add(lineDraw.group);\n    var mlData = createList(coordSys, seriesModel, mlModel);\n    var fromData = mlData.from;\n    var toData = mlData.to;\n    var lineData = mlData.line;\n    inner(mlModel).from = fromData;\n    inner(mlModel).to = toData; // Line data for tooltip and formatter\n\n    mlModel.setData(lineData); // TODO\n    // Functionally, `symbolSize` & `symbolOffset` can also be 2D array now.\n    // But the related logic and type definition are not finished yet.\n    // Finish it if required\n\n    var symbolType = mlModel.get('symbol');\n    var symbolSize = mlModel.get('symbolSize');\n    var symbolRotate = mlModel.get('symbolRotate');\n    var symbolOffset = mlModel.get('symbolOffset'); // TODO: support callback function like markPoint\n\n    if (!isArray(symbolType)) {\n      symbolType = [symbolType, symbolType];\n    }\n    if (!isArray(symbolSize)) {\n      symbolSize = [symbolSize, symbolSize];\n    }\n    if (!isArray(symbolRotate)) {\n      symbolRotate = [symbolRotate, symbolRotate];\n    }\n    if (!isArray(symbolOffset)) {\n      symbolOffset = [symbolOffset, symbolOffset];\n    } // Update visual and layout of from symbol and to symbol\n\n    mlData.from.each(function (idx) {\n      updateDataVisualAndLayout(fromData, idx, true);\n      updateDataVisualAndLayout(toData, idx, false);\n    }); // Update visual and layout of line\n\n    lineData.each(function (idx) {\n      var lineStyle = lineData.getItemModel(idx).getModel('lineStyle').getLineStyle(); // lineData.setItemVisual(idx, {\n      //     color: lineColor || fromData.getItemVisual(idx, 'color')\n      // });\n\n      lineData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n      if (lineStyle.stroke == null) {\n        lineStyle.stroke = fromData.getItemVisual(idx, 'style').fill;\n      }\n      lineData.setItemVisual(idx, {\n        fromSymbolKeepAspect: fromData.getItemVisual(idx, 'symbolKeepAspect'),\n        fromSymbolOffset: fromData.getItemVisual(idx, 'symbolOffset'),\n        fromSymbolRotate: fromData.getItemVisual(idx, 'symbolRotate'),\n        fromSymbolSize: fromData.getItemVisual(idx, 'symbolSize'),\n        fromSymbol: fromData.getItemVisual(idx, 'symbol'),\n        toSymbolKeepAspect: toData.getItemVisual(idx, 'symbolKeepAspect'),\n        toSymbolOffset: toData.getItemVisual(idx, 'symbolOffset'),\n        toSymbolRotate: toData.getItemVisual(idx, 'symbolRotate'),\n        toSymbolSize: toData.getItemVisual(idx, 'symbolSize'),\n        toSymbol: toData.getItemVisual(idx, 'symbol'),\n        style: lineStyle\n      });\n    });\n    lineDraw.updateData(lineData); // Set host model for tooltip\n    // FIXME\n\n    mlData.line.eachItemGraphicEl(function (el) {\n      getECData(el).dataModel = mlModel;\n      el.traverse(function (child) {\n        getECData(child).dataModel = mlModel;\n      });\n    });\n    function updateDataVisualAndLayout(data, idx, isFrom) {\n      var itemModel = data.getItemModel(idx);\n      updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api);\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n      if (style.fill == null) {\n        style.fill = getVisualFromData(seriesData, 'color');\n      }\n      data.setItemVisual(idx, {\n        symbolKeepAspect: itemModel.get('symbolKeepAspect'),\n        // `0` should be considered as a valid value, so use `retrieve2` instead of `||`\n        symbolOffset: retrieve2(itemModel.get('symbolOffset', true), symbolOffset[isFrom ? 0 : 1]),\n        symbolRotate: retrieve2(itemModel.get('symbolRotate', true), symbolRotate[isFrom ? 0 : 1]),\n        // TODO: when 2d array is supported, it should ignore parent\n        symbolSize: retrieve2(itemModel.get('symbolSize'), symbolSize[isFrom ? 0 : 1]),\n        symbol: retrieve2(itemModel.get('symbol', true), symbolType[isFrom ? 0 : 1]),\n        style: style\n      });\n    }\n    this.markKeep(lineDraw);\n    lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n  };\n  MarkLineView.type = 'markLine';\n  return MarkLineView;\n}(MarkerView);\nfunction createList(coordSys, seriesModel, mlModel) {\n  var coordDimsInfos;\n  if (coordSys) {\n    coordDimsInfos = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n  var fromData = new SeriesData(coordDimsInfos, mlModel);\n  var toData = new SeriesData(coordDimsInfos, mlModel); // No dimensions\n\n  var lineData = new SeriesData([], mlModel);\n  var optData = map(mlModel.get('data'), curry(markLineTransform, seriesModel, coordSys, mlModel));\n  if (coordSys) {\n    optData = filter(optData, curry(markLineFilter, coordSys));\n  }\n  var dimValueGetter = markerHelper.createMarkerDimValueGetter(!!coordSys, coordDimsInfos);\n  fromData.initData(map(optData, function (item) {\n    return item[0];\n  }), null, dimValueGetter);\n  toData.initData(map(optData, function (item) {\n    return item[1];\n  }), null, dimValueGetter);\n  lineData.initData(map(optData, function (item) {\n    return item[2];\n  }));\n  lineData.hasItemOption = true;\n  return {\n    from: fromData,\n    to: toData,\n    line: lineData\n  };\n}\nexport default MarkLineView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MarkerModel from './MarkerModel.js';\nvar MarkPointModel = /** @class */\nfunction (_super) {\n  __extends(MarkPointModel, _super);\n  function MarkPointModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkPointModel.type;\n    return _this;\n  }\n  MarkPointModel.prototype.createMarkerModelFromSeries = function (markerOpt, masterMarkerModel, ecModel) {\n    return new MarkPointModel(markerOpt, masterMarkerModel, ecModel);\n  };\n  MarkPointModel.type = 'markPoint';\n  MarkPointModel.defaultOption = {\n    // zlevel: 0,\n    z: 5,\n    symbol: 'pin',\n    symbolSize: 50,\n    // symbolRotate: 0,\n    // symbolOffset: [0, 0]\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'inside'\n    },\n    itemStyle: {\n      borderWidth: 2\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    }\n  };\n  return MarkPointModel;\n}(MarkerModel);\nexport default MarkPointModel;","import \"core-js/modules/es.array.fill.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../../chart/helper/SymbolDraw.js';\nimport * as numberUtil from '../../util/number.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport * as markerHelper from './markerHelper.js';\nimport MarkerView from './MarkerView.js';\nimport MarkerModel from './MarkerModel.js';\nimport { isFunction, map, filter, curry, extend } from 'zrender/lib/core/util.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { getVisualFromData } from '../../visual/helper.js';\nfunction updateMarkerLayout(mpData, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  mpData.each(function (idx) {\n    var itemModel = mpData.getItemModel(idx);\n    var point;\n    var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n    var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    } // Chart like bar may have there own marker positioning logic\n    else if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPosition\n      point = seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions, idx));\n    } else if (coordSys) {\n      var x = mpData.get(coordSys.dimensions[0], idx);\n      var y = mpData.get(coordSys.dimensions[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    } // Use x, y if has any\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n    mpData.setItemLayout(idx, point);\n  });\n}\nvar MarkPointView = /** @class */\nfunction (_super) {\n  __extends(MarkPointView, _super);\n  function MarkPointView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = MarkPointView.type;\n    return _this;\n  }\n  MarkPointView.prototype.updateTransform = function (markPointModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mpModel = MarkerModel.getMarkerModelFromSeries(seriesModel, 'markPoint');\n      if (mpModel) {\n        updateMarkerLayout(mpModel.getData(), seriesModel, api);\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  };\n  MarkPointView.prototype.renderSeries = function (seriesModel, mpModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var symbolDrawMap = this.markerGroupMap;\n    var symbolDraw = symbolDrawMap.get(seriesId) || symbolDrawMap.set(seriesId, new SymbolDraw());\n    var mpData = createData(coordSys, seriesModel, mpModel); // FIXME\n\n    mpModel.setData(mpData);\n    updateMarkerLayout(mpModel.getData(), seriesModel, api);\n    mpData.each(function (idx) {\n      var itemModel = mpData.getItemModel(idx);\n      var symbol = itemModel.getShallow('symbol');\n      var symbolSize = itemModel.getShallow('symbolSize');\n      var symbolRotate = itemModel.getShallow('symbolRotate');\n      var symbolOffset = itemModel.getShallow('symbolOffset');\n      var symbolKeepAspect = itemModel.getShallow('symbolKeepAspect'); // TODO: refactor needed: single data item should not support callback function\n\n      if (isFunction(symbol) || isFunction(symbolSize) || isFunction(symbolRotate) || isFunction(symbolOffset)) {\n        var rawIdx = mpModel.getRawValue(idx);\n        var dataParams = mpModel.getDataParams(idx);\n        if (isFunction(symbol)) {\n          symbol = symbol(rawIdx, dataParams);\n        }\n        if (isFunction(symbolSize)) {\n          // FIXME  ECharts 2.x2.x \n          symbolSize = symbolSize(rawIdx, dataParams);\n        }\n        if (isFunction(symbolRotate)) {\n          symbolRotate = symbolRotate(rawIdx, dataParams);\n        }\n        if (isFunction(symbolOffset)) {\n          symbolOffset = symbolOffset(rawIdx, dataParams);\n        }\n      }\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n      var color = getVisualFromData(seriesData, 'color');\n      if (!style.fill) {\n        style.fill = color;\n      }\n      mpData.setItemVisual(idx, {\n        symbol: symbol,\n        symbolSize: symbolSize,\n        symbolRotate: symbolRotate,\n        symbolOffset: symbolOffset,\n        symbolKeepAspect: symbolKeepAspect,\n        style: style\n      });\n    }); // TODO Text are wrong\n\n    symbolDraw.updateData(mpData);\n    this.group.add(symbolDraw.group); // Set host model for tooltip\n    // FIXME\n\n    mpData.eachItemGraphicEl(function (el) {\n      el.traverse(function (child) {\n        getECData(child).dataModel = mpModel;\n      });\n    });\n    this.markKeep(symbolDraw);\n    symbolDraw.group.silent = mpModel.get('silent') || seriesModel.get('silent');\n  };\n  MarkPointView.type = 'markPoint';\n  return MarkPointView;\n}(MarkerView);\nfunction createData(coordSys, seriesModel, mpModel) {\n  var coordDimsInfos;\n  if (coordSys) {\n    coordDimsInfos = map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      return extend(extend({}, info), {\n        name: coordDim,\n        // DON'T use ordinalMeta to parse and collect ordinal.\n        ordinalMeta: null\n      });\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n  var mpData = new SeriesData(coordDimsInfos, mpModel);\n  var dataOpt = map(mpModel.get('data'), curry(markerHelper.dataTransform, seriesModel));\n  if (coordSys) {\n    dataOpt = filter(dataOpt, curry(markerHelper.dataFilter, coordSys));\n  }\n  var dimValueGetter = markerHelper.createMarkerDimValueGetter(!!coordSys, coordDimsInfos);\n  mpData.initData(dataOpt, null, dimValueGetter);\n  return mpData;\n}\nexport default MarkPointView;"],"names":["RoamController","_super","zr","_this","call","this","_zr","mousedownHandler","bind","_mousedownHandler","mousemoveHandler","_mousemoveHandler","mouseupHandler","_mouseupHandler","mousewheelHandler","_mousewheelHandler","pinchHandler","_pinchHandler","enable","controlType","opt","disable","_opt","defaults","clone","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","preventDefaultMouseMove","on","off","__extends","prototype","isDragging","_dragging","isPinching","_pinching","setPointerChecker","pointerChecker","dispose","e","eventTool","el","target","draggable","__hostTarget","parent","x","offsetX","y","offsetY","_x","_y","isAvailableBehavior","gestureEvent","interactionMutex","oldX","oldY","dx","dy","event","trigger","newX","newY","shouldZoom","shouldMove","wheelDelta","absWheelDeltaDelta","Math","abs","originX","originY","factor","scale","checkPointerAndTrigger","absDelta","scrollDelta","pinchScale","pinchX","pinchY","Eventful","controller","eventName","behaviorToCheck","contollerEvent","settings","setting","isString","makeRectPanelClipPath","rect","normalizeRect","localPoints","graphicUtil","makeLinearBrushOtherExtent","specifiedXYIndex","xyIndex","idx","brushWidth","width","height","base","makeRectIsTargetByCursor","api","targetModel","boundingRect","localCursorPoint","contain","onIrrelevantElement","BoundingRect","IRRELEVANT_EXCLUDES","targetCoordSysModel","model","getComponentByElement","topTarget","coordSys","coordinateSystem","hasOwnProperty","mainType","ATTR","take","resourceKey","userKey","store","getStore","release","uKey","isTaken","echarts","type","update","noop","layout","group","componentModel","boxLayoutParams","getBoxLayoutParams","padding","get","viewportSize","getWidth","getHeight","getLayoutRect","layoutBox","positionElement","makeBackground","formatUtil","style","getItemStyle","fill","graphic","shape","r","silent","z2","updateViewOnPan","controllerHost","dirty","updateViewOnZoom","zoomDelta","zoomX","zoomY","zoomLimit","newZoom","zoom","zoomMin","min","zoomMax","max","Infinity","zoomScale","scaleX","scaleY","sliderMove","delta","handleEnds","extent","handleIndex","minSpan","maxSpan","extentSpan","restrict","handleSpan","originalDistSign","getSpanSign","currDistSign","extentMinSpan","realExtent","slice","sign","span","dist","value","extend","getDefaultSelectorOptions","ecModel","title","getLocaleModel","LegendModel","apply","arguments","layoutMode","ignoreSize","init","option","parentModel","mergeDefaultAndTheme","selected","_updateSelector","mergeOption","selector","item","index","optionUpdated","_updateData","legendData","_data","hasSelected","i","length","name_1","isSelected","select","potentialData","availableNames","eachRawSeries","seriesModel","isPotential","seriesName","name","push","legendVisualProvider","provider","names","getAllNames","isSeriesFiltered","concat","_availableNames","rawData","legendNameMap","dataItem","set","Model","getData","selectedMode","data","unSelect","toggleSelected","allSelect","inverseSelect","getOrient","dependencies","defaultOption","z","show","orient","left","top","align","backgroundColor","borderColor","borderRadius","borderWidth","itemGap","itemWidth","itemHeight","symbolRotate","symbolKeepAspect","inactiveColor","inactiveBorderColor","inactiveBorderWidth","itemStyle","color","opacity","borderCap","borderJoin","borderDashOffset","borderMiterLimit","lineStyle","inactiveWidth","cap","join","dashOffset","miterLimit","textStyle","selectorLabel","fontSize","fontFamily","emphasis","selectorPosition","selectorItemGap","selectorButtonGap","tooltip","Component","curry","each","LegendView","newlineDisabled","add","_contentGroup","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","render","legendModel","isFirstRender","resetInner","itemAlign","renderInner","positionInfo","maxSize","mainRect","layoutInner","layoutRect","markRedraw","_backgroundEl","removeAll","remove","contentGroup","legendDrawnMap","selectMode","excludeSeriesId","id","legendItemModel","dataIndex","g","newline","getSeriesByName","lineVisualStyle","getVisual","legendIcon","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","containName","indexOfName","getItemVisual","colorArr","parse","stringify","_createSelector","selectorGroup","selectorItem","labelText","verticalAlign","onclick","dispatchAction","labelModel","getModel","emphasisLabelModel","normal","defaultText","itemVisualStyle","drawType","visualDrawType","iconRotate","legendIconType","getLegendStyle","textStyleModel","getLegendIcon","rotate","getDefaultLegendIcon","icon","textX","textAlign","formatter","content","replace","text","getTextColor","hitRect","getBoundingRect","invisible","tooltipModel","setTooltipConfig","itemName","itemTooltipOption","eachChild","child","__legendDataIndex","contentRect","contentPos","selectorRect","selectorPos","orientIdx","wh","hw","yx","iconType","handleCommonProps","visualStyle","lineWidth","propVal","propName","itemStyleModel","iconBrushType","lastIndexOf","decalStyle","getShallow","decal","stroke","legendLineModel","getLineStyle","visualHasBorder","symboType","setStyle","rotation","PI","setOrigin","indexOf","dataName","isUseHoverLayer","emphasisState","list","getZr","storage","getDisplayList","len","states","hoverLayer","legendFilter","legendModels","findComponents","filterSeries","series","legendSelectActionHandler","methodName","payload","selectedMap","isToggleSelect","eachComponent","isItemSelected","installLegendAction","registers","registerAction","install","registerComponentModel","registerComponentView","registerProcessor","PRIORITY","PROCESSOR","SERIES_FILTER","registerSubTypeDefaulter","ScrollableLegendModel","setScrollDataIndex","scrollDataIndex","inputPositionParams","getLayoutParams","mergeAndNormalizeLayoutParams","inheritDefaultOption","pageButtonItemGap","pageButtonGap","pageButtonPosition","pageFormatter","pageIcons","horizontal","vertical","pageIconColor","pageIconInactiveColor","pageIconSize","pageTextStyle","animationDurationUpdate","raw","mergeLayoutParam","Group","WH","XY","ScrollableLegendView","_currentIndex","_containerGroup","_controllerGroup","removeClipPath","__rectSize","self","controllerGroup","pageIconSizeArr","zrUtil","createPageButton","pageTextStyleModel","iconIdx","pageDataIndexName","createIcon","_pageGo","font","getFont","xy","layoutUtil","processMaxSize","_layoutContentAndController","offset","containerGroup","controllerRect","showController","_showController","containerPos","controllerPos","setPosition","clipShape","setClipPath","attr","pageInfo","_getPageInfo","pageIndex","contentPosition","_updatePageInfoView","to","legendId","key","canJump","childOfName","cursor","pageText","current","total","pageCount","containerRectSize","targetItemIndex","_findTargetItemIndex","children","targetItem","itemCount","pCount","result","pagePrevDataIndex","pageNextDataIndex","targetItemInfo","getItemInfo","s","winStartItemInfo","winEndItemInfo","currItemInfo","intersect","itemRect","start","itemInfo","winStart","targetDataIndex","defaultIndex","legendDataIdx","installScrollableLegendAction","subType","query","MarkAreaModel","createMarkerModelFromSeries","markerOpt","masterMarkerModel","animation","label","position","inner","markAreaTransform","maModel","item0","item1","lt","rb","ltCoord","coord","rbCoord","retrieve","mergeAll","x0","y0","x1","y1","isInfinity","val","isNaN","isFinite","ifMarkAreaHasOnlyDim","dimIndex","fromCoord","toCoord","otherDimIndex","markAreaFilter","getSingleMarkerEndPoint","dims","point","itemModel","getItemModel","xPx","yPx","getMarkerPosition","pointValue0","getValues","pointValue1","clampPointValue0","clampData","clampPointValue1","pointValue","pt","dataToPoint","xAxis","getAxis","yAxis","toGlobalCoord","getExtent","dimPermutations","MarkAreaView","updateTransform","markAreaModel","eachSeries","areaData_1","points","map","dim","setItemLayout","getItemGraphicEl","setShape","renderSeries","seriesId","seriesData","areaGroupMap","markerGroupMap","polygonGroup","markKeep","areaData","createList","setData","xAxisScale","yAxisScale","xAxisExtent","yAxisExtent","xPointExtent","yPointExtent","overlapped","allClipped","setItemVisual","diff","getItemLayout","polygon","setItemGraphicEl","newIdx","oldIdx","execute","eachItemGraphicEl","useStyle","labelFetcher","labelDataIndex","getName","inheritColor","dataModel","dataDims","coordDimsInfos_1","dimensions","coordDim","info","getDimensionInfo","mapDimension","ordinalMeta","optData","filter","dimValueGetter","dimName","rawVal","floor","initData","hasItemOption","MarkLineModel","symbol","symbolSize","symbolOffset","precision","distance","animationEasing","markLineTransform","mlModel","itemArray","isArray","mlType","valueAxis","axisInfo","valueDataDim","valueIndex","baseIndex","mlFrom","mlTo","isNumber","toFixed","normalizedItem","merge","ifMarkLineHasOnlyDim","containData","markLineFilter","updateSingleMarkerEndLayout","isFrom","MarkLineView","markLineModel","mlData_1","fromData_1","from","toData_1","updateLayout","lineDrawMap","lineDraw","mlData","fromData","toData","lineData","line","symbolType","updateDataVisualAndLayout","retrieve2","fromSymbolKeepAspect","fromSymbolOffset","fromSymbolRotate","fromSymbolSize","fromSymbol","toSymbolKeepAspect","toSymbolOffset","toSymbolRotate","toSymbolSize","toSymbol","updateData","traverse","coordDimsInfos","MarkPointModel","updateMarkerLayout","mpData","MarkPointView","markPointModel","mpModel","symbolDrawMap","symbolDraw","createData","isFunction","rawIdx","getRawValue","dataParams","getDataParams","dataOpt"],"sourceRoot":""}