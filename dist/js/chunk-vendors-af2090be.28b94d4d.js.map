{"version":3,"file":"js/chunk-vendors-af2090be.28b94d4d.js","mappings":"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","sources":["webpack://databoard/./node_modules/echarts/lib/coord/axisTickLabelBuilder.js","webpack://databoard/./node_modules/echarts/lib/coord/Axis.js","webpack://databoard/./node_modules/echarts/lib/coord/CoordinateSystem.js","webpack://databoard/./node_modules/echarts/lib/coord/View.js","webpack://databoard/./node_modules/echarts/lib/coord/axisAlignTicks.js","webpack://databoard/./node_modules/echarts/lib/coord/axisDefault.js","webpack://databoard/./node_modules/echarts/lib/coord/axisHelper.js","webpack://databoard/./node_modules/echarts/lib/coord/axisModelCommonMixin.js","webpack://databoard/./node_modules/echarts/lib/coord/axisCommonTypes.js","webpack://databoard/./node_modules/echarts/lib/coord/axisModelCreator.js","webpack://databoard/./node_modules/echarts/lib/coord/calendar/Calendar.js","webpack://databoard/./node_modules/echarts/lib/coord/calendar/CalendarModel.js","webpack://databoard/./node_modules/echarts/lib/coord/calendar/prepareCustom.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/AxisModel.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/Cartesian.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/Cartesian2D.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/Axis2D.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/Grid.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/GridModel.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/cartesianAxisHelper.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/prepareCustom.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport { makeInner } from '../util/model.js';\nimport { makeLabelFormatter, getOptionCategoryInterval, shouldShowAllLabels } from './axisHelper.js';\nvar inner = makeInner();\nexport function createAxisLabels(axis) {\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryLabels(axis) : makeRealNumberLabels(axis);\n}\n/**\n * @param {module:echats/coord/Axis} axis\n * @param {module:echarts/model/Model} tickModel For example, can be axisTick, splitLine, splitArea.\n * @return {Object} {\n *     ticks: Array.<number>\n *     tickCategoryInterval: number\n * }\n */\n\nexport function createAxisTicks(axis, tickModel) {\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryTicks(axis, tickModel) : {\n    ticks: zrUtil.map(axis.scale.getTicks(), function (tick) {\n      return tick.value;\n    })\n  };\n}\n\nfunction makeCategoryLabels(axis) {\n  var labelModel = axis.getLabelModel();\n  var result = makeCategoryLabelsActually(axis, labelModel);\n  return !labelModel.get('show') || axis.scale.isBlank() ? {\n    labels: [],\n    labelCategoryInterval: result.labelCategoryInterval\n  } : result;\n}\n\nfunction makeCategoryLabelsActually(axis, labelModel) {\n  var labelsCache = getListCache(axis, 'labels');\n  var optionLabelInterval = getOptionCategoryInterval(labelModel);\n  var result = listCacheGet(labelsCache, optionLabelInterval);\n\n  if (result) {\n    return result;\n  }\n\n  var labels;\n  var numericLabelInterval;\n\n  if (zrUtil.isFunction(optionLabelInterval)) {\n    labels = makeLabelsByCustomizedCategoryInterval(axis, optionLabelInterval);\n  } else {\n    numericLabelInterval = optionLabelInterval === 'auto' ? makeAutoCategoryInterval(axis) : optionLabelInterval;\n    labels = makeLabelsByNumericCategoryInterval(axis, numericLabelInterval);\n  } // Cache to avoid calling interval function repeatedly.\n\n\n  return listCacheSet(labelsCache, optionLabelInterval, {\n    labels: labels,\n    labelCategoryInterval: numericLabelInterval\n  });\n}\n\nfunction makeCategoryTicks(axis, tickModel) {\n  var ticksCache = getListCache(axis, 'ticks');\n  var optionTickInterval = getOptionCategoryInterval(tickModel);\n  var result = listCacheGet(ticksCache, optionTickInterval);\n\n  if (result) {\n    return result;\n  }\n\n  var ticks;\n  var tickCategoryInterval; // Optimize for the case that large category data and no label displayed,\n  // we should not return all ticks.\n\n  if (!tickModel.get('show') || axis.scale.isBlank()) {\n    ticks = [];\n  }\n\n  if (zrUtil.isFunction(optionTickInterval)) {\n    ticks = makeLabelsByCustomizedCategoryInterval(axis, optionTickInterval, true);\n  } // Always use label interval by default despite label show. Consider this\n  // scenario, Use multiple grid with the xAxis sync, and only one xAxis shows\n  // labels. `splitLine` and `axisTick` should be consistent in this case.\n  else if (optionTickInterval === 'auto') {\n      var labelsResult = makeCategoryLabelsActually(axis, axis.getLabelModel());\n      tickCategoryInterval = labelsResult.labelCategoryInterval;\n      ticks = zrUtil.map(labelsResult.labels, function (labelItem) {\n        return labelItem.tickValue;\n      });\n    } else {\n      tickCategoryInterval = optionTickInterval;\n      ticks = makeLabelsByNumericCategoryInterval(axis, tickCategoryInterval, true);\n    } // Cache to avoid calling interval function repeatedly.\n\n\n  return listCacheSet(ticksCache, optionTickInterval, {\n    ticks: ticks,\n    tickCategoryInterval: tickCategoryInterval\n  });\n}\n\nfunction makeRealNumberLabels(axis) {\n  var ticks = axis.scale.getTicks();\n  var labelFormatter = makeLabelFormatter(axis);\n  return {\n    labels: zrUtil.map(ticks, function (tick, idx) {\n      return {\n        level: tick.level,\n        formattedLabel: labelFormatter(tick, idx),\n        rawLabel: axis.scale.getLabel(tick),\n        tickValue: tick.value\n      };\n    })\n  };\n}\n\nfunction getListCache(axis, prop) {\n  // Because key can be a function, and cache size always is small, we use array cache.\n  return inner(axis)[prop] || (inner(axis)[prop] = []);\n}\n\nfunction listCacheGet(cache, key) {\n  for (var i = 0; i < cache.length; i++) {\n    if (cache[i].key === key) {\n      return cache[i].value;\n    }\n  }\n}\n\nfunction listCacheSet(cache, key, value) {\n  cache.push({\n    key: key,\n    value: value\n  });\n  return value;\n}\n\nfunction makeAutoCategoryInterval(axis) {\n  var result = inner(axis).autoInterval;\n  return result != null ? result : inner(axis).autoInterval = axis.calculateCategoryInterval();\n}\n/**\n * Calculate interval for category axis ticks and labels.\n * To get precise result, at least one of `getRotate` and `isHorizontal`\n * should be implemented in axis.\n */\n\n\nexport function calculateCategoryInterval(axis) {\n  var params = fetchAutoCategoryIntervalCalculationParams(axis);\n  var labelFormatter = makeLabelFormatter(axis);\n  var rotation = (params.axisRotate - params.labelRotate) / 180 * Math.PI;\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent(); // Providing this method is for optimization:\n  // avoid generating a long array by `getTicks`\n  // in large category data case.\n\n  var tickCount = ordinalScale.count();\n\n  if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n    return 0;\n  }\n\n  var step = 1; // Simple optimization. Empirical value: tick count should less than 40.\n\n  if (tickCount > 40) {\n    step = Math.max(1, Math.floor(tickCount / 40));\n  }\n\n  var tickValue = ordinalExtent[0];\n  var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n  var unitW = Math.abs(unitSpan * Math.cos(rotation));\n  var unitH = Math.abs(unitSpan * Math.sin(rotation));\n  var maxW = 0;\n  var maxH = 0; // Caution: Performance sensitive for large category data.\n  // Consider dataZoom, we should make appropriate step to avoid O(n) loop.\n\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    var width = 0;\n    var height = 0; // Not precise, do not consider align and vertical align\n    // and each distance from axis line yet.\n\n    var rect = textContain.getBoundingRect(labelFormatter({\n      value: tickValue\n    }), params.font, 'center', 'top'); // Magic number\n\n    width = rect.width * 1.3;\n    height = rect.height * 1.3; // Min size, void long loop.\n\n    maxW = Math.max(maxW, width, 7);\n    maxH = Math.max(maxH, height, 7);\n  }\n\n  var dw = maxW / unitW;\n  var dh = maxH / unitH; // 0/0 is NaN, 1/0 is Infinity.\n\n  isNaN(dw) && (dw = Infinity);\n  isNaN(dh) && (dh = Infinity);\n  var interval = Math.max(0, Math.floor(Math.min(dw, dh)));\n  var cache = inner(axis.model);\n  var axisExtent = axis.getExtent();\n  var lastAutoInterval = cache.lastAutoInterval;\n  var lastTickCount = cache.lastTickCount; // Use cache to keep interval stable while moving zoom window,\n  // otherwise the calculated interval might jitter when the zoom\n  // window size is close to the interval-changing size.\n  // For example, if all of the axis labels are `a, b, c, d, e, f, g`.\n  // The jitter will cause that sometimes the displayed labels are\n  // `a, d, g` (interval: 2) sometimes `a, c, e`(interval: 1).\n\n  if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1 // Always choose the bigger one, otherwise the critical\n  // point is not the same when zooming in or zooming out.\n  && lastAutoInterval > interval // If the axis change is caused by chart resize, the cache should not\n  // be used. Otherwise some hidden labels might not be shown again.\n  && cache.axisExtent0 === axisExtent[0] && cache.axisExtent1 === axisExtent[1]) {\n    interval = lastAutoInterval;\n  } // Only update cache if cache not used, otherwise the\n  // changing of interval is too insensitive.\n  else {\n      cache.lastTickCount = tickCount;\n      cache.lastAutoInterval = interval;\n      cache.axisExtent0 = axisExtent[0];\n      cache.axisExtent1 = axisExtent[1];\n    }\n\n  return interval;\n}\n\nfunction fetchAutoCategoryIntervalCalculationParams(axis) {\n  var labelModel = axis.getLabelModel();\n  return {\n    axisRotate: axis.getRotate ? axis.getRotate() : axis.isHorizontal && !axis.isHorizontal() ? 90 : 0,\n    labelRotate: labelModel.get('rotate') || 0,\n    font: labelModel.getFont()\n  };\n}\n\nfunction makeLabelsByNumericCategoryInterval(axis, categoryInterval, onlyTick) {\n  var labelFormatter = makeLabelFormatter(axis);\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent();\n  var labelModel = axis.getLabelModel();\n  var result = []; // TODO: axisType: ordinalTime, pick the tick from each month/day/year/...\n\n  var step = Math.max((categoryInterval || 0) + 1, 1);\n  var startTick = ordinalExtent[0];\n  var tickCount = ordinalScale.count(); // Calculate start tick based on zero if possible to keep label consistent\n  // while zooming and moving while interval > 0. Otherwise the selection\n  // of displayable ticks and symbols probably keep changing.\n  // 3 is empirical value.\n\n  if (startTick !== 0 && step > 1 && tickCount / step > 2) {\n    startTick = Math.round(Math.ceil(startTick / step) * step);\n  } // (1) Only add min max label here but leave overlap checking\n  // to render stage, which also ensure the returned list\n  // suitable for splitLine and splitArea rendering.\n  // (2) Scales except category always contain min max label so\n  // do not need to perform this process.\n\n\n  var showAllLabel = shouldShowAllLabels(axis);\n  var includeMinLabel = labelModel.get('showMinLabel') || showAllLabel;\n  var includeMaxLabel = labelModel.get('showMaxLabel') || showAllLabel;\n\n  if (includeMinLabel && startTick !== ordinalExtent[0]) {\n    addItem(ordinalExtent[0]);\n  } // Optimize: avoid generating large array by `ordinalScale.getTicks()`.\n\n\n  var tickValue = startTick;\n\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    addItem(tickValue);\n  }\n\n  if (includeMaxLabel && tickValue - step !== ordinalExtent[1]) {\n    addItem(ordinalExtent[1]);\n  }\n\n  function addItem(tickValue) {\n    var tickObj = {\n      value: tickValue\n    };\n    result.push(onlyTick ? tickValue : {\n      formattedLabel: labelFormatter(tickObj),\n      rawLabel: ordinalScale.getLabel(tickObj),\n      tickValue: tickValue\n    });\n  }\n\n  return result;\n}\n\nfunction makeLabelsByCustomizedCategoryInterval(axis, categoryInterval, onlyTick) {\n  var ordinalScale = axis.scale;\n  var labelFormatter = makeLabelFormatter(axis);\n  var result = [];\n  zrUtil.each(ordinalScale.getTicks(), function (tick) {\n    var rawLabel = ordinalScale.getLabel(tick);\n    var tickValue = tick.value;\n\n    if (categoryInterval(tick.value, rawLabel)) {\n      result.push(onlyTick ? tickValue : {\n        formattedLabel: labelFormatter(tick),\n        rawLabel: rawLabel,\n        tickValue: tickValue\n      });\n    }\n  });\n  return result;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, map } from 'zrender/lib/core/util.js';\nimport { linearMap, getPixelPrecision, round } from '../util/number.js';\nimport { createAxisTicks, createAxisLabels, calculateCategoryInterval } from './axisTickLabelBuilder.js';\nvar NORMALIZED_EXTENT = [0, 1];\n/**\n * Base class of Axis.\n */\n\nvar Axis =\n/** @class */\nfunction () {\n  function Axis(dim, scale, extent) {\n    this.onBand = false;\n    this.inverse = false;\n    this.dim = dim;\n    this.scale = scale;\n    this._extent = extent || [0, 0];\n  }\n  /**\n   * If axis extent contain given coord\n   */\n\n\n  Axis.prototype.contain = function (coord) {\n    var extent = this._extent;\n    var min = Math.min(extent[0], extent[1]);\n    var max = Math.max(extent[0], extent[1]);\n    return coord >= min && coord <= max;\n  };\n  /**\n   * If axis extent contain given data\n   */\n\n\n  Axis.prototype.containData = function (data) {\n    return this.scale.contain(data);\n  };\n  /**\n   * Get coord extent.\n   */\n\n\n  Axis.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Get precision used for formatting\n   */\n\n\n  Axis.prototype.getPixelPrecision = function (dataExtent) {\n    return getPixelPrecision(dataExtent || this.scale.getExtent(), this._extent);\n  };\n  /**\n   * Set coord extent\n   */\n\n\n  Axis.prototype.setExtent = function (start, end) {\n    var extent = this._extent;\n    extent[0] = start;\n    extent[1] = end;\n  };\n  /**\n   * Convert data to coord. Data is the rank if it has an ordinal scale\n   */\n\n\n  Axis.prototype.dataToCoord = function (data, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n    data = scale.normalize(data);\n\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n\n    return linearMap(data, NORMALIZED_EXTENT, extent, clamp);\n  };\n  /**\n   * Convert coord to data. Data is the rank if it has an ordinal scale\n   */\n\n\n  Axis.prototype.coordToData = function (coord, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n\n    var t = linearMap(coord, extent, NORMALIZED_EXTENT, clamp);\n    return this.scale.scale(t);\n  };\n  /**\n   * Convert pixel point to data in axis\n   */\n\n\n  Axis.prototype.pointToData = function (point, clamp) {\n    // Should be implemented in derived class if necessary.\n    return;\n  };\n  /**\n   * Different from `zrUtil.map(axis.getTicks(), axis.dataToCoord, axis)`,\n   * `axis.getTicksCoords` considers `onBand`, which is used by\n   * `boundaryGap:true` of category axis and splitLine and splitArea.\n   * @param opt.tickModel default: axis.model.getModel('axisTick')\n   * @param opt.clamp If `true`, the first and the last\n   *        tick must be at the axis end points. Otherwise, clip ticks\n   *        that outside the axis extent.\n   */\n\n\n  Axis.prototype.getTicksCoords = function (opt) {\n    opt = opt || {};\n    var tickModel = opt.tickModel || this.getTickModel();\n    var result = createAxisTicks(this, tickModel);\n    var ticks = result.ticks;\n    var ticksCoords = map(ticks, function (tickVal) {\n      return {\n        coord: this.dataToCoord(this.scale.type === 'ordinal' ? this.scale.getRawOrdinalNumber(tickVal) : tickVal),\n        tickValue: tickVal\n      };\n    }, this);\n    var alignWithLabel = tickModel.get('alignWithLabel');\n    fixOnBandTicksCoords(this, ticksCoords, alignWithLabel, opt.clamp);\n    return ticksCoords;\n  };\n\n  Axis.prototype.getMinorTicksCoords = function () {\n    if (this.scale.type === 'ordinal') {\n      // Category axis doesn't support minor ticks\n      return [];\n    }\n\n    var minorTickModel = this.model.getModel('minorTick');\n    var splitNumber = minorTickModel.get('splitNumber'); // Protection.\n\n    if (!(splitNumber > 0 && splitNumber < 100)) {\n      splitNumber = 5;\n    }\n\n    var minorTicks = this.scale.getMinorTicks(splitNumber);\n    var minorTicksCoords = map(minorTicks, function (minorTicksGroup) {\n      return map(minorTicksGroup, function (minorTick) {\n        return {\n          coord: this.dataToCoord(minorTick),\n          tickValue: minorTick\n        };\n      }, this);\n    }, this);\n    return minorTicksCoords;\n  };\n\n  Axis.prototype.getViewLabels = function () {\n    return createAxisLabels(this).labels;\n  };\n\n  Axis.prototype.getLabelModel = function () {\n    return this.model.getModel('axisLabel');\n  };\n  /**\n   * Notice here we only get the default tick model. For splitLine\n   * or splitArea, we should pass the splitLineModel or splitAreaModel\n   * manually when calling `getTicksCoords`.\n   * In GL, this method may be overridden to:\n   * `axisModel.getModel('axisTick', grid3DModel.getModel('axisTick'));`\n   */\n\n\n  Axis.prototype.getTickModel = function () {\n    return this.model.getModel('axisTick');\n  };\n  /**\n   * Get width of band\n   */\n\n\n  Axis.prototype.getBandWidth = function () {\n    var axisExtent = this._extent;\n    var dataExtent = this.scale.getExtent();\n    var len = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0); // Fix #2728, avoid NaN when only one data.\n\n    len === 0 && (len = 1);\n    var size = Math.abs(axisExtent[1] - axisExtent[0]);\n    return Math.abs(size) / len;\n  };\n  /**\n   * Only be called in category axis.\n   * Can be overridden, consider other axes like in 3D.\n   * @return Auto interval for cateogry axis tick and label\n   */\n\n\n  Axis.prototype.calculateCategoryInterval = function () {\n    return calculateCategoryInterval(this);\n  };\n\n  return Axis;\n}();\n\nfunction fixExtentWithBands(extent, nTick) {\n  var size = extent[1] - extent[0];\n  var len = nTick;\n  var margin = size / len / 2;\n  extent[0] += margin;\n  extent[1] -= margin;\n} // If axis has labels [1, 2, 3, 4]. Bands on the axis are\n// |---1---|---2---|---3---|---4---|.\n// So the displayed ticks and splitLine/splitArea should between\n// each data item, otherwise cause misleading (e.g., split tow bars\n// of a single data item when there are two bar series).\n// Also consider if tickCategoryInterval > 0 and onBand, ticks and\n// splitLine/spliteArea should layout appropriately corresponding\n// to displayed labels. (So we should not use `getBandWidth` in this\n// case).\n\n\nfunction fixOnBandTicksCoords(axis, ticksCoords, alignWithLabel, clamp) {\n  var ticksLen = ticksCoords.length;\n\n  if (!axis.onBand || alignWithLabel || !ticksLen) {\n    return;\n  }\n\n  var axisExtent = axis.getExtent();\n  var last;\n  var diffSize;\n\n  if (ticksLen === 1) {\n    ticksCoords[0].coord = axisExtent[0];\n    last = ticksCoords[1] = {\n      coord: axisExtent[0]\n    };\n  } else {\n    var crossLen = ticksCoords[ticksLen - 1].tickValue - ticksCoords[0].tickValue;\n    var shift_1 = (ticksCoords[ticksLen - 1].coord - ticksCoords[0].coord) / crossLen;\n    each(ticksCoords, function (ticksItem) {\n      ticksItem.coord -= shift_1 / 2;\n    });\n    var dataExtent = axis.scale.getExtent();\n    diffSize = 1 + dataExtent[1] - ticksCoords[ticksLen - 1].tickValue;\n    last = {\n      coord: ticksCoords[ticksLen - 1].coord + shift_1 * diffSize\n    };\n    ticksCoords.push(last);\n  }\n\n  var inverse = axisExtent[0] > axisExtent[1]; // Handling clamp.\n\n  if (littleThan(ticksCoords[0].coord, axisExtent[0])) {\n    clamp ? ticksCoords[0].coord = axisExtent[0] : ticksCoords.shift();\n  }\n\n  if (clamp && littleThan(axisExtent[0], ticksCoords[0].coord)) {\n    ticksCoords.unshift({\n      coord: axisExtent[0]\n    });\n  }\n\n  if (littleThan(axisExtent[1], last.coord)) {\n    clamp ? last.coord = axisExtent[1] : ticksCoords.pop();\n  }\n\n  if (clamp && littleThan(last.coord, axisExtent[1])) {\n    ticksCoords.push({\n      coord: axisExtent[1]\n    });\n  }\n\n  function littleThan(a, b) {\n    // Avoid rounding error cause calculated tick coord different with extent.\n    // It may cause an extra unnecessary tick added.\n    a = round(a);\n    b = round(b);\n    return inverse ? a > b : a < b;\n  }\n}\n\nexport default Axis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function isCoordinateSystemType(coordSys, type) {\n  return coordSys.type === type;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Simple view coordinate system\n * Mapping given x, y to transformd view x, y\n */\n\nimport * as vector from 'zrender/lib/core/vector.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport Transformable from 'zrender/lib/core/Transformable.js';\nimport { parsePercent } from '../util/number.js';\nvar v2ApplyTransform = vector.applyTransform;\n\nvar View =\n/** @class */\nfunction (_super) {\n  __extends(View, _super);\n\n  function View(name) {\n    var _this = _super.call(this) || this;\n\n    _this.type = 'view';\n    _this.dimensions = ['x', 'y'];\n    /**\n     * Represents the transform brought by roam/zoom.\n     * If `View['_viewRect']` applies roam transform,\n     * we can get the final displayed rect.\n     */\n\n    _this._roamTransformable = new Transformable();\n    /**\n     * Represents the transform from `View['_rect']` to `View['_viewRect']`.\n     */\n\n    _this._rawTransformable = new Transformable();\n    _this.name = name;\n    return _this;\n  }\n\n  View.prototype.setBoundingRect = function (x, y, width, height) {\n    this._rect = new BoundingRect(x, y, width, height);\n    return this._rect;\n  };\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n\n\n  View.prototype.getBoundingRect = function () {\n    return this._rect;\n  };\n\n  View.prototype.setViewRect = function (x, y, width, height) {\n    this._transformTo(x, y, width, height);\n\n    this._viewRect = new BoundingRect(x, y, width, height);\n  };\n  /**\n   * Transformed to particular position and size\n   */\n\n\n  View.prototype._transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var rawTransform = this._rawTransformable;\n    rawTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    var rawParent = rawTransform.parent;\n    rawTransform.parent = null;\n    rawTransform.decomposeTransform();\n    rawTransform.parent = rawParent;\n\n    this._updateTransform();\n  };\n  /**\n   * Set center of view\n   */\n\n\n  View.prototype.setCenter = function (centerCoord, api) {\n    if (!centerCoord) {\n      return;\n    }\n\n    this._center = [parsePercent(centerCoord[0], api.getWidth()), parsePercent(centerCoord[1], api.getHeight())];\n\n    this._updateCenterAndZoom();\n  };\n\n  View.prototype.setZoom = function (zoom) {\n    zoom = zoom || 1;\n    var zoomLimit = this.zoomLimit;\n\n    if (zoomLimit) {\n      if (zoomLimit.max != null) {\n        zoom = Math.min(zoomLimit.max, zoom);\n      }\n\n      if (zoomLimit.min != null) {\n        zoom = Math.max(zoomLimit.min, zoom);\n      }\n    }\n\n    this._zoom = zoom;\n\n    this._updateCenterAndZoom();\n  };\n  /**\n   * Get default center without roam\n   */\n\n\n  View.prototype.getDefaultCenter = function () {\n    // Rect before any transform\n    var rawRect = this.getBoundingRect();\n    var cx = rawRect.x + rawRect.width / 2;\n    var cy = rawRect.y + rawRect.height / 2;\n    return [cx, cy];\n  };\n\n  View.prototype.getCenter = function () {\n    return this._center || this.getDefaultCenter();\n  };\n\n  View.prototype.getZoom = function () {\n    return this._zoom || 1;\n  };\n\n  View.prototype.getRoamTransform = function () {\n    return this._roamTransformable.getLocalTransform();\n  };\n  /**\n   * Remove roam\n   */\n\n\n  View.prototype._updateCenterAndZoom = function () {\n    // Must update after view transform updated\n    var rawTransformMatrix = this._rawTransformable.getLocalTransform();\n\n    var roamTransform = this._roamTransformable;\n    var defaultCenter = this.getDefaultCenter();\n    var center = this.getCenter();\n    var zoom = this.getZoom();\n    center = vector.applyTransform([], center, rawTransformMatrix);\n    defaultCenter = vector.applyTransform([], defaultCenter, rawTransformMatrix);\n    roamTransform.originX = center[0];\n    roamTransform.originY = center[1];\n    roamTransform.x = defaultCenter[0] - center[0];\n    roamTransform.y = defaultCenter[1] - center[1];\n    roamTransform.scaleX = roamTransform.scaleY = zoom;\n\n    this._updateTransform();\n  };\n  /**\n   * Update transform props on `this` based on the current\n   * `this._roamTransformable` and `this._rawTransformable`.\n   */\n\n\n  View.prototype._updateTransform = function () {\n    var roamTransformable = this._roamTransformable;\n    var rawTransformable = this._rawTransformable;\n    rawTransformable.parent = roamTransformable;\n    roamTransformable.updateTransform();\n    rawTransformable.updateTransform();\n    matrix.copy(this.transform || (this.transform = []), rawTransformable.transform || matrix.create());\n    this._rawTransform = rawTransformable.getLocalTransform();\n    this.invTransform = this.invTransform || [];\n    matrix.invert(this.invTransform, this.transform);\n    this.decomposeTransform();\n  };\n\n  View.prototype.getTransformInfo = function () {\n    var rawTransformable = this._rawTransformable;\n    var roamTransformable = this._roamTransformable; // Because roamTransformabel has `originX/originY` modified,\n    // but the caller of `getTransformInfo` can not handle `originX/originY`,\n    // so need to recalculate them.\n\n    var dummyTransformable = new Transformable();\n    dummyTransformable.transform = roamTransformable.transform;\n    dummyTransformable.decomposeTransform();\n    return {\n      roam: {\n        x: dummyTransformable.x,\n        y: dummyTransformable.y,\n        scaleX: dummyTransformable.scaleX,\n        scaleY: dummyTransformable.scaleY\n      },\n      raw: {\n        x: rawTransformable.x,\n        y: rawTransformable.y,\n        scaleX: rawTransformable.scaleX,\n        scaleY: rawTransformable.scaleY\n      }\n    };\n  };\n\n  View.prototype.getViewRect = function () {\n    return this._viewRect;\n  };\n  /**\n   * Get view rect after roam transform\n   */\n\n\n  View.prototype.getViewRectAfterRoam = function () {\n    var rect = this.getBoundingRect().clone();\n    rect.applyTransform(this.transform);\n    return rect;\n  };\n  /**\n   * Convert a single (lon, lat) data item to (x, y) point.\n   */\n\n\n  View.prototype.dataToPoint = function (data, noRoam, out) {\n    var transform = noRoam ? this._rawTransform : this.transform;\n    out = out || [];\n    return transform ? v2ApplyTransform(out, data, transform) : vector.copy(out, data);\n  };\n  /**\n   * Convert a (x, y) point to (lon, lat) data\n   */\n\n\n  View.prototype.pointToData = function (point) {\n    var invTransform = this.invTransform;\n    return invTransform ? v2ApplyTransform([], point, invTransform) : [point[0], point[1]];\n  };\n\n  View.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n\n  View.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  /**\n   * @implements\n   */\n\n\n  View.prototype.containPoint = function (point) {\n    return this.getViewRectAfterRoam().contain(point[0], point[1]);\n  };\n\n  View.dimensions = ['x', 'y'];\n  return View;\n}(Transformable);\n\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  return seriesModel ? seriesModel.coordinateSystem : null; // e.g., graph.\n}\n\nexport default View;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getPrecisionSafe, round } from '../util/number.js';\nimport IntervalScale from '../scale/Interval.js';\nimport { getScaleExtent } from './axisHelper.js';\nimport { warn } from '../util/log.js';\nimport { increaseInterval, isValueNice } from '../scale/helper.js';\nvar mathLog = Math.log;\nexport function alignScaleTicks(scale, axisModel, alignToScale) {\n  var intervalScaleProto = IntervalScale.prototype; // NOTE: There is a precondition for log scale  here:\n  // In log scale we store _interval and _extent of exponent value.\n  // So if we use the method of InternalScale to set/get these data.\n  // It process the exponent value, which is linear and what we want here.\n\n  var alignToTicks = intervalScaleProto.getTicks.call(alignToScale);\n  var alignToNicedTicks = intervalScaleProto.getTicks.call(alignToScale, true);\n  var alignToSplitNumber = alignToTicks.length - 1;\n  var alignToInterval = intervalScaleProto.getInterval.call(alignToScale);\n  var scaleExtent = getScaleExtent(scale, axisModel);\n  var rawExtent = scaleExtent.extent;\n  var isMinFixed = scaleExtent.fixMin;\n  var isMaxFixed = scaleExtent.fixMax;\n\n  if (scale.type === 'log') {\n    var logBase = mathLog(scale.base);\n    rawExtent = [mathLog(rawExtent[0]) / logBase, mathLog(rawExtent[1]) / logBase];\n  }\n\n  scale.setExtent(rawExtent[0], rawExtent[1]);\n  scale.calcNiceExtent({\n    splitNumber: alignToSplitNumber,\n    fixMin: isMinFixed,\n    fixMax: isMaxFixed\n  });\n  var extent = intervalScaleProto.getExtent.call(scale); // Need to update the rawExtent.\n  // Because value in rawExtent may be not parsed. e.g. 'dataMin', 'dataMax'\n\n  if (isMinFixed) {\n    rawExtent[0] = extent[0];\n  }\n\n  if (isMaxFixed) {\n    rawExtent[1] = extent[1];\n  }\n\n  var interval = intervalScaleProto.getInterval.call(scale);\n  var min = rawExtent[0];\n  var max = rawExtent[1];\n\n  if (isMinFixed && isMaxFixed) {\n    // User set min, max, divide to get new interval\n    interval = (max - min) / alignToSplitNumber;\n  } else if (isMinFixed) {\n    max = rawExtent[0] + interval * alignToSplitNumber; // User set min, expand extent on the other side\n\n    while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1])) {\n      interval = increaseInterval(interval);\n      max = rawExtent[0] + interval * alignToSplitNumber;\n    }\n  } else if (isMaxFixed) {\n    // User set max, expand extent on the other side\n    min = rawExtent[1] - interval * alignToSplitNumber;\n\n    while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0])) {\n      interval = increaseInterval(interval);\n      min = rawExtent[1] - interval * alignToSplitNumber;\n    }\n  } else {\n    var nicedSplitNumber = scale.getTicks().length - 1;\n\n    if (nicedSplitNumber > alignToSplitNumber) {\n      interval = increaseInterval(interval);\n    }\n\n    var range = interval * alignToSplitNumber;\n    max = Math.ceil(rawExtent[1] / interval) * interval;\n    min = round(max - range); // Not change the result that crossing zero.\n\n    if (min < 0 && rawExtent[0] >= 0) {\n      min = 0;\n      max = round(range);\n    } else if (max > 0 && rawExtent[1] <= 0) {\n      max = 0;\n      min = -round(range);\n    }\n  } // Adjust min, max based on the extent of alignTo. When min or max is set in alignTo scale\n\n\n  var t0 = (alignToTicks[0].value - alignToNicedTicks[0].value) / alignToInterval;\n  var t1 = (alignToTicks[alignToSplitNumber].value - alignToNicedTicks[alignToSplitNumber].value) / alignToInterval; // NOTE: Must in setExtent -> setInterval -> setNiceExtent order.\n\n  intervalScaleProto.setExtent.call(scale, min + interval * t0, max + interval * t1);\n  intervalScaleProto.setInterval.call(scale, interval);\n\n  if (t0 || t1) {\n    intervalScaleProto.setNiceExtent.call(scale, min + interval, max - interval);\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    var ticks = intervalScaleProto.getTicks.call(scale);\n\n    if (ticks[1] && (!isValueNice(interval) || getPrecisionSafe(ticks[1].value) > getPrecisionSafe(interval))) {\n      warn( // eslint-disable-next-line\n      \"The ticks may be not readable when set min: \" + axisModel.get('min') + \", max: \" + axisModel.get('max') + \" and alignTicks: true\");\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar defaultOption = {\n  show: true,\n  // zlevel: 0,\n  z: 0,\n  // Inverse the axis.\n  inverse: false,\n  // Axis name displayed.\n  name: '',\n  // 'start' | 'middle' | 'end'\n  nameLocation: 'end',\n  // By degree. By default auto rotate by nameLocation.\n  nameRotate: null,\n  nameTruncate: {\n    maxWidth: null,\n    ellipsis: '...',\n    placeholder: '.'\n  },\n  // Use global text style by default.\n  nameTextStyle: {},\n  // The gap between axisName and axisLine.\n  nameGap: 15,\n  // Default `false` to support tooltip.\n  silent: false,\n  // Default `false` to avoid legacy user event listener fail.\n  triggerEvent: false,\n  tooltip: {\n    show: false\n  },\n  axisPointer: {},\n  axisLine: {\n    show: true,\n    onZero: true,\n    onZeroAxisIndex: null,\n    lineStyle: {\n      color: '#6E7079',\n      width: 1,\n      type: 'solid'\n    },\n    // The arrow at both ends the the axis.\n    symbol: ['none', 'none'],\n    symbolSize: [10, 15]\n  },\n  axisTick: {\n    show: true,\n    // Whether axisTick is inside the grid or outside the grid.\n    inside: false,\n    // The length of axisTick.\n    length: 5,\n    lineStyle: {\n      width: 1\n    }\n  },\n  axisLabel: {\n    show: true,\n    // Whether axisLabel is inside the grid or outside the grid.\n    inside: false,\n    rotate: 0,\n    // true | false | null/undefined (auto)\n    showMinLabel: null,\n    // true | false | null/undefined (auto)\n    showMaxLabel: null,\n    margin: 8,\n    // formatter: null,\n    fontSize: 12\n  },\n  splitLine: {\n    show: true,\n    lineStyle: {\n      color: ['#E0E6F1'],\n      width: 1,\n      type: 'solid'\n    }\n  },\n  splitArea: {\n    show: false,\n    areaStyle: {\n      color: ['rgba(250,250,250,0.2)', 'rgba(210,219,238,0.2)']\n    }\n  }\n};\nvar categoryAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For categoryAxis, boolean.\n  boundaryGap: true,\n  // Set false to faster category collection.\n  deduplication: null,\n  // splitArea: {\n  // show: false\n  // },\n  splitLine: {\n    show: false\n  },\n  axisTick: {\n    // If tick is align with label when boundaryGap is true\n    alignWithLabel: false,\n    interval: 'auto'\n  },\n  axisLabel: {\n    interval: 'auto'\n  }\n}, defaultOption);\nvar valueAxis = zrUtil.merge({\n  boundaryGap: [0, 0],\n  axisLine: {\n    // Not shown when other axis is categoryAxis in cartesian\n    show: 'auto'\n  },\n  axisTick: {\n    // Not shown when other axis is categoryAxis in cartesian\n    show: 'auto'\n  },\n  // TODO\n  // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\n  splitNumber: 5,\n  minorTick: {\n    // Minor tick, not available for cateogry axis.\n    show: false,\n    // Split number of minor ticks. The value should be in range of (0, 100)\n    splitNumber: 5,\n    // Length of minor tick\n    length: 3,\n    // Line style\n    lineStyle: {// Default to be same with axisTick\n    }\n  },\n  minorSplitLine: {\n    show: false,\n    lineStyle: {\n      color: '#F4F7FD',\n      width: 1\n    }\n  }\n}, defaultOption);\nvar timeAxis = zrUtil.merge({\n  splitNumber: 6,\n  axisLabel: {\n    // To eliminate labels that are not nice\n    showMinLabel: false,\n    showMaxLabel: false,\n    rich: {\n      primary: {\n        fontWeight: 'bold'\n      }\n    }\n  },\n  splitLine: {\n    show: false\n  }\n}, valueAxis);\nvar logAxis = zrUtil.defaults({\n  logBase: 10\n}, valueAxis);\nexport default {\n  category: categoryAxis,\n  value: valueAxis,\n  time: timeAxis,\n  log: logAxis\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport OrdinalScale from '../scale/Ordinal.js';\nimport IntervalScale from '../scale/Interval.js';\nimport Scale from '../scale/Scale.js';\nimport { prepareLayoutBarSeries, makeColumnLayout, retrieveColumnLayout } from '../layout/barGrid.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport TimeScale from '../scale/Time.js';\nimport LogScale from '../scale/Log.js';\nimport { getStackedDimension } from '../data/helper/dataStackHelper.js';\nimport { ensureScaleRawExtentInfo } from './scaleRawExtentInfo.js';\n/**\n * Get axis scale extent before niced.\n * Item of returned array can only be number (including Infinity and NaN).\n *\n * Caution:\n * Precondition of calling this method:\n * The scale extent has been initialized using series data extent via\n * `scale.setExtent` or `scale.unionExtentFromData`;\n */\n\nexport function getScaleExtent(scale, model) {\n  var scaleType = scale.type;\n  var rawExtentResult = ensureScaleRawExtentInfo(scale, model, scale.getExtent()).calculate();\n  scale.setBlank(rawExtentResult.isBlank);\n  var min = rawExtentResult.min;\n  var max = rawExtentResult.max; // If bars are placed on a base axis of type time or interval account for axis boundary overflow and current axis\n  // is base axis\n  // FIXME\n  // (1) Consider support value axis, where below zero and axis `onZero` should be handled properly.\n  // (2) Refactor the logic with `barGrid`. Is it not need to `makeBarWidthAndOffsetInfo` twice with different extent?\n  //     Should not depend on series type `bar`?\n  // (3) Fix that might overlap when using dataZoom.\n  // (4) Consider other chart types using `barGrid`?\n  // See #6728, #4862, `test/bar-overflow-time-plot.html`\n\n  var ecModel = model.ecModel;\n\n  if (ecModel && scaleType === 'time'\n  /* || scaleType === 'interval' */\n  ) {\n    var barSeriesModels = prepareLayoutBarSeries('bar', ecModel);\n    var isBaseAxisAndHasBarSeries_1 = false;\n    zrUtil.each(barSeriesModels, function (seriesModel) {\n      isBaseAxisAndHasBarSeries_1 = isBaseAxisAndHasBarSeries_1 || seriesModel.getBaseAxis() === model.axis;\n    });\n\n    if (isBaseAxisAndHasBarSeries_1) {\n      // Calculate placement of bars on axis. TODO should be decoupled\n      // with barLayout\n      var barWidthAndOffset = makeColumnLayout(barSeriesModels); // Adjust axis min and max to account for overflow\n\n      var adjustedScale = adjustScaleForOverflow(min, max, model, barWidthAndOffset);\n      min = adjustedScale.min;\n      max = adjustedScale.max;\n    }\n  }\n\n  return {\n    extent: [min, max],\n    // \"fix\" means \"fixed\", the value should not be\n    // changed in the subsequent steps.\n    fixMin: rawExtentResult.minFixed,\n    fixMax: rawExtentResult.maxFixed\n  };\n}\n\nfunction adjustScaleForOverflow(min, max, model, // Only support cartesian coord yet.\nbarWidthAndOffset) {\n  // Get Axis Length\n  var axisExtent = model.axis.getExtent();\n  var axisLength = axisExtent[1] - axisExtent[0]; // Get bars on current base axis and calculate min and max overflow\n\n  var barsOnCurrentAxis = retrieveColumnLayout(barWidthAndOffset, model.axis);\n\n  if (barsOnCurrentAxis === undefined) {\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  var minOverflow = Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    minOverflow = Math.min(item.offset, minOverflow);\n  });\n  var maxOverflow = -Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    maxOverflow = Math.max(item.offset + item.width, maxOverflow);\n  });\n  minOverflow = Math.abs(minOverflow);\n  maxOverflow = Math.abs(maxOverflow);\n  var totalOverFlow = minOverflow + maxOverflow; // Calculate required buffer based on old range and overflow\n\n  var oldRange = max - min;\n  var oldRangePercentOfNew = 1 - (minOverflow + maxOverflow) / axisLength;\n  var overflowBuffer = oldRange / oldRangePercentOfNew - oldRange;\n  max += overflowBuffer * (maxOverflow / totalOverFlow);\n  min -= overflowBuffer * (minOverflow / totalOverFlow);\n  return {\n    min: min,\n    max: max\n  };\n} // Precondition of calling this method:\n// The scale extent has been initialized using series data extent via\n// `scale.setExtent` or `scale.unionExtentFromData`;\n\n\nexport function niceScaleExtent(scale, inModel) {\n  var model = inModel;\n  var extentInfo = getScaleExtent(scale, model);\n  var extent = extentInfo.extent;\n  var splitNumber = model.get('splitNumber');\n\n  if (scale instanceof LogScale) {\n    scale.base = model.get('logBase');\n  }\n\n  var scaleType = scale.type;\n  var interval = model.get('interval');\n  var isIntervalOrTime = scaleType === 'interval' || scaleType === 'time';\n  scale.setExtent(extent[0], extent[1]);\n  scale.calcNiceExtent({\n    splitNumber: splitNumber,\n    fixMin: extentInfo.fixMin,\n    fixMax: extentInfo.fixMax,\n    minInterval: isIntervalOrTime ? model.get('minInterval') : null,\n    maxInterval: isIntervalOrTime ? model.get('maxInterval') : null\n  }); // If some one specified the min, max. And the default calculated interval\n  // is not good enough. He can specify the interval. It is often appeared\n  // in angle axis with angle 0 - 360. Interval calculated in interval scale is hard\n  // to be 60.\n  // FIXME\n\n  if (interval != null) {\n    scale.setInterval && scale.setInterval(interval);\n  }\n}\n/**\n * @param axisType Default retrieve from model.type\n */\n\nexport function createScaleByModel(model, axisType) {\n  axisType = axisType || model.get('type');\n\n  if (axisType) {\n    switch (axisType) {\n      // Buildin scale\n      case 'category':\n        return new OrdinalScale({\n          ordinalMeta: model.getOrdinalMeta ? model.getOrdinalMeta() : model.getCategories(),\n          extent: [Infinity, -Infinity]\n        });\n\n      case 'time':\n        return new TimeScale({\n          locale: model.ecModel.getLocaleModel(),\n          useUTC: model.ecModel.get('useUTC')\n        });\n\n      default:\n        // case 'value'/'interval', 'log', or others.\n        return new (Scale.getClass(axisType) || IntervalScale)();\n    }\n  }\n}\n/**\n * Check if the axis cross 0\n */\n\nexport function ifAxisCrossZero(axis) {\n  var dataExtent = axis.scale.getExtent();\n  var min = dataExtent[0];\n  var max = dataExtent[1];\n  return !(min > 0 && max > 0 || min < 0 && max < 0);\n}\n/**\n * @param axis\n * @return Label formatter function.\n *         param: {number} tickValue,\n *         param: {number} idx, the index in all ticks.\n *                         If category axis, this param is not required.\n *         return: {string} label string.\n */\n\nexport function makeLabelFormatter(axis) {\n  var labelFormatter = axis.getLabelModel().get('formatter');\n  var categoryTickStart = axis.type === 'category' ? axis.scale.getExtent()[0] : null;\n\n  if (axis.scale.type === 'time') {\n    return function (tpl) {\n      return function (tick, idx) {\n        return axis.scale.getFormattedLabel(tick, idx, tpl);\n      };\n    }(labelFormatter);\n  } else if (zrUtil.isString(labelFormatter)) {\n    return function (tpl) {\n      return function (tick) {\n        // For category axis, get raw value; for numeric axis,\n        // get formatted label like '1,333,444'.\n        var label = axis.scale.getLabel(tick);\n        var text = tpl.replace('{value}', label != null ? label : '');\n        return text;\n      };\n    }(labelFormatter);\n  } else if (zrUtil.isFunction(labelFormatter)) {\n    return function (cb) {\n      return function (tick, idx) {\n        // The original intention of `idx` is \"the index of the tick in all ticks\".\n        // But the previous implementation of category axis do not consider the\n        // `axisLabel.interval`, which cause that, for example, the `interval` is\n        // `1`, then the ticks \"name5\", \"name7\", \"name9\" are displayed, where the\n        // corresponding `idx` are `0`, `2`, `4`, but not `0`, `1`, `2`. So we keep\n        // the definition here for back compatibility.\n        if (categoryTickStart != null) {\n          idx = tick.value - categoryTickStart;\n        }\n\n        return cb(getAxisRawValue(axis, tick), idx, tick.level != null ? {\n          level: tick.level\n        } : null);\n      };\n    }(labelFormatter);\n  } else {\n    return function (tick) {\n      return axis.scale.getLabel(tick);\n    };\n  }\n}\nexport function getAxisRawValue(axis, tick) {\n  // In category axis with data zoom, tick is not the original\n  // index of axis.data. So tick should not be exposed to user\n  // in category axis.\n  return axis.type === 'category' ? axis.scale.getLabel(tick) : tick.value;\n}\n/**\n * @param axis\n * @return Be null/undefined if no labels.\n */\n\nexport function estimateLabelUnionRect(axis) {\n  var axisModel = axis.model;\n  var scale = axis.scale;\n\n  if (!axisModel.get(['axisLabel', 'show']) || scale.isBlank()) {\n    return;\n  }\n\n  var realNumberScaleTicks;\n  var tickCount;\n  var categoryScaleExtent = scale.getExtent(); // Optimize for large category data, avoid call `getTicks()`.\n\n  if (scale instanceof OrdinalScale) {\n    tickCount = scale.count();\n  } else {\n    realNumberScaleTicks = scale.getTicks();\n    tickCount = realNumberScaleTicks.length;\n  }\n\n  var axisLabelModel = axis.getLabelModel();\n  var labelFormatter = makeLabelFormatter(axis);\n  var rect;\n  var step = 1; // Simple optimization for large amount of labels\n\n  if (tickCount > 40) {\n    step = Math.ceil(tickCount / 40);\n  }\n\n  for (var i = 0; i < tickCount; i += step) {\n    var tick = realNumberScaleTicks ? realNumberScaleTicks[i] : {\n      value: categoryScaleExtent[0] + i\n    };\n    var label = labelFormatter(tick, i);\n    var unrotatedSingleRect = axisLabelModel.getTextRect(label);\n    var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n    rect ? rect.union(singleRect) : rect = singleRect;\n  }\n\n  return rect;\n}\n\nfunction rotateTextRect(textRect, rotate) {\n  var rotateRadians = rotate * Math.PI / 180;\n  var beforeWidth = textRect.width;\n  var beforeHeight = textRect.height;\n  var afterWidth = beforeWidth * Math.abs(Math.cos(rotateRadians)) + Math.abs(beforeHeight * Math.sin(rotateRadians));\n  var afterHeight = beforeWidth * Math.abs(Math.sin(rotateRadians)) + Math.abs(beforeHeight * Math.cos(rotateRadians));\n  var rotatedRect = new BoundingRect(textRect.x, textRect.y, afterWidth, afterHeight);\n  return rotatedRect;\n}\n/**\n * @param model axisLabelModel or axisTickModel\n * @return {number|String} Can be null|'auto'|number|function\n */\n\n\nexport function getOptionCategoryInterval(model) {\n  var interval = model.get('interval');\n  return interval == null ? 'auto' : interval;\n}\n/**\n * Set `categoryInterval` as 0 implicitly indicates that\n * show all labels regardless of overlap.\n * @param {Object} axis axisModel.axis\n */\n\nexport function shouldShowAllLabels(axis) {\n  return axis.type === 'category' && getOptionCategoryInterval(axis.getLabelModel()) === 0;\n}\nexport function getDataDimensionsOnAxis(data, axisDim) {\n  // Remove duplicated dat dimensions caused by `getStackedDimension`.\n  var dataDimMap = {}; // Currently `mapDimensionsAll` will contain stack result dimension ('__\\0ecstackresult').\n  // PENDING: is it reasonable? Do we need to remove the original dim from \"coord dim\" since\n  // there has been stacked result dim?\n\n  zrUtil.each(data.mapDimensionsAll(axisDim), function (dataDim) {\n    // For example, the extent of the original dimension\n    // is [0.1, 0.5], the extent of the `stackResultDimension`\n    // is [7, 9], the final extent should NOT include [0.1, 0.5],\n    // because there is no graphic corresponding to [0.1, 0.5].\n    // See the case in `test/area-stack.html` `main1`, where area line\n    // stack needs `yAxis` not start from 0.\n    dataDimMap[getStackedDimension(data, dataDim)] = true;\n  });\n  return zrUtil.keys(dataDimMap);\n}\nexport function unionAxisExtentFromData(dataExtent, data, axisDim) {\n  if (data) {\n    zrUtil.each(getDataDimensionsOnAxis(data, axisDim), function (dim) {\n      var seriesExtent = data.getApproximateExtent(dim);\n      seriesExtent[0] < dataExtent[0] && (dataExtent[0] = seriesExtent[0]);\n      seriesExtent[1] > dataExtent[1] && (dataExtent[1] = seriesExtent[1]);\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar AxisModelCommonMixin =\n/** @class */\nfunction () {\n  function AxisModelCommonMixin() {}\n\n  AxisModelCommonMixin.prototype.getNeedCrossZero = function () {\n    var option = this.option;\n    return !option.scale;\n  };\n  /**\n   * Should be implemented by each axis model if necessary.\n   * @return coordinate system model\n   */\n\n\n  AxisModelCommonMixin.prototype.getCoordSysModel = function () {\n    return;\n  };\n\n  return AxisModelCommonMixin;\n}();\n\nexport { AxisModelCommonMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport var AXIS_TYPES = {\n  value: 1,\n  category: 1,\n  time: 1,\n  log: 1\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport axisDefault from './axisDefault.js';\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout.js';\nimport OrdinalMeta from '../data/OrdinalMeta.js';\nimport { AXIS_TYPES } from './axisCommonTypes.js';\nimport { each, merge } from 'zrender/lib/core/util.js';\n/**\n * Generate sub axis model class\n * @param axisName 'x' 'y' 'radius' 'angle' 'parallel' ...\n */\n\nexport default function axisModelCreator(registers, axisName, BaseAxisModelClass, extraDefaultOption) {\n  each(AXIS_TYPES, function (v, axisType) {\n    var defaultOption = merge(merge({}, axisDefault[axisType], true), extraDefaultOption, true);\n\n    var AxisModel =\n    /** @class */\n    function (_super) {\n      __extends(AxisModel, _super);\n\n      function AxisModel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.type = axisName + 'Axis.' + axisType;\n        return _this;\n      }\n\n      AxisModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n        var layoutMode = fetchLayoutMode(this);\n        var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n        var themeModel = ecModel.getTheme();\n        merge(option, themeModel.get(axisType + 'Axis'));\n        merge(option, this.getDefaultOption());\n        option.type = getAxisType(option);\n\n        if (layoutMode) {\n          mergeLayoutParam(option, inputPositionParams, layoutMode);\n        }\n      };\n\n      AxisModel.prototype.optionUpdated = function () {\n        var thisOption = this.option;\n\n        if (thisOption.type === 'category') {\n          this.__ordinalMeta = OrdinalMeta.createByAxisModel(this);\n        }\n      };\n      /**\n       * Should not be called before all of 'getInitailData' finished.\n       * Because categories are collected during initializing data.\n       */\n\n\n      AxisModel.prototype.getCategories = function (rawData) {\n        var option = this.option; // FIXME\n        // warning if called before all of 'getInitailData' finished.\n\n        if (option.type === 'category') {\n          if (rawData) {\n            return option.data;\n          }\n\n          return this.__ordinalMeta.categories;\n        }\n      };\n\n      AxisModel.prototype.getOrdinalMeta = function () {\n        return this.__ordinalMeta;\n      };\n\n      AxisModel.type = axisName + 'Axis.' + axisType;\n      AxisModel.defaultOption = defaultOption;\n      return AxisModel;\n    }(BaseAxisModelClass);\n\n    registers.registerComponentModel(AxisModel);\n  });\n  registers.registerSubTypeDefaulter(axisName + 'Axis', getAxisType);\n}\n\nfunction getAxisType(option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js'; // (24*60*60*1000)\n\nvar PROXIMATE_ONE_DAY = 86400000;\n\nvar Calendar =\n/** @class */\nfunction () {\n  function Calendar(calendarModel, ecModel, api) {\n    this.type = 'calendar';\n    this.dimensions = Calendar.dimensions; // Required in createListFromData\n\n    this.getDimensionsInfo = Calendar.getDimensionsInfo;\n    this._model = calendarModel;\n  }\n\n  Calendar.getDimensionsInfo = function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }, 'value'];\n  };\n\n  Calendar.prototype.getRangeInfo = function () {\n    return this._rangeInfo;\n  };\n\n  Calendar.prototype.getModel = function () {\n    return this._model;\n  };\n\n  Calendar.prototype.getRect = function () {\n    return this._rect;\n  };\n\n  Calendar.prototype.getCellWidth = function () {\n    return this._sw;\n  };\n\n  Calendar.prototype.getCellHeight = function () {\n    return this._sh;\n  };\n\n  Calendar.prototype.getOrient = function () {\n    return this._orient;\n  };\n  /**\n   * getFirstDayOfWeek\n   *\n   * @example\n   *     0 : start at Sunday\n   *     1 : start at Monday\n   *\n   * @return {number}\n   */\n\n\n  Calendar.prototype.getFirstDayOfWeek = function () {\n    return this._firstDayOfWeek;\n  };\n  /**\n   * get date info\n   * }\n   */\n\n\n  Calendar.prototype.getDateInfo = function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    var mStr = m < 10 ? '0' + m : '' + m;\n    var d = date.getDate();\n    var dStr = d < 10 ? '0' + d : '' + d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y + '',\n      m: mStr,\n      d: dStr,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + mStr + '-' + dStr,\n      date: date\n    };\n  };\n\n  Calendar.prototype.getNextNDay = function (date, n) {\n    n = n || 0;\n\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  };\n\n  Calendar.prototype.update = function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n\n    var cellSize = this._model.getCellSize().slice();\n\n    var layoutParams = this._model.getBoxLayoutParams();\n\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    } // Has been calculated out number.\n\n\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  };\n  /**\n   * Convert a time data(time, value) item to (x, y) point.\n   */\n  // TODO Clamp of calendar is not same with cartesian coordinate systems.\n  // It will return NaN if data exceeds.\n\n\n  Calendar.prototype.dataToPoint = function (data, clamp) {\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate; // if not in range return [NaN, NaN]\n\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time < range.end.time + PROXIMATE_ONE_DAY)) {\n      return [NaN, NaN];\n    }\n\n    var week = dayInfo.day;\n\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n\n    if (this._orient === 'vertical') {\n      return [this._rect.x + week * this._sw + this._sw / 2, this._rect.y + nthWeek * this._sh + this._sh / 2];\n    }\n\n    return [this._rect.x + nthWeek * this._sw + this._sw / 2, this._rect.y + week * this._sh + this._sh / 2];\n  };\n  /**\n   * Convert a (x, y) point to time data\n   */\n\n\n  Calendar.prototype.pointToData = function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  };\n  /**\n   * Convert a time date item to (x, y) four point.\n   */\n\n\n  Calendar.prototype.dataToRect = function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      contentShape: {\n        x: point[0] - (this._sw - this._lineWidth) / 2,\n        y: point[1] - (this._sh - this._lineWidth) / 2,\n        width: this._sw - this._lineWidth,\n        height: this._sh - this._lineWidth\n      },\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  };\n  /**\n   * Convert a (x, y) point to time date\n   *\n   * @param  {Array} point point\n   * @return {Object}       date\n   */\n\n\n  Calendar.prototype.pointToDate = function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  };\n\n  Calendar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n\n  Calendar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n\n  Calendar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n  /**\n   * initRange\n   * Normalize to an [start, end] array\n   */\n\n\n  Calendar.prototype._initRangeOption = function () {\n    var range = this._model.get('range');\n\n    var normalizedRange; // Convert [1990] to 1990\n\n    if (zrUtil.isArray(range) && range.length === 1) {\n      range = range[0];\n    }\n\n    if (!zrUtil.isArray(range)) {\n      var rangeStr = range.toString(); // One year.\n\n      if (/^\\d{4}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr + '-01-01', rangeStr + '-12-31'];\n      } // One month\n\n\n      if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        var start = this.getDateInfo(rangeStr);\n        var firstDay = start.date;\n        firstDay.setMonth(firstDay.getMonth() + 1);\n        var end = this.getNextNDay(firstDay, -1);\n        normalizedRange = [start.formatedDate, end.formatedDate];\n      } // One day\n\n\n      if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr, rangeStr];\n      }\n    } else {\n      normalizedRange = range;\n    }\n\n    if (!normalizedRange) {\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.logError('Invalid date range.');\n      } // Not handling it.\n\n\n      return range;\n    }\n\n    var tmp = this._getRangeInfo(normalizedRange);\n\n    if (tmp.start.time > tmp.end.time) {\n      normalizedRange.reverse();\n    }\n\n    return normalizedRange;\n  };\n  /**\n   * range info\n   *\n   * @private\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\n   *  If range[0] > range[1], they will not be reversed.\n   * @return {Object}       obj\n   */\n\n\n  Calendar.prototype._getRangeInfo = function (range) {\n    var parsedRange = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n\n    if (parsedRange[0].time > parsedRange[1].time) {\n      reversed = true;\n      parsedRange.reverse();\n    }\n\n    var allDay = Math.floor(parsedRange[1].time / PROXIMATE_ONE_DAY) - Math.floor(parsedRange[0].time / PROXIMATE_ONE_DAY) + 1; // Consider case1 (#11677 #10430):\n    // Set the system timezone as \"UK\", set the range to `['2016-07-01', '2016-12-31']`\n    // Consider case2:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // let first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // let second = new Date(1478412000000);\n    // let allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n\n    var date = new Date(parsedRange[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = parsedRange[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1); // The bias can not over a month, so just compare date.\n\n    var dateNum = date.getDate();\n\n    if (dateNum !== endDateNum) {\n      var sign = date.getTime() - parsedRange[1].time > 0 ? 1 : -1;\n\n      while ((dateNum = date.getDate()) !== endDateNum && (date.getTime() - parsedRange[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(dateNum - sign);\n      }\n    }\n\n    var weeks = Math.floor((allDay + parsedRange[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && parsedRange.reverse();\n    return {\n      range: [parsedRange[0].formatedDate, parsedRange[1].formatedDate],\n      start: parsedRange[0],\n      end: parsedRange[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: parsedRange[0].day,\n      lweek: parsedRange[1].day\n    };\n  };\n  /**\n   * get date by nthWeeks and week day in range\n   *\n   * @private\n   * @param  {number} nthWeek the week\n   * @param  {number} day   the week day\n   * @param  {Array} range [d1, d2]\n   * @return {Object}\n   */\n\n\n  Calendar.prototype._getDateByWeeksAndDay = function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return null;\n    }\n\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(+rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  };\n\n  Calendar.create = function (ecModel, api) {\n    var calendarList = [];\n    ecModel.eachComponent('calendar', function (calendarModel) {\n      var calendar = new Calendar(calendarModel, ecModel, api);\n      calendarList.push(calendar);\n      calendarModel.coordinateSystem = calendar;\n    });\n    ecModel.eachSeries(function (calendarSeries) {\n      if (calendarSeries.get('coordinateSystem') === 'calendar') {\n        // Inject coordinate system\n        calendarSeries.coordinateSystem = calendarList[calendarSeries.get('calendarIndex') || 0];\n      }\n    });\n    return calendarList;\n  };\n\n  Calendar.dimensions = ['time', 'value'];\n  return Calendar;\n}();\n\nfunction getCoordSys(finder) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys;\n}\n\nexport default Calendar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getLayoutParams, sizeCalculable, mergeLayoutParam } from '../../util/layout.js';\n\nvar CalendarModel =\n/** @class */\nfunction (_super) {\n  __extends(CalendarModel, _super);\n\n  function CalendarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CalendarModel.type;\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  CalendarModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n\n    _super.prototype.init.apply(this, arguments);\n\n    mergeAndNormalizeLayoutParams(option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n\n\n  CalendarModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n\n    mergeAndNormalizeLayoutParams(this.option, option);\n  };\n\n  CalendarModel.prototype.getCellSize = function () {\n    // Has been normalized\n    return this.option.cellSize;\n  };\n\n  CalendarModel.type = 'calendar';\n  CalendarModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    left: 80,\n    top: 60,\n    cellSize: 20,\n    // horizontal vertical\n    orient: 'horizontal',\n    // month separate line style\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: '#000',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // rect style  temporarily unused emphasis\n    itemStyle: {\n      color: '#fff',\n      borderWidth: 1,\n      borderColor: '#ccc'\n    },\n    // week text style\n    dayLabel: {\n      show: true,\n      firstDay: 0,\n      // start end\n      position: 'start',\n      margin: '50%',\n      color: '#000'\n    },\n    // month text style\n    monthLabel: {\n      show: true,\n      // start end\n      position: 'start',\n      margin: 5,\n      // center or left\n      align: 'center',\n      formatter: null,\n      color: '#000'\n    },\n    // year text style\n    yearLabel: {\n      show: true,\n      // top bottom left right\n      position: null,\n      margin: 30,\n      formatter: null,\n      color: '#ccc',\n      fontFamily: 'sans-serif',\n      fontWeight: 'bolder',\n      fontSize: 20\n    }\n  };\n  return CalendarModel;\n}(ComponentModel);\n\nfunction mergeAndNormalizeLayoutParams(target, raw) {\n  // Normalize cellSize\n  var cellSize = target.cellSize;\n  var cellSizeArr;\n\n  if (!zrUtil.isArray(cellSize)) {\n    cellSizeArr = target.cellSize = [cellSize, cellSize];\n  } else {\n    cellSizeArr = cellSize;\n  }\n\n  if (cellSizeArr.length === 1) {\n    cellSizeArr[1] = cellSizeArr[0];\n  }\n\n  var ignoreSize = zrUtil.map([0, 1], function (hvIdx) {\n    // If user have set `width` or both `left` and `right`, cellSizeArr\n    // will be automatically set to 'auto', otherwise the default\n    // setting of cellSizeArr will make `width` setting not work.\n    if (sizeCalculable(raw, hvIdx)) {\n      cellSizeArr[hvIdx] = 'auto';\n    }\n\n    return cellSizeArr[hvIdx] != null && cellSizeArr[hvIdx] !== 'auto';\n  });\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\n\nexport default CalendarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function calendarPrepareCustom(coordSys) {\n  var rect = coordSys.getRect();\n  var rangeInfo = coordSys.getRangeInfo();\n  return {\n    coordSys: {\n      type: 'calendar',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n      cellWidth: coordSys.getCellWidth(),\n      cellHeight: coordSys.getCellHeight(),\n      rangeInfo: {\n        start: rangeInfo.start,\n        end: rangeInfo.end,\n        weeks: rangeInfo.weeks,\n        dayCount: rangeInfo.allDay\n      }\n    },\n    api: {\n      coord: function (data, clamp) {\n        return coordSys.dataToPoint(data, clamp);\n      }\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\n\nvar CartesianAxisModel =\n/** @class */\nfunction (_super) {\n  __extends(CartesianAxisModel, _super);\n\n  function CartesianAxisModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  CartesianAxisModel.prototype.getCoordSysModel = function () {\n    return this.getReferringComponents('grid', SINGLE_REFERRING).models[0];\n  };\n\n  CartesianAxisModel.type = 'cartesian2dAxis';\n  return CartesianAxisModel;\n}(ComponentModel);\n\nexport { CartesianAxisModel };\nzrUtil.mixin(CartesianAxisModel, AxisModelCommonMixin);\nexport default CartesianAxisModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\n\nvar Cartesian =\n/** @class */\nfunction () {\n  function Cartesian(name) {\n    this.type = 'cartesian';\n    this._dimList = [];\n    this._axes = {};\n    this.name = name || '';\n  }\n\n  Cartesian.prototype.getAxis = function (dim) {\n    return this._axes[dim];\n  };\n\n  Cartesian.prototype.getAxes = function () {\n    return zrUtil.map(this._dimList, function (dim) {\n      return this._axes[dim];\n    }, this);\n  };\n\n  Cartesian.prototype.getAxesByScale = function (scaleType) {\n    scaleType = scaleType.toLowerCase();\n    return zrUtil.filter(this.getAxes(), function (axis) {\n      return axis.scale.type === scaleType;\n    });\n  };\n\n  Cartesian.prototype.addAxis = function (axis) {\n    var dim = axis.dim;\n    this._axes[dim] = axis;\n\n    this._dimList.push(dim);\n  };\n\n  return Cartesian;\n}();\n\n;\nexport default Cartesian;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport Cartesian from './Cartesian.js';\nimport { invert } from 'zrender/lib/core/matrix.js';\nimport { applyTransform } from 'zrender/lib/core/vector.js';\nexport var cartesian2DDimensions = ['x', 'y'];\n\nfunction canCalculateAffineTransform(scale) {\n  return scale.type === 'interval' || scale.type === 'time';\n}\n\nvar Cartesian2D =\n/** @class */\nfunction (_super) {\n  __extends(Cartesian2D, _super);\n\n  function Cartesian2D() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'cartesian2d';\n    _this.dimensions = cartesian2DDimensions;\n    return _this;\n  }\n  /**\n   * Calculate an affine transform matrix if two axes are time or value.\n   * It's mainly for accelartion on the large time series data.\n   */\n\n\n  Cartesian2D.prototype.calcAffineTransform = function () {\n    this._transform = this._invTransform = null;\n    var xAxisScale = this.getAxis('x').scale;\n    var yAxisScale = this.getAxis('y').scale;\n\n    if (!canCalculateAffineTransform(xAxisScale) || !canCalculateAffineTransform(yAxisScale)) {\n      return;\n    }\n\n    var xScaleExtent = xAxisScale.getExtent();\n    var yScaleExtent = yAxisScale.getExtent();\n    var start = this.dataToPoint([xScaleExtent[0], yScaleExtent[0]]);\n    var end = this.dataToPoint([xScaleExtent[1], yScaleExtent[1]]);\n    var xScaleSpan = xScaleExtent[1] - xScaleExtent[0];\n    var yScaleSpan = yScaleExtent[1] - yScaleExtent[0];\n\n    if (!xScaleSpan || !yScaleSpan) {\n      return;\n    } // Accelerate data to point calculation on the special large time series data.\n\n\n    var scaleX = (end[0] - start[0]) / xScaleSpan;\n    var scaleY = (end[1] - start[1]) / yScaleSpan;\n    var translateX = start[0] - xScaleExtent[0] * scaleX;\n    var translateY = start[1] - yScaleExtent[0] * scaleY;\n    var m = this._transform = [scaleX, 0, 0, scaleY, translateX, translateY];\n    this._invTransform = invert([], m);\n  };\n  /**\n   * Base axis will be used on stacking.\n   */\n\n\n  Cartesian2D.prototype.getBaseAxis = function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n  };\n\n  Cartesian2D.prototype.containPoint = function (point) {\n    var axisX = this.getAxis('x');\n    var axisY = this.getAxis('y');\n    return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n  };\n\n  Cartesian2D.prototype.containData = function (data) {\n    return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n  };\n\n  Cartesian2D.prototype.containZone = function (data1, data2) {\n    var zoneDiag1 = this.dataToPoint(data1);\n    var zoneDiag2 = this.dataToPoint(data2);\n    var area = this.getArea();\n    var zone = new BoundingRect(zoneDiag1[0], zoneDiag1[1], zoneDiag2[0] - zoneDiag1[0], zoneDiag2[1] - zoneDiag1[1]);\n    return area.intersect(zone);\n  };\n\n  Cartesian2D.prototype.dataToPoint = function (data, clamp, out) {\n    out = out || [];\n    var xVal = data[0];\n    var yVal = data[1]; // Fast path\n\n    if (this._transform // It's supported that if data is like `[Inifity, 123]`, where only Y pixel calculated.\n    && xVal != null && isFinite(xVal) && yVal != null && isFinite(yVal)) {\n      return applyTransform(out, data, this._transform);\n    }\n\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(xVal, clamp));\n    out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(yVal, clamp));\n    return out;\n  };\n\n  Cartesian2D.prototype.clampData = function (data, out) {\n    var xScale = this.getAxis('x').scale;\n    var yScale = this.getAxis('y').scale;\n    var xAxisExtent = xScale.getExtent();\n    var yAxisExtent = yScale.getExtent();\n    var x = xScale.parse(data[0]);\n    var y = yScale.parse(data[1]);\n    out = out || [];\n    out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\n    out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\n    return out;\n  };\n\n  Cartesian2D.prototype.pointToData = function (point, clamp) {\n    var out = [];\n\n    if (this._invTransform) {\n      return applyTransform(out, point, this._invTransform);\n    }\n\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]), clamp);\n    out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]), clamp);\n    return out;\n  };\n\n  Cartesian2D.prototype.getOtherAxis = function (axis) {\n    return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n  };\n  /**\n   * Get rect area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   */\n\n\n  Cartesian2D.prototype.getArea = function () {\n    var xExtent = this.getAxis('x').getGlobalExtent();\n    var yExtent = this.getAxis('y').getGlobalExtent();\n    var x = Math.min(xExtent[0], xExtent[1]);\n    var y = Math.min(yExtent[0], yExtent[1]);\n    var width = Math.max(xExtent[0], xExtent[1]) - x;\n    var height = Math.max(yExtent[0], yExtent[1]) - y;\n    return new BoundingRect(x, y, width, height);\n  };\n\n  return Cartesian2D;\n}(Cartesian);\n\n;\nexport default Cartesian2D;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\n\nvar Axis2D =\n/** @class */\nfunction (_super) {\n  __extends(Axis2D, _super);\n\n  function Axis2D(dim, scale, coordExtent, axisType, position) {\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\n    /**\n     * Index of axis, can be used as key\n     * Injected outside.\n     */\n\n\n    _this.index = 0;\n    _this.type = axisType || 'value';\n    _this.position = position || 'bottom';\n    return _this;\n  }\n\n  Axis2D.prototype.isHorizontal = function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  };\n  /**\n   * Each item cooresponds to this.getExtent(), which\n   * means globalExtent[0] may greater than globalExtent[1],\n   * unless `asc` is input.\n   *\n   * @param {boolean} [asc]\n   * @return {Array.<number>}\n   */\n\n\n  Axis2D.prototype.getGlobalExtent = function (asc) {\n    var ret = this.getExtent();\n    ret[0] = this.toGlobalCoord(ret[0]);\n    ret[1] = this.toGlobalCoord(ret[1]);\n    asc && ret[0] > ret[1] && ret.reverse();\n    return ret;\n  };\n\n  Axis2D.prototype.pointToData = function (point, clamp) {\n    return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n  };\n  /**\n   * Set ordinalSortInfo\n   * @param info new OrdinalSortInfo\n   */\n\n\n  Axis2D.prototype.setCategorySortInfo = function (info) {\n    if (this.type !== 'category') {\n      return false;\n    }\n\n    this.model.option.categorySortInfo = info;\n    this.scale.setSortInfo(info);\n  };\n\n  return Axis2D;\n}(Axis);\n\nexport default Axis2D;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Grid is a region which contains at most 4 cartesian systems\n *\n * TODO Default cartesian\n */\nimport { isObject, each, indexOf, retrieve3, keys } from 'zrender/lib/core/util.js';\nimport { getLayoutRect } from '../../util/layout.js';\nimport { createScaleByModel, ifAxisCrossZero, niceScaleExtent, estimateLabelUnionRect, getDataDimensionsOnAxis } from '../../coord/axisHelper.js';\nimport Cartesian2D, { cartesian2DDimensions } from './Cartesian2D.js';\nimport Axis2D from './Axis2D.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nimport { isCartesian2DSeries, findAxisModels } from './cartesianAxisHelper.js';\nimport { isIntervalOrLogScale } from '../../scale/helper.js';\nimport { alignScaleTicks } from '../axisAlignTicks.js';\n\nvar Grid =\n/** @class */\nfunction () {\n  function Grid(gridModel, ecModel, api) {\n    // FIXME:TS where used (different from registered type 'cartesian2d')?\n    this.type = 'grid';\n    this._coordsMap = {};\n    this._coordsList = [];\n    this._axesMap = {};\n    this._axesList = [];\n    this.axisPointerEnabled = true;\n    this.dimensions = cartesian2DDimensions;\n\n    this._initCartesian(gridModel, ecModel, api);\n\n    this.model = gridModel;\n  }\n\n  Grid.prototype.getRect = function () {\n    return this._rect;\n  };\n\n  Grid.prototype.update = function (ecModel, api) {\n    var axesMap = this._axesMap;\n\n    this._updateScale(ecModel, this.model);\n\n    function updateAxisTicks(axes) {\n      var alignTo; // Axis is added in order of axisIndex.\n\n      var axesIndices = keys(axes);\n      var len = axesIndices.length;\n\n      if (!len) {\n        return;\n      }\n\n      var axisNeedsAlign = []; // Process once and calculate the ticks for those don't use alignTicks.\n\n      for (var i = len - 1; i >= 0; i--) {\n        var idx = +axesIndices[i]; // Convert to number.\n\n        var axis = axes[idx];\n        var model = axis.model;\n        var scale = axis.scale;\n\n        if ( // Only value and log axis without interval support alignTicks.\n        isIntervalOrLogScale(scale) && model.get('alignTicks') && model.get('interval') == null) {\n          axisNeedsAlign.push(axis);\n        } else {\n          niceScaleExtent(scale, model);\n\n          if (isIntervalOrLogScale(scale)) {\n            // Can only align to interval or log axis.\n            alignTo = axis;\n          }\n        }\n      }\n\n      ; // All axes has set alignTicks. Pick the first one.\n      // PENDING. Should we find the axis that both set interval, min, max and align to this one?\n\n      if (axisNeedsAlign.length) {\n        if (!alignTo) {\n          alignTo = axisNeedsAlign.pop();\n          niceScaleExtent(alignTo.scale, alignTo.model);\n        }\n\n        each(axisNeedsAlign, function (axis) {\n          alignScaleTicks(axis.scale, axis.model, alignTo.scale);\n        });\n      }\n    }\n\n    updateAxisTicks(axesMap.x);\n    updateAxisTicks(axesMap.y); // Key: axisDim_axisIndex, value: boolean, whether onZero target.\n\n    var onZeroRecords = {};\n    each(axesMap.x, function (xAxis) {\n      fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\n    });\n    each(axesMap.y, function (yAxis) {\n      fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\n    }); // Resize again if containLabel is enabled\n    // FIXME It may cause getting wrong grid size in data processing stage\n\n    this.resize(this.model, api);\n  };\n  /**\n   * Resize the grid\n   */\n\n\n  Grid.prototype.resize = function (gridModel, api, ignoreContainLabel) {\n    var boxLayoutParams = gridModel.getBoxLayoutParams();\n    var isContainLabel = !ignoreContainLabel && gridModel.get('containLabel');\n    var gridRect = getLayoutRect(boxLayoutParams, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    this._rect = gridRect;\n    var axesList = this._axesList;\n    adjustAxes(); // Minus label size\n\n    if (isContainLabel) {\n      each(axesList, function (axis) {\n        if (!axis.model.get(['axisLabel', 'inside'])) {\n          var labelUnionRect = estimateLabelUnionRect(axis);\n\n          if (labelUnionRect) {\n            var dim = axis.isHorizontal() ? 'height' : 'width';\n            var margin = axis.model.get(['axisLabel', 'margin']);\n            gridRect[dim] -= labelUnionRect[dim] + margin;\n\n            if (axis.position === 'top') {\n              gridRect.y += labelUnionRect.height + margin;\n            } else if (axis.position === 'left') {\n              gridRect.x += labelUnionRect.width + margin;\n            }\n          }\n        }\n      });\n      adjustAxes();\n    }\n\n    each(this._coordsList, function (coord) {\n      // Calculate affine matrix to accelerate the data to point transform.\n      // If all the axes scales are time or value.\n      coord.calcAffineTransform();\n    });\n\n    function adjustAxes() {\n      each(axesList, function (axis) {\n        var isHorizontal = axis.isHorizontal();\n        var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n        var idx = axis.inverse ? 1 : 0;\n        axis.setExtent(extent[idx], extent[1 - idx]);\n        updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);\n      });\n    }\n  };\n\n  Grid.prototype.getAxis = function (dim, axisIndex) {\n    var axesMapOnDim = this._axesMap[dim];\n\n    if (axesMapOnDim != null) {\n      return axesMapOnDim[axisIndex || 0];\n    }\n  };\n\n  Grid.prototype.getAxes = function () {\n    return this._axesList.slice();\n  };\n\n  Grid.prototype.getCartesian = function (xAxisIndex, yAxisIndex) {\n    if (xAxisIndex != null && yAxisIndex != null) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      return this._coordsMap[key];\n    }\n\n    if (isObject(xAxisIndex)) {\n      yAxisIndex = xAxisIndex.yAxisIndex;\n      xAxisIndex = xAxisIndex.xAxisIndex;\n    }\n\n    for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n      if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n        return coordList[i];\n      }\n    }\n  };\n\n  Grid.prototype.getCartesians = function () {\n    return this._coordsList.slice();\n  };\n  /**\n   * @implements\n   */\n\n\n  Grid.prototype.convertToPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(finder);\n\n    return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n  };\n  /**\n   * @implements\n   */\n\n\n  Grid.prototype.convertFromPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(finder);\n\n    return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n  };\n\n  Grid.prototype._findConvertTarget = function (finder) {\n    var seriesModel = finder.seriesModel;\n    var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis', SINGLE_REFERRING).models[0];\n    var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis', SINGLE_REFERRING).models[0];\n    var gridModel = finder.gridModel;\n    var coordsList = this._coordsList;\n    var cartesian;\n    var axis;\n\n    if (seriesModel) {\n      cartesian = seriesModel.coordinateSystem;\n      indexOf(coordsList, cartesian) < 0 && (cartesian = null);\n    } else if (xAxisModel && yAxisModel) {\n      cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    } else if (xAxisModel) {\n      axis = this.getAxis('x', xAxisModel.componentIndex);\n    } else if (yAxisModel) {\n      axis = this.getAxis('y', yAxisModel.componentIndex);\n    } // Lowest priority.\n    else if (gridModel) {\n        var grid = gridModel.coordinateSystem;\n\n        if (grid === this) {\n          cartesian = this._coordsList[0];\n        }\n      }\n\n    return {\n      cartesian: cartesian,\n      axis: axis\n    };\n  };\n  /**\n   * @implements\n   */\n\n\n  Grid.prototype.containPoint = function (point) {\n    var coord = this._coordsList[0];\n\n    if (coord) {\n      return coord.containPoint(point);\n    }\n  };\n  /**\n   * Initialize cartesian coordinate systems\n   */\n\n\n  Grid.prototype._initCartesian = function (gridModel, ecModel, api) {\n    var _this = this;\n\n    var grid = this;\n    var axisPositionUsed = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n    var axesMap = {\n      x: {},\n      y: {}\n    };\n    var axesCount = {\n      x: 0,\n      y: 0\n    }; // Create axis\n\n    ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n    ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n\n    if (!axesCount.x || !axesCount.y) {\n      // Roll back when there no either x or y axis\n      this._axesMap = {};\n      this._axesList = [];\n      return;\n    }\n\n    this._axesMap = axesMap; // Create cartesian2d\n\n    each(axesMap.x, function (xAxis, xAxisIndex) {\n      each(axesMap.y, function (yAxis, yAxisIndex) {\n        var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n        var cartesian = new Cartesian2D(key);\n        cartesian.master = _this;\n        cartesian.model = gridModel;\n        _this._coordsMap[key] = cartesian;\n\n        _this._coordsList.push(cartesian);\n\n        cartesian.addAxis(xAxis);\n        cartesian.addAxis(yAxis);\n      });\n    });\n\n    function createAxisCreator(dimName) {\n      return function (axisModel, idx) {\n        if (!isAxisUsedInTheGrid(axisModel, gridModel)) {\n          return;\n        }\n\n        var axisPosition = axisModel.get('position');\n\n        if (dimName === 'x') {\n          // Fix position\n          if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n            // Default bottom of X\n            axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\n          }\n        } else {\n          // Fix position\n          if (axisPosition !== 'left' && axisPosition !== 'right') {\n            // Default left of Y\n            axisPosition = axisPositionUsed.left ? 'right' : 'left';\n          }\n        }\n\n        axisPositionUsed[axisPosition] = true;\n        var axis = new Axis2D(dimName, createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n        var isCategory = axis.type === 'category';\n        axis.onBand = isCategory && axisModel.get('boundaryGap');\n        axis.inverse = axisModel.get('inverse'); // Inject axis into axisModel\n\n        axisModel.axis = axis; // Inject axisModel into axis\n\n        axis.model = axisModel; // Inject grid info axis\n\n        axis.grid = grid; // Index of axis, can be used as key\n\n        axis.index = idx;\n\n        grid._axesList.push(axis);\n\n        axesMap[dimName][idx] = axis;\n        axesCount[dimName]++;\n      };\n    }\n  };\n  /**\n   * Update cartesian properties from series.\n   */\n\n\n  Grid.prototype._updateScale = function (ecModel, gridModel) {\n    // Reset scale\n    each(this._axesList, function (axis) {\n      axis.scale.setExtent(Infinity, -Infinity);\n\n      if (axis.type === 'category') {\n        var categorySortInfo = axis.model.get('categorySortInfo');\n        axis.scale.setSortInfo(categorySortInfo);\n      }\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      if (isCartesian2DSeries(seriesModel)) {\n        var axesModelMap = findAxisModels(seriesModel);\n        var xAxisModel = axesModelMap.xAxisModel;\n        var yAxisModel = axesModelMap.yAxisModel;\n\n        if (!isAxisUsedInTheGrid(xAxisModel, gridModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel)) {\n          return;\n        }\n\n        var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n        var data = seriesModel.getData();\n        var xAxis = cartesian.getAxis('x');\n        var yAxis = cartesian.getAxis('y');\n        unionExtent(data, xAxis);\n        unionExtent(data, yAxis);\n      }\n    }, this);\n\n    function unionExtent(data, axis) {\n      each(getDataDimensionsOnAxis(data, axis.dim), function (dim) {\n        axis.scale.unionExtentFromData(data, dim);\n      });\n    }\n  };\n  /**\n   * @param dim 'x' or 'y' or 'auto' or null/undefined\n   */\n\n\n  Grid.prototype.getTooltipAxes = function (dim) {\n    var baseAxes = [];\n    var otherAxes = [];\n    each(this.getCartesians(), function (cartesian) {\n      var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n      var otherAxis = cartesian.getOtherAxis(baseAxis);\n      indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n      indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n    });\n    return {\n      baseAxes: baseAxes,\n      otherAxes: otherAxes\n    };\n  };\n\n  Grid.create = function (ecModel, api) {\n    var grids = [];\n    ecModel.eachComponent('grid', function (gridModel, idx) {\n      var grid = new Grid(gridModel, ecModel, api);\n      grid.name = 'grid_' + idx; // dataSampling requires axis extent, so resize\n      // should be performed in create stage.\n\n      grid.resize(gridModel, api, true);\n      gridModel.coordinateSystem = grid;\n      grids.push(grid);\n    }); // Inject the coordinateSystems into seriesModel\n\n    ecModel.eachSeries(function (seriesModel) {\n      if (!isCartesian2DSeries(seriesModel)) {\n        return;\n      }\n\n      var axesModelMap = findAxisModels(seriesModel);\n      var xAxisModel = axesModelMap.xAxisModel;\n      var yAxisModel = axesModelMap.yAxisModel;\n      var gridModel = xAxisModel.getCoordSysModel();\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (!gridModel) {\n          throw new Error('Grid \"' + retrieve3(xAxisModel.get('gridIndex'), xAxisModel.get('gridId'), 0) + '\" not found');\n        }\n\n        if (xAxisModel.getCoordSysModel() !== yAxisModel.getCoordSysModel()) {\n          throw new Error('xAxis and yAxis must use the same grid');\n        }\n      }\n\n      var grid = gridModel.coordinateSystem;\n      seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    });\n    return grids;\n  }; // For deciding which dimensions to use when creating list data\n\n\n  Grid.dimensions = cartesian2DDimensions;\n  return Grid;\n}();\n/**\n * Check if the axis is used in the specified grid.\n */\n\n\nfunction isAxisUsedInTheGrid(axisModel, gridModel) {\n  return axisModel.getCoordSysModel() === gridModel;\n}\n\nfunction fixAxisOnZero(axesMap, otherAxisDim, axis, // Key: see `getOnZeroRecordKey`\nonZeroRecords) {\n  axis.getAxesOnZeroOf = function () {\n    // TODO: onZero of multiple axes.\n    return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\n  }; // onZero can not be enabled in these two situations:\n  // 1. When any other axis is a category axis.\n  // 2. When no axis is cross 0 point.\n\n\n  var otherAxes = axesMap[otherAxisDim];\n  var otherAxisOnZeroOf;\n  var axisModel = axis.model;\n  var onZero = axisModel.get(['axisLine', 'onZero']);\n  var onZeroAxisIndex = axisModel.get(['axisLine', 'onZeroAxisIndex']);\n\n  if (!onZero) {\n    return;\n  } // If target axis is specified.\n\n\n  if (onZeroAxisIndex != null) {\n    if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\n      otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\n    }\n  } else {\n    // Find the first available other axis.\n    for (var idx in otherAxes) {\n      if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx]) // Consider that two Y axes on one value axis,\n      // if both onZero, the two Y axes overlap.\n      && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\n        otherAxisOnZeroOf = otherAxes[idx];\n        break;\n      }\n    }\n  }\n\n  if (otherAxisOnZeroOf) {\n    onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\n  }\n\n  function getOnZeroRecordKey(axis) {\n    return axis.dim + '_' + axis.index;\n  }\n}\n\nfunction canOnZeroToAxis(axis) {\n  return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero(axis);\n}\n\nfunction updateAxisTransform(axis, coordBase) {\n  var axisExtent = axis.getExtent();\n  var axisExtentSum = axisExtent[0] + axisExtent[1]; // Fast transform\n\n  axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n    return coord + coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n  axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n    return coord - coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n}\n\nexport default Grid;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\n\nvar GridModel =\n/** @class */\nfunction (_super) {\n  __extends(GridModel, _super);\n\n  function GridModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GridModel.type = 'grid';\n  GridModel.dependencies = ['xAxis', 'yAxis'];\n  GridModel.layoutMode = 'box';\n  GridModel.defaultOption = {\n    show: false,\n    // zlevel: 0,\n    z: 0,\n    left: '10%',\n    top: 60,\n    right: '10%',\n    bottom: 70,\n    // If grid size contain label\n    containLabel: false,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderWidth: 1,\n    borderColor: '#ccc'\n  };\n  return GridModel;\n}(ComponentModel);\n\nexport default GridModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\n/**\n * Can only be called after coordinate system creation stage.\n * (Can be called before coordinate system update stage).\n */\n\nexport function layout(gridModel, axisModel, opt) {\n  opt = opt || {};\n  var grid = gridModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];\n  var rawAxisPosition = axis.position;\n  var axisPosition = otherAxisOnZeroOf ? 'onZero' : rawAxisPosition;\n  var axisDim = axis.dim;\n  var rect = grid.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var idx = {\n    left: 0,\n    right: 1,\n    top: 0,\n    bottom: 1,\n    onZero: 2\n  };\n  var axisOffset = axisModel.get('offset') || 0;\n  var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n\n  if (otherAxisOnZeroOf) {\n    var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));\n    posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n  } // Axis position\n\n\n  layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]]; // Axis rotation\n\n  layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1); // Tick and label direction, x y is axisDim\n\n  var dirMap = {\n    top: -1,\n    bottom: 1,\n    left: -1,\n    right: 1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n  layout.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;\n\n  if (axisModel.get(['axisTick', 'inside'])) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get(['axisLabel', 'inside']))) {\n    layout.labelDirection = -layout.labelDirection;\n  } // Special label rotation\n\n\n  var labelRotate = axisModel.get(['axisLabel', 'rotate']);\n  layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate; // Over splitLine and splitArea\n\n  layout.z2 = 1;\n  return layout;\n}\nexport function isCartesian2DSeries(seriesModel) {\n  return seriesModel.get('coordinateSystem') === 'cartesian2d';\n}\nexport function findAxisModels(seriesModel) {\n  var axisModelMap = {\n    xAxisModel: null,\n    yAxisModel: null\n  };\n  zrUtil.each(axisModelMap, function (v, key) {\n    var axisType = key.replace(/Model$/, '');\n    var axisModel = seriesModel.getReferringComponents(axisType, SINGLE_REFERRING).models[0];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!axisModel) {\n        throw new Error(axisType + ' \"' + zrUtil.retrieve3(seriesModel.get(axisType + 'Index'), seriesModel.get(axisType + 'Id'), 0) + '\" not found');\n      }\n    }\n\n    axisModelMap[key] = axisModel;\n  });\n  return axisModelMap;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map(['x', 'y'], function (dim, dimIdx) {\n    var axis = this.getAxis(dim);\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n  }, this);\n}\n\nexport default function cartesianPrepareCustom(coordSys) {\n  var rect = coordSys.master.getRect();\n  return {\n    coordSys: {\n      // The name exposed to user is always 'cartesian2d' but not 'grid'.\n      type: 'cartesian2d',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: function (data) {\n        // do not provide \"out\" param\n        return coordSys.dataToPoint(data);\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}"],"names":["inner","makeInner","createAxisLabels","axis","type","makeCategoryLabels","makeRealNumberLabels","createAxisTicks","tickModel","makeCategoryTicks","ticks","zrUtil","scale","getTicks","tick","value","labelModel","getLabelModel","result","makeCategoryLabelsActually","get","isBlank","labels","labelCategoryInterval","numericLabelInterval","labelsCache","getListCache","optionLabelInterval","getOptionCategoryInterval","listCacheGet","makeLabelsByCustomizedCategoryInterval","makeAutoCategoryInterval","makeLabelsByNumericCategoryInterval","listCacheSet","tickCategoryInterval","ticksCache","optionTickInterval","labelsResult","labelItem","tickValue","labelFormatter","makeLabelFormatter","idx","level","formattedLabel","rawLabel","getLabel","prop","cache","key","i","length","push","autoInterval","calculateCategoryInterval","params","fetchAutoCategoryIntervalCalculationParams","rotation","axisRotate","labelRotate","Math","PI","ordinalScale","ordinalExtent","getExtent","tickCount","count","step","max","floor","unitSpan","dataToCoord","unitW","abs","cos","unitH","sin","maxW","maxH","width","height","rect","textContain","font","dw","dh","isNaN","Infinity","interval","min","model","axisExtent","lastAutoInterval","lastTickCount","axisExtent0","axisExtent1","getRotate","isHorizontal","getFont","categoryInterval","onlyTick","startTick","round","ceil","showAllLabel","shouldShowAllLabels","includeMinLabel","includeMaxLabel","addItem","tickObj","NORMALIZED_EXTENT","Axis","dim","extent","this","onBand","inverse","_extent","prototype","contain","coord","containData","data","slice","getPixelPrecision","dataExtent","setExtent","start","end","clamp","normalize","fixExtentWithBands","linearMap","coordToData","t","pointToData","point","getTicksCoords","opt","getTickModel","ticksCoords","map","tickVal","getRawOrdinalNumber","alignWithLabel","fixOnBandTicksCoords","getMinorTicksCoords","minorTickModel","getModel","splitNumber","minorTicks","getMinorTicks","minorTicksCoords","minorTicksGroup","minorTick","getViewLabels","getBandWidth","len","size","nTick","margin","ticksLen","last","diffSize","crossLen","shift_1","each","ticksItem","littleThan","shift","unshift","pop","a","b","isCoordinateSystemType","coordSys","v2ApplyTransform","vector","View","_super","name","_this","call","dimensions","_roamTransformable","Transformable","_rawTransformable","__extends","setBoundingRect","x","y","_rect","BoundingRect","getBoundingRect","setViewRect","_transformTo","_viewRect","rawTransform","transform","calculateTransform","rawParent","parent","decomposeTransform","_updateTransform","setCenter","centerCoord","api","_center","parsePercent","getWidth","getHeight","_updateCenterAndZoom","setZoom","zoom","zoomLimit","_zoom","getDefaultCenter","rawRect","cx","cy","getCenter","getZoom","getRoamTransform","getLocalTransform","rawTransformMatrix","roamTransform","defaultCenter","center","originX","originY","scaleX","scaleY","roamTransformable","rawTransformable","updateTransform","matrix","_rawTransform","invTransform","getTransformInfo","dummyTransformable","roam","raw","getViewRect","getViewRectAfterRoam","clone","applyTransform","dataToPoint","noRoam","out","convertToPixel","ecModel","finder","getCoordSys","convertFromPixel","pixel","containPoint","seriesModel","coordinateSystem","mathLog","log","alignScaleTicks","axisModel","alignToScale","intervalScaleProto","IntervalScale","alignToTicks","alignToNicedTicks","alignToSplitNumber","alignToInterval","getInterval","scaleExtent","getScaleExtent","rawExtent","isMinFixed","fixMin","isMaxFixed","fixMax","logBase","base","calcNiceExtent","isFinite","increaseInterval","nicedSplitNumber","range","t0","t1","setInterval","setNiceExtent","defaultOption","show","z","nameLocation","nameRotate","nameTruncate","maxWidth","ellipsis","placeholder","nameTextStyle","nameGap","silent","triggerEvent","tooltip","axisPointer","axisLine","onZero","onZeroAxisIndex","lineStyle","color","symbol","symbolSize","axisTick","inside","axisLabel","rotate","showMinLabel","showMaxLabel","fontSize","splitLine","splitArea","areaStyle","categoryAxis","boundaryGap","deduplication","valueAxis","minorSplitLine","timeAxis","rich","primary","fontWeight","logAxis","category","time","scaleType","rawExtentResult","ensureScaleRawExtentInfo","calculate","setBlank","barSeriesModels","prepareLayoutBarSeries","isBaseAxisAndHasBarSeries_1","getBaseAxis","barWidthAndOffset","makeColumnLayout","adjustedScale","adjustScaleForOverflow","minFixed","maxFixed","axisLength","barsOnCurrentAxis","retrieveColumnLayout","undefined","minOverflow","item","offset","maxOverflow","totalOverFlow","oldRange","oldRangePercentOfNew","overflowBuffer","niceScaleExtent","inModel","extentInfo","LogScale","isIntervalOrTime","minInterval","maxInterval","createScaleByModel","axisType","OrdinalScale","ordinalMeta","getOrdinalMeta","getCategories","TimeScale","locale","getLocaleModel","useUTC","Scale","ifAxisCrossZero","categoryTickStart","tpl","getFormattedLabel","label","text","replace","cb","getAxisRawValue","estimateLabelUnionRect","realNumberScaleTicks","categoryScaleExtent","axisLabelModel","unrotatedSingleRect","getTextRect","singleRect","rotateTextRect","union","textRect","rotateRadians","beforeWidth","beforeHeight","afterWidth","afterHeight","rotatedRect","getDataDimensionsOnAxis","axisDim","dataDimMap","mapDimensionsAll","dataDim","getStackedDimension","unionAxisExtentFromData","seriesExtent","getApproximateExtent","AxisModelCommonMixin","getNeedCrossZero","option","getCoordSysModel","AXIS_TYPES","axisModelCreator","registers","axisName","BaseAxisModelClass","extraDefaultOption","v","merge","axisDefault","AxisModel","apply","arguments","mergeDefaultAndTheme","layoutMode","fetchLayoutMode","inputPositionParams","getLayoutParams","themeModel","getTheme","getDefaultOption","getAxisType","mergeLayoutParam","optionUpdated","thisOption","__ordinalMeta","OrdinalMeta","rawData","categories","registerComponentModel","registerSubTypeDefaulter","PROXIMATE_ONE_DAY","Calendar","calendarModel","getDimensionsInfo","_model","getRangeInfo","_rangeInfo","getRect","getCellWidth","_sw","getCellHeight","_sh","getOrient","_orient","getFirstDayOfWeek","_firstDayOfWeek","getDateInfo","date","numberUtil","getFullYear","m","getMonth","mStr","d","getDate","dStr","day","getDay","getTime","formatedDate","getNextNDay","n","Date","setDate","update","_lineWidth","getItemStyle","lineWidth","_getRangeInfo","_initRangeOption","weeks","whNames","cellSize","getCellSize","layoutParams","getBoxLayoutParams","cellNumbers","cellSizeSpecified","whGlobal","calendarRect","layout","dayInfo","NaN","week","nthWeek","pointToDate","dataToRect","contentShape","tl","tr","br","bl","nthX","nthY","_getDateByWeeksAndDay","console","warn","normalizedRange","rangeStr","toString","test","firstDay","setMonth","tmp","reverse","reversed","parsedRange","allDay","startDateNum","endDateNum","dateNum","sign","fweek","lweek","rangeInfo","nthDay","create","calendarList","eachComponent","calendar","eachSeries","calendarSeries","CalendarModel","init","parentModel","mergeAndNormalizeLayoutParams","mergeOption","left","top","orient","itemStyle","borderWidth","borderColor","dayLabel","position","monthLabel","align","formatter","yearLabel","fontFamily","ComponentModel","target","cellSizeArr","ignoreSize","hvIdx","sizeCalculable","calendarPrepareCustom","cellWidth","cellHeight","dayCount","CartesianAxisModel","getReferringComponents","SINGLE_REFERRING","models","Cartesian","_dimList","_axes","getAxis","getAxes","getAxesByScale","toLowerCase","addAxis","cartesian2DDimensions","canCalculateAffineTransform","Cartesian2D","calcAffineTransform","_transform","_invTransform","xAxisScale","yAxisScale","xScaleExtent","yScaleExtent","xScaleSpan","yScaleSpan","translateX","translateY","invert","axisX","axisY","toLocalCoord","containZone","data1","data2","zoneDiag1","zoneDiag2","area","getArea","zone","intersect","xVal","yVal","xAxis","yAxis","toGlobalCoord","clampData","xScale","yScale","xAxisExtent","yAxisExtent","parse","getOtherAxis","xExtent","getGlobalExtent","yExtent","Axis2D","coordExtent","index","asc","ret","setCategorySortInfo","info","categorySortInfo","setSortInfo","Grid","gridModel","_coordsMap","_coordsList","_axesMap","_axesList","axisPointerEnabled","_initCartesian","axesMap","updateAxisTicks","axes","alignTo","axesIndices","keys","axisNeedsAlign","isIntervalOrLogScale","_updateScale","onZeroRecords","fixAxisOnZero","resize","ignoreContainLabel","boxLayoutParams","isContainLabel","gridRect","getLayoutRect","axesList","adjustAxes","updateAxisTransform","labelUnionRect","axisIndex","axesMapOnDim","getCartesian","xAxisIndex","yAxisIndex","isObject","coordList","getCartesians","_findConvertTarget","cartesian","xAxisModel","yAxisModel","coordsList","indexOf","componentIndex","grid","axisPositionUsed","right","bottom","axesCount","createAxisCreator","dimName","isAxisUsedInTheGrid","axisPosition","isCategory","master","unionExtent","unionExtentFromData","isCartesian2DSeries","axesModelMap","findAxisModels","getData","getTooltipAxes","baseAxes","otherAxes","baseAxis","otherAxis","grids","process","otherAxisDim","getAxesOnZeroOf","otherAxisOnZeroOf","canOnZeroToAxis","hasOwnProperty","getOnZeroRecordKey","coordBase","axisExtentSum","GridModel","dependencies","containLabel","backgroundColor","rawAxisPosition","rectBound","axisOffset","posBound","onZeroCoord","dirMap","labelDirection","tickDirection","nameDirection","labelOffset","labelInside","z2","axisModelMap","dataToCoordSize","dataSize","dataItem","dimIdx","val","halfSize","cartesianPrepareCustom"],"sourceRoot":""}