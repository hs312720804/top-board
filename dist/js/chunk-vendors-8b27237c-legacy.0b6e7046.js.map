{"version":3,"file":"js/chunk-vendors-8b27237c-legacy.0b6e7046.js","mappings":"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","sources":["webpack://databoard/./node_modules/echarts/lib/component/toolbox/featureManager.js","webpack://databoard/./node_modules/echarts/lib/component/toolbox/feature/Brush.js","webpack://databoard/./node_modules/echarts/lib/component/toolbox/ToolboxModel.js","webpack://databoard/./node_modules/echarts/lib/component/toolbox/ToolboxView.js","webpack://databoard/./node_modules/echarts/lib/component/toolbox/feature/SaveAsImage.js","webpack://databoard/./node_modules/echarts/lib/component/toolbox/feature/MagicType.js","webpack://databoard/./node_modules/echarts/lib/component/toolbox/feature/DataView.js","webpack://databoard/./node_modules/echarts/lib/component/toolbox/feature/Restore.js","webpack://databoard/./node_modules/echarts/lib/component/toolbox/feature/DataZoom.js","webpack://databoard/./node_modules/echarts/lib/component/toolbox/install.js","webpack://databoard/./node_modules/echarts/lib/component/tooltip/TooltipModel.js","webpack://databoard/./node_modules/echarts/lib/component/tooltip/helper.js","webpack://databoard/./node_modules/echarts/lib/component/tooltip/TooltipHTMLContent.js","webpack://databoard/./node_modules/echarts/lib/component/tooltip/TooltipRichContent.js","webpack://databoard/./node_modules/echarts/lib/component/tooltip/TooltipView.js","webpack://databoard/./node_modules/echarts/lib/component/tooltip/install.js"],"sourcesContent":["/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nvar ToolboxFeature = /** @class */\nfunction () {\n  function ToolboxFeature() {}\n  return ToolboxFeature;\n}();\nexport { ToolboxFeature };\nvar features = {};\nexport function registerFeature(name, ctor) {\n  features[name] = ctor;\n}\nexport function getFeature(name) {\n  return features[name];\n}","import \"core-js/modules/es.array.slice.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { ToolboxFeature } from '../featureManager.js';\nvar ICON_TYPES = ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'];\nvar BrushFeature = /** @class */\nfunction (_super) {\n  __extends(BrushFeature, _super);\n  function BrushFeature() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  BrushFeature.prototype.render = function (featureModel, ecModel, api) {\n    var brushType;\n    var brushMode;\n    var isBrushed;\n    ecModel.eachComponent({\n      mainType: 'brush'\n    }, function (brushModel) {\n      brushType = brushModel.brushType;\n      brushMode = brushModel.brushOption.brushMode || 'single';\n      isBrushed = isBrushed || !!brushModel.areas.length;\n    });\n    this._brushType = brushType;\n    this._brushMode = brushMode;\n    zrUtil.each(featureModel.get('type', true), function (type) {\n      featureModel.setIconStatus(type, (type === 'keep' ? brushMode === 'multiple' : type === 'clear' ? isBrushed : type === brushType) ? 'emphasis' : 'normal');\n    });\n  };\n  BrushFeature.prototype.updateView = function (featureModel, ecModel, api) {\n    this.render(featureModel, ecModel, api);\n  };\n  BrushFeature.prototype.getIcons = function () {\n    var model = this.model;\n    var availableIcons = model.get('icon', true);\n    var icons = {};\n    zrUtil.each(model.get('type', true), function (type) {\n      if (availableIcons[type]) {\n        icons[type] = availableIcons[type];\n      }\n    });\n    return icons;\n  };\n  ;\n  BrushFeature.prototype.onclick = function (ecModel, api, type) {\n    var brushType = this._brushType;\n    var brushMode = this._brushMode;\n    if (type === 'clear') {\n      // Trigger parallel action firstly\n      api.dispatchAction({\n        type: 'axisAreaSelect',\n        intervals: []\n      });\n      api.dispatchAction({\n        type: 'brush',\n        command: 'clear',\n        // Clear all areas of all brush components.\n        areas: []\n      });\n    } else {\n      api.dispatchAction({\n        type: 'takeGlobalCursor',\n        key: 'brush',\n        brushOption: {\n          brushType: type === 'keep' ? brushType : brushType === type ? false : type,\n          brushMode: type === 'keep' ? brushMode === 'multiple' ? 'single' : 'multiple' : brushMode\n        }\n      });\n    }\n  };\n  ;\n  BrushFeature.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      type: ICON_TYPES.slice(),\n      icon: {\n        /* eslint-disable */\n        rect: 'M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13',\n        polygon: 'M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2',\n        lineX: 'M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4',\n        lineY: 'M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4',\n        keep: 'M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z',\n        clear: 'M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2' // jshint ignore:line\n\n        /* eslint-enable */\n      },\n\n      // `rect`, `polygon`, `lineX`, `lineY`, `keep`, `clear`\n      title: ecModel.getLocaleModel().get(['toolbox', 'brush', 'title'])\n    };\n    return defaultOption;\n  };\n  return BrushFeature;\n}(ToolboxFeature);\nexport default BrushFeature;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as featureManager from './featureManager.js';\nimport ComponentModel from '../../model/Component.js';\nvar ToolboxModel = /** @class */\nfunction (_super) {\n  __extends(ToolboxModel, _super);\n  function ToolboxModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ToolboxModel.type;\n    return _this;\n  }\n  ToolboxModel.prototype.optionUpdated = function () {\n    _super.prototype.optionUpdated.apply(this, arguments);\n    var ecModel = this.ecModel;\n    zrUtil.each(this.option.feature, function (featureOpt, featureName) {\n      var Feature = featureManager.getFeature(featureName);\n      if (Feature) {\n        if (Feature.getDefaultOption) {\n          Feature.defaultOption = Feature.getDefaultOption(ecModel);\n        }\n        zrUtil.merge(featureOpt, Feature.defaultOption);\n      }\n    });\n  };\n  ToolboxModel.type = 'toolbox';\n  ToolboxModel.layoutMode = {\n    type: 'box',\n    ignoreSize: true\n  };\n  ToolboxModel.defaultOption = {\n    show: true,\n    z: 6,\n    // zlevel: 0,\n    orient: 'horizontal',\n    left: 'right',\n    top: 'top',\n    // right\n    // bottom\n    backgroundColor: 'transparent',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemSize: 15,\n    itemGap: 8,\n    showTitle: true,\n    iconStyle: {\n      borderColor: '#666',\n      color: 'none'\n    },\n    emphasis: {\n      iconStyle: {\n        borderColor: '#3E98C5'\n      }\n    },\n    // textStyle: {},\n    // feature\n    tooltip: {\n      show: false,\n      position: 'bottom'\n    }\n  };\n  return ToolboxModel;\n}(ComponentModel);\nexport default ToolboxModel;","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.fill.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport * as graphic from '../../util/graphic.js';\nimport { enterEmphasis, leaveEmphasis } from '../../util/states.js';\nimport Model from '../../model/Model.js';\nimport DataDiffer from '../../data/DataDiffer.js';\nimport * as listComponentHelper from '../helper/listComponent.js';\nimport ComponentView from '../../view/Component.js';\nimport { ToolboxFeature, getFeature } from './featureManager.js';\nimport { getUID } from '../../util/component.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nvar ToolboxView = /** @class */\nfunction (_super) {\n  __extends(ToolboxView, _super);\n  function ToolboxView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ToolboxView.prototype.render = function (toolboxModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n    if (!toolboxModel.get('show')) {\n      return;\n    }\n    var itemSize = +toolboxModel.get('itemSize');\n    var isVertical = toolboxModel.get('orient') === 'vertical';\n    var featureOpts = toolboxModel.get('feature') || {};\n    var features = this._features || (this._features = {});\n    var featureNames = [];\n    zrUtil.each(featureOpts, function (opt, name) {\n      featureNames.push(name);\n    });\n    new DataDiffer(this._featureNames || [], featureNames).add(processFeature).update(processFeature).remove(zrUtil.curry(processFeature, null)).execute(); // Keep for diff.\n\n    this._featureNames = featureNames;\n    function processFeature(newIndex, oldIndex) {\n      var featureName = featureNames[newIndex];\n      var oldName = featureNames[oldIndex];\n      var featureOpt = featureOpts[featureName];\n      var featureModel = new Model(featureOpt, toolboxModel, toolboxModel.ecModel);\n      var feature; // FIX#11236, merge feature title from MagicType newOption. TODO: consider seriesIndex ?\n\n      if (payload && payload.newTitle != null && payload.featureName === featureName) {\n        featureOpt.title = payload.newTitle;\n      }\n      if (featureName && !oldName) {\n        // Create\n        if (isUserFeatureName(featureName)) {\n          feature = {\n            onclick: featureModel.option.onclick,\n            featureName: featureName\n          };\n        } else {\n          var Feature = getFeature(featureName);\n          if (!Feature) {\n            return;\n          }\n          feature = new Feature();\n        }\n        features[featureName] = feature;\n      } else {\n        feature = features[oldName]; // If feature does not exist.\n\n        if (!feature) {\n          return;\n        }\n      }\n      feature.uid = getUID('toolbox-feature');\n      feature.model = featureModel;\n      feature.ecModel = ecModel;\n      feature.api = api;\n      var isToolboxFeature = feature instanceof ToolboxFeature;\n      if (!featureName && oldName) {\n        isToolboxFeature && feature.dispose && feature.dispose(ecModel, api);\n        return;\n      }\n      if (!featureModel.get('show') || isToolboxFeature && feature.unusable) {\n        isToolboxFeature && feature.remove && feature.remove(ecModel, api);\n        return;\n      }\n      createIconPaths(featureModel, feature, featureName);\n      featureModel.setIconStatus = function (iconName, status) {\n        var option = this.option;\n        var iconPaths = this.iconPaths;\n        option.iconStatus = option.iconStatus || {};\n        option.iconStatus[iconName] = status;\n        if (iconPaths[iconName]) {\n          (status === 'emphasis' ? enterEmphasis : leaveEmphasis)(iconPaths[iconName]);\n        }\n      };\n      if (feature instanceof ToolboxFeature) {\n        if (feature.render) {\n          feature.render(featureModel, ecModel, api, payload);\n        }\n      }\n    }\n    function createIconPaths(featureModel, feature, featureName) {\n      var iconStyleModel = featureModel.getModel('iconStyle');\n      var iconStyleEmphasisModel = featureModel.getModel(['emphasis', 'iconStyle']); // If one feature has multiple icons, they are organized as\n      // {\n      //     icon: {\n      //         foo: '',\n      //         bar: ''\n      //     },\n      //     title: {\n      //         foo: '',\n      //         bar: ''\n      //     }\n      // }\n\n      var icons = feature instanceof ToolboxFeature && feature.getIcons ? feature.getIcons() : featureModel.get('icon');\n      var titles = featureModel.get('title') || {};\n      var iconsMap;\n      var titlesMap;\n      if (zrUtil.isString(icons)) {\n        iconsMap = {};\n        iconsMap[featureName] = icons;\n      } else {\n        iconsMap = icons;\n      }\n      if (zrUtil.isString(titles)) {\n        titlesMap = {};\n        titlesMap[featureName] = titles;\n      } else {\n        titlesMap = titles;\n      }\n      var iconPaths = featureModel.iconPaths = {};\n      zrUtil.each(iconsMap, function (iconStr, iconName) {\n        var path = graphic.createIcon(iconStr, {}, {\n          x: -itemSize / 2,\n          y: -itemSize / 2,\n          width: itemSize,\n          height: itemSize\n        }); // TODO handling image\n\n        path.setStyle(iconStyleModel.getItemStyle());\n        var pathEmphasisState = path.ensureState('emphasis');\n        pathEmphasisState.style = iconStyleEmphasisModel.getItemStyle(); // Text position calculation\n\n        var textContent = new ZRText({\n          style: {\n            text: titlesMap[iconName],\n            align: iconStyleEmphasisModel.get('textAlign'),\n            borderRadius: iconStyleEmphasisModel.get('textBorderRadius'),\n            padding: iconStyleEmphasisModel.get('textPadding'),\n            fill: null\n          },\n          ignore: true\n        });\n        path.setTextContent(textContent);\n        graphic.setTooltipConfig({\n          el: path,\n          componentModel: toolboxModel,\n          itemName: iconName,\n          formatterParamsExtra: {\n            title: titlesMap[iconName]\n          }\n        });\n        path.__title = titlesMap[iconName];\n        path.on('mouseover', function () {\n          // Should not reuse above hoverStyle, which might be modified.\n          var hoverStyle = iconStyleEmphasisModel.getItemStyle();\n          var defaultTextPosition = isVertical ? toolboxModel.get('right') == null && toolboxModel.get('left') !== 'right' ? 'right' : 'left' : toolboxModel.get('bottom') == null && toolboxModel.get('top') !== 'bottom' ? 'bottom' : 'top';\n          textContent.setStyle({\n            fill: iconStyleEmphasisModel.get('textFill') || hoverStyle.fill || hoverStyle.stroke || '#000',\n            backgroundColor: iconStyleEmphasisModel.get('textBackgroundColor')\n          });\n          path.setTextConfig({\n            position: iconStyleEmphasisModel.get('textPosition') || defaultTextPosition\n          });\n          textContent.ignore = !toolboxModel.get('showTitle'); // Use enterEmphasis and leaveEmphasis provide by ec.\n          // There are flags managed by the echarts.\n\n          api.enterEmphasis(this);\n        }).on('mouseout', function () {\n          if (featureModel.get(['iconStatus', iconName]) !== 'emphasis') {\n            api.leaveEmphasis(this);\n          }\n          textContent.hide();\n        });\n        (featureModel.get(['iconStatus', iconName]) === 'emphasis' ? enterEmphasis : leaveEmphasis)(path);\n        group.add(path);\n        path.on('click', zrUtil.bind(feature.onclick, feature, ecModel, api, iconName));\n        iconPaths[iconName] = path;\n      });\n    }\n    listComponentHelper.layout(group, toolboxModel, api); // Render background after group is layout\n    // FIXME\n\n    group.add(listComponentHelper.makeBackground(group.getBoundingRect(), toolboxModel)); // Adjust icon title positions to avoid them out of screen\n\n    isVertical || group.eachChild(function (icon) {\n      var titleText = icon.__title; // const hoverStyle = icon.hoverStyle;\n      // TODO simplify code?\n\n      var emphasisState = icon.ensureState('emphasis');\n      var emphasisTextConfig = emphasisState.textConfig || (emphasisState.textConfig = {});\n      var textContent = icon.getTextContent();\n      var emphasisTextState = textContent && textContent.ensureState('emphasis'); // May be background element\n\n      if (emphasisTextState && !zrUtil.isFunction(emphasisTextState) && titleText) {\n        var emphasisTextStyle = emphasisTextState.style || (emphasisTextState.style = {});\n        var rect = textContain.getBoundingRect(titleText, ZRText.makeFont(emphasisTextStyle));\n        var offsetX = icon.x + group.x;\n        var offsetY = icon.y + group.y + itemSize;\n        var needPutOnTop = false;\n        if (offsetY + rect.height > api.getHeight()) {\n          emphasisTextConfig.position = 'top';\n          needPutOnTop = true;\n        }\n        var topOffset = needPutOnTop ? -5 - rect.height : itemSize + 10;\n        if (offsetX + rect.width / 2 > api.getWidth()) {\n          emphasisTextConfig.position = ['100%', topOffset];\n          emphasisTextStyle.align = 'right';\n        } else if (offsetX - rect.width / 2 < 0) {\n          emphasisTextConfig.position = [0, topOffset];\n          emphasisTextStyle.align = 'left';\n        }\n      }\n    });\n  };\n  ToolboxView.prototype.updateView = function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature instanceof ToolboxFeature && feature.updateView && feature.updateView(feature.model, ecModel, api, payload);\n    });\n  }; // updateLayout(toolboxModel, ecModel, api, payload) {\n  //     zrUtil.each(this._features, function (feature) {\n  //         feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);\n  //     });\n  // },\n\n  ToolboxView.prototype.remove = function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature instanceof ToolboxFeature && feature.remove && feature.remove(ecModel, api);\n    });\n    this.group.removeAll();\n  };\n  ToolboxView.prototype.dispose = function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature instanceof ToolboxFeature && feature.dispose && feature.dispose(ecModel, api);\n    });\n  };\n  ToolboxView.type = 'toolbox';\n  return ToolboxView;\n}(ComponentView);\nfunction isUserFeatureName(featureName) {\n  return featureName.indexOf('my') === 0;\n}\nexport default ToolboxView;","import \"core-js/modules/web.atob.js\";\nimport \"core-js/modules/web.dom-exception.constructor.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport \"core-js/modules/web.dom-exception.to-string-tag.js\";\nimport \"core-js/modules/es.array-buffer.slice.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.typed-array.uint8-array.js\";\nimport \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.copy-within.js\";\nimport \"core-js/modules/es.typed-array.every.js\";\nimport \"core-js/modules/es.typed-array.fill.js\";\nimport \"core-js/modules/es.typed-array.filter.js\";\nimport \"core-js/modules/es.typed-array.find.js\";\nimport \"core-js/modules/es.typed-array.find-index.js\";\nimport \"core-js/modules/es.typed-array.find-last.js\";\nimport \"core-js/modules/es.typed-array.find-last-index.js\";\nimport \"core-js/modules/es.typed-array.for-each.js\";\nimport \"core-js/modules/es.typed-array.includes.js\";\nimport \"core-js/modules/es.typed-array.index-of.js\";\nimport \"core-js/modules/es.typed-array.iterator.js\";\nimport \"core-js/modules/es.typed-array.join.js\";\nimport \"core-js/modules/es.typed-array.last-index-of.js\";\nimport \"core-js/modules/es.typed-array.map.js\";\nimport \"core-js/modules/es.typed-array.reduce.js\";\nimport \"core-js/modules/es.typed-array.reduce-right.js\";\nimport \"core-js/modules/es.typed-array.reverse.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/es.typed-array.slice.js\";\nimport \"core-js/modules/es.typed-array.some.js\";\nimport \"core-js/modules/es.typed-array.sort.js\";\nimport \"core-js/modules/es.typed-array.subarray.js\";\nimport \"core-js/modules/es.typed-array.to-locale-string.js\";\nimport \"core-js/modules/es.typed-array.to-string.js\";\nimport \"core-js/modules/esnext.typed-array.to-reversed.js\";\nimport \"core-js/modules/esnext.typed-array.to-sorted.js\";\nimport \"core-js/modules/esnext.typed-array.with.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global Uint8Array, document */\n\nimport env from 'zrender/lib/core/env.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { isFunction } from 'zrender/lib/core/util.js';\n/* global window, document */\n\nvar SaveAsImage = /** @class */\nfunction (_super) {\n  __extends(SaveAsImage, _super);\n  function SaveAsImage() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  SaveAsImage.prototype.onclick = function (ecModel, api) {\n    var model = this.model;\n    var title = model.get('name') || ecModel.get('title.0.text') || 'echarts';\n    var isSvg = api.getZr().painter.getType() === 'svg';\n    var type = isSvg ? 'svg' : model.get('type', true) || 'png';\n    var url = api.getConnectedDataURL({\n      type: type,\n      backgroundColor: model.get('backgroundColor', true) || ecModel.get('backgroundColor') || '#fff',\n      connectedBackgroundColor: model.get('connectedBackgroundColor'),\n      excludeComponents: model.get('excludeComponents'),\n      pixelRatio: model.get('pixelRatio')\n    });\n    var browser = env.browser; // Chrome, Firefox, New Edge\n\n    if (isFunction(MouseEvent) && (browser.newEdge || !browser.ie && !browser.edge)) {\n      var $a = document.createElement('a');\n      $a.download = title + '.' + type;\n      $a.target = '_blank';\n      $a.href = url;\n      var evt = new MouseEvent('click', {\n        // some micro front-end framework， window maybe is a Proxy\n        view: document.defaultView,\n        bubbles: true,\n        cancelable: false\n      });\n      $a.dispatchEvent(evt);\n    } // IE or old Edge\n    else {\n      // @ts-ignore\n      if (window.navigator.msSaveOrOpenBlob || isSvg) {\n        var parts = url.split(','); // data:[<mime type>][;charset=<charset>][;base64],<encoded data>\n\n        var base64Encoded = parts[0].indexOf('base64') > -1;\n        var bstr = isSvg // should decode the svg data uri first\n        ? decodeURIComponent(parts[1]) : parts[1]; // only `atob` when the data uri is encoded with base64\n        // otherwise, like `svg` data uri exported by zrender,\n        // there will be an error, for it's not encoded with base64.\n        // (just a url-encoded string through `encodeURIComponent`)\n\n        base64Encoded && (bstr = window.atob(bstr));\n        var filename = title + '.' + type; // @ts-ignore\n\n        if (window.navigator.msSaveOrOpenBlob) {\n          var n = bstr.length;\n          var u8arr = new Uint8Array(n);\n          while (n--) {\n            u8arr[n] = bstr.charCodeAt(n);\n          }\n          var blob = new Blob([u8arr]); // @ts-ignore\n\n          window.navigator.msSaveOrOpenBlob(blob, filename);\n        } else {\n          var frame = document.createElement('iframe');\n          document.body.appendChild(frame);\n          var cw = frame.contentWindow;\n          var doc = cw.document;\n          doc.open('image/svg+xml', 'replace');\n          doc.write(bstr);\n          doc.close();\n          cw.focus();\n          doc.execCommand('SaveAs', true, filename);\n          document.body.removeChild(frame);\n        }\n      } else {\n        var lang = model.get('lang');\n        var html = '' + '<body style=\"margin:0;\">' + '<img src=\"' + url + '\" style=\"max-width:100%;\" title=\"' + (lang && lang[0] || '') + '\" />' + '</body>';\n        var tab = window.open();\n        tab.document.write(html);\n        tab.document.title = title;\n      }\n    }\n  };\n  SaveAsImage.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0',\n      title: ecModel.getLocaleModel().get(['toolbox', 'saveAsImage', 'title']),\n      type: 'png',\n      // Default use option.backgroundColor\n      // backgroundColor: '#fff',\n      connectedBackgroundColor: '#fff',\n      name: '',\n      excludeComponents: ['toolbox'],\n      // use current pixel ratio of device by default\n      // pixelRatio: 1,\n      lang: ecModel.getLocaleModel().get(['toolbox', 'saveAsImage', 'lang'])\n    };\n    return defaultOption;\n  };\n  return SaveAsImage;\n}(ToolboxFeature);\nexport default SaveAsImage;","import \"core-js/modules/es.array.push.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as echarts from '../../../core/echarts.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { SINGLE_REFERRING } from '../../../util/model.js';\nvar INNER_STACK_KEYWORD = '__ec_magicType_stack__';\nvar ICON_TYPES = ['line', 'bar', 'stack']; // stack and tiled appears in pair for the title\n\nvar TITLE_TYPES = ['line', 'bar', 'stack', 'tiled'];\nvar radioTypes = [['line', 'bar'], ['stack']];\nvar MagicType = /** @class */\nfunction (_super) {\n  __extends(MagicType, _super);\n  function MagicType() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  MagicType.prototype.getIcons = function () {\n    var model = this.model;\n    var availableIcons = model.get('icon');\n    var icons = {};\n    zrUtil.each(model.get('type'), function (type) {\n      if (availableIcons[type]) {\n        icons[type] = availableIcons[type];\n      }\n    });\n    return icons;\n  };\n  MagicType.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      type: [],\n      // Icon group\n      icon: {\n        line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4',\n        bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7',\n        // eslint-disable-next-line\n        stack: 'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z' // jshint ignore:line\n      },\n\n      // `line`, `bar`, `stack`, `tiled`\n      title: ecModel.getLocaleModel().get(['toolbox', 'magicType', 'title']),\n      option: {},\n      seriesIndex: {}\n    };\n    return defaultOption;\n  };\n  MagicType.prototype.onclick = function (ecModel, api, type) {\n    var model = this.model;\n    var seriesIndex = model.get(['seriesIndex', type]); // Not supported magicType\n\n    if (!seriesOptGenreator[type]) {\n      return;\n    }\n    var newOption = {\n      series: []\n    };\n    var generateNewSeriesTypes = function generateNewSeriesTypes(seriesModel) {\n      var seriesType = seriesModel.subType;\n      var seriesId = seriesModel.id;\n      var newSeriesOpt = seriesOptGenreator[type](seriesType, seriesId, seriesModel, model);\n      if (newSeriesOpt) {\n        // PENDING If merge original option?\n        zrUtil.defaults(newSeriesOpt, seriesModel.option);\n        newOption.series.push(newSeriesOpt);\n      } // Modify boundaryGap\n\n      var coordSys = seriesModel.coordinateSystem;\n      if (coordSys && coordSys.type === 'cartesian2d' && (type === 'line' || type === 'bar')) {\n        var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n        if (categoryAxis) {\n          var axisDim = categoryAxis.dim;\n          var axisType = axisDim + 'Axis';\n          var axisModel = seriesModel.getReferringComponents(axisType, SINGLE_REFERRING).models[0];\n          var axisIndex = axisModel.componentIndex;\n          newOption[axisType] = newOption[axisType] || [];\n          for (var i = 0; i <= axisIndex; i++) {\n            newOption[axisType][axisIndex] = newOption[axisType][axisIndex] || {};\n          }\n          newOption[axisType][axisIndex].boundaryGap = type === 'bar';\n        }\n      }\n    };\n    zrUtil.each(radioTypes, function (radio) {\n      if (zrUtil.indexOf(radio, type) >= 0) {\n        zrUtil.each(radio, function (item) {\n          model.setIconStatus(item, 'normal');\n        });\n      }\n    });\n    model.setIconStatus(type, 'emphasis');\n    ecModel.eachComponent({\n      mainType: 'series',\n      query: seriesIndex == null ? null : {\n        seriesIndex: seriesIndex\n      }\n    }, generateNewSeriesTypes);\n    var newTitle;\n    var currentType = type; // Change title of stack\n\n    if (type === 'stack') {\n      // use titles in model instead of ecModel\n      // as stack and tiled appears in pair, just flip them\n      // no need of checking stack state\n      newTitle = zrUtil.merge({\n        stack: model.option.title.tiled,\n        tiled: model.option.title.stack\n      }, model.option.title);\n      if (model.get(['iconStatus', type]) !== 'emphasis') {\n        currentType = 'tiled';\n      }\n    }\n    api.dispatchAction({\n      type: 'changeMagicType',\n      currentType: currentType,\n      newOption: newOption,\n      newTitle: newTitle,\n      featureName: 'magicType'\n    });\n  };\n  return MagicType;\n}(ToolboxFeature);\nvar seriesOptGenreator = {\n  'line': function line(seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'line',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get(['option', 'line']) || {}, true);\n    }\n  },\n  'bar': function bar(seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'bar',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get(['option', 'bar']) || {}, true);\n    }\n  },\n  'stack': function stack(seriesType, seriesId, seriesModel, model) {\n    var isStack = seriesModel.get('stack') === INNER_STACK_KEYWORD;\n    if (seriesType === 'line' || seriesType === 'bar') {\n      model.setIconStatus('stack', isStack ? 'normal' : 'emphasis');\n      return zrUtil.merge({\n        id: seriesId,\n        stack: isStack ? '' : INNER_STACK_KEYWORD\n      }, model.get(['option', 'stack']) || {}, true);\n    }\n  }\n}; // TODO: SELF REGISTERED.\n\necharts.registerAction({\n  type: 'changeMagicType',\n  event: 'magicTypeChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.mergeOption(payload.newOption);\n});\nexport default MagicType;","import \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.dot-all.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.error.cause.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global document */\n\nimport * as echarts from '../../../core/echarts.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { addEventListener } from 'zrender/lib/core/event.js';\nimport { warn } from '../../../util/log.js';\n/* global document */\n\nvar BLOCK_SPLITER = new Array(60).join('-');\nvar ITEM_SPLITER = '\\t';\n/**\n * Group series into two types\n *  1. on category axis, like line, bar\n *  2. others, like scatter, pie\n */\n\nfunction groupSeries(ecModel) {\n  var seriesGroupByCategoryAxis = {};\n  var otherSeries = [];\n  var meta = [];\n  ecModel.eachRawSeries(function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys && (coordSys.type === 'cartesian2d' || coordSys.type === 'polar')) {\n      // TODO: TYPE Consider polar? Include polar may increase unecessary bundle size.\n      var baseAxis = coordSys.getBaseAxis();\n      if (baseAxis.type === 'category') {\n        var key = baseAxis.dim + '_' + baseAxis.index;\n        if (!seriesGroupByCategoryAxis[key]) {\n          seriesGroupByCategoryAxis[key] = {\n            categoryAxis: baseAxis,\n            valueAxis: coordSys.getOtherAxis(baseAxis),\n            series: []\n          };\n          meta.push({\n            axisDim: baseAxis.dim,\n            axisIndex: baseAxis.index\n          });\n        }\n        seriesGroupByCategoryAxis[key].series.push(seriesModel);\n      } else {\n        otherSeries.push(seriesModel);\n      }\n    } else {\n      otherSeries.push(seriesModel);\n    }\n  });\n  return {\n    seriesGroupByCategoryAxis: seriesGroupByCategoryAxis,\n    other: otherSeries,\n    meta: meta\n  };\n}\n/**\n * Assemble content of series on cateogory axis\n * @inner\n */\n\nfunction assembleSeriesWithCategoryAxis(groups) {\n  var tables = [];\n  zrUtil.each(groups, function (group, key) {\n    var categoryAxis = group.categoryAxis;\n    var valueAxis = group.valueAxis;\n    var valueAxisDim = valueAxis.dim;\n    var headers = [' '].concat(zrUtil.map(group.series, function (series) {\n      return series.name;\n    })); // @ts-ignore TODO Polar\n\n    var columns = [categoryAxis.model.getCategories()];\n    zrUtil.each(group.series, function (series) {\n      var rawData = series.getRawData();\n      columns.push(series.getRawData().mapArray(rawData.mapDimension(valueAxisDim), function (val) {\n        return val;\n      }));\n    }); // Assemble table content\n\n    var lines = [headers.join(ITEM_SPLITER)];\n    for (var i = 0; i < columns[0].length; i++) {\n      var items = [];\n      for (var j = 0; j < columns.length; j++) {\n        items.push(columns[j][i]);\n      }\n      lines.push(items.join(ITEM_SPLITER));\n    }\n    tables.push(lines.join('\\n'));\n  });\n  return tables.join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * Assemble content of other series\n */\n\nfunction assembleOtherSeries(series) {\n  return zrUtil.map(series, function (series) {\n    var data = series.getRawData();\n    var lines = [series.name];\n    var vals = [];\n    data.each(data.dimensions, function () {\n      var argLen = arguments.length;\n      var dataIndex = arguments[argLen - 1];\n      var name = data.getName(dataIndex);\n      for (var i = 0; i < argLen - 1; i++) {\n        vals[i] = arguments[i];\n      }\n      lines.push((name ? name + ITEM_SPLITER : '') + vals.join(ITEM_SPLITER));\n    });\n    return lines.join('\\n');\n  }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\nfunction getContentFromModel(ecModel) {\n  var result = groupSeries(ecModel);\n  return {\n    value: zrUtil.filter([assembleSeriesWithCategoryAxis(result.seriesGroupByCategoryAxis), assembleOtherSeries(result.other)], function (str) {\n      return !!str.replace(/[\\n\\t\\s]/g, '');\n    }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n'),\n    meta: result.meta\n  };\n}\nfunction trim(str) {\n  return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n}\n/**\n * If a block is tsv format\n */\n\nfunction isTSVFormat(block) {\n  // Simple method to find out if a block is tsv format\n  var firstLine = block.slice(0, block.indexOf('\\n'));\n  if (firstLine.indexOf(ITEM_SPLITER) >= 0) {\n    return true;\n  }\n}\nvar itemSplitRegex = new RegExp('[' + ITEM_SPLITER + ']+', 'g');\n/**\n * @param {string} tsv\n * @return {Object}\n */\n\nfunction parseTSVContents(tsv) {\n  var tsvLines = tsv.split(/\\n+/g);\n  var headers = trim(tsvLines.shift()).split(itemSplitRegex);\n  var categories = [];\n  var series = zrUtil.map(headers, function (header) {\n    return {\n      name: header,\n      data: []\n    };\n  });\n  for (var i = 0; i < tsvLines.length; i++) {\n    var items = trim(tsvLines[i]).split(itemSplitRegex);\n    categories.push(items.shift());\n    for (var j = 0; j < items.length; j++) {\n      series[j] && (series[j].data[i] = items[j]);\n    }\n  }\n  return {\n    series: series,\n    categories: categories\n  };\n}\nfunction parseListContents(str) {\n  var lines = str.split(/\\n+/g);\n  var seriesName = trim(lines.shift());\n  var data = [];\n  for (var i = 0; i < lines.length; i++) {\n    // if line is empty, ignore it.\n    // there is a case that a user forgot to delete `\\n`.\n    var line = trim(lines[i]);\n    if (!line) {\n      continue;\n    }\n    var items = line.split(itemSplitRegex);\n    var name_1 = '';\n    var value = void 0;\n    var hasName = false;\n    if (isNaN(items[0])) {\n      // First item is name\n      hasName = true;\n      name_1 = items[0];\n      items = items.slice(1);\n      data[i] = {\n        name: name_1,\n        value: []\n      };\n      value = data[i].value;\n    } else {\n      value = data[i] = [];\n    }\n    for (var j = 0; j < items.length; j++) {\n      value.push(+items[j]);\n    }\n    if (value.length === 1) {\n      hasName ? data[i].value = value[0] : data[i] = value[0];\n    }\n  }\n  return {\n    name: seriesName,\n    data: data\n  };\n}\nfunction parseContents(str, blockMetaList) {\n  var blocks = str.split(new RegExp('\\n*' + BLOCK_SPLITER + '\\n*', 'g'));\n  var newOption = {\n    series: []\n  };\n  zrUtil.each(blocks, function (block, idx) {\n    if (isTSVFormat(block)) {\n      var result = parseTSVContents(block);\n      var blockMeta = blockMetaList[idx];\n      var axisKey = blockMeta.axisDim + 'Axis';\n      if (blockMeta) {\n        newOption[axisKey] = newOption[axisKey] || [];\n        newOption[axisKey][blockMeta.axisIndex] = {\n          data: result.categories\n        };\n        newOption.series = newOption.series.concat(result.series);\n      }\n    } else {\n      var result = parseListContents(block);\n      newOption.series.push(result);\n    }\n  });\n  return newOption;\n}\nvar DataView = /** @class */\nfunction (_super) {\n  __extends(DataView, _super);\n  function DataView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DataView.prototype.onclick = function (ecModel, api) {\n    // FIXME: better way?\n    setTimeout(function () {\n      api.dispatchAction({\n        type: 'hideTip'\n      });\n    });\n    var container = api.getDom();\n    var model = this.model;\n    if (this._dom) {\n      container.removeChild(this._dom);\n    }\n    var root = document.createElement('div'); // use padding to avoid 5px whitespace\n\n    root.style.cssText = 'position:absolute;top:0;bottom:0;left:0;right:0;padding:5px';\n    root.style.backgroundColor = model.get('backgroundColor') || '#fff'; // Create elements\n\n    var header = document.createElement('h4');\n    var lang = model.get('lang') || [];\n    header.innerHTML = lang[0] || model.get('title');\n    header.style.cssText = 'margin:10px 20px';\n    header.style.color = model.get('textColor');\n    var viewMain = document.createElement('div');\n    var textarea = document.createElement('textarea');\n    viewMain.style.cssText = 'overflow:auto';\n    var optionToContent = model.get('optionToContent');\n    var contentToOption = model.get('contentToOption');\n    var result = getContentFromModel(ecModel);\n    if (zrUtil.isFunction(optionToContent)) {\n      var htmlOrDom = optionToContent(api.getOption());\n      if (zrUtil.isString(htmlOrDom)) {\n        viewMain.innerHTML = htmlOrDom;\n      } else if (zrUtil.isDom(htmlOrDom)) {\n        viewMain.appendChild(htmlOrDom);\n      }\n    } else {\n      // Use default textarea\n      textarea.readOnly = model.get('readOnly');\n      var style = textarea.style; // eslint-disable-next-line max-len\n\n      style.cssText = 'display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none';\n      style.color = model.get('textColor');\n      style.borderColor = model.get('textareaBorderColor');\n      style.backgroundColor = model.get('textareaColor');\n      textarea.value = result.value;\n      viewMain.appendChild(textarea);\n    }\n    var blockMetaList = result.meta;\n    var buttonContainer = document.createElement('div');\n    buttonContainer.style.cssText = 'position:absolute;bottom:5px;left:0;right:0'; // eslint-disable-next-line max-len\n\n    var buttonStyle = 'float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px';\n    var closeButton = document.createElement('div');\n    var refreshButton = document.createElement('div');\n    buttonStyle += ';background-color:' + model.get('buttonColor');\n    buttonStyle += ';color:' + model.get('buttonTextColor');\n    var self = this;\n    function close() {\n      container.removeChild(root);\n      self._dom = null;\n    }\n    addEventListener(closeButton, 'click', close);\n    addEventListener(refreshButton, 'click', function () {\n      if (contentToOption == null && optionToContent != null || contentToOption != null && optionToContent == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          // eslint-disable-next-line\n          warn('It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored.');\n        }\n        close();\n        return;\n      }\n      var newOption;\n      try {\n        if (zrUtil.isFunction(contentToOption)) {\n          newOption = contentToOption(viewMain, api.getOption());\n        } else {\n          newOption = parseContents(textarea.value, blockMetaList);\n        }\n      } catch (e) {\n        close();\n        throw new Error('Data view format error ' + e);\n      }\n      if (newOption) {\n        api.dispatchAction({\n          type: 'changeDataView',\n          newOption: newOption\n        });\n      }\n      close();\n    });\n    closeButton.innerHTML = lang[1];\n    refreshButton.innerHTML = lang[2];\n    refreshButton.style.cssText = closeButton.style.cssText = buttonStyle;\n    !model.get('readOnly') && buttonContainer.appendChild(refreshButton);\n    buttonContainer.appendChild(closeButton);\n    root.appendChild(header);\n    root.appendChild(viewMain);\n    root.appendChild(buttonContainer);\n    viewMain.style.height = container.clientHeight - 80 + 'px';\n    container.appendChild(root);\n    this._dom = root;\n  };\n  DataView.prototype.remove = function (ecModel, api) {\n    this._dom && api.getDom().removeChild(this._dom);\n  };\n  DataView.prototype.dispose = function (ecModel, api) {\n    this.remove(ecModel, api);\n  };\n  DataView.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      readOnly: false,\n      optionToContent: null,\n      contentToOption: null,\n      // eslint-disable-next-line\n      icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28',\n      title: ecModel.getLocaleModel().get(['toolbox', 'dataView', 'title']),\n      lang: ecModel.getLocaleModel().get(['toolbox', 'dataView', 'lang']),\n      backgroundColor: '#fff',\n      textColor: '#000',\n      textareaColor: '#fff',\n      textareaBorderColor: '#333',\n      buttonColor: '#c23531',\n      buttonTextColor: '#fff'\n    };\n    return defaultOption;\n  };\n  return DataView;\n}(ToolboxFeature);\n/**\n * @inner\n */\n\nfunction tryMergeDataOption(newData, originalData) {\n  return zrUtil.map(newData, function (newVal, idx) {\n    var original = originalData && originalData[idx];\n    if (zrUtil.isObject(original) && !zrUtil.isArray(original)) {\n      var newValIsObject = zrUtil.isObject(newVal) && !zrUtil.isArray(newVal);\n      if (!newValIsObject) {\n        newVal = {\n          value: newVal\n        };\n      } // original data has name but new data has no name\n\n      var shouldDeleteName = original.name != null && newVal.name == null; // Original data has option\n\n      newVal = zrUtil.defaults(newVal, original);\n      shouldDeleteName && delete newVal.name;\n      return newVal;\n    } else {\n      return newVal;\n    }\n  });\n} // TODO: SELF REGISTERED.\n\necharts.registerAction({\n  type: 'changeDataView',\n  event: 'dataViewChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  var newSeriesOptList = [];\n  zrUtil.each(payload.newOption.series, function (seriesOpt) {\n    var seriesModel = ecModel.getSeriesByName(seriesOpt.name)[0];\n    if (!seriesModel) {\n      // New created series\n      // Geuss the series type\n      newSeriesOptList.push(zrUtil.extend({\n        // Default is scatter\n        type: 'scatter'\n      }, seriesOpt));\n    } else {\n      var originalData = seriesModel.get('data');\n      newSeriesOptList.push({\n        name: seriesOpt.name,\n        data: tryMergeDataOption(seriesOpt.data, originalData)\n      });\n    }\n  });\n  ecModel.mergeOption(zrUtil.defaults({\n    series: newSeriesOptList\n  }, payload.newOption));\n});\nexport default DataView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as echarts from '../../../core/echarts.js';\nimport * as history from '../../dataZoom/history.js';\nimport { ToolboxFeature } from '../featureManager.js';\nvar RestoreOption = /** @class */\nfunction (_super) {\n  __extends(RestoreOption, _super);\n  function RestoreOption() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  RestoreOption.prototype.onclick = function (ecModel, api) {\n    history.clear(ecModel);\n    api.dispatchAction({\n      type: 'restore',\n      from: this.uid\n    });\n  };\n  RestoreOption.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      // eslint-disable-next-line\n      icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5',\n      title: ecModel.getLocaleModel().get(['toolbox', 'restore', 'title'])\n    };\n    return defaultOption;\n  };\n  return RestoreOption;\n}(ToolboxFeature); // TODO: SELF REGISTERED.\n\necharts.registerAction({\n  type: 'restore',\n  event: 'restore',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.resetOption('recreate');\n});\nexport default RestoreOption;","import \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.push.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\"; // TODO depends on DataZoom and Brush\n\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BrushController from '../../helper/BrushController.js';\nimport BrushTargetManager from '../../helper/BrushTargetManager.js';\nimport * as history from '../../dataZoom/history.js';\nimport sliderMove from '../../helper/sliderMove.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { makeInternalComponentId, parseFinder } from '../../../util/model.js';\nimport { registerInternalOptionCreator } from '../../../model/internalComponentCreator.js';\nvar each = zrUtil.each;\nvar DATA_ZOOM_ID_BASE = makeInternalComponentId('toolbox-dataZoom_');\nvar ICON_TYPES = ['zoom', 'back'];\nvar DataZoomFeature = /** @class */\nfunction (_super) {\n  __extends(DataZoomFeature, _super);\n  function DataZoomFeature() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DataZoomFeature.prototype.render = function (featureModel, ecModel, api, payload) {\n    if (!this._brushController) {\n      this._brushController = new BrushController(api.getZr());\n      this._brushController.on('brush', zrUtil.bind(this._onBrush, this)).mount();\n    }\n    updateZoomBtnStatus(featureModel, ecModel, this, payload, api);\n    updateBackBtnStatus(featureModel, ecModel);\n  };\n  DataZoomFeature.prototype.onclick = function (ecModel, api, type) {\n    handlers[type].call(this);\n  };\n  DataZoomFeature.prototype.remove = function (ecModel, api) {\n    this._brushController && this._brushController.unmount();\n  };\n  DataZoomFeature.prototype.dispose = function (ecModel, api) {\n    this._brushController && this._brushController.dispose();\n  };\n  DataZoomFeature.prototype._onBrush = function (eventParam) {\n    var areas = eventParam.areas;\n    if (!eventParam.isEnd || !areas.length) {\n      return;\n    }\n    var snapshot = {};\n    var ecModel = this.ecModel;\n    this._brushController.updateCovers([]); // remove cover\n\n    var brushTargetManager = new BrushTargetManager(makeAxisFinder(this.model), ecModel, {\n      include: ['grid']\n    });\n    brushTargetManager.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n      if (coordSys.type !== 'cartesian2d') {\n        return;\n      }\n      var brushType = area.brushType;\n      if (brushType === 'rect') {\n        setBatch('x', coordSys, coordRange[0]);\n        setBatch('y', coordSys, coordRange[1]);\n      } else {\n        setBatch({\n          lineX: 'x',\n          lineY: 'y'\n        }[brushType], coordSys, coordRange);\n      }\n    });\n    history.push(ecModel, snapshot);\n    this._dispatchZoomAction(snapshot);\n    function setBatch(dimName, coordSys, minMax) {\n      var axis = coordSys.getAxis(dimName);\n      var axisModel = axis.model;\n      var dataZoomModel = findDataZoom(dimName, axisModel, ecModel); // Restrict range.\n\n      var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();\n      if (minMaxSpan.minValueSpan != null || minMaxSpan.maxValueSpan != null) {\n        minMax = sliderMove(0, minMax.slice(), axis.scale.getExtent(), 0, minMaxSpan.minValueSpan, minMaxSpan.maxValueSpan);\n      }\n      dataZoomModel && (snapshot[dataZoomModel.id] = {\n        dataZoomId: dataZoomModel.id,\n        startValue: minMax[0],\n        endValue: minMax[1]\n      });\n    }\n    function findDataZoom(dimName, axisModel, ecModel) {\n      var found;\n      ecModel.eachComponent({\n        mainType: 'dataZoom',\n        subType: 'select'\n      }, function (dzModel) {\n        var has = dzModel.getAxisModel(dimName, axisModel.componentIndex);\n        has && (found = dzModel);\n      });\n      return found;\n    }\n  };\n  ;\n  DataZoomFeature.prototype._dispatchZoomAction = function (snapshot) {\n    var batch = []; // Convert from hash map to array.\n\n    each(snapshot, function (batchItem, dataZoomId) {\n      batch.push(zrUtil.clone(batchItem));\n    });\n    batch.length && this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      batch: batch\n    });\n  };\n  DataZoomFeature.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      filterMode: 'filter',\n      // Icon group\n      icon: {\n        zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',\n        back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'\n      },\n      // `zoom`, `back`\n      title: ecModel.getLocaleModel().get(['toolbox', 'dataZoom', 'title']),\n      brushStyle: {\n        borderWidth: 0,\n        color: 'rgba(210,219,238,0.2)'\n      }\n    };\n    return defaultOption;\n  };\n  return DataZoomFeature;\n}(ToolboxFeature);\nvar handlers = {\n  zoom: function zoom() {\n    var nextActive = !this._isZoomActive;\n    this.api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'dataZoomSelect',\n      dataZoomSelectActive: nextActive\n    });\n  },\n  back: function back() {\n    this._dispatchZoomAction(history.pop(this.ecModel));\n  }\n};\nfunction makeAxisFinder(dzFeatureModel) {\n  var setting = {\n    xAxisIndex: dzFeatureModel.get('xAxisIndex', true),\n    yAxisIndex: dzFeatureModel.get('yAxisIndex', true),\n    xAxisId: dzFeatureModel.get('xAxisId', true),\n    yAxisId: dzFeatureModel.get('yAxisId', true)\n  }; // If both `xAxisIndex` `xAxisId` not set, it means 'all'.\n  // If both `yAxisIndex` `yAxisId` not set, it means 'all'.\n  // Some old cases set like this below to close yAxis control but leave xAxis control:\n  // `{ feature: { dataZoom: { yAxisIndex: false } }`.\n\n  if (setting.xAxisIndex == null && setting.xAxisId == null) {\n    setting.xAxisIndex = 'all';\n  }\n  if (setting.yAxisIndex == null && setting.yAxisId == null) {\n    setting.yAxisIndex = 'all';\n  }\n  return setting;\n}\nfunction updateBackBtnStatus(featureModel, ecModel) {\n  featureModel.setIconStatus('back', history.count(ecModel) > 1 ? 'emphasis' : 'normal');\n}\nfunction updateZoomBtnStatus(featureModel, ecModel, view, payload, api) {\n  var zoomActive = view._isZoomActive;\n  if (payload && payload.type === 'takeGlobalCursor') {\n    zoomActive = payload.key === 'dataZoomSelect' ? payload.dataZoomSelectActive : false;\n  }\n  view._isZoomActive = zoomActive;\n  featureModel.setIconStatus('zoom', zoomActive ? 'emphasis' : 'normal');\n  var brushTargetManager = new BrushTargetManager(makeAxisFinder(featureModel), ecModel, {\n    include: ['grid']\n  });\n  var panels = brushTargetManager.makePanelOpts(api, function (targetInfo) {\n    return targetInfo.xAxisDeclared && !targetInfo.yAxisDeclared ? 'lineX' : !targetInfo.xAxisDeclared && targetInfo.yAxisDeclared ? 'lineY' : 'rect';\n  });\n  view._brushController.setPanels(panels).enableBrush(zoomActive && panels.length ? {\n    brushType: 'auto',\n    brushStyle: featureModel.getModel('brushStyle').getItemStyle()\n  } : false);\n}\nregisterInternalOptionCreator('dataZoom', function (ecModel) {\n  var toolboxModel = ecModel.getComponent('toolbox', 0);\n  var featureDataZoomPath = ['feature', 'dataZoom'];\n  if (!toolboxModel || toolboxModel.get(featureDataZoomPath) == null) {\n    return;\n  }\n  var dzFeatureModel = toolboxModel.getModel(featureDataZoomPath);\n  var dzOptions = [];\n  var finder = makeAxisFinder(dzFeatureModel);\n  var finderResult = parseFinder(ecModel, finder);\n  each(finderResult.xAxisModels, function (axisModel) {\n    return buildInternalOptions(axisModel, 'xAxis', 'xAxisIndex');\n  });\n  each(finderResult.yAxisModels, function (axisModel) {\n    return buildInternalOptions(axisModel, 'yAxis', 'yAxisIndex');\n  });\n  function buildInternalOptions(axisModel, axisMainType, axisIndexPropName) {\n    var axisIndex = axisModel.componentIndex;\n    var newOpt = {\n      type: 'select',\n      $fromToolbox: true,\n      // Default to be filter\n      filterMode: dzFeatureModel.get('filterMode', true) || 'filter',\n      // Id for merge mapping.\n      id: DATA_ZOOM_ID_BASE + axisMainType + axisIndex\n    };\n    newOpt[axisIndexPropName] = axisIndex;\n    dzOptions.push(newOpt);\n  }\n  return dzOptions;\n});\nexport default DataZoomFeature;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installDataZoomSelect } from '../../component/dataZoom/installDataZoomSelect.js';\nimport ToolboxModel from './ToolboxModel.js';\nimport ToolboxView from './ToolboxView.js'; // TODOD: REGISTER IN INSTALL\n\nimport { registerFeature } from './featureManager.js';\nimport SaveAsImage from './feature/SaveAsImage.js';\nimport MagicType from './feature/MagicType.js';\nimport DataView from './feature/DataView.js';\nimport Restore from './feature/Restore.js';\nimport DataZoom from './feature/DataZoom.js';\nexport function install(registers) {\n  registers.registerComponentModel(ToolboxModel);\n  registers.registerComponentView(ToolboxView);\n  registerFeature('saveAsImage', SaveAsImage);\n  registerFeature('magicType', MagicType);\n  registerFeature('dataView', DataView);\n  registerFeature('dataZoom', DataZoom);\n  registerFeature('restore', Restore);\n  use(installDataZoomSelect);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\n\nvar TooltipModel =\n/** @class */\nfunction (_super) {\n  __extends(TooltipModel, _super);\n\n  function TooltipModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TooltipModel.type;\n    return _this;\n  }\n\n  TooltipModel.type = 'tooltip';\n  TooltipModel.dependencies = ['axisPointer'];\n  TooltipModel.defaultOption = {\n    // zlevel: 0,\n    z: 60,\n    show: true,\n    // tooltip main content\n    showContent: true,\n    // 'trigger' only works on coordinate system.\n    // 'item' | 'axis' | 'none'\n    trigger: 'item',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: 'mousemove|click',\n    alwaysShowContent: false,\n    displayMode: 'single',\n    renderMode: 'auto',\n    // whether restraint content inside viewRect.\n    // If renderMode: 'richText', default true.\n    // If renderMode: 'html', defaut false (for backward compat).\n    confine: null,\n    showDelay: 0,\n    hideDelay: 100,\n    // Animation transition time, unit is second\n    transitionDuration: 0.4,\n    enterable: false,\n    backgroundColor: '#fff',\n    // box shadow\n    shadowBlur: 10,\n    shadowColor: 'rgba(0, 0, 0, .2)',\n    shadowOffsetX: 1,\n    shadowOffsetY: 2,\n    // tooltip border radius, unit is px, default is 4\n    borderRadius: 4,\n    // tooltip border width, unit is px, default is 0 (no border)\n    borderWidth: 1,\n    // Tooltip inside padding, default is 5 for all direction\n    // Array is allowed to set up, right, bottom, left, same with css\n    // The default value: See `tooltip/tooltipMarkup.ts#getPaddingFromTooltipModel`.\n    padding: null,\n    // Extra css text\n    extraCssText: '',\n    // axis indicator, trigger by axis\n    axisPointer: {\n      // default is line\n      // legal values: 'line' | 'shadow' | 'cross'\n      type: 'line',\n      // Valid when type is line, appoint tooltip line locate on which line. Optional\n      // legal values: 'x' | 'y' | 'angle' | 'radius' | 'auto'\n      // default is 'auto', chose the axis which type is category.\n      // for multiply y axis, cartesian coord chose x axis, polar chose angle axis\n      axis: 'auto',\n      animation: 'auto',\n      animationDurationUpdate: 200,\n      animationEasingUpdate: 'exponentialOut',\n      crossStyle: {\n        color: '#999',\n        width: 1,\n        type: 'dashed',\n        // TODO formatter\n        textStyle: {}\n      } // lineStyle and shadowStyle should not be specified here,\n      // otherwise it will always override those styles on option.axisPointer.\n\n    },\n    textStyle: {\n      color: '#666',\n      fontSize: 14\n    }\n  };\n  return TooltipModel;\n}(ComponentModel);\n\nexport default TooltipModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { toCamelCase } from '../../util/format.js';\nimport env from 'zrender/lib/core/env.js';\n/* global document */\n\nexport function shouldTooltipConfine(tooltipModel) {\n  var confineOption = tooltipModel.get('confine');\n  return confineOption != null ? !!confineOption // In richText mode, the outside part can not be visible.\n  : tooltipModel.get('renderMode') === 'richText';\n}\n\nfunction testStyle(styleProps) {\n  if (!env.domSupported) {\n    return;\n  }\n\n  var style = document.documentElement.style;\n\n  for (var i = 0, len = styleProps.length; i < len; i++) {\n    if (styleProps[i] in style) {\n      return styleProps[i];\n    }\n  }\n}\n\nexport var TRANSFORM_VENDOR = testStyle(['transform', 'webkitTransform', 'OTransform', 'MozTransform', 'msTransform']);\nexport var TRANSITION_VENDOR = testStyle(['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);\nexport function toCSSVendorPrefix(styleVendor, styleProp) {\n  if (!styleVendor) {\n    return styleProp;\n  }\n\n  styleProp = toCamelCase(styleProp, true);\n  var idx = styleVendor.indexOf(styleProp);\n  styleVendor = idx === -1 ? styleProp : \"-\" + styleVendor.slice(0, idx) + \"-\" + styleProp;\n  return styleVendor.toLowerCase();\n}\nexport function getComputedStyle(el, style) {\n  var stl = el.currentStyle || document.defaultView && document.defaultView.getComputedStyle(el);\n  return stl ? style ? stl[style] : stl : null;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isString, indexOf, each, bind, isArray, isDom } from 'zrender/lib/core/util.js';\nimport { normalizeEvent } from 'zrender/lib/core/event.js';\nimport { transformLocalCoord } from 'zrender/lib/core/dom.js';\nimport env from 'zrender/lib/core/env.js';\nimport { convertToColorString, toCamelCase, normalizeCssArray } from '../../util/format.js';\nimport { shouldTooltipConfine, toCSSVendorPrefix, getComputedStyle, TRANSFORM_VENDOR, TRANSITION_VENDOR } from './helper.js';\nimport { getPaddingFromTooltipModel } from './tooltipMarkup.js';\n/* global document, window */\n\nvar CSS_TRANSITION_VENDOR = toCSSVendorPrefix(TRANSITION_VENDOR, 'transition');\nvar CSS_TRANSFORM_VENDOR = toCSSVendorPrefix(TRANSFORM_VENDOR, 'transform'); // eslint-disable-next-line\n\nvar gCssText = \"position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;\" + (env.transform3dSupported ? 'will-change:transform;' : '');\n\nfunction mirrorPos(pos) {\n  pos = pos === 'left' ? 'right' : pos === 'right' ? 'left' : pos === 'top' ? 'bottom' : 'top';\n  return pos;\n}\n\nfunction assembleArrow(tooltipModel, borderColor, arrowPosition) {\n  if (!isString(arrowPosition) || arrowPosition === 'inside') {\n    return '';\n  }\n\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var borderWidth = tooltipModel.get('borderWidth');\n  borderColor = convertToColorString(borderColor);\n  var arrowPos = mirrorPos(arrowPosition);\n  var arrowSize = Math.max(Math.round(borderWidth) * 1.5, 6);\n  var positionStyle = '';\n  var transformStyle = CSS_TRANSFORM_VENDOR + ':';\n  var rotateDeg;\n\n  if (indexOf(['left', 'right'], arrowPos) > -1) {\n    positionStyle += 'top:50%';\n    transformStyle += \"translateY(-50%) rotate(\" + (rotateDeg = arrowPos === 'left' ? -225 : -45) + \"deg)\";\n  } else {\n    positionStyle += 'left:50%';\n    transformStyle += \"translateX(-50%) rotate(\" + (rotateDeg = arrowPos === 'top' ? 225 : 45) + \"deg)\";\n  }\n\n  var rotateRadian = rotateDeg * Math.PI / 180;\n  var arrowWH = arrowSize + borderWidth;\n  var rotatedWH = arrowWH * Math.abs(Math.cos(rotateRadian)) + arrowWH * Math.abs(Math.sin(rotateRadian));\n  var arrowOffset = Math.round(((rotatedWH - Math.SQRT2 * borderWidth) / 2 + Math.SQRT2 * borderWidth - (rotatedWH - arrowWH) / 2) * 100) / 100;\n  positionStyle += \";\" + arrowPos + \":-\" + arrowOffset + \"px\";\n  var borderStyle = borderColor + \" solid \" + borderWidth + \"px;\";\n  var styleCss = [\"position:absolute;width:\" + arrowSize + \"px;height:\" + arrowSize + \"px;z-index:-1;\", positionStyle + \";\" + transformStyle + \";\", \"border-bottom:\" + borderStyle, \"border-right:\" + borderStyle, \"background-color:\" + backgroundColor + \";\"];\n  return \"<div style=\\\"\" + styleCss.join('') + \"\\\"></div>\";\n}\n\nfunction assembleTransition(duration, onlyFade) {\n  var transitionCurve = 'cubic-bezier(0.23,1,0.32,1)';\n  var transitionOption = \" \" + duration / 2 + \"s \" + transitionCurve;\n  var transitionText = \"opacity\" + transitionOption + \",visibility\" + transitionOption;\n\n  if (!onlyFade) {\n    transitionOption = \" \" + duration + \"s \" + transitionCurve;\n    transitionText += env.transformSupported ? \",\" + CSS_TRANSFORM_VENDOR + transitionOption : \",left\" + transitionOption + \",top\" + transitionOption;\n  }\n\n  return CSS_TRANSITION_VENDOR + ':' + transitionText;\n}\n\nfunction assembleTransform(x, y, toString) {\n  // If using float on style, the final width of the dom might\n  // keep changing slightly while mouse move. So `toFixed(0)` them.\n  var x0 = x.toFixed(0) + 'px';\n  var y0 = y.toFixed(0) + 'px'; // not support transform, use `left` and `top` instead.\n\n  if (!env.transformSupported) {\n    return toString ? \"top:\" + y0 + \";left:\" + x0 + \";\" : [['top', y0], ['left', x0]];\n  } // support transform\n\n\n  var is3d = env.transform3dSupported;\n  var translate = \"translate\" + (is3d ? '3d' : '') + \"(\" + x0 + \",\" + y0 + (is3d ? ',0' : '') + \")\";\n  return toString ? 'top:0;left:0;' + CSS_TRANSFORM_VENDOR + ':' + translate + ';' : [['top', 0], ['left', 0], [TRANSFORM_VENDOR, translate]];\n}\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\n\n\nfunction assembleFont(textStyleModel) {\n  var cssText = [];\n  var fontSize = textStyleModel.get('fontSize');\n  var color = textStyleModel.getTextColor();\n  color && cssText.push('color:' + color);\n  cssText.push('font:' + textStyleModel.getFont());\n  fontSize // @ts-ignore, leave it to the tooltip refactor.\n  && cssText.push('line-height:' + Math.round(fontSize * 3 / 2) + 'px');\n  var shadowColor = textStyleModel.get('textShadowColor');\n  var shadowBlur = textStyleModel.get('textShadowBlur') || 0;\n  var shadowOffsetX = textStyleModel.get('textShadowOffsetX') || 0;\n  var shadowOffsetY = textStyleModel.get('textShadowOffsetY') || 0;\n  shadowColor && shadowBlur && cssText.push('text-shadow:' + shadowOffsetX + 'px ' + shadowOffsetY + 'px ' + shadowBlur + 'px ' + shadowColor);\n  each(['decoration', 'align'], function (name) {\n    var val = textStyleModel.get(name);\n    val && cssText.push('text-' + name + ':' + val);\n  });\n  return cssText.join(';');\n}\n\nfunction assembleCssText(tooltipModel, enableTransition, onlyFade) {\n  var cssText = [];\n  var transitionDuration = tooltipModel.get('transitionDuration');\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var shadowBlur = tooltipModel.get('shadowBlur');\n  var shadowColor = tooltipModel.get('shadowColor');\n  var shadowOffsetX = tooltipModel.get('shadowOffsetX');\n  var shadowOffsetY = tooltipModel.get('shadowOffsetY');\n  var textStyleModel = tooltipModel.getModel('textStyle');\n  var padding = getPaddingFromTooltipModel(tooltipModel, 'html');\n  var boxShadow = shadowOffsetX + \"px \" + shadowOffsetY + \"px \" + shadowBlur + \"px \" + shadowColor;\n  cssText.push('box-shadow:' + boxShadow); // Animation transition. Do not animate when transitionDuration is 0.\n\n  enableTransition && transitionDuration && cssText.push(assembleTransition(transitionDuration, onlyFade));\n\n  if (backgroundColor) {\n    cssText.push('background-color:' + backgroundColor);\n  } // Border style\n\n\n  each(['width', 'color', 'radius'], function (name) {\n    var borderName = 'border-' + name;\n    var camelCase = toCamelCase(borderName);\n    var val = tooltipModel.get(camelCase);\n    val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n  }); // Text style\n\n  cssText.push(assembleFont(textStyleModel)); // Padding\n\n  if (padding != null) {\n    cssText.push('padding:' + normalizeCssArray(padding).join('px ') + 'px');\n  }\n\n  return cssText.join(';') + ';';\n} // If not able to make, do not modify the input `out`.\n\n\nfunction makeStyleCoord(out, zr, appendToBody, zrX, zrY) {\n  var zrPainter = zr && zr.painter;\n\n  if (appendToBody) {\n    var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n\n    if (zrViewportRoot) {\n      // Some APPs might use scale on body, so we support CSS transform here.\n      transformLocalCoord(out, zrViewportRoot, document.body, zrX, zrY);\n    }\n  } else {\n    out[0] = zrX;\n    out[1] = zrY; // xy should be based on canvas root. But tooltipContent is\n    // the sibling of canvas root. So padding of ec container\n    // should be considered here.\n\n    var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n\n    if (viewportRootOffset) {\n      out[0] += viewportRootOffset.offsetLeft;\n      out[1] += viewportRootOffset.offsetTop;\n    }\n  }\n\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\n\nvar TooltipHTMLContent =\n/** @class */\nfunction () {\n  function TooltipHTMLContent(container, api, opt) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._enterable = true;\n    this._alwaysShowContent = false;\n    this._firstShow = true;\n    this._longHide = true;\n\n    if (env.wxa) {\n      return null;\n    }\n\n    var el = document.createElement('div'); // TODO: TYPE\n\n    el.domBelongToZr = true;\n    this.el = el;\n    var zr = this._zr = api.getZr();\n    var appendToBody = this._appendToBody = opt && opt.appendToBody;\n    makeStyleCoord(this._styleCoord, zr, appendToBody, api.getWidth() / 2, api.getHeight() / 2);\n\n    if (appendToBody) {\n      document.body.appendChild(el);\n    } else {\n      container.appendChild(el);\n    }\n\n    this._container = container; // FIXME\n    // Is it needed to trigger zr event manually if\n    // the browser do not support `pointer-events: none`.\n\n    var self = this;\n\n    el.onmouseenter = function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    };\n\n    el.onmousemove = function (e) {\n      e = e || window.event;\n\n      if (!self._enterable) {\n        // `pointer-events: none` is set to tooltip content div\n        // if `enterable` is set as `false`, and `el.onmousemove`\n        // can not be triggered. But in browser that do not\n        // support `pointer-events`, we need to do this:\n        // Try trigger zrender event to avoid mouse\n        // in and out shape too frequently\n        var handler = zr.handler;\n        var zrViewportRoot = zr.painter.getViewportRoot();\n        normalizeEvent(zrViewportRoot, e, true);\n        handler.dispatch('mousemove', e);\n      }\n    };\n\n    el.onmouseleave = function () {\n      // set `_inContent` to `false` before `hideLater`\n      self._inContent = false;\n\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n    };\n  }\n  /**\n   * Update when tooltip is rendered\n   */\n\n\n  TooltipHTMLContent.prototype.update = function (tooltipModel) {\n    // FIXME\n    // Move this logic to ec main?\n    var container = this._container;\n    var position = getComputedStyle(container, 'position');\n    var domStyle = container.style;\n\n    if (domStyle.position !== 'absolute' && position !== 'absolute') {\n      domStyle.position = 'relative';\n    } // move tooltip if chart resized\n\n\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized(); // update alwaysShowContent\n\n    this._alwaysShowContent = alwaysShowContent; // update className\n\n    this.el.className = tooltipModel.get('className') || ''; // Hide the tooltip\n    // PENDING\n    // this.hide();\n  };\n\n  TooltipHTMLContent.prototype.show = function (tooltipModel, nearPointColor) {\n    clearTimeout(this._hideTimeout);\n    clearTimeout(this._longHideTimeout);\n    var el = this.el;\n    var style = el.style;\n    var styleCoord = this._styleCoord;\n\n    if (!el.innerHTML) {\n      style.display = 'none';\n    } else {\n      style.cssText = gCssText + assembleCssText(tooltipModel, !this._firstShow, this._longHide) // initial transform\n      + assembleTransform(styleCoord[0], styleCoord[1], true) + (\"border-color:\" + convertToColorString(nearPointColor) + \";\") + (tooltipModel.get('extraCssText') || '') // If mouse occasionally move over the tooltip, a mouseout event will be\n      // triggered by canvas, and cause some unexpectable result like dragging\n      // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n      // it. Although it is not supported by IE8~IE10, fortunately it is a rare\n      // scenario.\n      + (\";pointer-events:\" + (this._enterable ? 'auto' : 'none'));\n    }\n\n    this._show = true;\n    this._firstShow = false;\n    this._longHide = false;\n  };\n\n  TooltipHTMLContent.prototype.setContent = function (content, markers, tooltipModel, borderColor, arrowPosition) {\n    var el = this.el;\n\n    if (content == null) {\n      el.innerHTML = '';\n      return;\n    }\n\n    var arrow = '';\n\n    if (isString(arrowPosition) && tooltipModel.get('trigger') === 'item' && !shouldTooltipConfine(tooltipModel)) {\n      arrow = assembleArrow(tooltipModel, borderColor, arrowPosition);\n    }\n\n    if (isString(content)) {\n      el.innerHTML = content + arrow;\n    } else if (content) {\n      // Clear previous\n      el.innerHTML = '';\n\n      if (!isArray(content)) {\n        content = [content];\n      }\n\n      for (var i = 0; i < content.length; i++) {\n        if (isDom(content[i]) && content[i].parentNode !== el) {\n          el.appendChild(content[i]);\n        }\n      } // no arrow if empty\n\n\n      if (arrow && el.childNodes.length) {\n        // no need to create a new parent element, but it's not supported by IE 10 and older.\n        // const arrowEl = document.createRange().createContextualFragment(arrow);\n        var arrowEl = document.createElement('div');\n        arrowEl.innerHTML = arrow;\n        el.appendChild(arrowEl);\n      }\n    }\n  };\n\n  TooltipHTMLContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n\n  TooltipHTMLContent.prototype.getSize = function () {\n    var el = this.el;\n    return [el.offsetWidth, el.offsetHeight];\n  };\n\n  TooltipHTMLContent.prototype.moveTo = function (zrX, zrY) {\n    var styleCoord = this._styleCoord;\n    makeStyleCoord(styleCoord, this._zr, this._appendToBody, zrX, zrY);\n\n    if (styleCoord[0] != null && styleCoord[1] != null) {\n      var style_1 = this.el.style;\n      var transforms = assembleTransform(styleCoord[0], styleCoord[1]);\n      each(transforms, function (transform) {\n        style_1[transform[0]] = transform[1];\n      });\n    }\n  };\n  /**\n   * when `alwaysShowContent` is true,\n   * move the tooltip after chart resized\n   */\n\n\n  TooltipHTMLContent.prototype._moveIfResized = function () {\n    // The ratio of left to width\n    var ratioX = this._styleCoord[2]; // The ratio of top to height\n\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n\n  TooltipHTMLContent.prototype.hide = function () {\n    var _this = this;\n\n    var style = this.el.style;\n    style.visibility = 'hidden';\n    style.opacity = '0';\n    env.transform3dSupported && (style.willChange = '');\n    this._show = false;\n    this._longHideTimeout = setTimeout(function () {\n      return _this._longHide = true;\n    }, 500);\n  };\n\n  TooltipHTMLContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n\n  TooltipHTMLContent.prototype.isShow = function () {\n    return this._show;\n  };\n\n  TooltipHTMLContent.prototype.dispose = function () {\n    this.el.parentNode.removeChild(this.el);\n  };\n\n  return TooltipHTMLContent;\n}();\n\nexport default TooltipHTMLContent;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nimport { getPaddingFromTooltipModel } from './tooltipMarkup.js';\nimport { throwError } from '../../util/log.js';\n\nvar TooltipRichContent =\n/** @class */\nfunction () {\n  function TooltipRichContent(api) {\n    this._show = false;\n    this._styleCoord = [0, 0, 0, 0];\n    this._alwaysShowContent = false;\n    this._enterable = true;\n    this._zr = api.getZr();\n    makeStyleCoord(this._styleCoord, this._zr, api.getWidth() / 2, api.getHeight() / 2);\n  }\n  /**\n   * Update when tooltip is rendered\n   */\n\n\n  TooltipRichContent.prototype.update = function (tooltipModel) {\n    var alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    alwaysShowContent && this._moveIfResized(); // update alwaysShowContent\n\n    this._alwaysShowContent = alwaysShowContent;\n  };\n\n  TooltipRichContent.prototype.show = function () {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n\n    this.el.show();\n    this._show = true;\n  };\n  /**\n   * Set tooltip content\n   */\n\n\n  TooltipRichContent.prototype.setContent = function (content, markupStyleCreator, tooltipModel, borderColor, arrowPosition) {\n    var _this = this;\n\n    if (zrUtil.isObject(content)) {\n      throwError(process.env.NODE_ENV !== 'production' ? 'Passing DOM nodes as content is not supported in richText tooltip!' : '');\n    }\n\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n\n    var textStyleModel = tooltipModel.getModel('textStyle');\n    this.el = new ZRText({\n      style: {\n        rich: markupStyleCreator.richTextStyles,\n        text: content,\n        lineHeight: 22,\n        borderWidth: 1,\n        borderColor: borderColor,\n        textShadowColor: textStyleModel.get('textShadowColor'),\n        fill: tooltipModel.get(['textStyle', 'color']),\n        padding: getPaddingFromTooltipModel(tooltipModel, 'richText'),\n        verticalAlign: 'top',\n        align: 'left'\n      },\n      z: tooltipModel.get('z')\n    });\n    zrUtil.each(['backgroundColor', 'borderRadius', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'], function (propName) {\n      _this.el.style[propName] = tooltipModel.get(propName);\n    });\n    zrUtil.each(['textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'], function (propName) {\n      _this.el.style[propName] = textStyleModel.get(propName) || 0;\n    });\n\n    this._zr.add(this.el);\n\n    var self = this;\n    this.el.on('mouseover', function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    });\n    this.el.on('mouseout', function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n\n      self._inContent = false;\n    });\n  };\n\n  TooltipRichContent.prototype.setEnterable = function (enterable) {\n    this._enterable = enterable;\n  };\n\n  TooltipRichContent.prototype.getSize = function () {\n    var el = this.el;\n    var bounding = this.el.getBoundingRect(); // bounding rect does not include shadow. For renderMode richText,\n    // if overflow, it will be cut. So calculate them accurately.\n\n    var shadowOuterSize = calcShadowOuterSize(el.style);\n    return [bounding.width + shadowOuterSize.left + shadowOuterSize.right, bounding.height + shadowOuterSize.top + shadowOuterSize.bottom];\n  };\n\n  TooltipRichContent.prototype.moveTo = function (x, y) {\n    var el = this.el;\n\n    if (el) {\n      var styleCoord = this._styleCoord;\n      makeStyleCoord(styleCoord, this._zr, x, y);\n      x = styleCoord[0];\n      y = styleCoord[1];\n      var style = el.style;\n      var borderWidth = mathMaxWith0(style.borderWidth || 0);\n      var shadowOuterSize = calcShadowOuterSize(style); // rich text x, y do not include border.\n\n      el.x = x + borderWidth + shadowOuterSize.left;\n      el.y = y + borderWidth + shadowOuterSize.top;\n      el.markRedraw();\n    }\n  };\n  /**\n   * when `alwaysShowContent` is true,\n   * move the tooltip after chart resized\n   */\n\n\n  TooltipRichContent.prototype._moveIfResized = function () {\n    // The ratio of left to width\n    var ratioX = this._styleCoord[2]; // The ratio of top to height\n\n    var ratioY = this._styleCoord[3];\n    this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());\n  };\n\n  TooltipRichContent.prototype.hide = function () {\n    if (this.el) {\n      this.el.hide();\n    }\n\n    this._show = false;\n  };\n\n  TooltipRichContent.prototype.hideLater = function (time) {\n    if (this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater multiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  };\n\n  TooltipRichContent.prototype.isShow = function () {\n    return this._show;\n  };\n\n  TooltipRichContent.prototype.dispose = function () {\n    this._zr.remove(this.el);\n  };\n\n  return TooltipRichContent;\n}();\n\nfunction mathMaxWith0(val) {\n  return Math.max(0, val);\n}\n\nfunction calcShadowOuterSize(style) {\n  var shadowBlur = mathMaxWith0(style.shadowBlur || 0);\n  var shadowOffsetX = mathMaxWith0(style.shadowOffsetX || 0);\n  var shadowOffsetY = mathMaxWith0(style.shadowOffsetY || 0);\n  return {\n    left: mathMaxWith0(shadowBlur - shadowOffsetX),\n    right: mathMaxWith0(shadowBlur + shadowOffsetX),\n    top: mathMaxWith0(shadowBlur - shadowOffsetY),\n    bottom: mathMaxWith0(shadowBlur + shadowOffsetY)\n  };\n}\n\nfunction makeStyleCoord(out, zr, zrX, zrY) {\n  out[0] = zrX;\n  out[1] = zrY;\n  out[2] = out[0] / zr.getWidth();\n  out[3] = out[1] / zr.getHeight();\n}\n\nexport default TooltipRichContent;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport { __extends } from \"tslib\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nimport { bind, each, clone, trim, isString, isFunction, isArray, isObject, extend } from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport TooltipHTMLContent from './TooltipHTMLContent.js';\nimport TooltipRichContent from './TooltipRichContent.js';\nimport { convertToColorString, formatTpl } from '../../util/format.js';\nimport { parsePercent } from '../../util/number.js';\nimport { Rect } from '../../util/graphic.js';\nimport findPointFromSeries from '../axisPointer/findPointFromSeries.js';\nimport { getLayoutRect } from '../../util/layout.js';\nimport Model from '../../model/Model.js';\nimport * as globalListener from '../axisPointer/globalListener.js';\nimport * as axisHelper from '../../coord/axisHelper.js';\nimport * as axisPointerViewHelper from '../axisPointer/viewHelper.js';\nimport { getTooltipRenderMode, preParseFinder, queryReferringComponents } from '../../util/model.js';\nimport ComponentView from '../../view/Component.js';\nimport { format as timeFormat } from '../../util/time.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { shouldTooltipConfine } from './helper.js';\nimport { normalizeTooltipFormatResult } from '../../model/mixin/dataFormat.js';\nimport { createTooltipMarkup, buildTooltipMarkup, TooltipMarkupStyleCreator } from './tooltipMarkup.js';\nimport { findEventDispatcher } from '../../util/event.js';\nimport { clear, createOrUpdate } from '../../util/throttle.js';\nvar proxyRect = new Rect({\n  shape: {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  }\n});\n\nvar TooltipView =\n/** @class */\nfunction (_super) {\n  __extends(TooltipView, _super);\n\n  function TooltipView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TooltipView.type;\n    return _this;\n  }\n\n  TooltipView.prototype.init = function (ecModel, api) {\n    if (env.node || !api.getDom()) {\n      return;\n    }\n\n    var tooltipModel = ecModel.getComponent('tooltip');\n    var renderMode = this._renderMode = getTooltipRenderMode(tooltipModel.get('renderMode'));\n    this._tooltipContent = renderMode === 'richText' ? new TooltipRichContent(api) : new TooltipHTMLContent(api.getDom(), api, {\n      appendToBody: tooltipModel.get('appendToBody', true)\n    });\n  };\n\n  TooltipView.prototype.render = function (tooltipModel, ecModel, api) {\n    if (env.node || !api.getDom()) {\n      return;\n    } // Reset\n\n\n    this.group.removeAll();\n    this._tooltipModel = tooltipModel;\n    this._ecModel = ecModel;\n    this._api = api;\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.update(tooltipModel);\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n\n    this._initGlobalListener();\n\n    this._keepShow(); // PENDING\n    // `mousemove` event will be triggered very frequently when the mouse moves fast,\n    // which causes that the `updatePosition` function was also called frequently.\n    // In Chrome with devtools open and Firefox, tooltip looks laggy and shakes. See #14695 #16101\n    // To avoid frequent triggering,\n    // consider throttling it in 50ms when transition is enabled\n\n\n    if (this._renderMode !== 'richText' && tooltipModel.get('transitionDuration')) {\n      createOrUpdate(this, '_updatePosition', 50, 'fixRate');\n    } else {\n      clear(this, '_updatePosition');\n    }\n  };\n\n  TooltipView.prototype._initGlobalListener = function () {\n    var tooltipModel = this._tooltipModel;\n    var triggerOn = tooltipModel.get('triggerOn');\n    globalListener.register('itemTooltip', this._api, bind(function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none') {\n        if (triggerOn.indexOf(currTrigger) >= 0) {\n          this._tryShow(e, dispatchAction);\n        } else if (currTrigger === 'leave') {\n          this._hide(dispatchAction);\n        }\n      }\n    }, this));\n  };\n\n  TooltipView.prototype._keepShow = function () {\n    var tooltipModel = this._tooltipModel;\n    var ecModel = this._ecModel;\n    var api = this._api;\n    var triggerOn = tooltipModel.get('triggerOn'); // Try to keep the tooltip show when refreshing\n\n    if (this._lastX != null && this._lastY != null // When user is willing to control tooltip totally using API,\n    // self.manuallyShowTip({x, y}) might cause tooltip hide,\n    // which is not expected.\n    && triggerOn !== 'none' && triggerOn !== 'click') {\n      var self_1 = this;\n      clearTimeout(this._refreshUpdateTimeout);\n      this._refreshUpdateTimeout = setTimeout(function () {\n        // Show tip next tick after other charts are rendered\n        // In case highlight action has wrong result\n        // FIXME\n        !api.isDisposed() && self_1.manuallyShowTip(tooltipModel, ecModel, api, {\n          x: self_1._lastX,\n          y: self_1._lastY,\n          dataByCoordSys: self_1._lastDataByCoordSys\n        });\n      });\n    }\n  };\n  /**\n   * Show tip manually by\n   * dispatchAction({\n   *     type: 'showTip',\n   *     x: 10,\n   *     y: 10\n   * });\n   * Or\n   * dispatchAction({\n   *      type: 'showTip',\n   *      seriesIndex: 0,\n   *      dataIndex or dataIndexInside or name\n   * });\n   *\n   *  TODO Batch\n   */\n\n\n  TooltipView.prototype.manuallyShowTip = function (tooltipModel, ecModel, api, payload) {\n    if (payload.from === this.uid || env.node || !api.getDom()) {\n      return;\n    }\n\n    var dispatchAction = makeDispatchAction(payload, api); // Reset ticket\n\n    this._ticket = ''; // When triggered from axisPointer.\n\n    var dataByCoordSys = payload.dataByCoordSys;\n    var cmptRef = findComponentReference(payload, ecModel, api);\n\n    if (cmptRef) {\n      var rect = cmptRef.el.getBoundingRect().clone();\n      rect.applyTransform(cmptRef.el.transform);\n\n      this._tryShow({\n        offsetX: rect.x + rect.width / 2,\n        offsetY: rect.y + rect.height / 2,\n        target: cmptRef.el,\n        position: payload.position,\n        // When manully trigger, the mouse is not on the el, so we'd better to\n        // position tooltip on the bottom of the el and display arrow is possible.\n        positionDefault: 'bottom'\n      }, dispatchAction);\n    } else if (payload.tooltip && payload.x != null && payload.y != null) {\n      var el = proxyRect;\n      el.x = payload.x;\n      el.y = payload.y;\n      el.update();\n      getECData(el).tooltipConfig = {\n        name: null,\n        option: payload.tooltip\n      }; // Manually show tooltip while view is not using zrender elements.\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        target: el\n      }, dispatchAction);\n    } else if (dataByCoordSys) {\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        dataByCoordSys: dataByCoordSys,\n        tooltipOption: payload.tooltipOption\n      }, dispatchAction);\n    } else if (payload.seriesIndex != null) {\n      if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n        return;\n      }\n\n      var pointInfo = findPointFromSeries(payload, ecModel);\n      var cx = pointInfo.point[0];\n      var cy = pointInfo.point[1];\n\n      if (cx != null && cy != null) {\n        this._tryShow({\n          offsetX: cx,\n          offsetY: cy,\n          target: pointInfo.el,\n          position: payload.position,\n          // When manully trigger, the mouse is not on the el, so we'd better to\n          // position tooltip on the bottom of the el and display arrow is possible.\n          positionDefault: 'bottom'\n        }, dispatchAction);\n      }\n    } else if (payload.x != null && payload.y != null) {\n      // FIXME\n      // should wrap dispatchAction like `axisPointer/globalListener` ?\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payload.x,\n        y: payload.y\n      });\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        target: api.getZr().findHover(payload.x, payload.y).target\n      }, dispatchAction);\n    }\n  };\n\n  TooltipView.prototype.manuallyHideTip = function (tooltipModel, ecModel, api, payload) {\n    var tooltipContent = this._tooltipContent;\n\n    if (this._tooltipModel) {\n      tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n    }\n\n    this._lastX = this._lastY = this._lastDataByCoordSys = null;\n\n    if (payload.from !== this.uid) {\n      this._hide(makeDispatchAction(payload, api));\n    }\n  }; // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n  // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n  // and tooltip.\n\n\n  TooltipView.prototype._manuallyAxisShowTip = function (tooltipModel, ecModel, api, payload) {\n    var seriesIndex = payload.seriesIndex;\n    var dataIndex = payload.dataIndex; // @ts-ignore\n\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n\n    if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n      return;\n    }\n\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n    if (!seriesModel) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var tooltipCascadedModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model], this._tooltipModel);\n\n    if (tooltipCascadedModel.get('trigger') !== 'axis') {\n      return;\n    }\n\n    api.dispatchAction({\n      type: 'updateAxisPointer',\n      seriesIndex: seriesIndex,\n      dataIndex: dataIndex,\n      position: payload.position\n    });\n    return true;\n  };\n\n  TooltipView.prototype._tryShow = function (e, dispatchAction) {\n    var el = e.target;\n    var tooltipModel = this._tooltipModel;\n\n    if (!tooltipModel) {\n      return;\n    } // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n\n\n    this._lastX = e.offsetX;\n    this._lastY = e.offsetY;\n    var dataByCoordSys = e.dataByCoordSys;\n\n    if (dataByCoordSys && dataByCoordSys.length) {\n      this._showAxisTooltip(dataByCoordSys, e);\n    } else if (el) {\n      this._lastDataByCoordSys = null;\n      var seriesDispatcher_1;\n      var cmptDispatcher_1;\n      findEventDispatcher(el, function (target) {\n        // Always show item tooltip if mouse is on the element with dataIndex\n        if (getECData(target).dataIndex != null) {\n          seriesDispatcher_1 = target;\n          return true;\n        } // Tooltip provided directly. Like legend.\n\n\n        if (getECData(target).tooltipConfig != null) {\n          cmptDispatcher_1 = target;\n          return true;\n        }\n      }, true);\n\n      if (seriesDispatcher_1) {\n        this._showSeriesItemTooltip(e, seriesDispatcher_1, dispatchAction);\n      } else if (cmptDispatcher_1) {\n        this._showComponentItemTooltip(e, cmptDispatcher_1, dispatchAction);\n      } else {\n        this._hide(dispatchAction);\n      }\n    } else {\n      this._lastDataByCoordSys = null;\n\n      this._hide(dispatchAction);\n    }\n  };\n\n  TooltipView.prototype._showOrMove = function (tooltipModel, cb) {\n    // showDelay is used in this case: tooltip.enterable is set\n    // as true. User intent to move mouse into tooltip and click\n    // something. `showDelay` makes it easier to enter the content\n    // but tooltip do not move immediately.\n    var delay = tooltipModel.get('showDelay');\n    cb = bind(cb, this);\n    clearTimeout(this._showTimout);\n    delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n  };\n\n  TooltipView.prototype._showAxisTooltip = function (dataByCoordSys, e) {\n    var ecModel = this._ecModel;\n    var globalTooltipModel = this._tooltipModel;\n    var point = [e.offsetX, e.offsetY];\n    var singleTooltipModel = buildTooltipModel([e.tooltipOption], globalTooltipModel);\n    var renderMode = this._renderMode;\n    var cbParamsList = [];\n    var articleMarkup = createTooltipMarkup('section', {\n      blocks: [],\n      noHeader: true\n    }); // Only for legacy: `Serise['formatTooltip']` returns a string.\n\n    var markupTextArrLegacy = [];\n    var markupStyleCreator = new TooltipMarkupStyleCreator();\n    each(dataByCoordSys, function (itemCoordSys) {\n      each(itemCoordSys.dataByAxis, function (axisItem) {\n        var axisModel = ecModel.getComponent(axisItem.axisDim + 'Axis', axisItem.axisIndex);\n        var axisValue = axisItem.value;\n\n        if (!axisModel || axisValue == null) {\n          return;\n        }\n\n        var axisValueLabel = axisPointerViewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, axisItem.seriesDataIndices, axisItem.valueLabelOpt);\n        var axisSectionMarkup = createTooltipMarkup('section', {\n          header: axisValueLabel,\n          noHeader: !trim(axisValueLabel),\n          sortBlocks: true,\n          blocks: []\n        });\n        articleMarkup.blocks.push(axisSectionMarkup);\n        each(axisItem.seriesDataIndices, function (idxItem) {\n          var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n          var dataIndex = idxItem.dataIndexInside;\n          var cbParams = series.getDataParams(dataIndex); // Can't find data.\n\n          if (cbParams.dataIndex < 0) {\n            return;\n          }\n\n          cbParams.axisDim = axisItem.axisDim;\n          cbParams.axisIndex = axisItem.axisIndex;\n          cbParams.axisType = axisItem.axisType;\n          cbParams.axisId = axisItem.axisId;\n          cbParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, {\n            value: axisValue\n          });\n          cbParams.axisValueLabel = axisValueLabel; // Pre-create marker style for makers. Users can assemble richText\n          // text in `formatter` callback and use those markers style.\n\n          cbParams.marker = markupStyleCreator.makeTooltipMarker('item', convertToColorString(cbParams.color), renderMode);\n          var seriesTooltipResult = normalizeTooltipFormatResult(series.formatTooltip(dataIndex, true, null));\n          var frag = seriesTooltipResult.frag;\n\n          if (frag) {\n            var valueFormatter = buildTooltipModel([series], globalTooltipModel).get('valueFormatter');\n            axisSectionMarkup.blocks.push(valueFormatter ? extend({\n              valueFormatter: valueFormatter\n            }, frag) : frag);\n          }\n\n          if (seriesTooltipResult.text) {\n            markupTextArrLegacy.push(seriesTooltipResult.text);\n          }\n\n          cbParamsList.push(cbParams);\n        });\n      });\n    }); // In most cases, the second axis is displays upper on the first one.\n    // So we reverse it to look better.\n\n    articleMarkup.blocks.reverse();\n    markupTextArrLegacy.reverse();\n    var positionExpr = e.position;\n    var orderMode = singleTooltipModel.get('order');\n    var builtMarkupText = buildTooltipMarkup(articleMarkup, markupStyleCreator, renderMode, orderMode, ecModel.get('useUTC'), singleTooltipModel.get('textStyle'));\n    builtMarkupText && markupTextArrLegacy.unshift(builtMarkupText);\n    var blockBreak = renderMode === 'richText' ? '\\n\\n' : '<br/>';\n    var allMarkupText = markupTextArrLegacy.join(blockBreak);\n\n    this._showOrMove(singleTooltipModel, function () {\n      if (this._updateContentNotChangedOnAxis(dataByCoordSys, cbParamsList)) {\n        this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, cbParamsList);\n      } else {\n        this._showTooltipContent(singleTooltipModel, allMarkupText, cbParamsList, Math.random() + '', point[0], point[1], positionExpr, null, markupStyleCreator);\n      }\n    }); // Do not trigger events here, because this branch only be entered\n    // from dispatchAction.\n\n  };\n\n  TooltipView.prototype._showSeriesItemTooltip = function (e, dispatcher, dispatchAction) {\n    var ecModel = this._ecModel;\n    var ecData = getECData(dispatcher); // Use dataModel in element if possible\n    // Used when mouseover on a element like markPoint or edge\n    // In which case, the data is not main data in series.\n\n    var seriesIndex = ecData.seriesIndex;\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex); // For example, graph link.\n\n    var dataModel = ecData.dataModel || seriesModel;\n    var dataIndex = ecData.dataIndex;\n    var dataType = ecData.dataType;\n    var data = dataModel.getData(dataType);\n    var renderMode = this._renderMode;\n    var positionDefault = e.positionDefault;\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model], this._tooltipModel, positionDefault ? {\n      position: positionDefault\n    } : null);\n    var tooltipTrigger = tooltipModel.get('trigger');\n\n    if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n      return;\n    }\n\n    var params = dataModel.getDataParams(dataIndex, dataType);\n    var markupStyleCreator = new TooltipMarkupStyleCreator(); // Pre-create marker style for makers. Users can assemble richText\n    // text in `formatter` callback and use those markers style.\n\n    params.marker = markupStyleCreator.makeTooltipMarker('item', convertToColorString(params.color), renderMode);\n    var seriesTooltipResult = normalizeTooltipFormatResult(dataModel.formatTooltip(dataIndex, false, dataType));\n    var orderMode = tooltipModel.get('order');\n    var valueFormatter = tooltipModel.get('valueFormatter');\n    var frag = seriesTooltipResult.frag;\n    var markupText = frag ? buildTooltipMarkup(valueFormatter ? extend({\n      valueFormatter: valueFormatter\n    }, frag) : frag, markupStyleCreator, renderMode, orderMode, ecModel.get('useUTC'), tooltipModel.get('textStyle')) : seriesTooltipResult.text;\n    var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n\n    this._showOrMove(tooltipModel, function () {\n      this._showTooltipContent(tooltipModel, markupText, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target, markupStyleCreator);\n    }); // FIXME\n    // duplicated showtip if manuallyShowTip is called from dispatchAction.\n\n\n    dispatchAction({\n      type: 'showTip',\n      dataIndexInside: dataIndex,\n      dataIndex: data.getRawIndex(dataIndex),\n      seriesIndex: seriesIndex,\n      from: this.uid\n    });\n  };\n\n  TooltipView.prototype._showComponentItemTooltip = function (e, el, dispatchAction) {\n    var ecData = getECData(el);\n    var tooltipConfig = ecData.tooltipConfig;\n    var tooltipOpt = tooltipConfig.option || {};\n\n    if (isString(tooltipOpt)) {\n      var content = tooltipOpt;\n      tooltipOpt = {\n        content: content,\n        // Fixed formatter\n        formatter: content\n      };\n    }\n\n    var tooltipModelCascade = [tooltipOpt];\n\n    var cmpt = this._ecModel.getComponent(ecData.componentMainType, ecData.componentIndex);\n\n    if (cmpt) {\n      tooltipModelCascade.push(cmpt);\n    } // In most cases, component tooltip formatter has different params with series tooltip formatter,\n    // so that they cannot share the same formatter. Since the global tooltip formatter is used for series\n    // by convention, we do not use it as the default formatter for component.\n\n\n    tooltipModelCascade.push({\n      formatter: tooltipOpt.content\n    });\n    var positionDefault = e.positionDefault;\n    var subTooltipModel = buildTooltipModel(tooltipModelCascade, this._tooltipModel, positionDefault ? {\n      position: positionDefault\n    } : null);\n    var defaultHtml = subTooltipModel.get('content');\n    var asyncTicket = Math.random() + ''; // PENDING: this case do not support richText style yet.\n\n    var markupStyleCreator = new TooltipMarkupStyleCreator(); // Do not check whether `trigger` is 'none' here, because `trigger`\n    // only works on coordinate system. In fact, we have not found case\n    // that requires setting `trigger` nothing on component yet.\n\n    this._showOrMove(subTooltipModel, function () {\n      // Use formatterParams from element defined in component\n      // Avoid users modify it.\n      var formatterParams = clone(subTooltipModel.get('formatterParams') || {});\n\n      this._showTooltipContent(subTooltipModel, defaultHtml, formatterParams, asyncTicket, e.offsetX, e.offsetY, e.position, el, markupStyleCreator);\n    }); // If not dispatch showTip, tip may be hide triggered by axis.\n\n\n    dispatchAction({\n      type: 'showTip',\n      from: this.uid\n    });\n  };\n\n  TooltipView.prototype._showTooltipContent = function ( // Use Model<TooltipOption> insteadof TooltipModel because this model may be from series or other options.\n  // Instead of top level tooltip.\n  tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el, markupStyleCreator) {\n    // Reset ticket\n    this._ticket = '';\n\n    if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n      return;\n    }\n\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n    var formatter = tooltipModel.get('formatter');\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var html = defaultHtml;\n\n    var nearPoint = this._getNearestPoint([x, y], params, tooltipModel.get('trigger'), tooltipModel.get('borderColor'));\n\n    var nearPointColor = nearPoint.color;\n\n    if (formatter) {\n      if (isString(formatter)) {\n        var useUTC = tooltipModel.ecModel.get('useUTC');\n        var params0 = isArray(params) ? params[0] : params;\n        var isTimeAxis = params0 && params0.axisType && params0.axisType.indexOf('time') >= 0;\n        html = formatter;\n\n        if (isTimeAxis) {\n          html = timeFormat(params0.axisValue, html, useUTC);\n        }\n\n        html = formatTpl(html, params, true);\n      } else if (isFunction(formatter)) {\n        var callback = bind(function (cbTicket, html) {\n          if (cbTicket === this._ticket) {\n            tooltipContent.setContent(html, markupStyleCreator, tooltipModel, nearPointColor, positionExpr);\n\n            this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n          }\n        }, this);\n        this._ticket = asyncTicket;\n        html = formatter(params, asyncTicket, callback);\n      } else {\n        html = formatter;\n      }\n    }\n\n    tooltipContent.setContent(html, markupStyleCreator, tooltipModel, nearPointColor, positionExpr);\n    tooltipContent.show(tooltipModel, nearPointColor);\n\n    this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n  };\n\n  TooltipView.prototype._getNearestPoint = function (point, tooltipDataParams, trigger, borderColor) {\n    if (trigger === 'axis' || isArray(tooltipDataParams)) {\n      return {\n        color: borderColor || (this._renderMode === 'html' ? '#fff' : 'none')\n      };\n    }\n\n    if (!isArray(tooltipDataParams)) {\n      return {\n        color: borderColor || tooltipDataParams.color || tooltipDataParams.borderColor\n      };\n    }\n  };\n\n  TooltipView.prototype._updatePosition = function (tooltipModel, positionExpr, x, // Mouse x\n  y, // Mouse y\n  content, params, el) {\n    var viewWidth = this._api.getWidth();\n\n    var viewHeight = this._api.getHeight();\n\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var contentSize = content.getSize();\n    var align = tooltipModel.get('align');\n    var vAlign = tooltipModel.get('verticalAlign');\n    var rect = el && el.getBoundingRect().clone();\n    el && rect.applyTransform(el.transform);\n\n    if (isFunction(positionExpr)) {\n      // Callback of position can be an array or a string specify the position\n      positionExpr = positionExpr([x, y], params, content.el, rect, {\n        viewSize: [viewWidth, viewHeight],\n        contentSize: contentSize.slice()\n      });\n    }\n\n    if (isArray(positionExpr)) {\n      x = parsePercent(positionExpr[0], viewWidth);\n      y = parsePercent(positionExpr[1], viewHeight);\n    } else if (isObject(positionExpr)) {\n      var boxLayoutPosition = positionExpr;\n      boxLayoutPosition.width = contentSize[0];\n      boxLayoutPosition.height = contentSize[1];\n      var layoutRect = getLayoutRect(boxLayoutPosition, {\n        width: viewWidth,\n        height: viewHeight\n      });\n      x = layoutRect.x;\n      y = layoutRect.y;\n      align = null; // When positionExpr is left/top/right/bottom,\n      // align and verticalAlign will not work.\n\n      vAlign = null;\n    } // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n    else if (isString(positionExpr) && el) {\n        var pos = calcTooltipPosition(positionExpr, rect, contentSize, tooltipModel.get('borderWidth'));\n        x = pos[0];\n        y = pos[1];\n      } else {\n        var pos = refixTooltipPosition(x, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n        x = pos[0];\n        y = pos[1];\n      }\n\n    align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n    vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n\n    if (shouldTooltipConfine(tooltipModel)) {\n      var pos = confineTooltipPosition(x, y, content, viewWidth, viewHeight);\n      x = pos[0];\n      y = pos[1];\n    }\n\n    content.moveTo(x, y);\n  }; // FIXME\n  // Should we remove this but leave this to user?\n\n\n  TooltipView.prototype._updateContentNotChangedOnAxis = function (dataByCoordSys, cbParamsList) {\n    var lastCoordSys = this._lastDataByCoordSys;\n    var lastCbParamsList = this._cbParamsList;\n    var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n    contentNotChanged && each(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n      var lastDataByAxis = lastItemCoordSys.dataByAxis || [];\n      var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n      var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n      contentNotChanged = contentNotChanged && lastDataByAxis.length === thisDataByAxis.length;\n      contentNotChanged && each(lastDataByAxis, function (lastItem, indexAxis) {\n        var thisItem = thisDataByAxis[indexAxis] || {};\n        var lastIndices = lastItem.seriesDataIndices || [];\n        var newIndices = thisItem.seriesDataIndices || [];\n        contentNotChanged = contentNotChanged && lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n        contentNotChanged && each(lastIndices, function (lastIdxItem, j) {\n          var newIdxItem = newIndices[j];\n          contentNotChanged = contentNotChanged && lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n        }); // check is cbParams data value changed\n\n        lastCbParamsList && each(lastItem.seriesDataIndices, function (idxItem) {\n          var seriesIdx = idxItem.seriesIndex;\n          var cbParams = cbParamsList[seriesIdx];\n          var lastCbParams = lastCbParamsList[seriesIdx];\n\n          if (cbParams && lastCbParams && lastCbParams.data !== cbParams.data) {\n            contentNotChanged = false;\n          }\n        });\n      });\n    });\n    this._lastDataByCoordSys = dataByCoordSys;\n    this._cbParamsList = cbParamsList;\n    return !!contentNotChanged;\n  };\n\n  TooltipView.prototype._hide = function (dispatchAction) {\n    // Do not directly hideLater here, because this behavior may be prevented\n    // in dispatchAction when showTip is dispatched.\n    // FIXME\n    // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n    this._lastDataByCoordSys = null;\n    dispatchAction({\n      type: 'hideTip',\n      from: this.uid\n    });\n  };\n\n  TooltipView.prototype.dispose = function (ecModel, api) {\n    if (env.node || !api.getDom()) {\n      return;\n    }\n\n    clear(this, '_updatePosition');\n\n    this._tooltipContent.dispose();\n\n    globalListener.unregister('itemTooltip', api);\n  };\n\n  TooltipView.type = 'tooltip';\n  return TooltipView;\n}(ComponentView);\n/**\n * From top to bottom. (the last one should be globalTooltipModel);\n */\n\n\nfunction buildTooltipModel(modelCascade, globalTooltipModel, defaultTooltipOption) {\n  // Last is always tooltip model.\n  var ecModel = globalTooltipModel.ecModel;\n  var resultModel;\n\n  if (defaultTooltipOption) {\n    resultModel = new Model(defaultTooltipOption, ecModel, ecModel);\n    resultModel = new Model(globalTooltipModel.option, resultModel, ecModel);\n  } else {\n    resultModel = globalTooltipModel;\n  }\n\n  for (var i = modelCascade.length - 1; i >= 0; i--) {\n    var tooltipOpt = modelCascade[i];\n\n    if (tooltipOpt) {\n      if (tooltipOpt instanceof Model) {\n        tooltipOpt = tooltipOpt.get('tooltip', true);\n      } // In each data item tooltip can be simply write:\n      // {\n      //  value: 10,\n      //  tooltip: 'Something you need to know'\n      // }\n\n\n      if (isString(tooltipOpt)) {\n        tooltipOpt = {\n          formatter: tooltipOpt\n        };\n      }\n\n      if (tooltipOpt) {\n        resultModel = new Model(tooltipOpt, resultModel, ecModel);\n      }\n    }\n  }\n\n  return resultModel;\n}\n\nfunction makeDispatchAction(payload, api) {\n  return payload.dispatchAction || bind(api.dispatchAction, api);\n}\n\nfunction refixTooltipPosition(x, y, content, viewWidth, viewHeight, gapH, gapV) {\n  var size = content.getSize();\n  var width = size[0];\n  var height = size[1];\n\n  if (gapH != null) {\n    // Add extra 2 pixels for this case:\n    // At present the \"values\" in default tooltip are using CSS `float: right`.\n    // When the right edge of the tooltip box is on the right side of the\n    // viewport, the `float` layout might push the \"values\" to the second line.\n    if (x + width + gapH + 2 > viewWidth) {\n      x -= width + gapH;\n    } else {\n      x += gapH;\n    }\n  }\n\n  if (gapV != null) {\n    if (y + height + gapV > viewHeight) {\n      y -= height + gapV;\n    } else {\n      y += gapV;\n    }\n  }\n\n  return [x, y];\n}\n\nfunction confineTooltipPosition(x, y, content, viewWidth, viewHeight) {\n  var size = content.getSize();\n  var width = size[0];\n  var height = size[1];\n  x = Math.min(x + width, viewWidth) - width;\n  y = Math.min(y + height, viewHeight) - height;\n  x = Math.max(x, 0);\n  y = Math.max(y, 0);\n  return [x, y];\n}\n\nfunction calcTooltipPosition(position, rect, contentSize, borderWidth) {\n  var domWidth = contentSize[0];\n  var domHeight = contentSize[1];\n  var offset = Math.ceil(Math.SQRT2 * borderWidth) + 8;\n  var x = 0;\n  var y = 0;\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n\n  switch (position) {\n    case 'inside':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'top':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y - domHeight - offset;\n      break;\n\n    case 'bottom':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight + offset;\n      break;\n\n    case 'left':\n      x = rect.x - domWidth - offset;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'right':\n      x = rect.x + rectWidth + offset;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n  }\n\n  return [x, y];\n}\n\nfunction isCenterAlign(align) {\n  return align === 'center' || align === 'middle';\n}\n/**\n * Find target component by payload like:\n * ```js\n * { legendId: 'some_id', name: 'xxx' }\n * { toolboxIndex: 1, name: 'xxx' }\n * { geoName: 'some_name', name: 'xxx' }\n * ```\n * PENDING: at present only\n *\n * If not found, return null/undefined.\n */\n\n\nfunction findComponentReference(payload, ecModel, api) {\n  var queryOptionMap = preParseFinder(payload).queryOptionMap;\n  var componentMainType = queryOptionMap.keys()[0];\n\n  if (!componentMainType || componentMainType === 'series') {\n    return;\n  }\n\n  var queryResult = queryReferringComponents(ecModel, componentMainType, queryOptionMap.get(componentMainType), {\n    useDefault: false,\n    enableAll: false,\n    enableNone: false\n  });\n  var model = queryResult.models[0];\n\n  if (!model) {\n    return;\n  }\n\n  var view = api.getViewOfComponentModel(model);\n  var el;\n  view.group.traverse(function (subEl) {\n    var tooltipConfig = getECData(subEl).tooltipConfig;\n\n    if (tooltipConfig && tooltipConfig.name === payload.name) {\n      el = subEl;\n      return true; // stop\n    }\n  });\n\n  if (el) {\n    return {\n      componentMainType: componentMainType,\n      componentIndex: model.componentIndex,\n      el: el\n    };\n  }\n}\n\nexport default TooltipView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { install as installAxisPointer } from '../axisPointer/install.js';\nimport { use } from '../../extension.js';\nimport TooltipModel from './TooltipModel.js';\nimport TooltipView from './TooltipView.js';\nimport { noop } from 'zrender/lib/core/util.js';\nexport function install(registers) {\n  use(installAxisPointer);\n  registers.registerComponentModel(TooltipModel);\n  registers.registerComponentView(TooltipView);\n  /**\n   * @action\n   * @property {string} type\n   * @property {number} seriesIndex\n   * @property {number} dataIndex\n   * @property {number} [x]\n   * @property {number} [y]\n   */\n\n  registers.registerAction({\n    type: 'showTip',\n    event: 'showTip',\n    update: 'tooltip:manuallyShowTip'\n  }, noop);\n  registers.registerAction({\n    type: 'hideTip',\n    event: 'hideTip',\n    update: 'tooltip:manuallyHideTip'\n  }, noop);\n}"],"names":["ToolboxFeature","features","registerFeature","name","ctor","getFeature","ICON_TYPES","BrushFeature","_super","apply","this","arguments","prototype","render","featureModel","ecModel","api","brushType","brushMode","isBrushed","eachComponent","mainType","brushModel","brushOption","areas","length","_brushType","_brushMode","get","type","setIconStatus","updateView","getIcons","model","availableIcons","icons","onclick","dispatchAction","intervals","command","key","getDefaultOption","defaultOption","show","slice","icon","rect","polygon","lineX","lineY","keep","clear","title","getLocaleModel","ToolboxModel","_this","optionUpdated","option","feature","featureOpt","featureName","Feature","featureManager","layoutMode","ignoreSize","z","orient","left","top","backgroundColor","borderColor","borderRadius","borderWidth","padding","itemSize","itemGap","showTitle","iconStyle","color","emphasis","tooltip","position","Component","ToolboxView","toolboxModel","payload","group","removeAll","isVertical","featureOpts","_features","featureNames","opt","push","DataDiffer","_featureNames","add","processFeature","update","remove","execute","listComponent","l","getBoundingRect","eachChild","titleText","__title","emphasisState","ensureState","emphasisTextConfig","textConfig","textContent","getTextContent","emphasisTextState","emphasisTextStyle","style","offsetX","x","offsetY","y","needPutOnTop","height","getHeight","topOffset","width","getWidth","align","newIndex","oldIndex","oldName","Model","newTitle","isUserFeatureName","uid","isToolboxFeature","unusable","createIconPaths","iconName","status","iconPaths","iconStatus","dispose","iconsMap","titlesMap","iconStyleModel","getModel","iconStyleEmphasisModel","titles","iconStr","path","graphic","createIcon","setStyle","getItemStyle","pathEmphasisState","text","fill","ignore","setTextContent","setTooltipConfig","el","componentModel","itemName","formatterParamsExtra","on","hoverStyle","defaultTextPosition","stroke","setTextConfig","enterEmphasis","leaveEmphasis","hide","indexOf","SaveAsImage","isSvg","getZr","painter","getType","url","getConnectedDataURL","connectedBackgroundColor","excludeComponents","pixelRatio","browser","env","isFunction","MouseEvent","newEdge","ie","edge","$a","document","createElement","download","target","href","evt","view","defaultView","bubbles","cancelable","dispatchEvent","window","navigator","msSaveOrOpenBlob","parts","split","base64Encoded","bstr","decodeURIComponent","atob","filename","n","u8arr","Uint8Array","charCodeAt","blob","Blob","frame","body","appendChild","cw","contentWindow","doc","open","write","close","focus","execCommand","removeChild","lang","html","tab","INNER_STACK_KEYWORD","radioTypes","MagicType","line","bar","stack","seriesIndex","seriesOptGenreator","newOption","series","generateNewSeriesTypes","seriesModel","seriesType","subType","seriesId","id","newSeriesOpt","coordSys","coordinateSystem","categoryAxis","getAxesByScale","axisDim","dim","axisType","axisModel","getReferringComponents","models","axisIndex","componentIndex","i","boundaryGap","radio","item","query","currentType","tiled","data","markPoint","markLine","isStack","echarts","event","mergeOption","BLOCK_SPLITER","Array","join","ITEM_SPLITER","groupSeries","seriesGroupByCategoryAxis","otherSeries","meta","eachRawSeries","baseAxis","getBaseAxis","index","valueAxis","getOtherAxis","other","assembleSeriesWithCategoryAxis","groups","tables","valueAxisDim","headers","concat","columns","getCategories","rawData","getRawData","mapArray","mapDimension","val","lines","items","j","assembleOtherSeries","vals","each","dimensions","argLen","dataIndex","getName","getContentFromModel","result","value","str","replace","trim","isTSVFormat","block","firstLine","itemSplitRegex","RegExp","parseTSVContents","tsv","tsvLines","shift","categories","header","parseListContents","seriesName","name_1","hasName","isNaN","parseContents","blockMetaList","blocks","idx","blockMeta","axisKey","DataView","setTimeout","container","getDom","_dom","root","cssText","innerHTML","viewMain","textarea","optionToContent","contentToOption","htmlOrDom","getOption","readOnly","buttonContainer","buttonStyle","closeButton","refreshButton","self","e","Error","clientHeight","textColor","textareaColor","textareaBorderColor","buttonColor","buttonTextColor","tryMergeDataOption","newData","originalData","newVal","original","newValIsObject","shouldDeleteName","newSeriesOptList","seriesOpt","getSeriesByName","RestoreOption","from","resetOption","DATA_ZOOM_ID_BASE","DataZoomFeature","_brushController","BrushController","_onBrush","mount","updateZoomBtnStatus","updateBackBtnStatus","handlers","call","unmount","eventParam","isEnd","snapshot","updateCovers","brushTargetManager","BrushTargetManager","makeAxisFinder","include","matchOutputRanges","area","coordRange","setBatch","_dispatchZoomAction","dimName","minMax","axis","getAxis","dataZoomModel","findDataZoom","minMaxSpan","findRepresentativeAxisProxy","getMinMaxSpan","minValueSpan","maxValueSpan","sliderMove","scale","getExtent","dataZoomId","startValue","endValue","found","dzModel","has","getAxisModel","batch","batchItem","filterMode","zoom","back","brushStyle","nextActive","_isZoomActive","dataZoomSelectActive","dzFeatureModel","setting","xAxisIndex","yAxisIndex","xAxisId","yAxisId","zoomActive","panels","makePanelOpts","targetInfo","xAxisDeclared","yAxisDeclared","setPanels","enableBrush","getComponent","featureDataZoomPath","dzOptions","finder","finderResult","xAxisModels","buildInternalOptions","yAxisModels","axisMainType","axisIndexPropName","newOpt","$fromToolbox","install","registers","registerComponentModel","registerComponentView","DataZoom","Restore","installDataZoomSelect","TooltipModel","__extends","dependencies","showContent","trigger","triggerOn","alwaysShowContent","displayMode","renderMode","confine","showDelay","hideDelay","transitionDuration","enterable","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","extraCssText","axisPointer","animation","animationDurationUpdate","animationEasingUpdate","crossStyle","textStyle","fontSize","ComponentModel","shouldTooltipConfine","tooltipModel","confineOption","testStyle","styleProps","documentElement","len","TRANSFORM_VENDOR","TRANSITION_VENDOR","toCSSVendorPrefix","styleVendor","styleProp","toCamelCase","toLowerCase","getComputedStyle","stl","currentStyle","CSS_TRANSITION_VENDOR","CSS_TRANSFORM_VENDOR","gCssText","mirrorPos","pos","assembleArrow","arrowPosition","isString","convertToColorString","rotateDeg","arrowPos","arrowSize","Math","max","round","positionStyle","transformStyle","rotateRadian","PI","arrowWH","rotatedWH","abs","cos","sin","arrowOffset","SQRT2","borderStyle","styleCss","assembleTransition","duration","onlyFade","transitionCurve","transitionOption","transitionText","assembleTransform","toString","x0","toFixed","y0","is3d","translate","assembleFont","textStyleModel","getTextColor","getFont","assembleCssText","enableTransition","getPaddingFromTooltipModel","boxShadow","borderName","camelCase","normalizeCssArray","makeStyleCoord","out","zr","appendToBody","zrX","zrY","zrPainter","zrViewportRoot","getViewportRoot","transformLocalCoord","viewportRootOffset","getViewportRootOffset","offsetLeft","offsetTop","TooltipHTMLContent","_show","_styleCoord","_enterable","_alwaysShowContent","_firstShow","_longHide","domBelongToZr","_zr","_appendToBody","_container","onmouseenter","clearTimeout","_hideTimeout","_inContent","onmousemove","handler","normalizeEvent","dispatch","onmouseleave","hideLater","_hideDelay","domStyle","_moveIfResized","className","nearPointColor","_longHideTimeout","styleCoord","display","setContent","content","markers","arrow","isArray","isDom","parentNode","childNodes","arrowEl","setEnterable","getSize","offsetWidth","offsetHeight","moveTo","style_1","transforms","transform","ratioX","ratioY","visibility","opacity","willChange","time","bind","isShow","TooltipRichContent","markupStyleCreator","zrUtil","throwError","ZRText","rich","richTextStyles","lineHeight","textShadowColor","verticalAlign","propName","bounding","shadowOuterSize","calcShadowOuterSize","right","bottom","mathMaxWith0","markRedraw","proxyRect","Rect","shape","TooltipView","init","_renderMode","getTooltipRenderMode","_tooltipContent","_tooltipModel","_ecModel","_api","tooltipContent","_initGlobalListener","_keepShow","createOrUpdate","globalListener","currTrigger","_tryShow","_hide","_lastX","_lastY","self_1","_refreshUpdateTimeout","isDisposed","manuallyShowTip","dataByCoordSys","_lastDataByCoordSys","makeDispatchAction","_ticket","cmptRef","findComponentReference","clone","applyTransform","positionDefault","getECData","tooltipConfig","tooltipOption","_manuallyAxisShowTip","pointInfo","findPointFromSeries","cx","point","cy","findHover","manuallyHideTip","coordSysAxesInfo","getSeriesByIndex","getData","tooltipCascadedModel","buildTooltipModel","getItemModel","_showAxisTooltip","seriesDispatcher_1","cmptDispatcher_1","findEventDispatcher","_showSeriesItemTooltip","_showComponentItemTooltip","_showOrMove","cb","delay","_showTimout","globalTooltipModel","singleTooltipModel","cbParamsList","articleMarkup","createTooltipMarkup","noHeader","markupTextArrLegacy","TooltipMarkupStyleCreator","itemCoordSys","dataByAxis","axisItem","axisValue","axisValueLabel","axisPointerViewHelper","seriesDataIndices","valueLabelOpt","axisSectionMarkup","sortBlocks","idxItem","dataIndexInside","cbParams","getDataParams","axisId","axisHelper","marker","makeTooltipMarker","seriesTooltipResult","normalizeTooltipFormatResult","formatTooltip","frag","valueFormatter","extend","reverse","positionExpr","orderMode","builtMarkupText","buildTooltipMarkup","unshift","blockBreak","allMarkupText","_updateContentNotChangedOnAxis","_updatePosition","_showTooltipContent","random","dispatcher","ecData","dataModel","dataType","tooltipTrigger","params","markupText","asyncTicket","getRawIndex","tooltipOpt","formatter","tooltipModelCascade","cmpt","componentMainType","subTooltipModel","defaultHtml","formatterParams","nearPoint","_getNearestPoint","useUTC","params0","isTimeAxis","timeFormat","formatTpl","callback","cbTicket","tooltipDataParams","viewWidth","viewHeight","contentSize","vAlign","viewSize","parsePercent","isObject","boxLayoutPosition","layoutRect","getLayoutRect","calcTooltipPosition","refixTooltipPosition","isCenterAlign","confineTooltipPosition","lastCoordSys","lastCbParamsList","_cbParamsList","contentNotChanged","lastItemCoordSys","indexCoordSys","lastDataByAxis","thisItemCoordSys","thisDataByAxis","lastItem","indexAxis","thisItem","lastIndices","newIndices","lastIdxItem","newIdxItem","seriesIdx","lastCbParams","ComponentView","modelCascade","defaultTooltipOption","resultModel","gapH","gapV","size","min","domWidth","domHeight","offset","ceil","rectWidth","rectHeight","queryOptionMap","preParseFinder","keys","queryResult","queryReferringComponents","useDefault","enableAll","enableNone","getViewOfComponentModel","traverse","subEl","registerAction","noop"],"sourceRoot":""}