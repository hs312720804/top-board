{"version":3,"file":"js/chunk-vendors-af2090be-legacy.00eb083e.js","mappings":"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","sources":["webpack://databoard/./node_modules/echarts/lib/coord/axisTickLabelBuilder.js","webpack://databoard/./node_modules/echarts/lib/coord/Axis.js","webpack://databoard/./node_modules/echarts/lib/coord/CoordinateSystem.js","webpack://databoard/./node_modules/echarts/lib/coord/View.js","webpack://databoard/./node_modules/echarts/lib/coord/axisAlignTicks.js","webpack://databoard/./node_modules/echarts/lib/coord/axisDefault.js","webpack://databoard/./node_modules/echarts/lib/coord/axisHelper.js","webpack://databoard/./node_modules/echarts/lib/coord/axisModelCommonMixin.js","webpack://databoard/./node_modules/echarts/lib/coord/axisCommonTypes.js","webpack://databoard/./node_modules/echarts/lib/coord/axisModelCreator.js","webpack://databoard/./node_modules/echarts/lib/coord/calendar/Calendar.js","webpack://databoard/./node_modules/echarts/lib/coord/calendar/CalendarModel.js","webpack://databoard/./node_modules/echarts/lib/coord/calendar/prepareCustom.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/AxisModel.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/Cartesian.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/Cartesian2D.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/Axis2D.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/Grid.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/GridModel.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/cartesianAxisHelper.js","webpack://databoard/./node_modules/echarts/lib/coord/cartesian/prepareCustom.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport { makeInner } from '../util/model.js';\nimport { makeLabelFormatter, getOptionCategoryInterval, shouldShowAllLabels } from './axisHelper.js';\nvar inner = makeInner();\nexport function createAxisLabels(axis) {\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryLabels(axis) : makeRealNumberLabels(axis);\n}\n/**\n * @param {module:echats/coord/Axis} axis\n * @param {module:echarts/model/Model} tickModel For example, can be axisTick, splitLine, splitArea.\n * @return {Object} {\n *     ticks: Array.<number>\n *     tickCategoryInterval: number\n * }\n */\n\nexport function createAxisTicks(axis, tickModel) {\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryTicks(axis, tickModel) : {\n    ticks: zrUtil.map(axis.scale.getTicks(), function (tick) {\n      return tick.value;\n    })\n  };\n}\n\nfunction makeCategoryLabels(axis) {\n  var labelModel = axis.getLabelModel();\n  var result = makeCategoryLabelsActually(axis, labelModel);\n  return !labelModel.get('show') || axis.scale.isBlank() ? {\n    labels: [],\n    labelCategoryInterval: result.labelCategoryInterval\n  } : result;\n}\n\nfunction makeCategoryLabelsActually(axis, labelModel) {\n  var labelsCache = getListCache(axis, 'labels');\n  var optionLabelInterval = getOptionCategoryInterval(labelModel);\n  var result = listCacheGet(labelsCache, optionLabelInterval);\n\n  if (result) {\n    return result;\n  }\n\n  var labels;\n  var numericLabelInterval;\n\n  if (zrUtil.isFunction(optionLabelInterval)) {\n    labels = makeLabelsByCustomizedCategoryInterval(axis, optionLabelInterval);\n  } else {\n    numericLabelInterval = optionLabelInterval === 'auto' ? makeAutoCategoryInterval(axis) : optionLabelInterval;\n    labels = makeLabelsByNumericCategoryInterval(axis, numericLabelInterval);\n  } // Cache to avoid calling interval function repeatedly.\n\n\n  return listCacheSet(labelsCache, optionLabelInterval, {\n    labels: labels,\n    labelCategoryInterval: numericLabelInterval\n  });\n}\n\nfunction makeCategoryTicks(axis, tickModel) {\n  var ticksCache = getListCache(axis, 'ticks');\n  var optionTickInterval = getOptionCategoryInterval(tickModel);\n  var result = listCacheGet(ticksCache, optionTickInterval);\n\n  if (result) {\n    return result;\n  }\n\n  var ticks;\n  var tickCategoryInterval; // Optimize for the case that large category data and no label displayed,\n  // we should not return all ticks.\n\n  if (!tickModel.get('show') || axis.scale.isBlank()) {\n    ticks = [];\n  }\n\n  if (zrUtil.isFunction(optionTickInterval)) {\n    ticks = makeLabelsByCustomizedCategoryInterval(axis, optionTickInterval, true);\n  } // Always use label interval by default despite label show. Consider this\n  // scenario, Use multiple grid with the xAxis sync, and only one xAxis shows\n  // labels. `splitLine` and `axisTick` should be consistent in this case.\n  else if (optionTickInterval === 'auto') {\n      var labelsResult = makeCategoryLabelsActually(axis, axis.getLabelModel());\n      tickCategoryInterval = labelsResult.labelCategoryInterval;\n      ticks = zrUtil.map(labelsResult.labels, function (labelItem) {\n        return labelItem.tickValue;\n      });\n    } else {\n      tickCategoryInterval = optionTickInterval;\n      ticks = makeLabelsByNumericCategoryInterval(axis, tickCategoryInterval, true);\n    } // Cache to avoid calling interval function repeatedly.\n\n\n  return listCacheSet(ticksCache, optionTickInterval, {\n    ticks: ticks,\n    tickCategoryInterval: tickCategoryInterval\n  });\n}\n\nfunction makeRealNumberLabels(axis) {\n  var ticks = axis.scale.getTicks();\n  var labelFormatter = makeLabelFormatter(axis);\n  return {\n    labels: zrUtil.map(ticks, function (tick, idx) {\n      return {\n        level: tick.level,\n        formattedLabel: labelFormatter(tick, idx),\n        rawLabel: axis.scale.getLabel(tick),\n        tickValue: tick.value\n      };\n    })\n  };\n}\n\nfunction getListCache(axis, prop) {\n  // Because key can be a function, and cache size always is small, we use array cache.\n  return inner(axis)[prop] || (inner(axis)[prop] = []);\n}\n\nfunction listCacheGet(cache, key) {\n  for (var i = 0; i < cache.length; i++) {\n    if (cache[i].key === key) {\n      return cache[i].value;\n    }\n  }\n}\n\nfunction listCacheSet(cache, key, value) {\n  cache.push({\n    key: key,\n    value: value\n  });\n  return value;\n}\n\nfunction makeAutoCategoryInterval(axis) {\n  var result = inner(axis).autoInterval;\n  return result != null ? result : inner(axis).autoInterval = axis.calculateCategoryInterval();\n}\n/**\n * Calculate interval for category axis ticks and labels.\n * To get precise result, at least one of `getRotate` and `isHorizontal`\n * should be implemented in axis.\n */\n\n\nexport function calculateCategoryInterval(axis) {\n  var params = fetchAutoCategoryIntervalCalculationParams(axis);\n  var labelFormatter = makeLabelFormatter(axis);\n  var rotation = (params.axisRotate - params.labelRotate) / 180 * Math.PI;\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent(); // Providing this method is for optimization:\n  // avoid generating a long array by `getTicks`\n  // in large category data case.\n\n  var tickCount = ordinalScale.count();\n\n  if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n    return 0;\n  }\n\n  var step = 1; // Simple optimization. Empirical value: tick count should less than 40.\n\n  if (tickCount > 40) {\n    step = Math.max(1, Math.floor(tickCount / 40));\n  }\n\n  var tickValue = ordinalExtent[0];\n  var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n  var unitW = Math.abs(unitSpan * Math.cos(rotation));\n  var unitH = Math.abs(unitSpan * Math.sin(rotation));\n  var maxW = 0;\n  var maxH = 0; // Caution: Performance sensitive for large category data.\n  // Consider dataZoom, we should make appropriate step to avoid O(n) loop.\n\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    var width = 0;\n    var height = 0; // Not precise, do not consider align and vertical align\n    // and each distance from axis line yet.\n\n    var rect = textContain.getBoundingRect(labelFormatter({\n      value: tickValue\n    }), params.font, 'center', 'top'); // Magic number\n\n    width = rect.width * 1.3;\n    height = rect.height * 1.3; // Min size, void long loop.\n\n    maxW = Math.max(maxW, width, 7);\n    maxH = Math.max(maxH, height, 7);\n  }\n\n  var dw = maxW / unitW;\n  var dh = maxH / unitH; // 0/0 is NaN, 1/0 is Infinity.\n\n  isNaN(dw) && (dw = Infinity);\n  isNaN(dh) && (dh = Infinity);\n  var interval = Math.max(0, Math.floor(Math.min(dw, dh)));\n  var cache = inner(axis.model);\n  var axisExtent = axis.getExtent();\n  var lastAutoInterval = cache.lastAutoInterval;\n  var lastTickCount = cache.lastTickCount; // Use cache to keep interval stable while moving zoom window,\n  // otherwise the calculated interval might jitter when the zoom\n  // window size is close to the interval-changing size.\n  // For example, if all of the axis labels are `a, b, c, d, e, f, g`.\n  // The jitter will cause that sometimes the displayed labels are\n  // `a, d, g` (interval: 2) sometimes `a, c, e`(interval: 1).\n\n  if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1 // Always choose the bigger one, otherwise the critical\n  // point is not the same when zooming in or zooming out.\n  && lastAutoInterval > interval // If the axis change is caused by chart resize, the cache should not\n  // be used. Otherwise some hidden labels might not be shown again.\n  && cache.axisExtent0 === axisExtent[0] && cache.axisExtent1 === axisExtent[1]) {\n    interval = lastAutoInterval;\n  } // Only update cache if cache not used, otherwise the\n  // changing of interval is too insensitive.\n  else {\n      cache.lastTickCount = tickCount;\n      cache.lastAutoInterval = interval;\n      cache.axisExtent0 = axisExtent[0];\n      cache.axisExtent1 = axisExtent[1];\n    }\n\n  return interval;\n}\n\nfunction fetchAutoCategoryIntervalCalculationParams(axis) {\n  var labelModel = axis.getLabelModel();\n  return {\n    axisRotate: axis.getRotate ? axis.getRotate() : axis.isHorizontal && !axis.isHorizontal() ? 90 : 0,\n    labelRotate: labelModel.get('rotate') || 0,\n    font: labelModel.getFont()\n  };\n}\n\nfunction makeLabelsByNumericCategoryInterval(axis, categoryInterval, onlyTick) {\n  var labelFormatter = makeLabelFormatter(axis);\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent();\n  var labelModel = axis.getLabelModel();\n  var result = []; // TODO: axisType: ordinalTime, pick the tick from each month/day/year/...\n\n  var step = Math.max((categoryInterval || 0) + 1, 1);\n  var startTick = ordinalExtent[0];\n  var tickCount = ordinalScale.count(); // Calculate start tick based on zero if possible to keep label consistent\n  // while zooming and moving while interval > 0. Otherwise the selection\n  // of displayable ticks and symbols probably keep changing.\n  // 3 is empirical value.\n\n  if (startTick !== 0 && step > 1 && tickCount / step > 2) {\n    startTick = Math.round(Math.ceil(startTick / step) * step);\n  } // (1) Only add min max label here but leave overlap checking\n  // to render stage, which also ensure the returned list\n  // suitable for splitLine and splitArea rendering.\n  // (2) Scales except category always contain min max label so\n  // do not need to perform this process.\n\n\n  var showAllLabel = shouldShowAllLabels(axis);\n  var includeMinLabel = labelModel.get('showMinLabel') || showAllLabel;\n  var includeMaxLabel = labelModel.get('showMaxLabel') || showAllLabel;\n\n  if (includeMinLabel && startTick !== ordinalExtent[0]) {\n    addItem(ordinalExtent[0]);\n  } // Optimize: avoid generating large array by `ordinalScale.getTicks()`.\n\n\n  var tickValue = startTick;\n\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    addItem(tickValue);\n  }\n\n  if (includeMaxLabel && tickValue - step !== ordinalExtent[1]) {\n    addItem(ordinalExtent[1]);\n  }\n\n  function addItem(tickValue) {\n    var tickObj = {\n      value: tickValue\n    };\n    result.push(onlyTick ? tickValue : {\n      formattedLabel: labelFormatter(tickObj),\n      rawLabel: ordinalScale.getLabel(tickObj),\n      tickValue: tickValue\n    });\n  }\n\n  return result;\n}\n\nfunction makeLabelsByCustomizedCategoryInterval(axis, categoryInterval, onlyTick) {\n  var ordinalScale = axis.scale;\n  var labelFormatter = makeLabelFormatter(axis);\n  var result = [];\n  zrUtil.each(ordinalScale.getTicks(), function (tick) {\n    var rawLabel = ordinalScale.getLabel(tick);\n    var tickValue = tick.value;\n\n    if (categoryInterval(tick.value, rawLabel)) {\n      result.push(onlyTick ? tickValue : {\n        formattedLabel: labelFormatter(tick),\n        rawLabel: rawLabel,\n        tickValue: tickValue\n      });\n    }\n  });\n  return result;\n}","import \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, map } from 'zrender/lib/core/util.js';\nimport { linearMap, getPixelPrecision, round } from '../util/number.js';\nimport { createAxisTicks, createAxisLabels, calculateCategoryInterval } from './axisTickLabelBuilder.js';\nvar NORMALIZED_EXTENT = [0, 1];\n/**\n * Base class of Axis.\n */\n\nvar Axis = /** @class */\nfunction () {\n  function Axis(dim, scale, extent) {\n    this.onBand = false;\n    this.inverse = false;\n    this.dim = dim;\n    this.scale = scale;\n    this._extent = extent || [0, 0];\n  }\n  /**\n   * If axis extent contain given coord\n   */\n\n  Axis.prototype.contain = function (coord) {\n    var extent = this._extent;\n    var min = Math.min(extent[0], extent[1]);\n    var max = Math.max(extent[0], extent[1]);\n    return coord >= min && coord <= max;\n  };\n  /**\n   * If axis extent contain given data\n   */\n\n  Axis.prototype.containData = function (data) {\n    return this.scale.contain(data);\n  };\n  /**\n   * Get coord extent.\n   */\n\n  Axis.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Get precision used for formatting\n   */\n\n  Axis.prototype.getPixelPrecision = function (dataExtent) {\n    return getPixelPrecision(dataExtent || this.scale.getExtent(), this._extent);\n  };\n  /**\n   * Set coord extent\n   */\n\n  Axis.prototype.setExtent = function (start, end) {\n    var extent = this._extent;\n    extent[0] = start;\n    extent[1] = end;\n  };\n  /**\n   * Convert data to coord. Data is the rank if it has an ordinal scale\n   */\n\n  Axis.prototype.dataToCoord = function (data, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n    data = scale.normalize(data);\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n    return linearMap(data, NORMALIZED_EXTENT, extent, clamp);\n  };\n  /**\n   * Convert coord to data. Data is the rank if it has an ordinal scale\n   */\n\n  Axis.prototype.coordToData = function (coord, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n    var t = linearMap(coord, extent, NORMALIZED_EXTENT, clamp);\n    return this.scale.scale(t);\n  };\n  /**\n   * Convert pixel point to data in axis\n   */\n\n  Axis.prototype.pointToData = function (point, clamp) {\n    // Should be implemented in derived class if necessary.\n    return;\n  };\n  /**\n   * Different from `zrUtil.map(axis.getTicks(), axis.dataToCoord, axis)`,\n   * `axis.getTicksCoords` considers `onBand`, which is used by\n   * `boundaryGap:true` of category axis and splitLine and splitArea.\n   * @param opt.tickModel default: axis.model.getModel('axisTick')\n   * @param opt.clamp If `true`, the first and the last\n   *        tick must be at the axis end points. Otherwise, clip ticks\n   *        that outside the axis extent.\n   */\n\n  Axis.prototype.getTicksCoords = function (opt) {\n    opt = opt || {};\n    var tickModel = opt.tickModel || this.getTickModel();\n    var result = createAxisTicks(this, tickModel);\n    var ticks = result.ticks;\n    var ticksCoords = map(ticks, function (tickVal) {\n      return {\n        coord: this.dataToCoord(this.scale.type === 'ordinal' ? this.scale.getRawOrdinalNumber(tickVal) : tickVal),\n        tickValue: tickVal\n      };\n    }, this);\n    var alignWithLabel = tickModel.get('alignWithLabel');\n    fixOnBandTicksCoords(this, ticksCoords, alignWithLabel, opt.clamp);\n    return ticksCoords;\n  };\n  Axis.prototype.getMinorTicksCoords = function () {\n    if (this.scale.type === 'ordinal') {\n      // Category axis doesn't support minor ticks\n      return [];\n    }\n    var minorTickModel = this.model.getModel('minorTick');\n    var splitNumber = minorTickModel.get('splitNumber'); // Protection.\n\n    if (!(splitNumber > 0 && splitNumber < 100)) {\n      splitNumber = 5;\n    }\n    var minorTicks = this.scale.getMinorTicks(splitNumber);\n    var minorTicksCoords = map(minorTicks, function (minorTicksGroup) {\n      return map(minorTicksGroup, function (minorTick) {\n        return {\n          coord: this.dataToCoord(minorTick),\n          tickValue: minorTick\n        };\n      }, this);\n    }, this);\n    return minorTicksCoords;\n  };\n  Axis.prototype.getViewLabels = function () {\n    return createAxisLabels(this).labels;\n  };\n  Axis.prototype.getLabelModel = function () {\n    return this.model.getModel('axisLabel');\n  };\n  /**\n   * Notice here we only get the default tick model. For splitLine\n   * or splitArea, we should pass the splitLineModel or splitAreaModel\n   * manually when calling `getTicksCoords`.\n   * In GL, this method may be overridden to:\n   * `axisModel.getModel('axisTick', grid3DModel.getModel('axisTick'));`\n   */\n\n  Axis.prototype.getTickModel = function () {\n    return this.model.getModel('axisTick');\n  };\n  /**\n   * Get width of band\n   */\n\n  Axis.prototype.getBandWidth = function () {\n    var axisExtent = this._extent;\n    var dataExtent = this.scale.getExtent();\n    var len = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0); // Fix #2728, avoid NaN when only one data.\n\n    len === 0 && (len = 1);\n    var size = Math.abs(axisExtent[1] - axisExtent[0]);\n    return Math.abs(size) / len;\n  };\n  /**\n   * Only be called in category axis.\n   * Can be overridden, consider other axes like in 3D.\n   * @return Auto interval for cateogry axis tick and label\n   */\n\n  Axis.prototype.calculateCategoryInterval = function () {\n    return calculateCategoryInterval(this);\n  };\n  return Axis;\n}();\nfunction fixExtentWithBands(extent, nTick) {\n  var size = extent[1] - extent[0];\n  var len = nTick;\n  var margin = size / len / 2;\n  extent[0] += margin;\n  extent[1] -= margin;\n} // If axis has labels [1, 2, 3, 4]. Bands on the axis are\n// |---1---|---2---|---3---|---4---|.\n// So the displayed ticks and splitLine/splitArea should between\n// each data item, otherwise cause misleading (e.g., split tow bars\n// of a single data item when there are two bar series).\n// Also consider if tickCategoryInterval > 0 and onBand, ticks and\n// splitLine/spliteArea should layout appropriately corresponding\n// to displayed labels. (So we should not use `getBandWidth` in this\n// case).\n\nfunction fixOnBandTicksCoords(axis, ticksCoords, alignWithLabel, clamp) {\n  var ticksLen = ticksCoords.length;\n  if (!axis.onBand || alignWithLabel || !ticksLen) {\n    return;\n  }\n  var axisExtent = axis.getExtent();\n  var last;\n  var diffSize;\n  if (ticksLen === 1) {\n    ticksCoords[0].coord = axisExtent[0];\n    last = ticksCoords[1] = {\n      coord: axisExtent[0]\n    };\n  } else {\n    var crossLen = ticksCoords[ticksLen - 1].tickValue - ticksCoords[0].tickValue;\n    var shift_1 = (ticksCoords[ticksLen - 1].coord - ticksCoords[0].coord) / crossLen;\n    each(ticksCoords, function (ticksItem) {\n      ticksItem.coord -= shift_1 / 2;\n    });\n    var dataExtent = axis.scale.getExtent();\n    diffSize = 1 + dataExtent[1] - ticksCoords[ticksLen - 1].tickValue;\n    last = {\n      coord: ticksCoords[ticksLen - 1].coord + shift_1 * diffSize\n    };\n    ticksCoords.push(last);\n  }\n  var inverse = axisExtent[0] > axisExtent[1]; // Handling clamp.\n\n  if (littleThan(ticksCoords[0].coord, axisExtent[0])) {\n    clamp ? ticksCoords[0].coord = axisExtent[0] : ticksCoords.shift();\n  }\n  if (clamp && littleThan(axisExtent[0], ticksCoords[0].coord)) {\n    ticksCoords.unshift({\n      coord: axisExtent[0]\n    });\n  }\n  if (littleThan(axisExtent[1], last.coord)) {\n    clamp ? last.coord = axisExtent[1] : ticksCoords.pop();\n  }\n  if (clamp && littleThan(last.coord, axisExtent[1])) {\n    ticksCoords.push({\n      coord: axisExtent[1]\n    });\n  }\n  function littleThan(a, b) {\n    // Avoid rounding error cause calculated tick coord different with extent.\n    // It may cause an extra unnecessary tick added.\n    a = round(a);\n    b = round(b);\n    return inverse ? a > b : a < b;\n  }\n}\nexport default Axis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function isCoordinateSystemType(coordSys, type) {\n  return coordSys.type === type;\n}","import \"core-js/modules/es.function.name.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Simple view coordinate system\n * Mapping given x, y to transformd view x, y\n */\n\nimport * as vector from 'zrender/lib/core/vector.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport Transformable from 'zrender/lib/core/Transformable.js';\nimport { parsePercent } from '../util/number.js';\nvar v2ApplyTransform = vector.applyTransform;\nvar View = /** @class */\nfunction (_super) {\n  __extends(View, _super);\n  function View(name) {\n    var _this = _super.call(this) || this;\n    _this.type = 'view';\n    _this.dimensions = ['x', 'y'];\n    /**\n     * Represents the transform brought by roam/zoom.\n     * If `View['_viewRect']` applies roam transform,\n     * we can get the final displayed rect.\n     */\n\n    _this._roamTransformable = new Transformable();\n    /**\n     * Represents the transform from `View['_rect']` to `View['_viewRect']`.\n     */\n\n    _this._rawTransformable = new Transformable();\n    _this.name = name;\n    return _this;\n  }\n  View.prototype.setBoundingRect = function (x, y, width, height) {\n    this._rect = new BoundingRect(x, y, width, height);\n    return this._rect;\n  };\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n\n  View.prototype.getBoundingRect = function () {\n    return this._rect;\n  };\n  View.prototype.setViewRect = function (x, y, width, height) {\n    this._transformTo(x, y, width, height);\n    this._viewRect = new BoundingRect(x, y, width, height);\n  };\n  /**\n   * Transformed to particular position and size\n   */\n\n  View.prototype._transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var rawTransform = this._rawTransformable;\n    rawTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    var rawParent = rawTransform.parent;\n    rawTransform.parent = null;\n    rawTransform.decomposeTransform();\n    rawTransform.parent = rawParent;\n    this._updateTransform();\n  };\n  /**\n   * Set center of view\n   */\n\n  View.prototype.setCenter = function (centerCoord, api) {\n    if (!centerCoord) {\n      return;\n    }\n    this._center = [parsePercent(centerCoord[0], api.getWidth()), parsePercent(centerCoord[1], api.getHeight())];\n    this._updateCenterAndZoom();\n  };\n  View.prototype.setZoom = function (zoom) {\n    zoom = zoom || 1;\n    var zoomLimit = this.zoomLimit;\n    if (zoomLimit) {\n      if (zoomLimit.max != null) {\n        zoom = Math.min(zoomLimit.max, zoom);\n      }\n      if (zoomLimit.min != null) {\n        zoom = Math.max(zoomLimit.min, zoom);\n      }\n    }\n    this._zoom = zoom;\n    this._updateCenterAndZoom();\n  };\n  /**\n   * Get default center without roam\n   */\n\n  View.prototype.getDefaultCenter = function () {\n    // Rect before any transform\n    var rawRect = this.getBoundingRect();\n    var cx = rawRect.x + rawRect.width / 2;\n    var cy = rawRect.y + rawRect.height / 2;\n    return [cx, cy];\n  };\n  View.prototype.getCenter = function () {\n    return this._center || this.getDefaultCenter();\n  };\n  View.prototype.getZoom = function () {\n    return this._zoom || 1;\n  };\n  View.prototype.getRoamTransform = function () {\n    return this._roamTransformable.getLocalTransform();\n  };\n  /**\n   * Remove roam\n   */\n\n  View.prototype._updateCenterAndZoom = function () {\n    // Must update after view transform updated\n    var rawTransformMatrix = this._rawTransformable.getLocalTransform();\n    var roamTransform = this._roamTransformable;\n    var defaultCenter = this.getDefaultCenter();\n    var center = this.getCenter();\n    var zoom = this.getZoom();\n    center = vector.applyTransform([], center, rawTransformMatrix);\n    defaultCenter = vector.applyTransform([], defaultCenter, rawTransformMatrix);\n    roamTransform.originX = center[0];\n    roamTransform.originY = center[1];\n    roamTransform.x = defaultCenter[0] - center[0];\n    roamTransform.y = defaultCenter[1] - center[1];\n    roamTransform.scaleX = roamTransform.scaleY = zoom;\n    this._updateTransform();\n  };\n  /**\n   * Update transform props on `this` based on the current\n   * `this._roamTransformable` and `this._rawTransformable`.\n   */\n\n  View.prototype._updateTransform = function () {\n    var roamTransformable = this._roamTransformable;\n    var rawTransformable = this._rawTransformable;\n    rawTransformable.parent = roamTransformable;\n    roamTransformable.updateTransform();\n    rawTransformable.updateTransform();\n    matrix.copy(this.transform || (this.transform = []), rawTransformable.transform || matrix.create());\n    this._rawTransform = rawTransformable.getLocalTransform();\n    this.invTransform = this.invTransform || [];\n    matrix.invert(this.invTransform, this.transform);\n    this.decomposeTransform();\n  };\n  View.prototype.getTransformInfo = function () {\n    var rawTransformable = this._rawTransformable;\n    var roamTransformable = this._roamTransformable; // Because roamTransformabel has `originX/originY` modified,\n    // but the caller of `getTransformInfo` can not handle `originX/originY`,\n    // so need to recalculate them.\n\n    var dummyTransformable = new Transformable();\n    dummyTransformable.transform = roamTransformable.transform;\n    dummyTransformable.decomposeTransform();\n    return {\n      roam: {\n        x: dummyTransformable.x,\n        y: dummyTransformable.y,\n        scaleX: dummyTransformable.scaleX,\n        scaleY: dummyTransformable.scaleY\n      },\n      raw: {\n        x: rawTransformable.x,\n        y: rawTransformable.y,\n        scaleX: rawTransformable.scaleX,\n        scaleY: rawTransformable.scaleY\n      }\n    };\n  };\n  View.prototype.getViewRect = function () {\n    return this._viewRect;\n  };\n  /**\n   * Get view rect after roam transform\n   */\n\n  View.prototype.getViewRectAfterRoam = function () {\n    var rect = this.getBoundingRect().clone();\n    rect.applyTransform(this.transform);\n    return rect;\n  };\n  /**\n   * Convert a single (lon, lat) data item to (x, y) point.\n   */\n\n  View.prototype.dataToPoint = function (data, noRoam, out) {\n    var transform = noRoam ? this._rawTransform : this.transform;\n    out = out || [];\n    return transform ? v2ApplyTransform(out, data, transform) : vector.copy(out, data);\n  };\n  /**\n   * Convert a (x, y) point to (lon, lat) data\n   */\n\n  View.prototype.pointToData = function (point) {\n    var invTransform = this.invTransform;\n    return invTransform ? v2ApplyTransform([], point, invTransform) : [point[0], point[1]];\n  };\n  View.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  View.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  /**\n   * @implements\n   */\n\n  View.prototype.containPoint = function (point) {\n    return this.getViewRectAfterRoam().contain(point[0], point[1]);\n  };\n  View.dimensions = ['x', 'y'];\n  return View;\n}(Transformable);\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  return seriesModel ? seriesModel.coordinateSystem : null; // e.g., graph.\n}\n\nexport default View;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getPrecisionSafe, round } from '../util/number.js';\nimport IntervalScale from '../scale/Interval.js';\nimport { getScaleExtent } from './axisHelper.js';\nimport { warn } from '../util/log.js';\nimport { increaseInterval, isValueNice } from '../scale/helper.js';\nvar mathLog = Math.log;\nexport function alignScaleTicks(scale, axisModel, alignToScale) {\n  var intervalScaleProto = IntervalScale.prototype; // NOTE: There is a precondition for log scale  here:\n  // In log scale we store _interval and _extent of exponent value.\n  // So if we use the method of InternalScale to set/get these data.\n  // It process the exponent value, which is linear and what we want here.\n\n  var alignToTicks = intervalScaleProto.getTicks.call(alignToScale);\n  var alignToNicedTicks = intervalScaleProto.getTicks.call(alignToScale, true);\n  var alignToSplitNumber = alignToTicks.length - 1;\n  var alignToInterval = intervalScaleProto.getInterval.call(alignToScale);\n  var scaleExtent = getScaleExtent(scale, axisModel);\n  var rawExtent = scaleExtent.extent;\n  var isMinFixed = scaleExtent.fixMin;\n  var isMaxFixed = scaleExtent.fixMax;\n\n  if (scale.type === 'log') {\n    var logBase = mathLog(scale.base);\n    rawExtent = [mathLog(rawExtent[0]) / logBase, mathLog(rawExtent[1]) / logBase];\n  }\n\n  scale.setExtent(rawExtent[0], rawExtent[1]);\n  scale.calcNiceExtent({\n    splitNumber: alignToSplitNumber,\n    fixMin: isMinFixed,\n    fixMax: isMaxFixed\n  });\n  var extent = intervalScaleProto.getExtent.call(scale); // Need to update the rawExtent.\n  // Because value in rawExtent may be not parsed. e.g. 'dataMin', 'dataMax'\n\n  if (isMinFixed) {\n    rawExtent[0] = extent[0];\n  }\n\n  if (isMaxFixed) {\n    rawExtent[1] = extent[1];\n  }\n\n  var interval = intervalScaleProto.getInterval.call(scale);\n  var min = rawExtent[0];\n  var max = rawExtent[1];\n\n  if (isMinFixed && isMaxFixed) {\n    // User set min, max, divide to get new interval\n    interval = (max - min) / alignToSplitNumber;\n  } else if (isMinFixed) {\n    max = rawExtent[0] + interval * alignToSplitNumber; // User set min, expand extent on the other side\n\n    while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1])) {\n      interval = increaseInterval(interval);\n      max = rawExtent[0] + interval * alignToSplitNumber;\n    }\n  } else if (isMaxFixed) {\n    // User set max, expand extent on the other side\n    min = rawExtent[1] - interval * alignToSplitNumber;\n\n    while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0])) {\n      interval = increaseInterval(interval);\n      min = rawExtent[1] - interval * alignToSplitNumber;\n    }\n  } else {\n    var nicedSplitNumber = scale.getTicks().length - 1;\n\n    if (nicedSplitNumber > alignToSplitNumber) {\n      interval = increaseInterval(interval);\n    }\n\n    var range = interval * alignToSplitNumber;\n    max = Math.ceil(rawExtent[1] / interval) * interval;\n    min = round(max - range); // Not change the result that crossing zero.\n\n    if (min < 0 && rawExtent[0] >= 0) {\n      min = 0;\n      max = round(range);\n    } else if (max > 0 && rawExtent[1] <= 0) {\n      max = 0;\n      min = -round(range);\n    }\n  } // Adjust min, max based on the extent of alignTo. When min or max is set in alignTo scale\n\n\n  var t0 = (alignToTicks[0].value - alignToNicedTicks[0].value) / alignToInterval;\n  var t1 = (alignToTicks[alignToSplitNumber].value - alignToNicedTicks[alignToSplitNumber].value) / alignToInterval; // NOTE: Must in setExtent -> setInterval -> setNiceExtent order.\n\n  intervalScaleProto.setExtent.call(scale, min + interval * t0, max + interval * t1);\n  intervalScaleProto.setInterval.call(scale, interval);\n\n  if (t0 || t1) {\n    intervalScaleProto.setNiceExtent.call(scale, min + interval, max - interval);\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    var ticks = intervalScaleProto.getTicks.call(scale);\n\n    if (ticks[1] && (!isValueNice(interval) || getPrecisionSafe(ticks[1].value) > getPrecisionSafe(interval))) {\n      warn( // eslint-disable-next-line\n      \"The ticks may be not readable when set min: \" + axisModel.get('min') + \", max: \" + axisModel.get('max') + \" and alignTicks: true\");\n    }\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar defaultOption = {\n  show: true,\n  // zlevel: 0,\n  z: 0,\n  // Inverse the axis.\n  inverse: false,\n  // Axis name displayed.\n  name: '',\n  // 'start' | 'middle' | 'end'\n  nameLocation: 'end',\n  // By degree. By default auto rotate by nameLocation.\n  nameRotate: null,\n  nameTruncate: {\n    maxWidth: null,\n    ellipsis: '...',\n    placeholder: '.'\n  },\n  // Use global text style by default.\n  nameTextStyle: {},\n  // The gap between axisName and axisLine.\n  nameGap: 15,\n  // Default `false` to support tooltip.\n  silent: false,\n  // Default `false` to avoid legacy user event listener fail.\n  triggerEvent: false,\n  tooltip: {\n    show: false\n  },\n  axisPointer: {},\n  axisLine: {\n    show: true,\n    onZero: true,\n    onZeroAxisIndex: null,\n    lineStyle: {\n      color: '#6E7079',\n      width: 1,\n      type: 'solid'\n    },\n    // The arrow at both ends the the axis.\n    symbol: ['none', 'none'],\n    symbolSize: [10, 15]\n  },\n  axisTick: {\n    show: true,\n    // Whether axisTick is inside the grid or outside the grid.\n    inside: false,\n    // The length of axisTick.\n    length: 5,\n    lineStyle: {\n      width: 1\n    }\n  },\n  axisLabel: {\n    show: true,\n    // Whether axisLabel is inside the grid or outside the grid.\n    inside: false,\n    rotate: 0,\n    // true | false | null/undefined (auto)\n    showMinLabel: null,\n    // true | false | null/undefined (auto)\n    showMaxLabel: null,\n    margin: 8,\n    // formatter: null,\n    fontSize: 12\n  },\n  splitLine: {\n    show: true,\n    lineStyle: {\n      color: ['#E0E6F1'],\n      width: 1,\n      type: 'solid'\n    }\n  },\n  splitArea: {\n    show: false,\n    areaStyle: {\n      color: ['rgba(250,250,250,0.2)', 'rgba(210,219,238,0.2)']\n    }\n  }\n};\nvar categoryAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For categoryAxis, boolean.\n  boundaryGap: true,\n  // Set false to faster category collection.\n  deduplication: null,\n  // splitArea: {\n  // show: false\n  // },\n  splitLine: {\n    show: false\n  },\n  axisTick: {\n    // If tick is align with label when boundaryGap is true\n    alignWithLabel: false,\n    interval: 'auto'\n  },\n  axisLabel: {\n    interval: 'auto'\n  }\n}, defaultOption);\nvar valueAxis = zrUtil.merge({\n  boundaryGap: [0, 0],\n  axisLine: {\n    // Not shown when other axis is categoryAxis in cartesian\n    show: 'auto'\n  },\n  axisTick: {\n    // Not shown when other axis is categoryAxis in cartesian\n    show: 'auto'\n  },\n  // TODO\n  // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\n  splitNumber: 5,\n  minorTick: {\n    // Minor tick, not available for cateogry axis.\n    show: false,\n    // Split number of minor ticks. The value should be in range of (0, 100)\n    splitNumber: 5,\n    // Length of minor tick\n    length: 3,\n    // Line style\n    lineStyle: {// Default to be same with axisTick\n    }\n  },\n  minorSplitLine: {\n    show: false,\n    lineStyle: {\n      color: '#F4F7FD',\n      width: 1\n    }\n  }\n}, defaultOption);\nvar timeAxis = zrUtil.merge({\n  splitNumber: 6,\n  axisLabel: {\n    // To eliminate labels that are not nice\n    showMinLabel: false,\n    showMaxLabel: false,\n    rich: {\n      primary: {\n        fontWeight: 'bold'\n      }\n    }\n  },\n  splitLine: {\n    show: false\n  }\n}, valueAxis);\nvar logAxis = zrUtil.defaults({\n  logBase: 10\n}, valueAxis);\nexport default {\n  category: categoryAxis,\n  value: valueAxis,\n  time: timeAxis,\n  log: logAxis\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport OrdinalScale from '../scale/Ordinal.js';\nimport IntervalScale from '../scale/Interval.js';\nimport Scale from '../scale/Scale.js';\nimport { prepareLayoutBarSeries, makeColumnLayout, retrieveColumnLayout } from '../layout/barGrid.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport TimeScale from '../scale/Time.js';\nimport LogScale from '../scale/Log.js';\nimport { getStackedDimension } from '../data/helper/dataStackHelper.js';\nimport { ensureScaleRawExtentInfo } from './scaleRawExtentInfo.js';\n/**\n * Get axis scale extent before niced.\n * Item of returned array can only be number (including Infinity and NaN).\n *\n * Caution:\n * Precondition of calling this method:\n * The scale extent has been initialized using series data extent via\n * `scale.setExtent` or `scale.unionExtentFromData`;\n */\n\nexport function getScaleExtent(scale, model) {\n  var scaleType = scale.type;\n  var rawExtentResult = ensureScaleRawExtentInfo(scale, model, scale.getExtent()).calculate();\n  scale.setBlank(rawExtentResult.isBlank);\n  var min = rawExtentResult.min;\n  var max = rawExtentResult.max; // If bars are placed on a base axis of type time or interval account for axis boundary overflow and current axis\n  // is base axis\n  // FIXME\n  // (1) Consider support value axis, where below zero and axis `onZero` should be handled properly.\n  // (2) Refactor the logic with `barGrid`. Is it not need to `makeBarWidthAndOffsetInfo` twice with different extent?\n  //     Should not depend on series type `bar`?\n  // (3) Fix that might overlap when using dataZoom.\n  // (4) Consider other chart types using `barGrid`?\n  // See #6728, #4862, `test/bar-overflow-time-plot.html`\n\n  var ecModel = model.ecModel;\n\n  if (ecModel && scaleType === 'time'\n  /* || scaleType === 'interval' */\n  ) {\n    var barSeriesModels = prepareLayoutBarSeries('bar', ecModel);\n    var isBaseAxisAndHasBarSeries_1 = false;\n    zrUtil.each(barSeriesModels, function (seriesModel) {\n      isBaseAxisAndHasBarSeries_1 = isBaseAxisAndHasBarSeries_1 || seriesModel.getBaseAxis() === model.axis;\n    });\n\n    if (isBaseAxisAndHasBarSeries_1) {\n      // Calculate placement of bars on axis. TODO should be decoupled\n      // with barLayout\n      var barWidthAndOffset = makeColumnLayout(barSeriesModels); // Adjust axis min and max to account for overflow\n\n      var adjustedScale = adjustScaleForOverflow(min, max, model, barWidthAndOffset);\n      min = adjustedScale.min;\n      max = adjustedScale.max;\n    }\n  }\n\n  return {\n    extent: [min, max],\n    // \"fix\" means \"fixed\", the value should not be\n    // changed in the subsequent steps.\n    fixMin: rawExtentResult.minFixed,\n    fixMax: rawExtentResult.maxFixed\n  };\n}\n\nfunction adjustScaleForOverflow(min, max, model, // Only support cartesian coord yet.\nbarWidthAndOffset) {\n  // Get Axis Length\n  var axisExtent = model.axis.getExtent();\n  var axisLength = axisExtent[1] - axisExtent[0]; // Get bars on current base axis and calculate min and max overflow\n\n  var barsOnCurrentAxis = retrieveColumnLayout(barWidthAndOffset, model.axis);\n\n  if (barsOnCurrentAxis === undefined) {\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  var minOverflow = Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    minOverflow = Math.min(item.offset, minOverflow);\n  });\n  var maxOverflow = -Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    maxOverflow = Math.max(item.offset + item.width, maxOverflow);\n  });\n  minOverflow = Math.abs(minOverflow);\n  maxOverflow = Math.abs(maxOverflow);\n  var totalOverFlow = minOverflow + maxOverflow; // Calculate required buffer based on old range and overflow\n\n  var oldRange = max - min;\n  var oldRangePercentOfNew = 1 - (minOverflow + maxOverflow) / axisLength;\n  var overflowBuffer = oldRange / oldRangePercentOfNew - oldRange;\n  max += overflowBuffer * (maxOverflow / totalOverFlow);\n  min -= overflowBuffer * (minOverflow / totalOverFlow);\n  return {\n    min: min,\n    max: max\n  };\n} // Precondition of calling this method:\n// The scale extent has been initialized using series data extent via\n// `scale.setExtent` or `scale.unionExtentFromData`;\n\n\nexport function niceScaleExtent(scale, inModel) {\n  var model = inModel;\n  var extentInfo = getScaleExtent(scale, model);\n  var extent = extentInfo.extent;\n  var splitNumber = model.get('splitNumber');\n\n  if (scale instanceof LogScale) {\n    scale.base = model.get('logBase');\n  }\n\n  var scaleType = scale.type;\n  var interval = model.get('interval');\n  var isIntervalOrTime = scaleType === 'interval' || scaleType === 'time';\n  scale.setExtent(extent[0], extent[1]);\n  scale.calcNiceExtent({\n    splitNumber: splitNumber,\n    fixMin: extentInfo.fixMin,\n    fixMax: extentInfo.fixMax,\n    minInterval: isIntervalOrTime ? model.get('minInterval') : null,\n    maxInterval: isIntervalOrTime ? model.get('maxInterval') : null\n  }); // If some one specified the min, max. And the default calculated interval\n  // is not good enough. He can specify the interval. It is often appeared\n  // in angle axis with angle 0 - 360. Interval calculated in interval scale is hard\n  // to be 60.\n  // FIXME\n\n  if (interval != null) {\n    scale.setInterval && scale.setInterval(interval);\n  }\n}\n/**\n * @param axisType Default retrieve from model.type\n */\n\nexport function createScaleByModel(model, axisType) {\n  axisType = axisType || model.get('type');\n\n  if (axisType) {\n    switch (axisType) {\n      // Buildin scale\n      case 'category':\n        return new OrdinalScale({\n          ordinalMeta: model.getOrdinalMeta ? model.getOrdinalMeta() : model.getCategories(),\n          extent: [Infinity, -Infinity]\n        });\n\n      case 'time':\n        return new TimeScale({\n          locale: model.ecModel.getLocaleModel(),\n          useUTC: model.ecModel.get('useUTC')\n        });\n\n      default:\n        // case 'value'/'interval', 'log', or others.\n        return new (Scale.getClass(axisType) || IntervalScale)();\n    }\n  }\n}\n/**\n * Check if the axis cross 0\n */\n\nexport function ifAxisCrossZero(axis) {\n  var dataExtent = axis.scale.getExtent();\n  var min = dataExtent[0];\n  var max = dataExtent[1];\n  return !(min > 0 && max > 0 || min < 0 && max < 0);\n}\n/**\n * @param axis\n * @return Label formatter function.\n *         param: {number} tickValue,\n *         param: {number} idx, the index in all ticks.\n *                         If category axis, this param is not required.\n *         return: {string} label string.\n */\n\nexport function makeLabelFormatter(axis) {\n  var labelFormatter = axis.getLabelModel().get('formatter');\n  var categoryTickStart = axis.type === 'category' ? axis.scale.getExtent()[0] : null;\n\n  if (axis.scale.type === 'time') {\n    return function (tpl) {\n      return function (tick, idx) {\n        return axis.scale.getFormattedLabel(tick, idx, tpl);\n      };\n    }(labelFormatter);\n  } else if (zrUtil.isString(labelFormatter)) {\n    return function (tpl) {\n      return function (tick) {\n        // For category axis, get raw value; for numeric axis,\n        // get formatted label like '1,333,444'.\n        var label = axis.scale.getLabel(tick);\n        var text = tpl.replace('{value}', label != null ? label : '');\n        return text;\n      };\n    }(labelFormatter);\n  } else if (zrUtil.isFunction(labelFormatter)) {\n    return function (cb) {\n      return function (tick, idx) {\n        // The original intention of `idx` is \"the index of the tick in all ticks\".\n        // But the previous implementation of category axis do not consider the\n        // `axisLabel.interval`, which cause that, for example, the `interval` is\n        // `1`, then the ticks \"name5\", \"name7\", \"name9\" are displayed, where the\n        // corresponding `idx` are `0`, `2`, `4`, but not `0`, `1`, `2`. So we keep\n        // the definition here for back compatibility.\n        if (categoryTickStart != null) {\n          idx = tick.value - categoryTickStart;\n        }\n\n        return cb(getAxisRawValue(axis, tick), idx, tick.level != null ? {\n          level: tick.level\n        } : null);\n      };\n    }(labelFormatter);\n  } else {\n    return function (tick) {\n      return axis.scale.getLabel(tick);\n    };\n  }\n}\nexport function getAxisRawValue(axis, tick) {\n  // In category axis with data zoom, tick is not the original\n  // index of axis.data. So tick should not be exposed to user\n  // in category axis.\n  return axis.type === 'category' ? axis.scale.getLabel(tick) : tick.value;\n}\n/**\n * @param axis\n * @return Be null/undefined if no labels.\n */\n\nexport function estimateLabelUnionRect(axis) {\n  var axisModel = axis.model;\n  var scale = axis.scale;\n\n  if (!axisModel.get(['axisLabel', 'show']) || scale.isBlank()) {\n    return;\n  }\n\n  var realNumberScaleTicks;\n  var tickCount;\n  var categoryScaleExtent = scale.getExtent(); // Optimize for large category data, avoid call `getTicks()`.\n\n  if (scale instanceof OrdinalScale) {\n    tickCount = scale.count();\n  } else {\n    realNumberScaleTicks = scale.getTicks();\n    tickCount = realNumberScaleTicks.length;\n  }\n\n  var axisLabelModel = axis.getLabelModel();\n  var labelFormatter = makeLabelFormatter(axis);\n  var rect;\n  var step = 1; // Simple optimization for large amount of labels\n\n  if (tickCount > 40) {\n    step = Math.ceil(tickCount / 40);\n  }\n\n  for (var i = 0; i < tickCount; i += step) {\n    var tick = realNumberScaleTicks ? realNumberScaleTicks[i] : {\n      value: categoryScaleExtent[0] + i\n    };\n    var label = labelFormatter(tick, i);\n    var unrotatedSingleRect = axisLabelModel.getTextRect(label);\n    var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n    rect ? rect.union(singleRect) : rect = singleRect;\n  }\n\n  return rect;\n}\n\nfunction rotateTextRect(textRect, rotate) {\n  var rotateRadians = rotate * Math.PI / 180;\n  var beforeWidth = textRect.width;\n  var beforeHeight = textRect.height;\n  var afterWidth = beforeWidth * Math.abs(Math.cos(rotateRadians)) + Math.abs(beforeHeight * Math.sin(rotateRadians));\n  var afterHeight = beforeWidth * Math.abs(Math.sin(rotateRadians)) + Math.abs(beforeHeight * Math.cos(rotateRadians));\n  var rotatedRect = new BoundingRect(textRect.x, textRect.y, afterWidth, afterHeight);\n  return rotatedRect;\n}\n/**\n * @param model axisLabelModel or axisTickModel\n * @return {number|String} Can be null|'auto'|number|function\n */\n\n\nexport function getOptionCategoryInterval(model) {\n  var interval = model.get('interval');\n  return interval == null ? 'auto' : interval;\n}\n/**\n * Set `categoryInterval` as 0 implicitly indicates that\n * show all labels regardless of overlap.\n * @param {Object} axis axisModel.axis\n */\n\nexport function shouldShowAllLabels(axis) {\n  return axis.type === 'category' && getOptionCategoryInterval(axis.getLabelModel()) === 0;\n}\nexport function getDataDimensionsOnAxis(data, axisDim) {\n  // Remove duplicated dat dimensions caused by `getStackedDimension`.\n  var dataDimMap = {}; // Currently `mapDimensionsAll` will contain stack result dimension ('__\\0ecstackresult').\n  // PENDING: is it reasonable? Do we need to remove the original dim from \"coord dim\" since\n  // there has been stacked result dim?\n\n  zrUtil.each(data.mapDimensionsAll(axisDim), function (dataDim) {\n    // For example, the extent of the original dimension\n    // is [0.1, 0.5], the extent of the `stackResultDimension`\n    // is [7, 9], the final extent should NOT include [0.1, 0.5],\n    // because there is no graphic corresponding to [0.1, 0.5].\n    // See the case in `test/area-stack.html` `main1`, where area line\n    // stack needs `yAxis` not start from 0.\n    dataDimMap[getStackedDimension(data, dataDim)] = true;\n  });\n  return zrUtil.keys(dataDimMap);\n}\nexport function unionAxisExtentFromData(dataExtent, data, axisDim) {\n  if (data) {\n    zrUtil.each(getDataDimensionsOnAxis(data, axisDim), function (dim) {\n      var seriesExtent = data.getApproximateExtent(dim);\n      seriesExtent[0] < dataExtent[0] && (dataExtent[0] = seriesExtent[0]);\n      seriesExtent[1] > dataExtent[1] && (dataExtent[1] = seriesExtent[1]);\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar AxisModelCommonMixin =\n/** @class */\nfunction () {\n  function AxisModelCommonMixin() {}\n\n  AxisModelCommonMixin.prototype.getNeedCrossZero = function () {\n    var option = this.option;\n    return !option.scale;\n  };\n  /**\n   * Should be implemented by each axis model if necessary.\n   * @return coordinate system model\n   */\n\n\n  AxisModelCommonMixin.prototype.getCoordSysModel = function () {\n    return;\n  };\n\n  return AxisModelCommonMixin;\n}();\n\nexport { AxisModelCommonMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport var AXIS_TYPES = {\n  value: 1,\n  category: 1,\n  time: 1,\n  log: 1\n};","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport axisDefault from './axisDefault.js';\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout.js';\nimport OrdinalMeta from '../data/OrdinalMeta.js';\nimport { AXIS_TYPES } from './axisCommonTypes.js';\nimport { each, merge } from 'zrender/lib/core/util.js';\n/**\n * Generate sub axis model class\n * @param axisName 'x' 'y' 'radius' 'angle' 'parallel' ...\n */\n\nexport default function axisModelCreator(registers, axisName, BaseAxisModelClass, extraDefaultOption) {\n  each(AXIS_TYPES, function (v, axisType) {\n    var defaultOption = merge(merge({}, axisDefault[axisType], true), extraDefaultOption, true);\n    var AxisModel = /** @class */\n    function (_super) {\n      __extends(AxisModel, _super);\n      function AxisModel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = axisName + 'Axis.' + axisType;\n        return _this;\n      }\n      AxisModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n        var layoutMode = fetchLayoutMode(this);\n        var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n        var themeModel = ecModel.getTheme();\n        merge(option, themeModel.get(axisType + 'Axis'));\n        merge(option, this.getDefaultOption());\n        option.type = getAxisType(option);\n        if (layoutMode) {\n          mergeLayoutParam(option, inputPositionParams, layoutMode);\n        }\n      };\n      AxisModel.prototype.optionUpdated = function () {\n        var thisOption = this.option;\n        if (thisOption.type === 'category') {\n          this.__ordinalMeta = OrdinalMeta.createByAxisModel(this);\n        }\n      };\n      /**\n       * Should not be called before all of 'getInitailData' finished.\n       * Because categories are collected during initializing data.\n       */\n\n      AxisModel.prototype.getCategories = function (rawData) {\n        var option = this.option; // FIXME\n        // warning if called before all of 'getInitailData' finished.\n\n        if (option.type === 'category') {\n          if (rawData) {\n            return option.data;\n          }\n          return this.__ordinalMeta.categories;\n        }\n      };\n      AxisModel.prototype.getOrdinalMeta = function () {\n        return this.__ordinalMeta;\n      };\n      AxisModel.type = axisName + 'Axis.' + axisType;\n      AxisModel.defaultOption = defaultOption;\n      return AxisModel;\n    }(BaseAxisModelClass);\n    registers.registerComponentModel(AxisModel);\n  });\n  registers.registerSubTypeDefaulter(axisName + 'Axis', getAxisType);\n}\nfunction getAxisType(option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js'; // (24*60*60*1000)\n\nvar PROXIMATE_ONE_DAY = 86400000;\n\nvar Calendar =\n/** @class */\nfunction () {\n  function Calendar(calendarModel, ecModel, api) {\n    this.type = 'calendar';\n    this.dimensions = Calendar.dimensions; // Required in createListFromData\n\n    this.getDimensionsInfo = Calendar.getDimensionsInfo;\n    this._model = calendarModel;\n  }\n\n  Calendar.getDimensionsInfo = function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }, 'value'];\n  };\n\n  Calendar.prototype.getRangeInfo = function () {\n    return this._rangeInfo;\n  };\n\n  Calendar.prototype.getModel = function () {\n    return this._model;\n  };\n\n  Calendar.prototype.getRect = function () {\n    return this._rect;\n  };\n\n  Calendar.prototype.getCellWidth = function () {\n    return this._sw;\n  };\n\n  Calendar.prototype.getCellHeight = function () {\n    return this._sh;\n  };\n\n  Calendar.prototype.getOrient = function () {\n    return this._orient;\n  };\n  /**\n   * getFirstDayOfWeek\n   *\n   * @example\n   *     0 : start at Sunday\n   *     1 : start at Monday\n   *\n   * @return {number}\n   */\n\n\n  Calendar.prototype.getFirstDayOfWeek = function () {\n    return this._firstDayOfWeek;\n  };\n  /**\n   * get date info\n   * }\n   */\n\n\n  Calendar.prototype.getDateInfo = function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    var mStr = m < 10 ? '0' + m : '' + m;\n    var d = date.getDate();\n    var dStr = d < 10 ? '0' + d : '' + d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y + '',\n      m: mStr,\n      d: dStr,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + mStr + '-' + dStr,\n      date: date\n    };\n  };\n\n  Calendar.prototype.getNextNDay = function (date, n) {\n    n = n || 0;\n\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  };\n\n  Calendar.prototype.update = function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n\n    var cellSize = this._model.getCellSize().slice();\n\n    var layoutParams = this._model.getBoxLayoutParams();\n\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    } // Has been calculated out number.\n\n\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  };\n  /**\n   * Convert a time data(time, value) item to (x, y) point.\n   */\n  // TODO Clamp of calendar is not same with cartesian coordinate systems.\n  // It will return NaN if data exceeds.\n\n\n  Calendar.prototype.dataToPoint = function (data, clamp) {\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate; // if not in range return [NaN, NaN]\n\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time < range.end.time + PROXIMATE_ONE_DAY)) {\n      return [NaN, NaN];\n    }\n\n    var week = dayInfo.day;\n\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n\n    if (this._orient === 'vertical') {\n      return [this._rect.x + week * this._sw + this._sw / 2, this._rect.y + nthWeek * this._sh + this._sh / 2];\n    }\n\n    return [this._rect.x + nthWeek * this._sw + this._sw / 2, this._rect.y + week * this._sh + this._sh / 2];\n  };\n  /**\n   * Convert a (x, y) point to time data\n   */\n\n\n  Calendar.prototype.pointToData = function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  };\n  /**\n   * Convert a time date item to (x, y) four point.\n   */\n\n\n  Calendar.prototype.dataToRect = function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      contentShape: {\n        x: point[0] - (this._sw - this._lineWidth) / 2,\n        y: point[1] - (this._sh - this._lineWidth) / 2,\n        width: this._sw - this._lineWidth,\n        height: this._sh - this._lineWidth\n      },\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  };\n  /**\n   * Convert a (x, y) point to time date\n   *\n   * @param  {Array} point point\n   * @return {Object}       date\n   */\n\n\n  Calendar.prototype.pointToDate = function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  };\n\n  Calendar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n\n  Calendar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n\n  Calendar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n  /**\n   * initRange\n   * Normalize to an [start, end] array\n   */\n\n\n  Calendar.prototype._initRangeOption = function () {\n    var range = this._model.get('range');\n\n    var normalizedRange; // Convert [1990] to 1990\n\n    if (zrUtil.isArray(range) && range.length === 1) {\n      range = range[0];\n    }\n\n    if (!zrUtil.isArray(range)) {\n      var rangeStr = range.toString(); // One year.\n\n      if (/^\\d{4}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr + '-01-01', rangeStr + '-12-31'];\n      } // One month\n\n\n      if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        var start = this.getDateInfo(rangeStr);\n        var firstDay = start.date;\n        firstDay.setMonth(firstDay.getMonth() + 1);\n        var end = this.getNextNDay(firstDay, -1);\n        normalizedRange = [start.formatedDate, end.formatedDate];\n      } // One day\n\n\n      if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr, rangeStr];\n      }\n    } else {\n      normalizedRange = range;\n    }\n\n    if (!normalizedRange) {\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.logError('Invalid date range.');\n      } // Not handling it.\n\n\n      return range;\n    }\n\n    var tmp = this._getRangeInfo(normalizedRange);\n\n    if (tmp.start.time > tmp.end.time) {\n      normalizedRange.reverse();\n    }\n\n    return normalizedRange;\n  };\n  /**\n   * range info\n   *\n   * @private\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\n   *  If range[0] > range[1], they will not be reversed.\n   * @return {Object}       obj\n   */\n\n\n  Calendar.prototype._getRangeInfo = function (range) {\n    var parsedRange = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n\n    if (parsedRange[0].time > parsedRange[1].time) {\n      reversed = true;\n      parsedRange.reverse();\n    }\n\n    var allDay = Math.floor(parsedRange[1].time / PROXIMATE_ONE_DAY) - Math.floor(parsedRange[0].time / PROXIMATE_ONE_DAY) + 1; // Consider case1 (#11677 #10430):\n    // Set the system timezone as \"UK\", set the range to `['2016-07-01', '2016-12-31']`\n    // Consider case2:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // let first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // let second = new Date(1478412000000);\n    // let allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n\n    var date = new Date(parsedRange[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = parsedRange[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1); // The bias can not over a month, so just compare date.\n\n    var dateNum = date.getDate();\n\n    if (dateNum !== endDateNum) {\n      var sign = date.getTime() - parsedRange[1].time > 0 ? 1 : -1;\n\n      while ((dateNum = date.getDate()) !== endDateNum && (date.getTime() - parsedRange[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(dateNum - sign);\n      }\n    }\n\n    var weeks = Math.floor((allDay + parsedRange[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && parsedRange.reverse();\n    return {\n      range: [parsedRange[0].formatedDate, parsedRange[1].formatedDate],\n      start: parsedRange[0],\n      end: parsedRange[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: parsedRange[0].day,\n      lweek: parsedRange[1].day\n    };\n  };\n  /**\n   * get date by nthWeeks and week day in range\n   *\n   * @private\n   * @param  {number} nthWeek the week\n   * @param  {number} day   the week day\n   * @param  {Array} range [d1, d2]\n   * @return {Object}\n   */\n\n\n  Calendar.prototype._getDateByWeeksAndDay = function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return null;\n    }\n\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(+rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  };\n\n  Calendar.create = function (ecModel, api) {\n    var calendarList = [];\n    ecModel.eachComponent('calendar', function (calendarModel) {\n      var calendar = new Calendar(calendarModel, ecModel, api);\n      calendarList.push(calendar);\n      calendarModel.coordinateSystem = calendar;\n    });\n    ecModel.eachSeries(function (calendarSeries) {\n      if (calendarSeries.get('coordinateSystem') === 'calendar') {\n        // Inject coordinate system\n        calendarSeries.coordinateSystem = calendarList[calendarSeries.get('calendarIndex') || 0];\n      }\n    });\n    return calendarList;\n  };\n\n  Calendar.dimensions = ['time', 'value'];\n  return Calendar;\n}();\n\nfunction getCoordSys(finder) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys;\n}\n\nexport default Calendar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getLayoutParams, sizeCalculable, mergeLayoutParam } from '../../util/layout.js';\n\nvar CalendarModel =\n/** @class */\nfunction (_super) {\n  __extends(CalendarModel, _super);\n\n  function CalendarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CalendarModel.type;\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  CalendarModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n\n    _super.prototype.init.apply(this, arguments);\n\n    mergeAndNormalizeLayoutParams(option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n\n\n  CalendarModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n\n    mergeAndNormalizeLayoutParams(this.option, option);\n  };\n\n  CalendarModel.prototype.getCellSize = function () {\n    // Has been normalized\n    return this.option.cellSize;\n  };\n\n  CalendarModel.type = 'calendar';\n  CalendarModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    left: 80,\n    top: 60,\n    cellSize: 20,\n    // horizontal vertical\n    orient: 'horizontal',\n    // month separate line style\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: '#000',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // rect style  temporarily unused emphasis\n    itemStyle: {\n      color: '#fff',\n      borderWidth: 1,\n      borderColor: '#ccc'\n    },\n    // week text style\n    dayLabel: {\n      show: true,\n      firstDay: 0,\n      // start end\n      position: 'start',\n      margin: '50%',\n      color: '#000'\n    },\n    // month text style\n    monthLabel: {\n      show: true,\n      // start end\n      position: 'start',\n      margin: 5,\n      // center or left\n      align: 'center',\n      formatter: null,\n      color: '#000'\n    },\n    // year text style\n    yearLabel: {\n      show: true,\n      // top bottom left right\n      position: null,\n      margin: 30,\n      formatter: null,\n      color: '#ccc',\n      fontFamily: 'sans-serif',\n      fontWeight: 'bolder',\n      fontSize: 20\n    }\n  };\n  return CalendarModel;\n}(ComponentModel);\n\nfunction mergeAndNormalizeLayoutParams(target, raw) {\n  // Normalize cellSize\n  var cellSize = target.cellSize;\n  var cellSizeArr;\n\n  if (!zrUtil.isArray(cellSize)) {\n    cellSizeArr = target.cellSize = [cellSize, cellSize];\n  } else {\n    cellSizeArr = cellSize;\n  }\n\n  if (cellSizeArr.length === 1) {\n    cellSizeArr[1] = cellSizeArr[0];\n  }\n\n  var ignoreSize = zrUtil.map([0, 1], function (hvIdx) {\n    // If user have set `width` or both `left` and `right`, cellSizeArr\n    // will be automatically set to 'auto', otherwise the default\n    // setting of cellSizeArr will make `width` setting not work.\n    if (sizeCalculable(raw, hvIdx)) {\n      cellSizeArr[hvIdx] = 'auto';\n    }\n\n    return cellSizeArr[hvIdx] != null && cellSizeArr[hvIdx] !== 'auto';\n  });\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\n\nexport default CalendarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function calendarPrepareCustom(coordSys) {\n  var rect = coordSys.getRect();\n  var rangeInfo = coordSys.getRangeInfo();\n  return {\n    coordSys: {\n      type: 'calendar',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n      cellWidth: coordSys.getCellWidth(),\n      cellHeight: coordSys.getCellHeight(),\n      rangeInfo: {\n        start: rangeInfo.start,\n        end: rangeInfo.end,\n        weeks: rangeInfo.weeks,\n        dayCount: rangeInfo.allDay\n      }\n    },\n    api: {\n      coord: function (data, clamp) {\n        return coordSys.dataToPoint(data, clamp);\n      }\n    }\n  };\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { AxisModelCommonMixin } from '../axisModelCommonMixin.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nvar CartesianAxisModel = /** @class */\nfunction (_super) {\n  __extends(CartesianAxisModel, _super);\n  function CartesianAxisModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  CartesianAxisModel.prototype.getCoordSysModel = function () {\n    return this.getReferringComponents('grid', SINGLE_REFERRING).models[0];\n  };\n  CartesianAxisModel.type = 'cartesian2dAxis';\n  return CartesianAxisModel;\n}(ComponentModel);\nexport { CartesianAxisModel };\nzrUtil.mixin(CartesianAxisModel, AxisModelCommonMixin);\nexport default CartesianAxisModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\n\nvar Cartesian =\n/** @class */\nfunction () {\n  function Cartesian(name) {\n    this.type = 'cartesian';\n    this._dimList = [];\n    this._axes = {};\n    this.name = name || '';\n  }\n\n  Cartesian.prototype.getAxis = function (dim) {\n    return this._axes[dim];\n  };\n\n  Cartesian.prototype.getAxes = function () {\n    return zrUtil.map(this._dimList, function (dim) {\n      return this._axes[dim];\n    }, this);\n  };\n\n  Cartesian.prototype.getAxesByScale = function (scaleType) {\n    scaleType = scaleType.toLowerCase();\n    return zrUtil.filter(this.getAxes(), function (axis) {\n      return axis.scale.type === scaleType;\n    });\n  };\n\n  Cartesian.prototype.addAxis = function (axis) {\n    var dim = axis.dim;\n    this._axes[dim] = axis;\n\n    this._dimList.push(dim);\n  };\n\n  return Cartesian;\n}();\n\n;\nexport default Cartesian;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport Cartesian from './Cartesian.js';\nimport { invert } from 'zrender/lib/core/matrix.js';\nimport { applyTransform } from 'zrender/lib/core/vector.js';\nexport var cartesian2DDimensions = ['x', 'y'];\n\nfunction canCalculateAffineTransform(scale) {\n  return scale.type === 'interval' || scale.type === 'time';\n}\n\nvar Cartesian2D =\n/** @class */\nfunction (_super) {\n  __extends(Cartesian2D, _super);\n\n  function Cartesian2D() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'cartesian2d';\n    _this.dimensions = cartesian2DDimensions;\n    return _this;\n  }\n  /**\n   * Calculate an affine transform matrix if two axes are time or value.\n   * It's mainly for accelartion on the large time series data.\n   */\n\n\n  Cartesian2D.prototype.calcAffineTransform = function () {\n    this._transform = this._invTransform = null;\n    var xAxisScale = this.getAxis('x').scale;\n    var yAxisScale = this.getAxis('y').scale;\n\n    if (!canCalculateAffineTransform(xAxisScale) || !canCalculateAffineTransform(yAxisScale)) {\n      return;\n    }\n\n    var xScaleExtent = xAxisScale.getExtent();\n    var yScaleExtent = yAxisScale.getExtent();\n    var start = this.dataToPoint([xScaleExtent[0], yScaleExtent[0]]);\n    var end = this.dataToPoint([xScaleExtent[1], yScaleExtent[1]]);\n    var xScaleSpan = xScaleExtent[1] - xScaleExtent[0];\n    var yScaleSpan = yScaleExtent[1] - yScaleExtent[0];\n\n    if (!xScaleSpan || !yScaleSpan) {\n      return;\n    } // Accelerate data to point calculation on the special large time series data.\n\n\n    var scaleX = (end[0] - start[0]) / xScaleSpan;\n    var scaleY = (end[1] - start[1]) / yScaleSpan;\n    var translateX = start[0] - xScaleExtent[0] * scaleX;\n    var translateY = start[1] - yScaleExtent[0] * scaleY;\n    var m = this._transform = [scaleX, 0, 0, scaleY, translateX, translateY];\n    this._invTransform = invert([], m);\n  };\n  /**\n   * Base axis will be used on stacking.\n   */\n\n\n  Cartesian2D.prototype.getBaseAxis = function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n  };\n\n  Cartesian2D.prototype.containPoint = function (point) {\n    var axisX = this.getAxis('x');\n    var axisY = this.getAxis('y');\n    return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n  };\n\n  Cartesian2D.prototype.containData = function (data) {\n    return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n  };\n\n  Cartesian2D.prototype.containZone = function (data1, data2) {\n    var zoneDiag1 = this.dataToPoint(data1);\n    var zoneDiag2 = this.dataToPoint(data2);\n    var area = this.getArea();\n    var zone = new BoundingRect(zoneDiag1[0], zoneDiag1[1], zoneDiag2[0] - zoneDiag1[0], zoneDiag2[1] - zoneDiag1[1]);\n    return area.intersect(zone);\n  };\n\n  Cartesian2D.prototype.dataToPoint = function (data, clamp, out) {\n    out = out || [];\n    var xVal = data[0];\n    var yVal = data[1]; // Fast path\n\n    if (this._transform // It's supported that if data is like `[Inifity, 123]`, where only Y pixel calculated.\n    && xVal != null && isFinite(xVal) && yVal != null && isFinite(yVal)) {\n      return applyTransform(out, data, this._transform);\n    }\n\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(xVal, clamp));\n    out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(yVal, clamp));\n    return out;\n  };\n\n  Cartesian2D.prototype.clampData = function (data, out) {\n    var xScale = this.getAxis('x').scale;\n    var yScale = this.getAxis('y').scale;\n    var xAxisExtent = xScale.getExtent();\n    var yAxisExtent = yScale.getExtent();\n    var x = xScale.parse(data[0]);\n    var y = yScale.parse(data[1]);\n    out = out || [];\n    out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\n    out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\n    return out;\n  };\n\n  Cartesian2D.prototype.pointToData = function (point, clamp) {\n    var out = [];\n\n    if (this._invTransform) {\n      return applyTransform(out, point, this._invTransform);\n    }\n\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]), clamp);\n    out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]), clamp);\n    return out;\n  };\n\n  Cartesian2D.prototype.getOtherAxis = function (axis) {\n    return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n  };\n  /**\n   * Get rect area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   */\n\n\n  Cartesian2D.prototype.getArea = function () {\n    var xExtent = this.getAxis('x').getGlobalExtent();\n    var yExtent = this.getAxis('y').getGlobalExtent();\n    var x = Math.min(xExtent[0], xExtent[1]);\n    var y = Math.min(yExtent[0], yExtent[1]);\n    var width = Math.max(xExtent[0], xExtent[1]) - x;\n    var height = Math.max(yExtent[0], yExtent[1]) - y;\n    return new BoundingRect(x, y, width, height);\n  };\n\n  return Cartesian2D;\n}(Cartesian);\n\n;\nexport default Cartesian2D;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../Axis.js';\n\nvar Axis2D =\n/** @class */\nfunction (_super) {\n  __extends(Axis2D, _super);\n\n  function Axis2D(dim, scale, coordExtent, axisType, position) {\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\n    /**\n     * Index of axis, can be used as key\n     * Injected outside.\n     */\n\n\n    _this.index = 0;\n    _this.type = axisType || 'value';\n    _this.position = position || 'bottom';\n    return _this;\n  }\n\n  Axis2D.prototype.isHorizontal = function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  };\n  /**\n   * Each item cooresponds to this.getExtent(), which\n   * means globalExtent[0] may greater than globalExtent[1],\n   * unless `asc` is input.\n   *\n   * @param {boolean} [asc]\n   * @return {Array.<number>}\n   */\n\n\n  Axis2D.prototype.getGlobalExtent = function (asc) {\n    var ret = this.getExtent();\n    ret[0] = this.toGlobalCoord(ret[0]);\n    ret[1] = this.toGlobalCoord(ret[1]);\n    asc && ret[0] > ret[1] && ret.reverse();\n    return ret;\n  };\n\n  Axis2D.prototype.pointToData = function (point, clamp) {\n    return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n  };\n  /**\n   * Set ordinalSortInfo\n   * @param info new OrdinalSortInfo\n   */\n\n\n  Axis2D.prototype.setCategorySortInfo = function (info) {\n    if (this.type !== 'category') {\n      return false;\n    }\n\n    this.model.option.categorySortInfo = info;\n    this.scale.setSortInfo(info);\n  };\n\n  return Axis2D;\n}(Axis);\n\nexport default Axis2D;","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.error.cause.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Grid is a region which contains at most 4 cartesian systems\n *\n * TODO Default cartesian\n */\nimport { isObject, each, indexOf, retrieve3, keys } from 'zrender/lib/core/util.js';\nimport { getLayoutRect } from '../../util/layout.js';\nimport { createScaleByModel, ifAxisCrossZero, niceScaleExtent, estimateLabelUnionRect, getDataDimensionsOnAxis } from '../../coord/axisHelper.js';\nimport Cartesian2D, { cartesian2DDimensions } from './Cartesian2D.js';\nimport Axis2D from './Axis2D.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nimport { isCartesian2DSeries, findAxisModels } from './cartesianAxisHelper.js';\nimport { isIntervalOrLogScale } from '../../scale/helper.js';\nimport { alignScaleTicks } from '../axisAlignTicks.js';\nvar Grid = /** @class */\nfunction () {\n  function Grid(gridModel, ecModel, api) {\n    // FIXME:TS where used (different from registered type 'cartesian2d')?\n    this.type = 'grid';\n    this._coordsMap = {};\n    this._coordsList = [];\n    this._axesMap = {};\n    this._axesList = [];\n    this.axisPointerEnabled = true;\n    this.dimensions = cartesian2DDimensions;\n    this._initCartesian(gridModel, ecModel, api);\n    this.model = gridModel;\n  }\n  Grid.prototype.getRect = function () {\n    return this._rect;\n  };\n  Grid.prototype.update = function (ecModel, api) {\n    var axesMap = this._axesMap;\n    this._updateScale(ecModel, this.model);\n    function updateAxisTicks(axes) {\n      var alignTo; // Axis is added in order of axisIndex.\n\n      var axesIndices = keys(axes);\n      var len = axesIndices.length;\n      if (!len) {\n        return;\n      }\n      var axisNeedsAlign = []; // Process once and calculate the ticks for those don't use alignTicks.\n\n      for (var i = len - 1; i >= 0; i--) {\n        var idx = +axesIndices[i]; // Convert to number.\n\n        var axis = axes[idx];\n        var model = axis.model;\n        var scale = axis.scale;\n        if (\n        // Only value and log axis without interval support alignTicks.\n        isIntervalOrLogScale(scale) && model.get('alignTicks') && model.get('interval') == null) {\n          axisNeedsAlign.push(axis);\n        } else {\n          niceScaleExtent(scale, model);\n          if (isIntervalOrLogScale(scale)) {\n            // Can only align to interval or log axis.\n            alignTo = axis;\n          }\n        }\n      }\n      ; // All axes has set alignTicks. Pick the first one.\n      // PENDING. Should we find the axis that both set interval, min, max and align to this one?\n\n      if (axisNeedsAlign.length) {\n        if (!alignTo) {\n          alignTo = axisNeedsAlign.pop();\n          niceScaleExtent(alignTo.scale, alignTo.model);\n        }\n        each(axisNeedsAlign, function (axis) {\n          alignScaleTicks(axis.scale, axis.model, alignTo.scale);\n        });\n      }\n    }\n    updateAxisTicks(axesMap.x);\n    updateAxisTicks(axesMap.y); // Key: axisDim_axisIndex, value: boolean, whether onZero target.\n\n    var onZeroRecords = {};\n    each(axesMap.x, function (xAxis) {\n      fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\n    });\n    each(axesMap.y, function (yAxis) {\n      fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\n    }); // Resize again if containLabel is enabled\n    // FIXME It may cause getting wrong grid size in data processing stage\n\n    this.resize(this.model, api);\n  };\n  /**\n   * Resize the grid\n   */\n\n  Grid.prototype.resize = function (gridModel, api, ignoreContainLabel) {\n    var boxLayoutParams = gridModel.getBoxLayoutParams();\n    var isContainLabel = !ignoreContainLabel && gridModel.get('containLabel');\n    var gridRect = getLayoutRect(boxLayoutParams, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    this._rect = gridRect;\n    var axesList = this._axesList;\n    adjustAxes(); // Minus label size\n\n    if (isContainLabel) {\n      each(axesList, function (axis) {\n        if (!axis.model.get(['axisLabel', 'inside'])) {\n          var labelUnionRect = estimateLabelUnionRect(axis);\n          if (labelUnionRect) {\n            var dim = axis.isHorizontal() ? 'height' : 'width';\n            var margin = axis.model.get(['axisLabel', 'margin']);\n            gridRect[dim] -= labelUnionRect[dim] + margin;\n            if (axis.position === 'top') {\n              gridRect.y += labelUnionRect.height + margin;\n            } else if (axis.position === 'left') {\n              gridRect.x += labelUnionRect.width + margin;\n            }\n          }\n        }\n      });\n      adjustAxes();\n    }\n    each(this._coordsList, function (coord) {\n      // Calculate affine matrix to accelerate the data to point transform.\n      // If all the axes scales are time or value.\n      coord.calcAffineTransform();\n    });\n    function adjustAxes() {\n      each(axesList, function (axis) {\n        var isHorizontal = axis.isHorizontal();\n        var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n        var idx = axis.inverse ? 1 : 0;\n        axis.setExtent(extent[idx], extent[1 - idx]);\n        updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);\n      });\n    }\n  };\n  Grid.prototype.getAxis = function (dim, axisIndex) {\n    var axesMapOnDim = this._axesMap[dim];\n    if (axesMapOnDim != null) {\n      return axesMapOnDim[axisIndex || 0];\n    }\n  };\n  Grid.prototype.getAxes = function () {\n    return this._axesList.slice();\n  };\n  Grid.prototype.getCartesian = function (xAxisIndex, yAxisIndex) {\n    if (xAxisIndex != null && yAxisIndex != null) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      return this._coordsMap[key];\n    }\n    if (isObject(xAxisIndex)) {\n      yAxisIndex = xAxisIndex.yAxisIndex;\n      xAxisIndex = xAxisIndex.xAxisIndex;\n    }\n    for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n      if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n        return coordList[i];\n      }\n    }\n  };\n  Grid.prototype.getCartesians = function () {\n    return this._coordsList.slice();\n  };\n  /**\n   * @implements\n   */\n\n  Grid.prototype.convertToPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(finder);\n    return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n  };\n  /**\n   * @implements\n   */\n\n  Grid.prototype.convertFromPixel = function (ecModel, finder, value) {\n    var target = this._findConvertTarget(finder);\n    return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n  };\n  Grid.prototype._findConvertTarget = function (finder) {\n    var seriesModel = finder.seriesModel;\n    var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis', SINGLE_REFERRING).models[0];\n    var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis', SINGLE_REFERRING).models[0];\n    var gridModel = finder.gridModel;\n    var coordsList = this._coordsList;\n    var cartesian;\n    var axis;\n    if (seriesModel) {\n      cartesian = seriesModel.coordinateSystem;\n      indexOf(coordsList, cartesian) < 0 && (cartesian = null);\n    } else if (xAxisModel && yAxisModel) {\n      cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    } else if (xAxisModel) {\n      axis = this.getAxis('x', xAxisModel.componentIndex);\n    } else if (yAxisModel) {\n      axis = this.getAxis('y', yAxisModel.componentIndex);\n    } // Lowest priority.\n    else if (gridModel) {\n      var grid = gridModel.coordinateSystem;\n      if (grid === this) {\n        cartesian = this._coordsList[0];\n      }\n    }\n    return {\n      cartesian: cartesian,\n      axis: axis\n    };\n  };\n  /**\n   * @implements\n   */\n\n  Grid.prototype.containPoint = function (point) {\n    var coord = this._coordsList[0];\n    if (coord) {\n      return coord.containPoint(point);\n    }\n  };\n  /**\n   * Initialize cartesian coordinate systems\n   */\n\n  Grid.prototype._initCartesian = function (gridModel, ecModel, api) {\n    var _this = this;\n    var grid = this;\n    var axisPositionUsed = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false\n    };\n    var axesMap = {\n      x: {},\n      y: {}\n    };\n    var axesCount = {\n      x: 0,\n      y: 0\n    }; // Create axis\n\n    ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n    ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n    if (!axesCount.x || !axesCount.y) {\n      // Roll back when there no either x or y axis\n      this._axesMap = {};\n      this._axesList = [];\n      return;\n    }\n    this._axesMap = axesMap; // Create cartesian2d\n\n    each(axesMap.x, function (xAxis, xAxisIndex) {\n      each(axesMap.y, function (yAxis, yAxisIndex) {\n        var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n        var cartesian = new Cartesian2D(key);\n        cartesian.master = _this;\n        cartesian.model = gridModel;\n        _this._coordsMap[key] = cartesian;\n        _this._coordsList.push(cartesian);\n        cartesian.addAxis(xAxis);\n        cartesian.addAxis(yAxis);\n      });\n    });\n    function createAxisCreator(dimName) {\n      return function (axisModel, idx) {\n        if (!isAxisUsedInTheGrid(axisModel, gridModel)) {\n          return;\n        }\n        var axisPosition = axisModel.get('position');\n        if (dimName === 'x') {\n          // Fix position\n          if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n            // Default bottom of X\n            axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\n          }\n        } else {\n          // Fix position\n          if (axisPosition !== 'left' && axisPosition !== 'right') {\n            // Default left of Y\n            axisPosition = axisPositionUsed.left ? 'right' : 'left';\n          }\n        }\n        axisPositionUsed[axisPosition] = true;\n        var axis = new Axis2D(dimName, createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n        var isCategory = axis.type === 'category';\n        axis.onBand = isCategory && axisModel.get('boundaryGap');\n        axis.inverse = axisModel.get('inverse'); // Inject axis into axisModel\n\n        axisModel.axis = axis; // Inject axisModel into axis\n\n        axis.model = axisModel; // Inject grid info axis\n\n        axis.grid = grid; // Index of axis, can be used as key\n\n        axis.index = idx;\n        grid._axesList.push(axis);\n        axesMap[dimName][idx] = axis;\n        axesCount[dimName]++;\n      };\n    }\n  };\n  /**\n   * Update cartesian properties from series.\n   */\n\n  Grid.prototype._updateScale = function (ecModel, gridModel) {\n    // Reset scale\n    each(this._axesList, function (axis) {\n      axis.scale.setExtent(Infinity, -Infinity);\n      if (axis.type === 'category') {\n        var categorySortInfo = axis.model.get('categorySortInfo');\n        axis.scale.setSortInfo(categorySortInfo);\n      }\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      if (isCartesian2DSeries(seriesModel)) {\n        var axesModelMap = findAxisModels(seriesModel);\n        var xAxisModel = axesModelMap.xAxisModel;\n        var yAxisModel = axesModelMap.yAxisModel;\n        if (!isAxisUsedInTheGrid(xAxisModel, gridModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel)) {\n          return;\n        }\n        var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n        var data = seriesModel.getData();\n        var xAxis = cartesian.getAxis('x');\n        var yAxis = cartesian.getAxis('y');\n        unionExtent(data, xAxis);\n        unionExtent(data, yAxis);\n      }\n    }, this);\n    function unionExtent(data, axis) {\n      each(getDataDimensionsOnAxis(data, axis.dim), function (dim) {\n        axis.scale.unionExtentFromData(data, dim);\n      });\n    }\n  };\n  /**\n   * @param dim 'x' or 'y' or 'auto' or null/undefined\n   */\n\n  Grid.prototype.getTooltipAxes = function (dim) {\n    var baseAxes = [];\n    var otherAxes = [];\n    each(this.getCartesians(), function (cartesian) {\n      var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n      var otherAxis = cartesian.getOtherAxis(baseAxis);\n      indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n      indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n    });\n    return {\n      baseAxes: baseAxes,\n      otherAxes: otherAxes\n    };\n  };\n  Grid.create = function (ecModel, api) {\n    var grids = [];\n    ecModel.eachComponent('grid', function (gridModel, idx) {\n      var grid = new Grid(gridModel, ecModel, api);\n      grid.name = 'grid_' + idx; // dataSampling requires axis extent, so resize\n      // should be performed in create stage.\n\n      grid.resize(gridModel, api, true);\n      gridModel.coordinateSystem = grid;\n      grids.push(grid);\n    }); // Inject the coordinateSystems into seriesModel\n\n    ecModel.eachSeries(function (seriesModel) {\n      if (!isCartesian2DSeries(seriesModel)) {\n        return;\n      }\n      var axesModelMap = findAxisModels(seriesModel);\n      var xAxisModel = axesModelMap.xAxisModel;\n      var yAxisModel = axesModelMap.yAxisModel;\n      var gridModel = xAxisModel.getCoordSysModel();\n      if (process.env.NODE_ENV !== 'production') {\n        if (!gridModel) {\n          throw new Error('Grid \"' + retrieve3(xAxisModel.get('gridIndex'), xAxisModel.get('gridId'), 0) + '\" not found');\n        }\n        if (xAxisModel.getCoordSysModel() !== yAxisModel.getCoordSysModel()) {\n          throw new Error('xAxis and yAxis must use the same grid');\n        }\n      }\n      var grid = gridModel.coordinateSystem;\n      seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n    });\n    return grids;\n  }; // For deciding which dimensions to use when creating list data\n\n  Grid.dimensions = cartesian2DDimensions;\n  return Grid;\n}();\n/**\n * Check if the axis is used in the specified grid.\n */\n\nfunction isAxisUsedInTheGrid(axisModel, gridModel) {\n  return axisModel.getCoordSysModel() === gridModel;\n}\nfunction fixAxisOnZero(axesMap, otherAxisDim, axis,\n// Key: see `getOnZeroRecordKey`\nonZeroRecords) {\n  axis.getAxesOnZeroOf = function () {\n    // TODO: onZero of multiple axes.\n    return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\n  }; // onZero can not be enabled in these two situations:\n  // 1. When any other axis is a category axis.\n  // 2. When no axis is cross 0 point.\n\n  var otherAxes = axesMap[otherAxisDim];\n  var otherAxisOnZeroOf;\n  var axisModel = axis.model;\n  var onZero = axisModel.get(['axisLine', 'onZero']);\n  var onZeroAxisIndex = axisModel.get(['axisLine', 'onZeroAxisIndex']);\n  if (!onZero) {\n    return;\n  } // If target axis is specified.\n\n  if (onZeroAxisIndex != null) {\n    if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\n      otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\n    }\n  } else {\n    // Find the first available other axis.\n    for (var idx in otherAxes) {\n      if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx]) // Consider that two Y axes on one value axis,\n      // if both onZero, the two Y axes overlap.\n      && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\n        otherAxisOnZeroOf = otherAxes[idx];\n        break;\n      }\n    }\n  }\n  if (otherAxisOnZeroOf) {\n    onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\n  }\n  function getOnZeroRecordKey(axis) {\n    return axis.dim + '_' + axis.index;\n  }\n}\nfunction canOnZeroToAxis(axis) {\n  return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero(axis);\n}\nfunction updateAxisTransform(axis, coordBase) {\n  var axisExtent = axis.getExtent();\n  var axisExtentSum = axisExtent[0] + axisExtent[1]; // Fast transform\n\n  axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n    return coord + coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n  axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n    return coord - coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n}\nexport default Grid;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nvar GridModel = /** @class */\nfunction (_super) {\n  __extends(GridModel, _super);\n  function GridModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  GridModel.type = 'grid';\n  GridModel.dependencies = ['xAxis', 'yAxis'];\n  GridModel.layoutMode = 'box';\n  GridModel.defaultOption = {\n    show: false,\n    // zlevel: 0,\n    z: 0,\n    left: '10%',\n    top: 60,\n    right: '10%',\n    bottom: 70,\n    // If grid size contain label\n    containLabel: false,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderWidth: 1,\n    borderColor: '#ccc'\n  };\n  return GridModel;\n}(ComponentModel);\nexport default GridModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\n/**\n * Can only be called after coordinate system creation stage.\n * (Can be called before coordinate system update stage).\n */\n\nexport function layout(gridModel, axisModel, opt) {\n  opt = opt || {};\n  var grid = gridModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];\n  var rawAxisPosition = axis.position;\n  var axisPosition = otherAxisOnZeroOf ? 'onZero' : rawAxisPosition;\n  var axisDim = axis.dim;\n  var rect = grid.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var idx = {\n    left: 0,\n    right: 1,\n    top: 0,\n    bottom: 1,\n    onZero: 2\n  };\n  var axisOffset = axisModel.get('offset') || 0;\n  var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n\n  if (otherAxisOnZeroOf) {\n    var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));\n    posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n  } // Axis position\n\n\n  layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]]; // Axis rotation\n\n  layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1); // Tick and label direction, x y is axisDim\n\n  var dirMap = {\n    top: -1,\n    bottom: 1,\n    left: -1,\n    right: 1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n  layout.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;\n\n  if (axisModel.get(['axisTick', 'inside'])) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get(['axisLabel', 'inside']))) {\n    layout.labelDirection = -layout.labelDirection;\n  } // Special label rotation\n\n\n  var labelRotate = axisModel.get(['axisLabel', 'rotate']);\n  layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate; // Over splitLine and splitArea\n\n  layout.z2 = 1;\n  return layout;\n}\nexport function isCartesian2DSeries(seriesModel) {\n  return seriesModel.get('coordinateSystem') === 'cartesian2d';\n}\nexport function findAxisModels(seriesModel) {\n  var axisModelMap = {\n    xAxisModel: null,\n    yAxisModel: null\n  };\n  zrUtil.each(axisModelMap, function (v, key) {\n    var axisType = key.replace(/Model$/, '');\n    var axisModel = seriesModel.getReferringComponents(axisType, SINGLE_REFERRING).models[0];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!axisModel) {\n        throw new Error(axisType + ' \"' + zrUtil.retrieve3(seriesModel.get(axisType + 'Index'), seriesModel.get(axisType + 'Id'), 0) + '\" not found');\n      }\n    }\n\n    axisModelMap[key] = axisModel;\n  });\n  return axisModelMap;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map(['x', 'y'], function (dim, dimIdx) {\n    var axis = this.getAxis(dim);\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n  }, this);\n}\n\nexport default function cartesianPrepareCustom(coordSys) {\n  var rect = coordSys.master.getRect();\n  return {\n    coordSys: {\n      // The name exposed to user is always 'cartesian2d' but not 'grid'.\n      type: 'cartesian2d',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: function (data) {\n        // do not provide \"out\" param\n        return coordSys.dataToPoint(data);\n      },\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}"],"names":["inner","makeInner","createAxisLabels","axis","type","makeCategoryLabels","makeRealNumberLabels","createAxisTicks","tickModel","makeCategoryTicks","ticks","zrUtil","scale","getTicks","tick","value","labelModel","getLabelModel","result","makeCategoryLabelsActually","get","isBlank","labels","labelCategoryInterval","numericLabelInterval","labelsCache","getListCache","optionLabelInterval","getOptionCategoryInterval","listCacheGet","makeLabelsByCustomizedCategoryInterval","makeAutoCategoryInterval","makeLabelsByNumericCategoryInterval","listCacheSet","tickCategoryInterval","ticksCache","optionTickInterval","labelsResult","labelItem","tickValue","labelFormatter","makeLabelFormatter","idx","level","formattedLabel","rawLabel","getLabel","prop","cache","key","i","length","push","autoInterval","calculateCategoryInterval","params","fetchAutoCategoryIntervalCalculationParams","rotation","axisRotate","labelRotate","Math","PI","ordinalScale","ordinalExtent","getExtent","tickCount","count","step","max","floor","unitSpan","dataToCoord","unitW","abs","cos","unitH","sin","maxW","maxH","width","height","rect","textContain","font","dw","dh","isNaN","Infinity","interval","min","model","axisExtent","lastAutoInterval","lastTickCount","axisExtent0","axisExtent1","getRotate","isHorizontal","getFont","categoryInterval","onlyTick","startTick","round","ceil","showAllLabel","shouldShowAllLabels","includeMinLabel","includeMaxLabel","addItem","tickObj","NORMALIZED_EXTENT","Axis","dim","extent","this","onBand","inverse","_extent","prototype","contain","coord","containData","data","slice","getPixelPrecision","dataExtent","setExtent","start","end","clamp","normalize","fixExtentWithBands","coordToData","t","pointToData","point","getTicksCoords","opt","getTickModel","ticksCoords","map","tickVal","getRawOrdinalNumber","alignWithLabel","fixOnBandTicksCoords","getMinorTicksCoords","minorTickModel","getModel","splitNumber","minorTicks","getMinorTicks","minorTicksCoords","minorTicksGroup","minorTick","getViewLabels","getBandWidth","len","size","nTick","margin","ticksLen","last","diffSize","crossLen","shift_1","each","ticksItem","littleThan","shift","unshift","pop","a","b","isCoordinateSystemType","coordSys","v2ApplyTransform","View","_super","name","_this","call","dimensions","_roamTransformable","_rawTransformable","setBoundingRect","x","y","_rect","getBoundingRect","setViewRect","_transformTo","_viewRect","rawTransform","transform","calculateTransform","rawParent","parent","decomposeTransform","_updateTransform","setCenter","centerCoord","api","_center","getWidth","getHeight","_updateCenterAndZoom","setZoom","zoom","zoomLimit","_zoom","getDefaultCenter","rawRect","cx","cy","getCenter","getZoom","getRoamTransform","getLocalTransform","rawTransformMatrix","roamTransform","defaultCenter","center","originX","originY","scaleX","scaleY","roamTransformable","rawTransformable","updateTransform","_rawTransform","invTransform","getTransformInfo","dummyTransformable","roam","raw","getViewRect","getViewRectAfterRoam","clone","applyTransform","dataToPoint","noRoam","out","convertToPixel","ecModel","finder","getCoordSys","convertFromPixel","pixel","containPoint","seriesModel","coordinateSystem","mathLog","log","alignScaleTicks","axisModel","alignToScale","intervalScaleProto","IntervalScale","alignToTicks","alignToNicedTicks","alignToSplitNumber","alignToInterval","getInterval","scaleExtent","getScaleExtent","rawExtent","isMinFixed","fixMin","isMaxFixed","fixMax","logBase","base","calcNiceExtent","isFinite","increaseInterval","nicedSplitNumber","range","t0","t1","setInterval","setNiceExtent","defaultOption","show","z","nameLocation","nameRotate","nameTruncate","maxWidth","ellipsis","placeholder","nameTextStyle","nameGap","silent","triggerEvent","tooltip","axisPointer","axisLine","onZero","onZeroAxisIndex","lineStyle","color","symbol","symbolSize","axisTick","inside","axisLabel","rotate","showMinLabel","showMaxLabel","fontSize","splitLine","splitArea","areaStyle","categoryAxis","boundaryGap","deduplication","valueAxis","minorSplitLine","timeAxis","rich","primary","fontWeight","logAxis","category","time","scaleType","rawExtentResult","ensureScaleRawExtentInfo","calculate","setBlank","barSeriesModels","prepareLayoutBarSeries","isBaseAxisAndHasBarSeries_1","getBaseAxis","barWidthAndOffset","makeColumnLayout","adjustedScale","adjustScaleForOverflow","minFixed","maxFixed","axisLength","barsOnCurrentAxis","retrieveColumnLayout","undefined","minOverflow","item","offset","maxOverflow","totalOverFlow","oldRange","oldRangePercentOfNew","overflowBuffer","niceScaleExtent","inModel","extentInfo","LogScale","isIntervalOrTime","minInterval","maxInterval","createScaleByModel","axisType","OrdinalScale","ordinalMeta","getOrdinalMeta","getCategories","TimeScale","locale","getLocaleModel","useUTC","Scale","ifAxisCrossZero","categoryTickStart","tpl","getFormattedLabel","label","text","replace","cb","getAxisRawValue","estimateLabelUnionRect","realNumberScaleTicks","categoryScaleExtent","axisLabelModel","unrotatedSingleRect","getTextRect","singleRect","rotateTextRect","union","textRect","rotateRadians","beforeWidth","beforeHeight","afterWidth","afterHeight","rotatedRect","BoundingRect","getDataDimensionsOnAxis","axisDim","dataDimMap","mapDimensionsAll","dataDim","getStackedDimension","unionAxisExtentFromData","seriesExtent","getApproximateExtent","AxisModelCommonMixin","getNeedCrossZero","option","getCoordSysModel","AXIS_TYPES","axisModelCreator","registers","axisName","BaseAxisModelClass","extraDefaultOption","v","merge","axisDefault","AxisModel","apply","arguments","mergeDefaultAndTheme","layoutMode","inputPositionParams","themeModel","getTheme","getDefaultOption","getAxisType","optionUpdated","thisOption","__ordinalMeta","OrdinalMeta","rawData","categories","registerComponentModel","registerSubTypeDefaulter","PROXIMATE_ONE_DAY","Calendar","calendarModel","getDimensionsInfo","_model","getRangeInfo","_rangeInfo","getRect","getCellWidth","_sw","getCellHeight","_sh","getOrient","_orient","getFirstDayOfWeek","_firstDayOfWeek","getDateInfo","date","numberUtil","getFullYear","m","getMonth","mStr","d","getDate","dStr","day","getDay","getTime","formatedDate","getNextNDay","n","Date","setDate","update","_lineWidth","getItemStyle","lineWidth","_getRangeInfo","_initRangeOption","weeks","whNames","cellSize","getCellSize","layoutParams","getBoxLayoutParams","cellNumbers","cellSizeSpecified","whGlobal","calendarRect","layout","dayInfo","NaN","week","nthWeek","pointToDate","dataToRect","contentShape","tl","tr","br","bl","nthX","nthY","_getDateByWeeksAndDay","console","warn","normalizedRange","rangeStr","toString","test","firstDay","setMonth","tmp","reverse","reversed","parsedRange","allDay","startDateNum","endDateNum","dateNum","sign","fweek","lweek","rangeInfo","nthDay","create","calendarList","eachComponent","calendar","eachSeries","calendarSeries","CalendarModel","__extends","init","parentModel","getLayoutParams","mergeAndNormalizeLayoutParams","mergeOption","left","top","orient","itemStyle","borderWidth","borderColor","dayLabel","position","monthLabel","align","formatter","yearLabel","fontFamily","ComponentModel","target","cellSizeArr","ignoreSize","hvIdx","sizeCalculable","mergeLayoutParam","calendarPrepareCustom","cellWidth","cellHeight","dayCount","CartesianAxisModel","getReferringComponents","models","Cartesian","_dimList","_axes","getAxis","getAxes","getAxesByScale","toLowerCase","addAxis","cartesian2DDimensions","canCalculateAffineTransform","Cartesian2D","calcAffineTransform","_transform","_invTransform","xAxisScale","yAxisScale","xScaleExtent","yScaleExtent","xScaleSpan","yScaleSpan","translateX","translateY","invert","axisX","axisY","toLocalCoord","containZone","data1","data2","zoneDiag1","zoneDiag2","area","getArea","zone","intersect","xVal","yVal","xAxis","yAxis","toGlobalCoord","clampData","xScale","yScale","xAxisExtent","yAxisExtent","parse","getOtherAxis","xExtent","getGlobalExtent","yExtent","Axis2D","coordExtent","index","asc","ret","setCategorySortInfo","info","categorySortInfo","setSortInfo","Grid","gridModel","_coordsMap","_coordsList","_axesMap","_axesList","axisPointerEnabled","_initCartesian","axesMap","updateAxisTicks","axes","alignTo","axesIndices","keys","axisNeedsAlign","_updateScale","onZeroRecords","fixAxisOnZero","resize","ignoreContainLabel","boxLayoutParams","isContainLabel","gridRect","axesList","adjustAxes","updateAxisTransform","labelUnionRect","axisIndex","axesMapOnDim","getCartesian","xAxisIndex","yAxisIndex","isObject","coordList","getCartesians","_findConvertTarget","cartesian","xAxisModel","yAxisModel","coordsList","indexOf","componentIndex","grid","axisPositionUsed","right","bottom","axesCount","createAxisCreator","dimName","isAxisUsedInTheGrid","axisPosition","isCategory","master","unionExtent","unionExtentFromData","axesModelMap","getData","getTooltipAxes","baseAxes","otherAxes","baseAxis","otherAxis","grids","otherAxisDim","getAxesOnZeroOf","otherAxisOnZeroOf","canOnZeroToAxis","hasOwnProperty","getOnZeroRecordKey","coordBase","axisExtentSum","GridModel","dependencies","containLabel","backgroundColor","rawAxisPosition","rectBound","axisOffset","posBound","onZeroCoord","dirMap","labelDirection","tickDirection","nameDirection","labelOffset","labelInside","z2","isCartesian2DSeries","findAxisModels","axisModelMap","SINGLE_REFERRING","dataToCoordSize","dataSize","dataItem","dimIdx","val","halfSize","cartesianPrepareCustom"],"sourceRoot":""}