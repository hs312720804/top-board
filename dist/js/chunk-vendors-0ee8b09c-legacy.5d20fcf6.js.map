{"version":3,"file":"js/chunk-vendors-0ee8b09c-legacy.5d20fcf6.js","mappings":"iMA6CIA,EACJ,SAAUC,GAER,SAASD,IACP,IAAIE,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KA4BhE,OA3BAF,EAAMI,KAAON,EAAmBM,KAUhCJ,EAAMK,uBAAyB,CAAC,CAC9BC,KAAM,MACNC,gBAAgB,GACf,CACDD,KAAM,KACNC,gBAAgB,GACf,CACDD,KAAM,SACNC,gBAAgB,GACf,CACDD,KAAM,KACNC,gBAAgB,GACf,CACDD,KAAM,MACNC,gBAAgB,IAElBP,EAAMQ,eAAiB,SAChBR,CACT,CA0BA,OAzDA,QAAUF,EAAoBC,GAgC9BD,EAAmBM,KAAO,iBAC1BN,EAAmBW,aAAe,CAAC,QAAS,QAAS,QACrDX,EAAmBY,cAAgB,CAEjCC,EAAG,EACHC,iBAAkB,cAClBC,iBAAiB,EACjBC,OAAQ,KACRC,SAAU,CAAC,EAAG,IACdC,UAAW,CACTC,MAAO,OACPC,YAAa,GAEfC,SAAU,CACRC,OAAO,EACPJ,UAAW,CACTE,YAAa,EACbG,WAAY,EACZC,cAAe,EACfC,cAAe,EACfC,YAAa,oBAGjBC,kBAAmB,KAEd3B,CACT,CA3DA,CA2DE4B,EAAA,IACF,IAAAC,OAAM7B,EAAoB,KAAuB,GACjD,Q,kEC1DI8B,EACJ,SAAU7B,GAER,SAAS6B,IACP,IAAI5B,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KAEhE,OADAF,EAAMI,KAAOwB,EAAYxB,KAClBJ,CACT,CAiDA,OAtDA,QAAU4B,EAAa7B,GAMvB6B,EAAYC,UAAUC,OAAS,SAAUC,EAAaC,EAASC,GAC7D,IAAIC,EAAOH,EAAYI,UACnBC,EAAQlC,KAAKkC,MACbC,EAAUnC,KAAKoC,MAGdpC,KAAKoC,OACRF,EAAMG,YAER,IAAIC,EAAyC,eAA9BT,EAAYU,IAAI,UAA6B,EAAI,EAChEP,EAAKQ,KAAKL,GAASM,KAAI,SAAUC,GAC/B,GAAIV,EAAKW,SAASD,GAAS,CACzB,IAAIE,EAAaZ,EAAKa,cAAcH,GAChCI,EAAWC,EAAgBH,EAAYZ,EAAMU,EAAQJ,GAAU,GACnEN,EAAKgB,iBAAiBN,EAAQI,GAC9BZ,EAAMO,IAAIK,EACZ,CACF,IAAGG,QAAO,SAAUP,EAAQQ,GAC1B,IAAIJ,EAAWX,EAAQgB,iBAAiBD,GAExC,GAAKlB,EAAKW,SAASD,GAAnB,CAIA,IAAIE,EAAaZ,EAAKa,cAAcH,GAC/BI,IAGH,QAAaA,GACbM,EAAoBR,EAAYE,EAAUd,EAAMU,IAHhDI,EAAWC,EAAgBH,EAAYZ,EAAMU,EAAQJ,GAKvDJ,EAAMO,IAAIK,GACVd,EAAKgB,iBAAiBN,EAAQI,EAT9B,MAFEZ,EAAMmB,OAAOP,EAYjB,IAAGO,QAAO,SAAUH,GAClB,IAAII,EAAKnB,EAAQgB,iBAAiBD,GAClCI,GAAMpB,EAAMmB,OAAOC,EACrB,IAAGC,UACHvD,KAAKoC,MAAQJ,CACf,EACAN,EAAYC,UAAU0B,OAAS,SAAUvB,GACvC,IAAII,EAAQlC,KAAKkC,MACbF,EAAOhC,KAAKoC,MAChBpC,KAAKoC,MAAQ,KACbJ,GAAQA,EAAKwB,mBAAkB,SAAUF,GACvCA,GAAMpB,EAAMmB,OAAOC,EACrB,GACF,EACA5B,EAAYxB,KAAO,UACZwB,CACT,CAxDA,CAwDE+B,EAAA,GACEC,EACJ,WACE,SAASA,IAAgB,CACzB,OAAOA,CACT,CAHA,GAIIC,EACJ,SAAU9D,GAER,SAAS8D,EAAQC,GACf,IAAI9D,EAAQD,EAAOgE,KAAK7D,KAAM4D,IAAS5D,KAEvC,OADAF,EAAMI,KAAO,iBACNJ,CACT,CAmBA,OAxBA,QAAU6D,EAAS9D,GAMnB8D,EAAQhC,UAAUmC,gBAAkB,WAClC,OAAO,IAAIJ,CACb,EACAC,EAAQhC,UAAUoC,UAAY,SAAUC,EAAKC,GAC3C,IAAIC,EAAOD,EAAME,OACbC,EAAI,EAGR,IAFAJ,EAAIK,OAAOH,EAAKE,GAAG,GAAIF,EAAKE,GAAG,IAC/BA,IACOA,EAAI,EAAGA,IACZJ,EAAIM,OAAOJ,EAAKE,GAAG,GAAIF,EAAKE,GAAG,IAGjC,IADAJ,EAAIO,YACGH,EAAIF,EAAKM,OAAQJ,IACtBJ,EAAIK,OAAOH,EAAKE,GAAG,GAAIF,EAAKE,GAAG,IAC/BA,IACAJ,EAAIM,OAAOJ,EAAKE,GAAG,GAAIF,EAAKE,GAAG,GAEnC,EACOT,CACT,CA1BA,CA0BEc,EAAA,IACF,SAAS1B,EAAgBH,EAAYZ,EAAM0C,EAAWpC,EAAUqC,GAC9D,IAAIT,EAAOtB,EAAWsB,KAClBZ,EAAK,IAAIK,EAAQ,CACnBM,MAAO,CACLE,OAAQQ,EAASC,EAAUV,EAAM5B,EAAUM,GAAcsB,KAI7D,OADAd,EAAoBR,EAAYU,EAAItB,EAAM0C,EAAWC,GAC9CrB,CACT,CACA,SAASF,EAAoBR,EAAYU,EAAItB,EAAM0C,EAAWC,GAC5D,IAAI9C,EAAcG,EAAK6C,UACnBC,EAAeC,EAAQJ,EAAS,YAAc,eAClDG,EAAaxB,EAAI,CACfW,MAAO,CACLE,OAAQvB,EAAWsB,OAEpBrC,EAAa6C,GAChBpB,EAAG0B,SAAShD,EAAKiD,cAAcP,EAAW,UAC1CpB,EAAG4B,MAAMC,eAAgB,EACzB7B,EAAG8B,GAAK,IACR,IAAIC,EAAYrD,EAAKsD,aAAaZ,GAC9Ba,EAAgBF,EAAUG,SAAS,aACvC,QAAyBlC,EAAI+B,IAC7B,QAAoB/B,EAAIiC,EAAchD,IAAI,SAAUgD,EAAchD,IAAI,aAAcgD,EAAchD,IAAI,YACxG,CACA,SAASqC,EAAUT,EAAQsB,EAAK7C,GAC9B,OAAO,MAAWuB,GAAQ,SAAUuB,GAGlC,OAFAA,EAAQA,EAAMC,QACdD,EAAMD,GAAO7C,EAAWgD,aACjBF,CACT,GACF,CACA,Q,sBChIIG,EAAO,OACI,SAASC,EAAchE,GACpC,IAAIiE,EAAcC,EAAkBlE,GACpC+D,EAAKE,GAAa,SAAUE,GAC1B,IAAIC,EAAeD,EAAUC,aACxBA,EAAa1B,SAGlB2B,EAAcF,GACdJ,EAAKK,GAAc,SAAUrE,EAAauE,GACxCC,EAAmBxE,EAAaoE,EAAUK,cAAcF,GAAMH,EAAUM,aAAaH,GACvF,IACF,GACF,CAKA,SAASJ,EAAkBlE,GACzB,IAAI0E,EAAS,GACTC,EAAW,GAcf,OAbA3E,EAAQ4E,iBAAiB,WAAW,SAAU7E,GAC5C,IAAI8E,EAAW9E,EAAY+E,cACvBR,EAAM,UAAeK,EAAUE,GAC/BP,EAAM,IACRA,EAAMK,EAASjC,OACfiC,EAASL,GAAOO,EAChBH,EAAOJ,GAAO,CACZS,KAAMF,EACNT,aAAc,KAGlBM,EAAOJ,GAAKF,aAAaY,KAAKjF,EAChC,IACO2E,CACT,CAKA,SAASL,EAAcF,GACrB,IAMIc,EANAJ,EAAWV,EAAUY,KACrBX,EAAeD,EAAUC,aACzBc,EAAcd,EAAa1B,OAC3B+B,EAAeN,EAAUM,aAAe,GACxCD,EAAgBL,EAAUK,cAAgB,GAC1CW,EAAY,GAEhB,GAAsB,aAAlBN,EAASzG,KACX6G,EAAYJ,EAASO,mBAChB,CACL,IAAIC,EAAiB,EACrBtB,EAAKK,GAAc,SAAUrE,GAC3BsF,EAAiBC,KAAKC,IAAIF,EAAgBtF,EAAYI,UAAUqF,QAClE,IACA,IAAIC,EAASZ,EAASa,YACtBT,EAAYK,KAAKK,IAAIF,EAAO,GAAKA,EAAO,IAAMJ,CAChD,CACAtB,EAAKK,GAAc,SAAUrE,GAC3B,IAAI6F,EAAgB7F,EAAYU,IAAI,YAC/B,UAAemF,KAClBA,EAAgB,CAACA,EAAeA,IAElCT,EAAUH,KAAK,EAAC,QAAaY,EAAc,GAAIX,IAAc,GAAG,QAAaW,EAAc,GAAIX,IAAc,GAC/G,IACA,IAAIY,EAA6B,GAAZZ,EAAkB,EACnCa,EAASD,EAAiBX,EAAc,GACxCnG,GAAY8G,EAAiBC,GAAUZ,EAAc,IAAMA,EAC3Da,EAAOhH,EAAW,EAAI8G,EAAiB,EAC3C9B,EAAKK,GAAc,SAAUrE,EAAauE,GACxCE,EAAcQ,KAAKe,GACnBA,GAAQD,EAAS/G,EACjB0F,EAAaO,KAAKM,KAAKU,IAAIV,KAAKC,IAAIxG,EAAUoG,EAAUb,GAAK,IAAKa,EAAUb,GAAK,IACnF,GACF,CAKA,SAASC,EAAmBxE,EAAakG,EAAQlH,GAC/C,IAAImH,EAAWnG,EAAYnB,iBACvBsB,EAAOH,EAAYI,UACnBgG,EAAYpH,EAAW,EACvBqH,EAAwC,eAA9BrG,EAAYU,IAAI,UAA6B,EAAI,EAC3D4F,EAAU,EAAID,EACdE,EAAY,CAAC,IAAK,KAClBC,EAAOrG,EAAKsG,aAAaF,EAAUF,IACnCK,EAAQvG,EAAKwG,iBAAiBJ,EAAUD,IAC5C,KAAY,MAARE,GAAgBE,EAAM/D,OAAS,GAGnC,IAAK,IAAIE,EAAY,EAAGA,EAAY1C,EAAKsF,QAAS5C,IAAa,CAC7D,IAAI+D,EAAazG,EAAKO,IAAI8F,EAAM3D,GAC5BgE,EAASC,EAASF,EAAYF,EAAM,GAAI7D,GACxCkE,EAAOD,EAASF,EAAYF,EAAM,GAAI7D,GACtCmE,EAAOF,EAASF,EAAYF,EAAM,GAAI7D,GACtCoE,EAAOH,EAASF,EAAYF,EAAM,GAAI7D,GACtCqE,EAAOJ,EAASF,EAAYF,EAAM,GAAI7D,GACtCR,EAAO,GACX8E,EAAW9E,EAAM2E,GAAM,GACvBG,EAAW9E,EAAM4E,GAAM,GACvB5E,EAAK4C,KAAK8B,EAAMC,EAAME,EAAMD,GAC5BG,EAAW/E,EAAM0E,GACjBK,EAAW/E,EAAM6E,GACjBE,EAAW/E,EAAMwE,GACjB1G,EAAKkH,cAAcxE,EAAW,CAC5BkB,aAAc8C,EAAOP,GACrBjE,KAAMA,GAEV,CACA,SAASyE,EAASF,EAAYhD,EAAKf,GACjC,IAIIgB,EAJAyD,EAAMnH,EAAKO,IAAIkD,EAAKf,GACpB0E,EAAI,GAUR,OATAA,EAAElB,GAAWO,EACbW,EAAEjB,GAAWgB,EAETE,MAAMZ,IAAeY,MAAMF,GAC7BzD,EAAQ,CAAC4D,IAAKA,MAEd5D,EAAQsC,EAASuB,YAAYH,GAC7B1D,EAAMwC,IAAYH,GAEbrC,CACT,CACA,SAASsD,EAAW9E,EAAMwB,EAAO8D,GAC/B,IAAIC,EAAS/D,EAAMC,QACf+D,EAAShE,EAAMC,QACnB8D,EAAOvB,IAAYD,EACnByB,EAAOxB,IAAYD,EACnBuB,EAAQtF,EAAK4C,KAAK2C,EAAQC,GAAUxF,EAAK4C,KAAK4C,EAAQD,EACxD,CACA,SAASR,EAAW/E,EAAMyF,GACxB,IAAIC,EAAOD,EAAUhE,QACjBkE,EAAKF,EAAUhE,QACnBiE,EAAK1B,IAAYD,EACjB4B,EAAG3B,IAAYD,EACf/D,EAAK4C,KAAK8C,EAAMC,EAClB,CACF,C,kBCxHe,SAASC,EAAmBC,EAASC,GAClDA,EAAMA,GAAO,CAAC,EAMd,IALA,IAAIC,EAAU,GACVC,EAAW,GACXC,EAAWH,EAAIG,SACfC,EAA0B,SAAbD,GAAoC,IAAbA,EAE/B/F,EAAI,EAAGA,EAAI2F,EAAQvF,OAAQJ,IAAK,CACvC,IAAIiG,GAAUC,EAAAA,EAAAA,IAAIP,EAAQ3F,GAAGuB,SACzB4E,GAAKC,EAAAA,EAAAA,IAASH,EAAS,KACvBI,GAAKD,EAAAA,EAAAA,IAASH,EAAS,IACvBK,GAAKF,EAAAA,EAAAA,IAASH,EAAS,KACvBvC,EAAMuC,EAAQ,GACdhD,EAAMgD,EAAQA,EAAQ7F,OAAS,GAC/BmG,GAAqB,MAAZR,EAAmB,IAAMA,IAAaO,EAAKH,GACpDK,EAAMR,EAAatC,EAAMV,KAAKC,IAAIS,EAAKyC,EAAKI,GAC5CE,EAAOT,EAAa/C,EAAMD,KAAKU,IAAIT,EAAKqD,EAAKC,GAC7CG,EAAoBd,EAAIc,kBACxBC,GAAWC,EAAAA,EAAAA,YAAWF,GAAqBA,EAAkB,CAC/DG,MAAO7G,KACJ8G,EAAAA,EAAAA,UAASJ,GAAqBA,EAAkBK,QAAQ,UAAW/G,EAAI,IAAMA,EAAI,GACtF6F,EAAQnD,KAAK,CAACiE,EAAUH,EAAKL,EAAIE,EAAIC,EAAIG,IAEzC,IAAK,IAAIO,EAAI,EAAGA,EAAIf,EAAQ7F,OAAQ4G,IAAK,CACvC,IAAIC,EAAWhB,EAAQe,GAEvB,GAAIC,EAAWT,GAAOS,EAAWR,EAAM,CACrC,IAAIS,EAAU,CAACP,EAAUM,GACzBnB,EAASpD,KAAKwE,EAChB,CACF,CACF,CAEA,MAAO,CACLrB,QAASA,EACTC,SAAUA,EAEd,C,0BCxDWqB,EAAmB,CAC5BrL,KAAM,kBACNsL,UAAW,SAAmBC,GAC5B,IAAIC,EAAWD,EAAOC,SACtB,GAAIA,EAASC,eAAiB,KAA0B,CACtD,IAAIC,EAAS,GACT,GAGJ,QAAWA,EACb,CACA,IAAIpF,EAASsD,EAAmB4B,EAASG,aAAcJ,EAAOK,QAC9D,MAAO,CAAC,CACNC,WAAY,CAAC,WAAY,MAAO,KAAM,KAAM,KAAM,QAClD/J,KAAMwE,EAAOyD,SACZ,CACDjI,KAAMwE,EAAO0D,UAEjB,GCjBK,SAAS8B,EAAQC,GACtBA,EAAUC,oBAAoBC,GAC9BF,EAAUG,kBAAkB,GAC5BH,EAAUI,eAAevG,GACzBmG,EAAUK,kBAAkBf,EAC9B,C,+KCEIgB,EAAa,CAAC,QAAS,eACvBC,EACJ,SAAU3M,GAER,SAAS2M,IACP,IAAI1M,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KAEhE,OADAF,EAAMI,KAAOsM,EAAgBtM,KACtBJ,CACT,CAyHA,OA9HA,QAAU0M,EAAiB3M,GAM3B2M,EAAgB7K,UAAUC,OAAS,SAAUC,EAAaC,EAASC,GAEjE/B,KAAKkC,MAAMuK,iBAEXzM,KAAK0M,gBAAkB,KACvB1M,KAAK2M,gBAAgB9K,GACrB7B,KAAK4M,aAAe5M,KAAK6M,aAAahL,GAAe7B,KAAK8M,cAAcjL,EAC1E,EACA2K,EAAgB7K,UAAUoL,yBAA2B,SAAUlL,EAAaC,EAASC,GACnF/B,KAAKgN,SACLhN,KAAK2M,gBAAgB9K,EACvB,EACA2K,EAAgB7K,UAAUsL,kBAAoB,SAAUxB,EAAQ5J,EAAaC,EAASC,GACpF/B,KAAK0M,gBAAkB,GACvB1M,KAAK4M,aAAe5M,KAAKkN,wBAAwBzB,EAAQ5J,GAAe7B,KAAKmN,yBAAyB1B,EAAQ5J,EAChH,EACA2K,EAAgB7K,UAAUyL,aAAe,SAAUC,GACjDtI,EAAQuI,iBAAiBtN,KAAK0M,iBAAmB1M,KAAKkC,MAAOmL,EAC/D,EACAb,EAAgB7K,UAAUgL,gBAAkB,SAAU9K,GACpD,IAAI0L,EAAc1L,EAAY2L,gBAAgBC,MACrB,MAArBzN,KAAK4M,cAAwBW,IAAgBvN,KAAK4M,eACpD5M,KAAK4M,aAAeW,EACpBvN,KAAKgN,SAET,EACAR,EAAgB7K,UAAUmL,cAAgB,SAAUjL,GAClD,IAAIG,EAAOH,EAAYI,UACnBE,EAAUnC,KAAKoC,MACfF,EAAQlC,KAAKkC,MACbwL,EAAc1L,EAAK2L,UAAU,eAC7BC,EAAY/L,EAAYU,IAAI,QAAQ,GACpCsL,EAAQhM,EAAYnB,iBACpBoN,EAAWD,EAAME,SAAWF,EAAME,UAGjC/N,KAAKoC,OACRF,EAAMG,YAERL,EAAKQ,KAAKL,GAASM,KAAI,SAAUC,GAC/B,GAAIV,EAAKW,SAASD,GAAS,CACzB,IAAIE,EAAaZ,EAAKa,cAAcH,GACpC,GAAIkL,GAAaI,EAAmBF,EAAUlL,GAC5C,OAEF,IAAIU,EAAKP,EAAgBH,EAAYF,GAAQ,GAC7C,KAAkBY,EAAI,CACpBW,MAAO,CACLE,OAAQvB,EAAWsB,OAEpBrC,EAAaa,GAChBuL,EAAa3K,EAAItB,EAAMU,EAAQgL,GAC/BxL,EAAMO,IAAIa,GACVtB,EAAKgB,iBAAiBN,EAAQY,EAChC,CACF,IAAGL,QAAO,SAAUP,EAAQQ,GAC1B,IAAII,EAAKnB,EAAQgB,iBAAiBD,GAElC,GAAKlB,EAAKW,SAASD,GAAnB,CAIA,IAAIE,EAAaZ,EAAKa,cAAcH,GAChCkL,GAAaI,EAAmBF,EAAUlL,GAC5CV,EAAMmB,OAAOC,IAGVA,GAGH,IAAoBA,EAAI,CACtBW,MAAO,CACLE,OAAQvB,EAAWsB,OAEpBrC,EAAaa,IAChB,QAAaY,IAPbA,EAAKP,EAAgBH,EAAYF,GASnCuL,EAAa3K,EAAItB,EAAMU,EAAQgL,GAC/BxL,EAAMO,IAAIa,GACVtB,EAAKgB,iBAAiBN,EAAQY,GAlB9B,MAFEpB,EAAMmB,OAAOC,EAqBjB,IAAGD,QAAO,SAAUH,GAClB,IAAII,EAAKnB,EAAQgB,iBAAiBD,GAClCI,GAAMpB,EAAMmB,OAAOC,EACrB,IAAGC,UACHvD,KAAKoC,MAAQJ,CACf,EACAwK,EAAgB7K,UAAUkL,aAAe,SAAUhL,GACjD7B,KAAKgN,SACLkB,EAAYrM,EAAa7B,KAAKkC,OAC9B,IAAIiM,EAAWtM,EAAYU,IAAI,QAAQ,IAAQ,QAAeV,EAAYnB,kBAAkB,EAAOmB,GAAe,KAC9GsM,EACFnO,KAAKkC,MAAMkM,YAAYD,GAEvBnO,KAAKkC,MAAMuK,gBAEf,EACAD,EAAgB7K,UAAUwL,yBAA2B,SAAU1B,EAAQ5J,GACrE,IAEI6C,EAFA1C,EAAOH,EAAYI,UACnByL,EAAc1L,EAAK2L,UAAU,eAEjC,MAAsC,OAA9BjJ,EAAY+G,EAAO4C,QAAiB,CAC1C,IAAIzL,EAAaZ,EAAKa,cAAc6B,GAChCpB,EAAKP,EAAgBH,EAAY8B,GACrCuJ,EAAa3K,EAAItB,EAAM0C,EAAWgJ,GAClCpK,EAAGgL,aAAc,EACjBtO,KAAKkC,MAAMO,IAAIa,GACftD,KAAK0M,gBAAgB5F,KAAKxD,EAC5B,CACF,EACAkJ,EAAgB7K,UAAUuL,wBAA0B,SAAUzB,EAAQ5J,GACpEqM,EAAYrM,EAAa7B,KAAKkC,MAAOlC,KAAK0M,iBAAiB,EAC7D,EACAF,EAAgB7K,UAAU0B,OAAS,SAAUvB,GAC3C9B,KAAKgN,QACP,EACAR,EAAgB7K,UAAUqL,OAAS,WACjChN,KAAKkC,MAAMG,YACXrC,KAAKoC,MAAQ,IACf,EACAoK,EAAgBtM,KAAO,cAChBsM,CACT,CAhIA,CAgIE/I,EAAA,GACE8K,EACJ,WACE,SAASA,IAAsB,CAC/B,OAAOA,CACT,CAHA,GAIIC,EACJ,SAAU3O,GAER,SAAS2O,EAAc5K,GACrB,IAAI9D,EAAQD,EAAOgE,KAAK7D,KAAM4D,IAAS5D,KAEvC,OADAF,EAAMI,KAAO,uBACNJ,CACT,CAqBA,OA1BA,QAAU0O,EAAe3O,GAMzB2O,EAAc7M,UAAUmC,gBAAkB,WACxC,OAAO,IAAIyK,CACb,EACAC,EAAc7M,UAAUoC,UAAY,SAAUC,EAAKC,GACjD,IAAIC,EAAOD,EAAME,OACbnE,KAAKyO,aACPzK,EAAIK,OAAOH,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC/BF,EAAIM,OAAOJ,EAAK,GAAG,GAAIA,EAAK,GAAG,MAE/BF,EAAIK,OAAOH,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC/BF,EAAIM,OAAOJ,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC/BF,EAAIM,OAAOJ,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC/BF,EAAIM,OAAOJ,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC/BF,EAAIO,YACJP,EAAIK,OAAOH,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC/BF,EAAIM,OAAOJ,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC/BF,EAAIK,OAAOH,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC/BF,EAAIM,OAAOJ,EAAK,GAAG,GAAIA,EAAK,GAAG,IAEnC,EACOsK,CACT,CA5BA,CA4BE/J,EAAA,IACF,SAAS1B,EAAgBH,EAAY8B,EAAWC,GAC9C,IAAIT,EAAOtB,EAAWsB,KACtB,OAAO,IAAIsK,EAAc,CACvBvK,MAAO,CACLE,OAAQQ,EAASC,EAAUV,EAAMtB,GAAcsB,GAEjDkB,GAAI,KAER,CACA,SAAS4I,EAAmBF,EAAUlL,GAEpC,IADA,IAAI8L,GAAU,EACLtK,EAAI,EAAGA,EAAIxB,EAAWsB,KAAKM,OAAQJ,IAE1C,GAAI0J,EAASa,QAAQ/L,EAAWsB,KAAKE,GAAG,GAAIxB,EAAWsB,KAAKE,GAAG,IAAK,CAClEsK,GAAU,EACV,KACF,CAEF,OAAOA,CACT,CACA,SAAST,EAAa3K,EAAItB,EAAM0C,EAAWgJ,GACzC,IAAIrI,EAAYrD,EAAKsD,aAAaZ,GAClCpB,EAAG0B,SAAShD,EAAKiD,cAAcP,EAAW,UAC1CpB,EAAG4B,MAAMC,eAAgB,EACzB7B,EAAGmL,YAAcf,GACjB,QAAyBpK,EAAI+B,EAC/B,CACA,SAAST,EAAUT,EAAQvB,GACzB,OAAO,MAAWuB,GAAQ,SAAUuB,GAGlC,OAFAA,EAAQA,EAAMC,QACdD,EAAM,GAAK9C,EAAWgD,aACfF,CACT,GACF,CACA,IAAIkJ,EACJ,WACE,SAASA,IAAqB,CAC9B,OAAOA,CACT,CAHA,GAIIC,EACJ,SAAUhP,GAER,SAASgP,EAAajL,GACpB,IAAI9D,EAAQD,EAAOgE,KAAK7D,KAAM4D,IAAS5D,KAEvC,OADAF,EAAMI,KAAO,sBACNJ,CACT,CAkBA,OAvBA,QAAU+O,EAAchP,GAMxBgP,EAAalN,UAAUmC,gBAAkB,WACvC,OAAO,IAAI8K,CACb,EACAC,EAAalN,UAAUoC,UAAY,SAAUC,EAAKC,GAIhD,IADA,IAAIE,EAASF,EAAME,OACVC,EAAI,EAAGA,EAAID,EAAOK,QACzB,GAAIxE,KAAK8O,SAAW3K,EAAOC,KAAM,CAC/B,IAAI2K,EAAI5K,EAAOC,KACfJ,EAAIK,OAAO0K,EAAG5K,EAAOC,MACrBJ,EAAIM,OAAOyK,EAAG5K,EAAOC,KACvB,MACEA,GAAK,CAGX,EACOyK,CACT,CAzBA,CAyBEpK,EAAA,IACF,SAASyJ,EAAYrM,EAAaK,EAAO8M,EAAgBV,GACvD,IAAItM,EAAOH,EAAYI,UACnBgN,EAAcjN,EAAK2L,UAAU,eAC7BuB,EAAM,IAAIL,EAAa,CACzB5K,MAAO,CACLE,OAAQ8K,GAEVH,OAAQ,EACRK,qBAAqB,IAEvBjN,EAAMO,IAAIyM,GACV,IAAIE,EAAM,IAAIP,EAAa,CACzB5K,MAAO,CACLE,OAAQ8K,GAEVH,QAAS,EACTK,qBAAqB,IAEvBjN,EAAMO,IAAI2M,GACV,IAAIC,EAAS,IAAIR,EAAa,CAC5B5K,MAAO,CACLE,OAAQ8K,GAEVH,OAAQ,EACRK,qBAAqB,IAEvBjN,EAAMO,IAAI4M,GACVC,EAAc,EAAGJ,EAAKrN,EAAaG,GACnCsN,GAAe,EAAGF,EAAKvN,EAAaG,GACpCsN,EAAc,EAAGD,EAAQxN,EAAaG,GAClCsM,IACFY,EAAIZ,aAAc,EAClBc,EAAId,aAAc,GAEhBU,GACFA,EAAelI,KAAKoI,EAAKE,EAE7B,CACA,SAASE,EAAcC,EAAMjM,EAAIzB,EAAaG,GAE5C,IAAIwN,EAAc3N,EAAYU,IAAI,CAAC,YAAagN,EAAO,EAAI,cAAgB,kBACxE1N,EAAYU,IAAI,CAAC,YAAagN,EAAO,EAAI,QAAU,WACzC,IAATA,IACFC,EAAc3N,EAAYU,IAAI,CAAC,YAAa,qBAI9C,IAAIzB,EAAYe,EAAY2D,SAAS,aAAaiK,aAAalD,GAC/DjJ,EAAG0B,SAASlE,GACZwC,EAAG4B,MAAMwK,KAAO,KAChBpM,EAAG4B,MAAMyK,OAASH,CACpB,CACA,Q,qBCnSII,EACJ,SAAU/P,GAER,SAAS+P,IACP,IAAI9P,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KAehE,OAdAF,EAAMI,KAAO0P,EAAuB1P,KACpCJ,EAAMK,uBAAyB,CAAC,CAC9BC,KAAM,OACNC,gBAAgB,GACf,CACDD,KAAM,QACNC,gBAAgB,GACf,CACDD,KAAM,SACNC,gBAAgB,GACf,CACDD,KAAM,UACNC,gBAAgB,IAEXP,CACT,CAmDA,OArEA,QAAU8P,EAAwB/P,GAwBlC+P,EAAuBjO,UAAUkO,aAAe,WAC9C,MAAO,MACT,EACAD,EAAuBjO,UAAUmO,cAAgB,SAAUpL,EAAW1C,EAAM+N,GAC1E,IAAInN,EAAaZ,EAAKa,cAAc6B,GACpC,OAAO9B,GAAcmN,EAAUC,KAAKpN,EAAWqN,UACjD,EACAL,EAAuB1P,KAAO,qBAC9B0P,EAAuBrP,aAAe,CAAC,QAAS,QAAS,QACzDqP,EAAuBpP,cAAgB,CAErCC,EAAG,EACHC,iBAAkB,cAClBC,iBAAiB,EAGjBC,OAAQ,KACRsP,MAAM,EACNpP,UAAW,CACTC,MAAO,UACPoP,OAAQ,UACRX,YAAa,UACbY,aAAc,UACdC,gBAAiB,KAGjBrP,YAAa,GAEfC,SAAU,CACRC,OAAO,EACPJ,UAAW,CACTE,YAAa,IAGjBsP,YAAa,KACbC,YAAa,KACbC,SAAU,KACV/C,OAAO,EACPgD,eAAgB,IAChBC,YAAa,IACbC,qBAAsB,IACtBC,qBAAsB,MACtBC,gBAAiB,SACjBtP,kBAAmB,KAEdqO,CACT,CAvEA,CAuEEpO,EAAA,IACF,IAAAC,OAAMmO,EAAwB,KAAuB,GACrD,QC7Ee,SAASkB,EAAwBC,GACzCA,GAAW,UAAeA,EAAOC,SAItC,OAAYD,EAAOC,QAAQ,SAAUC,GAC/B,WAAgBA,IAAmC,MAApBA,EAAW/Q,OAC5C+Q,EAAW/Q,KAAO,cAEtB,GACF,C,eCRIgR,EAA2B,CAAC,YAAa,eACzCC,EAA2B,CAAC,YAAa,gBACzCC,EAAuB,CAAC,YAAa,mBACrCC,EAAqB,CAAC,YAAa,SACnCC,EAAqB,CAAC,YAAa,UACnCC,EAAoB,CACtBC,WAAY,cACZC,MAAM,EAAAC,EAAA,KAENC,kBAAkB,EAClBC,MAAO,SAAe/P,EAAaC,GACjC,SAAS+P,EAAStC,EAAMuC,GACtB,OAAOA,EAAMvP,IAAIgN,EAAO,EAAI8B,EAAqBC,EACnD,CACA,SAASS,EAAexC,EAAMuC,GAC5B,OAAOA,EAAMvP,IAAa,IAATgN,EAAa6B,EAAuB7B,EAAO,EAAI2B,EAA2BC,EAC7F,CAEA,IAAIrP,EAAQkQ,iBAAiBnQ,GAA7B,CAGA,IAAIoQ,EAAgBpQ,EAAY2L,gBAAgBC,MAChD,OAAQwE,GAAiB,CACvBC,SAAU,SAAkBzG,EAAQzJ,GAClC,IAAI0C,EACJ,MAAsC,OAA9BA,EAAY+G,EAAO4C,QAAiB,CAC1C,IAAIhJ,EAAYrD,EAAKsD,aAAaZ,GAC9B6K,EAAOvN,EAAKa,cAAc6B,GAAW6K,KACrCrK,EAAQG,EAAUoK,eACtBvK,EAAMwK,KAAOmC,EAAStC,EAAMlK,GAC5BH,EAAMyK,OAASoC,EAAexC,EAAMlK,IAAcH,EAAMwK,KACxD,IAAIyC,EAAcnQ,EAAKoQ,uBAAuB1N,EAAW,UACzD,IAAA2N,QAAOF,EAAajN,EACtB,CACF,EAdF,CAgBF,GAEF,I,sBClCIoN,EAAoB,CACtBd,WAAY,cACZC,MAAM,EAAAC,EAAA,KACNE,MAAO,SAAe/P,GACpB,IAAImG,EAAWnG,EAAYnB,iBACvBsB,EAAOH,EAAYI,UACnBsQ,EAAcC,EAAqB3Q,EAAaG,GAChDkG,EAAU,EACVC,EAAU,EACVC,EAAY,CAAC,IAAK,KAClBqK,EAAQzQ,EAAK0Q,kBAAkB1Q,EAAKsG,aAAaF,EAAUF,KAC3DyK,GAAS,IAAAC,KAAI5Q,EAAKwG,iBAAiBJ,EAAUD,IAAWnG,EAAK0Q,kBAAmB1Q,GAChF6Q,EAAWF,EAAO,GAClBG,EAAYH,EAAO,GACnBI,EAAaJ,EAAO,GACpBK,EAAcL,EAAO,GAMzB,GALA3Q,EAAKiR,UAAU,CACbV,YAAaA,EAEb7E,YAAa6E,GAAe,QAE1BE,EAAQ,GAAKE,EAAOnO,OAAS,GAGjC,MAAO,CACL0N,SAAUrQ,EAAY2L,gBAAgBC,MAAQyF,EAAgBC,GAEhE,SAASA,EAAe1H,EAAQzJ,GAC9B,IAAI0C,EACA0O,EAAQpR,EAAKqR,WACjB,MAAsC,OAA9B3O,EAAY+G,EAAO4C,QAAiB,CAC1C,IAAI5F,EAAa2K,EAAM7Q,IAAIkQ,EAAO/N,GAC9B4O,EAAUF,EAAM7Q,IAAIsQ,EAAUnO,GAC9B6O,EAAWH,EAAM7Q,IAAIuQ,EAAWpO,GAChC8O,EAAYJ,EAAM7Q,IAAIwQ,EAAYrO,GAClC+O,EAAaL,EAAM7Q,IAAIyQ,EAAatO,GACpCgP,EAAQtM,KAAKU,IAAIwL,EAASC,GAC1BI,EAASvM,KAAKC,IAAIiM,EAASC,GAC3BK,EAAajL,EAAS+K,EAAOjL,GAC7BoL,EAAclL,EAASgL,EAAQlL,GAC/BqL,EAAcnL,EAAS6K,EAAW/K,GAClCsL,EAAepL,EAAS8K,EAAYhL,GACpCvE,EAAO,GACX8E,EAAW9E,EAAM2P,EAAa,GAC9B7K,EAAW9E,EAAM0P,EAAY,GAC7B1P,EAAK4C,KAAKkN,EAAsBD,GAAeC,EAAsBH,GAAcG,EAAsBF,GAAcE,EAAsBJ,IAC7I,IAAIvO,EAAYrD,EAAKsD,aAAaZ,GAC9BuP,IAAiB5O,EAAU9C,IAAI,CAAC,YAAa,oBACjDP,EAAKkH,cAAcxE,EAAW,CAC5B6K,KAAM2E,EAAQd,EAAO1O,EAAW4O,EAASC,EAAUT,EAAWmB,GAC9DrO,aAAc0N,EAAUC,EAAWM,EAAY1L,GAAWyL,EAAWzL,GACrEjE,KAAMA,EACN+L,UAAWkE,EAAcX,EAAWC,EAAYhL,IAEpD,CACA,SAASE,EAASQ,EAAKV,GACrB,IAAIW,EAAI,GAGR,OAFAA,EAAElB,GAAWO,EACbW,EAAEjB,GAAWgB,EACNE,MAAMZ,IAAeY,MAAMF,GAAO,CAACG,IAAKA,KAAOtB,EAASuB,YAAYH,EAC7E,CACA,SAASJ,EAAW9E,EAAMwB,EAAO8D,GAC/B,IAAIC,EAAS/D,EAAMC,QACf+D,EAAShE,EAAMC,QACnB8D,EAAOvB,IAAW,IAAAkM,kBAAiB3K,EAAOvB,GAAWqK,EAAc,EAAG,GAAG,GACzE7I,EAAOxB,IAAW,IAAAkM,kBAAiB1K,EAAOxB,GAAWqK,EAAc,EAAG,GAAG,GACzE/I,EAAQtF,EAAK4C,KAAK2C,EAAQC,GAAUxF,EAAK4C,KAAK4C,EAAQD,EACxD,CACA,SAAS0K,EAAcX,EAAWC,EAAYhL,GAC5C,IAAI4L,EAAO1L,EAAS6K,EAAW/K,GAC3B6L,EAAO3L,EAAS8K,EAAYhL,GAGhC,OAFA4L,EAAKnM,IAAYqK,EAAc,EAC/B+B,EAAKpM,IAAYqK,EAAc,EACxB,CACLxD,EAAGsF,EAAK,GACRE,EAAGF,EAAK,GACRG,MAAOrM,EAAUoK,EAAc+B,EAAK,GAAKD,EAAK,GAC9CI,OAAQtM,EAAUmM,EAAK,GAAKD,EAAK,GAAK9B,EAE1C,CACA,SAASyB,EAAsBtO,GAE7B,OADAA,EAAMwC,IAAW,IAAAkM,kBAAiB1O,EAAMwC,GAAU,GAC3CxC,CACT,CACF,CACA,SAASwN,EAAczH,EAAQzJ,GAE7B,IAEI0D,EAGAhB,EALAP,GAAS,OAAkC,EAAfsH,EAAOnE,OACnCS,EAAS,EAET2M,EAAQ,GACRC,EAAS,GAETvB,EAAQpR,EAAKqR,WACbY,IAAiBpS,EAAYU,IAAI,CAAC,YAAa,oBACnD,MAAsC,OAA9BmC,EAAY+G,EAAO4C,QAAiB,CAC1C,IAAI5F,EAAa2K,EAAM7Q,IAAIkQ,EAAO/N,GAC9B4O,EAAUF,EAAM7Q,IAAIsQ,EAAUnO,GAC9B6O,EAAWH,EAAM7Q,IAAIuQ,EAAWpO,GAChC8O,EAAYJ,EAAM7Q,IAAIwQ,EAAYrO,GAClC+O,EAAaL,EAAM7Q,IAAIyQ,EAAatO,GACpC2E,MAAMZ,IAAeY,MAAMmK,IAAcnK,MAAMoK,IACjDtP,EAAO4D,KAAYuB,IACnBvB,GAAU,IAGZ5D,EAAO4D,KAAYmM,EAAQd,EAAO1O,EAAW4O,EAASC,EAAUT,EAAWmB,GAC3ES,EAAMxM,GAAWO,EACjBiM,EAAMvM,GAAWqL,EACjB9N,EAAQsC,EAASuB,YAAYmL,EAAO,KAAMC,GAC1CxQ,EAAO4D,KAAYrC,EAAQA,EAAM,GAAK4D,IACtCnF,EAAO4D,KAAYrC,EAAQA,EAAM,GAAK4D,IACtCoL,EAAMvM,GAAWsL,EACjB/N,EAAQsC,EAASuB,YAAYmL,EAAO,KAAMC,GAC1CxQ,EAAO4D,KAAYrC,EAAQA,EAAM,GAAK4D,IACxC,CACAtH,EAAKiR,UAAU,cAAe9O,EAChC,CACF,GAUF,SAAS+P,EAAQd,EAAO1O,EAAW4O,EAASC,EAAUT,EAAWmB,GAC/D,IAAI1E,EAYJ,OAVEA,EADE+D,EAAUC,GACJ,EACCD,EAAUC,EACZ,EAEAU,EACL,EAAIvP,EAAY,EAChB0O,EAAM7Q,IAAIuQ,EAAWpO,EAAY,IAAM6O,EAAW,GAAK,EAEzD,EAEKhE,CACT,CACA,SAASiD,EAAqB3Q,EAAaG,GACzC,IACIuF,EADAZ,EAAW9E,EAAY+E,cAEvBG,EAA8B,aAAlBJ,EAASzG,KAAsByG,EAASO,gBAAkBK,EAASZ,EAASa,YAAaJ,KAAKK,IAAIF,EAAO,GAAKA,EAAO,IAAMvF,EAAKsF,SAC5IgJ,GAAc,SAAa,IAAAsE,WAAU/S,EAAYU,IAAI,eAAgBwE,GAAYA,GACjFwJ,GAAc,SAAa,IAAAqE,WAAU/S,EAAYU,IAAI,eAAgB,GAAIwE,GACzEyJ,EAAW3O,EAAYU,IAAI,YAC/B,OAAmB,MAAZiO,GAAmB,QAAaA,EAAUzJ,GAC/CK,KAAKC,IAAID,KAAKU,IAAIf,EAAY,EAAGuJ,GAAcC,EACnD,CACA,QC3JO,SAASvE,EAAQC,GACtBA,EAAUG,kBAAkB,GAC5BH,EAAUC,oBAAoB2I,GAC9B5I,EAAU6I,qBAAqB,GAC/B7I,EAAU8I,eAAe,GACzB9I,EAAUI,eAAe,EAC3B,C,wGCHW2I,EAAoB,CAC7BjU,MAAO,OACPyO,YAAa,UAEJyF,EAAyB,CAClCC,OAAQ,EACRC,WAAY,EACZC,iBAAkB,EAClBC,WAAY,EACZC,WAAY,EACZC,MAAO,EACPC,MAAO,GAGEC,GAAmBC,EAAAA,EAAAA,MAE1BC,EAEJ,SAAU9V,GAGR,SAAS8V,IACP,IAAI7V,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KAGhE,OADAF,EAAMI,KAAOyV,EAAkBzV,KACxBJ,CACT,CAqCA,OA5CA8V,EAAAA,EAAAA,IAAUD,EAAmB9V,GAS7B8V,EAAkBhU,UAAUkU,cAAgB,WAC1C7V,KAAK8V,cAAgB9V,KAAKuC,IAAI,UAAU,GACxCvC,KAAK+V,SAAW/V,KAAKuC,IAAI,KAAK,EAChC,EAEAoT,EAAkBhU,UAAUqU,eAAiB,SAAUjF,EAAQjP,GAC7D,OAAOmU,EAAAA,EAAAA,GAAiB,KAAMjW,KAChC,EAEA2V,EAAkBhU,UAAUuU,cAAgB,SAAUxR,EAAWyR,EAAU7S,GACzE,IAAImI,EAAS5L,EAAO8B,UAAUuU,cAAcrS,KAAK7D,KAAM0E,EAAWyR,GAGlE,OADA7S,IAAOmI,EAAO2K,KAAOX,EAAiBnS,GAAI8S,MACnC3K,CACT,EAEAkK,EAAkBzV,KAAO,gBACzByV,EAAkBpV,aAAe,CAAC,OAAQ,QAAS,MAAO,aAAc,YACxEoV,EAAkBnV,cAAgB,CAChCE,iBAAkB,cAElBD,EAAG,EACHE,iBAAiB,EAIjBuP,MAAM,GASDyF,CACT,CA9CA,CA8CEU,EAAAA,GAEF,I,6SClDIC,EAAW,WACXC,EAAS,SACTC,EAAO,OACPC,EAAS,SACTC,EAAS,CAACH,EAAQD,EAAUE,EAAMC,GAClCE,EAAkB,CACpBC,OAAQ,CAAC,aACT3V,SAAU,CAACqV,EAAU,aACrBO,KAAM,CAACL,EAAM,aACbM,OAAQ,CAACL,EAAQ,cAEfM,EAAa,CACfH,OAAQ,CAAC,SACT3V,SAAU,CAACqV,EAAU,SACrBO,KAAM,CAACL,EAAM,SACbM,OAAQ,CAACL,EAAQ,UAEfO,EAAqB,CAAC,IAAK,KAG3BC,EAAoB,QACpBC,EAAoB,CACtBN,OAAQ,CAAC,EACT3V,SAAU,CAAC,EACX4V,KAAM,CAAC,EACPC,OAAQ,CAAC,GAcPK,EAAiB,CACnBC,YAAaC,EAAAA,EACbC,IAAKC,EAAAA,EACLC,OAAQC,EAAAA,EACRC,MAAOC,EAAAA,EACPC,SAAUC,EAAAA,GAGZ,SAASC,EAAOxU,GACd,OAAOA,aAAcyU,EAAAA,EACvB,CAEA,SAASC,EAAc1U,GACrB,OAAOA,aAAc2U,EAAAA,EACvB,CAEA,SAASC,EAAYC,EAAUC,GAC7BA,EAASC,cAAcF,GAEnBH,EAAcI,IAAaJ,EAAcG,KAC3CC,EAASE,SAASH,EAASjT,OAC3BkT,EAAS3X,EAAI0X,EAAS1X,EACtB2X,EAAShT,GAAK+S,EAAS/S,GACvBgT,EAASG,OAASJ,EAASI,OAC3BH,EAASI,UAAYL,EAASK,UAC9BJ,EAASK,OAASN,EAASM,OAEvBX,EAAOM,IAAaN,EAAOK,IAC7BC,EAASM,SAASP,EAASlU,OAGjC,CAEA,IAAI0U,EAEJ,SAAU9Y,GAGR,SAAS8Y,IACP,IAAI7Y,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KAGhE,OADAF,EAAMI,KAAOyY,EAAgBzY,KACtBJ,CACT,CAuFA,OA9FA8V,EAAAA,EAAAA,IAAU+C,EAAiB9Y,GAS3B8Y,EAAgBhX,UAAUC,OAAS,SAAUgX,EAAc9W,EAASC,EAAK8W,GAEvE7Y,KAAK0M,gBAAkB,KACvB,IAAIvK,EAAUnC,KAAKoC,MACfJ,EAAO4W,EAAa3W,UACpBC,EAAQlC,KAAKkC,MACb4W,EAAaC,GAAeH,EAAc5W,EAAMF,EAASC,GAExDI,GAGHD,EAAMG,YAGRL,EAAKQ,KAAKL,GAASM,KAAI,SAAUC,GAC/BsW,GAAmBjX,EAAK,KAAMW,EAAQoW,EAAWpW,EAAQmW,GAAUD,EAAc1W,EAAOF,EAC1F,IAAGqB,QAAO,SAAUH,GAClB,IAAII,EAAKnB,EAAQgB,iBAAiBD,GAClCI,IAAM2V,EAAAA,EAAAA,IAAqB3V,EAAImS,EAAiBnS,GAAIyN,OAAQ6H,EAC9D,IAAG3V,QAAO,SAAUP,EAAQQ,GAC1B,IAAIgW,EAAQ/W,EAAQgB,iBAAiBD,GACrC8V,GAAmBjX,EAAKmX,EAAOxW,EAAQoW,EAAWpW,EAAQmW,GAAUD,EAAc1W,EAAOF,EAC3F,IAAGuB,UAEH,IAAI4K,EAAWyK,EAAarW,IAAI,QAAQ,IAAQ4W,EAAAA,EAAAA,IAAeP,EAAalY,kBAAkB,EAAOkY,GAAgB,KAEjHzK,EACFjM,EAAMkM,YAAYD,GAElBjM,EAAMuK,iBAGRzM,KAAKoC,MAAQJ,CACf,EAEA2W,EAAgBhX,UAAUoL,yBAA2B,SAAU6L,EAAc9W,EAASC,GACpF/B,KAAKkC,MAAMG,YACXrC,KAAKoC,MAAQ,IACf,EAEAuW,EAAgBhX,UAAUsL,kBAAoB,SAAUxB,EAAQmN,EAAc9W,EAASC,EAAK8W,GAC1F,IAAI7W,EAAO4W,EAAa3W,UACpB6W,EAAaC,GAAeH,EAAc5W,EAAMF,EAASC,GACzDiN,EAAiBhP,KAAK0M,gBAAkB,GAE5C,SAAS0M,EAA4B9V,GAC9BA,EAAG+V,UACN/V,EAAGgL,aAAc,EACjBhL,EAAGgW,YAAY,YAAYC,YAAa,EAE5C,CAEA,IAAK,IAAInT,EAAMqF,EAAOjC,MAAOpD,EAAMqF,EAAO+N,IAAKpT,IAAO,CACpD,IAAI9C,EAAK0V,GAAmB,KAAM,KAAM5S,EAAK0S,EAAW1S,EAAKyS,GAAUD,EAAc5Y,KAAKkC,MAAOF,GAE7FsB,IACFA,EAAGmW,SAASL,GACZpK,EAAelI,KAAKxD,GAExB,CACF,EAEAqV,EAAgBhX,UAAUyL,aAAe,SAAUC,GACjD0K,EAAAA,iBAA6B/X,KAAK0M,iBAAmB1M,KAAKkC,MAAOmL,EACnE,EAEAsL,EAAgBhX,UAAU+X,sBAAwB,SAAUC,EAAWC,EAAOxB,EAAUyB,GACtF,IAAIC,EAAcF,EAAMG,QAExB,GAAmB,MAAfD,GAAuB1B,EAAShY,OAAS0Z,EAC3C,OAAO,EAKT,OAAQ1B,EAAWA,EAAS4B,cAAgB5B,EAAS6B,SAAW7B,IAAapY,KAAKkC,MAChF,GAAIkW,EAAShY,OAAS0Z,EACpB,OAAO,EAIX,OAAO,CACT,EAEAnB,EAAgBzY,KAAO,SAChByY,CACT,CAhGA,CAgGEuB,EAAAA,GAEF,IAEA,SAASC,EAASC,GAChB,IACI9W,EADA+W,EAAcD,EAASla,KAI3B,GAAoB,SAAhBma,EAAwB,CAC1B,IAAIpW,EAAQmW,EAASnW,MAEjBqW,EAA0B,MAAfrW,EAAMuQ,OAAiC,MAAhBvQ,EAAMwQ,OAAiB,CAC3D1F,EAAG9K,EAAM8K,GAAK,EACdwF,EAAGtQ,EAAMsQ,GAAK,EACdC,MAAOvQ,EAAMuQ,MACbC,OAAQxQ,EAAMwQ,QACZ,KACA8F,EAAWC,GAAYvW,GAE3BX,EAAKyU,EAAAA,SAAqBwC,EAAU,KAAMD,EAAUrW,EAAMrD,QAAU,UACpE6U,EAAiBnS,GAAImX,eAAiBF,CACxC,MAAO,GAAoB,UAAhBF,EACT/W,EAAK,IAAIyU,EAAAA,GAAkB,CAAC,GAC5BtC,EAAiBnS,GAAIoX,gBAAkBN,EAASlV,MAAMyV,WACjD,GAAoB,SAAhBN,EACT/W,EAAK,IAAIyU,EAAAA,GAAiB,CAAC,QACtB,GAAoB,UAAhBsC,EACT/W,EAAK,IAAIyU,EAAAA,MACJ,IAAoB,iBAAhBsC,EACT,MAAM,IAAIO,MAAM,wCAEhB,IAAIC,EAAM9C,EAAAA,cAA0BsC,GAEpC,IAAKQ,EAAK,CACR,IAAIjP,EAAS,GAETkP,GAIJC,EAAAA,EAAAA,IAAWnP,EACb,CAEAtI,EAAK,IAAIuX,CACX,CASA,OAPApF,EAAiBnS,GAAI0X,kBAAoBX,EACzC/W,EAAGlD,KAAOga,EAASha,KAInBkD,EAAG2X,eAAiB,EACpB3X,EAAG4X,aAAe,EACX5X,CACT,CAEA,SAAS6X,EACTpZ,EAAKuB,EAAIoB,EAAW0V,EAAUgB,EAAgBvZ,EAAa8C,IAEzD0W,EAAAA,EAAAA,GAAwC/X,GACxC,IAAIgY,EAAWF,GAAkBA,EAAexE,OAAO2E,IAEnDD,GAGFhY,EAAGkY,cAAcF,GAIflB,GAAmC,MAAvBA,EAASqB,aACvBrB,EAASqB,WAAazE,GAIxB,IAAI0E,EAAWtB,GAAYA,EAASlV,MAEpC,GAAIwW,EAAU,CACZ,GAAgB,SAAZpY,EAAGpD,KAAiB,CACtB,IAAIyb,EAAkBD,GAEtBE,EAAAA,EAAAA,QAAOD,EAAiB,cAAgBA,EAAgBjM,KAAOiM,EAAgBE,WAC/ED,EAAAA,EAAAA,QAAOD,EAAiB,gBAAkBA,EAAgBhM,OAASgM,EAAgBG,WACrF,CAEA,IAAIC,OAAe,EACfC,EAAWlE,EAAOxU,GAAMoY,EAASlG,MAAQ,KAEzCzT,GAAOia,IACTA,EAASC,OAAQ,EACjBF,GAAeG,EAAAA,EAAAA,GAA+BF,EAAUja,IAI1D2Z,EAASS,eAAiBJ,CAC5B,CAEA,GAAI/D,EAAc1U,IACZoY,EAAU,CACRK,EAAeL,EAASS,eAExBJ,IACFL,EAASlG,MAAQuG,EAErB,EAGFK,EAAAA,EAAAA,IAAsB9Y,EAAI8W,EAAUvY,EAAa,CAC/C6C,UAAWA,EACXC,OAAQA,EACR0X,YAAY,KAEdC,EAAAA,EAAAA,GAAuBhZ,EAAI8W,EAASmC,kBAAmB1a,EACzD,CAEA,SAAS2a,GAAgBC,EAAOnZ,EAAIoZ,EAAYhB,EAAUN,GACxD,IAAIuB,EAAgBrZ,EAAG+V,QAAU,KAAO/V,EACpCgY,EAAWF,GAAkBA,EAAeqB,GAAOlB,IAEvD,GAAIoB,EAAe,CAEjB,IAAIC,EAAWD,EAAcrD,YAAYmD,GAEzC,IAAiB,IAAbf,EAAoB,CACtB,IAAImB,EAAwBF,EAAcG,SAASL,GAE/CI,IACFA,EAAsB3X,MAAQ,KAElC,MAEE0X,EAAS1X,MAAQwW,GAAY,KAO3BJ,IACFsB,EAASG,WAAazB,IAGxB0B,EAAAA,EAAAA,IAAqBL,EACvB,CACF,CAEA,SAASM,GAAQ3Z,EAAI8W,EAAUvY,GAE7B,IAAIyB,EAAG+V,QAAP,CAIA,IAAIsD,EAAgBrZ,EAChByS,EAAWlU,EAAYkU,SACvBD,EAAgBjU,EAAYiU,cAEhC6G,EAAclc,EAAIsV,EAClB4G,EAAcpE,OAASzC,EAEvB,IAAIoH,EAAQ9C,EAAShV,GACZ,MAAT8X,IAAkBP,EAAcvX,GAAK8X,GAAS,GAE9C,IAAK,IAAI9Y,EAAI,EAAGA,EAAIsS,EAAOlS,OAAQJ,IACjC+Y,GAAoBR,EAAevC,EAAU1D,EAAOtS,GAbtD,CAeF,CAEA,SAAS+Y,GAAoBR,EAAevC,EAAUqC,GACpD,IAGIG,EAHAQ,EAAWX,IAAUlG,EACrBmG,EAAaU,EAAWhD,EAAWiD,GAAoBjD,EAAUqC,GACjES,EAAQR,EAAaA,EAAWtX,GAAK,KAG5B,MAAT8X,IAEFN,EAAWQ,EAAWT,EAAgBA,EAAcrD,YAAYmD,GAChEG,EAASxX,GAAK8X,GAAS,EAE3B,CAEA,SAASnE,GAAeH,EAAc5W,EAAMF,EAASC,GACnD,IAAI+W,EAAaF,EAAarW,IAAI,cAC9ByF,EAAW4Q,EAAalY,iBACxB4c,EAAgB,CAAC,EAEjBtV,IAOFsV,EAAgBtV,EAASmP,eAAiBnP,EAASmP,eAAenP,GAAYmP,EAAenP,EAAS9H,MAAM8H,IAwC9G,IArCA,IA8BIuV,EACAC,EA/BAC,GAAUC,EAAAA,EAAAA,UAAS,CACrBC,SAAU5b,EAAI4b,SACdC,UAAW7b,EAAI6b,UACfC,MAAO9b,EAAI8b,MACXC,oBAAqB/b,EAAI+b,oBACzB7S,MAAOA,EACP/F,MAAOA,EACP6Y,gBAAiBA,EACjBC,cAAeA,EACfC,OAAQA,EACRC,UAAWA,EACXC,qBAAsBA,EACtBC,KAAMA,GACLd,EAAcvb,KAAO,CAAC,GACrBsc,EAAa,CAIfC,QAAS,CAAC,EACVC,SAAU3F,EAAa4F,GACvBC,WAAY7F,EAAaxY,KACzBse,YAAa9F,EAAa8F,YAC1B1W,SAAUsV,EAActV,SACxB2W,iBAAkB3c,EAAKsF,QACvBsX,OAAQC,GAAcjG,EAAa3W,YAQjC6c,EAAsB,CAAC,EACvBC,EAAkB,CAAC,EACnBC,EAAwB,CAAC,EACzBC,EAAoB,CAAC,EAEhB7a,EAAI,EAAGA,EAAIsS,EAAOlS,OAAQJ,IAAK,CACtC,IAAI8a,EAAYxI,EAAOtS,GACvB4a,EAAsBE,GAAatG,EAAapT,SAASmR,EAAgBuI,IACzED,EAAkBC,GAAatG,EAAapT,SAASuR,EAAWmI,GAClE,CAEA,SAAS5Z,EAAa6Z,GACpB,OAAOA,IAAoB5B,EAAsBC,IAAkBA,EAAgBxb,EAAKsD,aAAa6Z,IAAoBnd,EAAKsD,aAAa6Z,EAC7I,CAEA,SAASC,EAAkBD,EAAiB1C,GAC1C,OAAQza,EAAKqd,cAA+CF,IAAoB5B,EAAsBuB,EAAoBrC,KAAWqC,EAAoBrC,GAASnX,EAAa6Z,GAAiB3Z,SAASmR,EAAgB8F,KAAWnX,EAAa6Z,GAAiB3Z,SAASmR,EAAgB8F,IAA9PuC,EAAsBvC,EACrD,CAEA,SAAS6C,EAAcH,EAAiB1C,GACtC,OAAQza,EAAKqd,cAA2CF,IAAoB5B,EAAsBwB,EAAgBtC,KAAWsC,EAAgBtC,GAASnX,EAAa6Z,GAAiB3Z,SAASuR,EAAW0F,KAAWnX,EAAa6Z,GAAiB3Z,SAASuR,EAAW0F,IAAxOwC,EAAkBxC,EACjD,CAEA,OAAO,SAAU0C,EAAiBtG,GAKhC,OAJA0E,EAAsB4B,EACtB3B,EAAgB,KAChBsB,EAAsB,CAAC,EACvBC,EAAkB,CAAC,EACZjG,GAAcA,GAAW4E,EAAAA,EAAAA,UAAS,CACvCyB,gBAAiBA,EACjBza,UAAW1C,EAAKud,YAAYJ,GAE5BK,WAAY3G,EAAUA,EAAQ3Y,KAAO,MACpCme,GAAaZ,EAClB,EAOA,SAASxS,EAAMxF,EAAK0Z,GAElB,OADmB,MAAnBA,IAA4BA,EAAkB5B,GACvCvb,EAAKqR,WAAW9Q,IAAIP,EAAK0Q,kBAAkBjN,GAAO,GAAI0Z,EAC/D,CAQA,SAASpB,EAAgBtY,EAAK0Z,GACT,MAAnBA,IAA4BA,EAAkB5B,GAC9C9X,EAAMA,GAAO,EACb,IAAIga,EAAUzd,EAAK0d,iBAAiBja,GAEpC,IAAKga,EAAS,CACZ,IAAIE,EAAW3d,EAAK0Q,kBAAkBjN,GACtC,OAAOka,GAAY,EAAI3d,EAAKqR,WAAW9Q,IAAIod,EAAUR,QAAmBS,CAC1E,CAEA,IAAIzW,EAAMnH,EAAKO,IAAIkd,EAAQrf,KAAM+e,GAC7BU,EAAcJ,GAAWA,EAAQI,YACrC,OAAOA,EAAcA,EAAYC,WAAW3W,GAAOA,CACrD,CAsBA,SAASjE,EAAM6a,EAAWZ,GAKL,MAAnBA,IAA4BA,EAAkB5B,GAC9C,IAAIrY,EAAQlD,EAAKiD,cAAcka,EAAiB,SAC5Ca,EAAc9a,GAASA,EAAMwK,KAC7BuQ,EAAU/a,GAASA,EAAM+a,QACzBnf,EAAYse,EAAkBD,EAAiB5I,GAAQ9G,eAC5C,MAAfuQ,IAAwBlf,EAAU4O,KAAOsQ,GAC9B,MAAXC,IAAoBnf,EAAUmf,QAAUA,GACxC,IAAIjW,EAAM,CACRkW,cAAchV,EAAAA,EAAAA,UAAS8U,GAAeA,EAAc,QAElDG,EAAab,EAAcH,EAAiB5I,GAI5C6J,EAAYC,EAAAA,GAAiCF,EAAY,KAAMnW,GAAK,GAAO,GAC/EoW,EAAUE,KAAOH,EAAWI,WAAW,SAAU3L,EAAAA,EAAAA,WAAUgE,EAAa4H,kBAAkBrB,EAAiB5I,IAASkK,EAAAA,EAAAA,GAAgBze,EAAMmd,IAAoB,KAC9J,IAAIpC,EAAasD,EAAAA,GAAkCF,EAAYnW,GAAK,GAKpE,OAJA0W,EAAkBX,EAAWjf,GAC7BA,GAAY6f,EAAAA,EAAAA,IAAiC7f,EAAWsf,EAAWrD,GACnEgD,GAAaa,EAAoB9f,EAAWif,GAC5Cjf,EAAU+f,QAAS,EACZ/f,CACT,CAQA,SAASkd,EAAc+B,EAAWZ,GAKb,MAAnBA,IAA4BA,EAAkB5B,GAC9C,IAAIzc,EAAYse,EAAkBD,EAAiB7I,GAAU7G,eACzD0Q,EAAab,EAAcH,EAAiB7I,GAC5C8J,EAAYC,EAAAA,GAAiCF,EAAY,KAAM,MAAM,GAAM,GAC/EC,EAAUE,KAAOH,EAAWI,WAAW,SAAUO,EAAAA,EAAAA,WAAUlI,EAAa4H,kBAAkBrB,EAAiB7I,GAAWsC,EAAa4H,kBAAkBrB,EAAiB5I,IAASkK,EAAAA,EAAAA,GAAgBze,EAAMmd,IAAoB,KACzN,IAAIpC,EAAasD,EAAAA,GAAkCF,EAAY,MAAM,GAKrE,OAJAO,EAAkBX,EAAWjf,GAC7BA,GAAY6f,EAAAA,EAAAA,IAAiC7f,EAAWsf,EAAWrD,GACnEgD,GAAaa,EAAoB9f,EAAWif,GAC5Cjf,EAAU+f,QAAS,EACZ/f,CACT,CAEA,SAAS8f,EAAoB9f,EAAWigB,GACtC,IAAK,IAAIC,KAAOD,GACVnF,EAAAA,EAAAA,QAAOmF,EAAOC,KAChBlgB,EAAUkgB,GAAOD,EAAMC,GAG7B,CAEA,SAASN,EAAkBK,EAAOjgB,GAI5BigB,IACFA,EAAMlF,WAAa/a,EAAU+a,SAAWkF,EAAMlF,UAC9CkF,EAAME,eAAiBngB,EAAUmgB,aAAeF,EAAME,cAE1D,CAOA,SAAShD,EAAOiD,EAAY/B,GAG1B,GAFmB,MAAnBA,IAA4BA,EAAkB5B,IAE1C3B,EAAAA,EAAAA,QAAO5G,EAAmBkM,GAAa,CACzC,IAAIC,EAAUnf,EAAKiD,cAAcka,EAAiB,SAClD,OAAOgC,EAAUA,EAAQnM,EAAkBkM,IAAe,IAC5D,CAIA,IAAItF,EAAAA,EAAAA,QAAO3G,EAAwBiM,GACjC,OAAOlf,EAAKiD,cAAcka,EAAiB+B,EAE/C,CAOA,SAAShD,EAAUlU,GACjB,GAAsB,gBAAlBhC,EAAS9H,KAAwB,CACnC,IAAIyG,EAAWqB,EAASpB,cACxB,OAAOwa,EAAAA,EAAAA,KAAgB1D,EAAAA,EAAAA,UAAS,CAC9B7W,KAAMF,GACLqD,GACL,CACF,CAMA,SAASmU,IACP,OAAOrc,EAAQuf,yBACjB,CAOA,SAASjD,EAAKpU,GACZ,OAAOqW,EAAAA,GAAyBrW,EAAKlI,EACvC,CACF,CAEA,SAAS+c,GAAc7c,GACrB,IAAIsf,EAAY,CAAC,EAUjB,OATAzb,EAAAA,EAAAA,MAAK7D,EAAK+J,YAAY,SAAUwV,GAC9B,IAAI9B,EAAUzd,EAAK0d,iBAAiB6B,GAEpC,IAAK9B,EAAQ+B,aAAc,CACzB,IAAIC,EAAWhC,EAAQgC,SACnBC,EAAWJ,EAAUG,GAAYH,EAAUG,IAAa,GAC5DC,EAASjC,EAAQkC,eAAiB3f,EAAK0Q,kBAAkB6O,EAC3D,CACF,IACOD,CACT,CAEA,SAAStI,GAAmBjX,EAAK6f,EAAUld,EAAW0V,EAAUvY,EAAaK,EAAOF,GAQlF,GAAKoY,EAAL,CAKA,IAAI9W,EAAKue,GAAmB9f,EAAK6f,EAAUld,EAAW0V,EAAUvY,EAAaK,GAG7E,OAFAoB,GAAMtB,EAAKgB,iBAAiB0B,EAAWpB,GACvCA,IAAMwe,EAAAA,EAAAA,IAAoBxe,EAAI8W,EAAS2H,MAAO3H,EAAS4H,UAAW5H,EAAS6H,kBACpE3e,CALP,CAFEpB,EAAMmB,OAAOue,EAQjB,CAEA,SAASC,GAAmB9f,EAAK6f,EAAUld,EAAW0V,EAAUvY,EAAaK,GAK3E,IAAIggB,GAAmB,EACnBhJ,EAAQ0I,EAERA,GAAYO,GAAmBP,EAAUxH,EAAUvY,KAQrDqgB,GAAkBE,EAAAA,EAAAA,SAAQlgB,EAAMmgB,cAAeT,GAC/CA,EAAW,MAGb,IAAIjd,GAAUid,EACVte,EAAKse,EAEJte,EAUHA,EAAGgf,eATHhf,EAAK6W,EAASC,GAEVlB,GACFhB,EAAYgB,EAAO5V,KAUA,IAAnB8W,EAASmI,MACXjf,EAAGkf,iBAAkB,EACZlf,EAAGkf,kBACZlf,EAAGkf,iBAAkB,GAGvBtL,EAAkBN,OAAO2E,IAAMrE,EAAkBN,OAAO6L,OAASvL,EAAkBjW,SAASsa,IAAMrE,EAAkBjW,SAASwhB,OAASvL,EAAkBL,KAAK0E,IAAMrE,EAAkBL,KAAK4L,OAASvL,EAAkBJ,OAAOyE,IAAMrE,EAAkBJ,OAAO2L,OAAS,KACpQvL,EAAkBwL,UAAW,EAC7BC,GAA2Brf,EAAIoB,EAAW0V,EAAUvY,EAAa8C,EAAQuS,GACzE0L,GAAyBtf,EAAIoB,EAAW0V,EAAUvY,EAAa8C,GAC/DwW,EAAepZ,EAAKuB,EAAIoB,EAAW0V,EAAUlD,EAAmBrV,EAAa8C,IAI7EiX,EAAAA,EAAAA,QAAOxB,EAAU,UAAY3E,EAAiBnS,GAAI8S,KAAOgE,EAAShE,MAElE,IAAK,IAAIhS,EAAI,EAAGA,EAAIsS,EAAOlS,OAAQJ,IAAK,CACtC,IAAI8a,EAAYxI,EAAOtS,GAEvB,GAAI8a,IAAc3I,EAAQ,CACxB,IAAIsM,EAAgBxF,GAAoBjD,EAAU8E,GAC9C4D,EAAgBC,GAA2B3I,EAAUyI,EAAe3D,GACxE1C,GAAgB0C,EAAW5b,EAAIuf,EAAeC,EAAe5L,EAC/D,CACF,CAcA,OAZA+F,GAAQ3Z,EAAI8W,EAAUvY,GAEA,UAAlBuY,EAASla,MACX8iB,GAAcjhB,EAAKuB,EAAIoB,EAAW0V,EAAUvY,GAG1CqgB,GAAmB,EACrBhgB,EAAM+gB,UAAU3f,EAAI4e,GAEpBhgB,EAAMO,IAAIa,GAGLA,CACT,CAGA,SAAS6e,GAAmB7e,EAAI8W,EAAUvY,GACxC,IAAIqhB,EAAUzN,EAAiBnS,GAC3B6f,EAAe/I,EAASla,KACxBkjB,EAAgBhJ,EAASnW,MACzBof,EAAgBjJ,EAASlV,MAC7B,OAEErD,EAAYyhB,gCACO,MAAhBH,GAAwBA,IAAiBD,EAAQlI,mBAAsC,SAAjBmI,GAA2BI,GAAeH,IAAkB5I,GAAY4I,KAAmBF,EAAQzI,gBAAmC,UAAjB0I,IAA4BvH,EAAAA,EAAAA,QAAOyH,EAAe,UAAYA,EAAc1I,QAAUuI,EAAQxI,eAOhS,CAEA,SAASkI,GAAyBtf,EAAIoB,EAAW0V,EAAUvY,EAAa8C,GAItE,IAAI6e,EAAcpJ,EAASjM,SAE3B,IAAoB,IAAhBqV,EACElgB,GAAMA,EAAGmgB,eACXngB,EAAGmJ,sBAEA,GAAI+W,EAAa,CACtB,IAAIrV,EAAW7K,EAAGmgB,cAEdtV,GAAYgU,GAAmBhU,EAAUqV,EAAa3hB,KACxDsM,EAAW,MAGRA,IACHA,EAAWgM,EAASqJ,GAMpBlgB,EAAG8K,YAAYD,IAGjBgN,EAAe,KAAMhN,EAAUzJ,EAAW8e,EAAa,KAAM3hB,EAAa8C,EAC5E,CAEF,CAEA,SAASge,GAA2Brf,EAAIoB,EAAW0V,EAAUvY,EAAa8C,EAAQyW,GAEhF,IAAI9X,EAAG+V,QAAP,CAKAqK,GAActJ,EAAU,KAAMgB,GAC9BsI,GAActJ,EAAU9D,EAAU8E,GAOlC,IAAIuI,EAAiBvI,EAAexE,OAAO6L,OACvCmB,EAAmBxI,EAAena,SAASwhB,OAC3CoB,EAAezI,EAAevE,KAAK4L,OACnCqB,EAAiB1I,EAAetE,OAAO2L,OAE3C,GAAsB,MAAlBkB,GAA8C,MAApBC,GAA8C,MAAlBE,GAA0C,MAAhBD,EAAsB,CACxG,IAAIE,EAAczgB,EAAG0gB,iBAErB,IAAuB,IAAnBL,EACFI,GAAezgB,EAAG2gB,wBACb,CACLN,EAAiBvI,EAAexE,OAAO6L,OAASkB,GAAkB,CAChEzjB,KAAM,QAGH6jB,EAMHA,EAAYzB,eALZyB,EAAc5J,EAASwJ,GACvBrgB,EAAG4gB,eAAeH,IAOpB5I,EAAe,KAAM4I,EAAarf,EAAWif,EAAgB,KAAM9hB,EAAa8C,GAGhF,IAFA,IAAIwf,EAAoBR,GAAkBA,EAAeze,MAEhDd,EAAI,EAAGA,EAAIsS,EAAOlS,OAAQJ,IAAK,CACtC,IAAI8a,EAAYxI,EAAOtS,GAEvB,GAAI8a,IAAc3I,EAAQ,CACxB,IAAI6N,EAAqBhJ,EAAe8D,GAAWuD,OACnDjG,GAAgB0C,EAAW6E,EAAaK,EAAoBrB,GAA2BY,EAAgBS,EAAoBlF,GAAY,KACzI,CACF,CAEAiF,EAAoBJ,EAAY9H,QAAU8H,EAAYM,YACxD,CACF,CAjDA,CAkDF,CAEA,SAASX,GAActJ,EAAUqC,EAAOrB,GACtC,IAAIkJ,EAAY7H,EAAmBY,GAAoBjD,EAAUqC,GAAzCrC,EACpBsB,EAAYe,EAAyBsG,GAA2B3I,EAAUkK,EAAUhO,GAAhE8D,EAASlV,MAC7Bqf,EAASnK,EAASla,KAClBskB,EAAQF,EAAWA,EAASvH,WAAa,KACzC4G,EAAiBvJ,EAAS2J,YAC1BU,EAAYd,EAAyBlH,EAAyBY,GAAoBsG,EAAgBlH,GAArDkH,EAAhB,KAEjC,GAAIjI,IAEJN,EAAesH,WAAYgC,EAAAA,EAAAA,IAAqBhJ,EAAU6I,IAAUC,IAASC,IAAY,CACvFrJ,EAAesH,UAAW,EAC1B,IAAIiC,GAAgBC,EAAAA,EAAAA,IAA8BlJ,EAAU6I,GAAS9H,IAIhE+H,GAASG,EAAc5H,aAC1ByH,EAAQG,EAAc5H,aAGnB0H,GAAYE,EAAcZ,cAC7BU,EAAWE,EAAcZ,YAE7B,CAEA,IAAKtH,GAASgI,EAAU,CACtB,IAAII,EAAmBJ,GAEtBI,EAAiB3kB,OAAS2kB,EAAiB3kB,KAAO,OAMrD,CAEA,IAAIkW,EAAQqG,EAAgCrB,EAAeqB,GAAvCrB,EAAexE,OACnCR,EAAKmF,IAAMiJ,EACXpO,EAAKqM,OAASgC,CAChB,CAEA,SAASpH,GAAoBjD,EAAUqC,GACrC,OAAQA,EAAmBrC,EAAWA,EAASqC,GAAS,KAAxCrC,CAClB,CAEA,SAAS2I,GAA2B+B,EAAmBC,EAAatI,GAClE,IAAIvX,EAAQ6f,GAAeA,EAAY7f,MAMvC,OAJa,MAATA,GAAiBuX,IAAUnG,GAAYwO,IACzC5f,EAAQ4f,EAAkB9G,eAGrB9Y,CACT,CAsBA,SAAS8d,GAAcjhB,EAAKuB,EAAIoB,EAAW0V,EAAUvY,GACnD,IAAImjB,EAAc5K,EAAS6K,SACvBC,EAASF,EAAcA,EAAYxgB,OAAS,EAC5Cwe,EAAgB5I,EAAS+K,eAEzBC,EAA2B,WAAlBpC,GAA8B5I,EAASiL,mBAChDC,GAA6B,IAAlBtC,EAEf,GAAKkC,GAAWE,GAAWE,EAI3B,GAAIF,EACFG,GAAkB,CAChBxjB,IAAKA,EACLyjB,YAAaliB,EAAG2hB,YAAc,GAC9BD,YAAaA,GAAe,GAC5BtgB,UAAWA,EACX7C,YAAaA,EACbK,MAAOoB,QAPX,CAYAgiB,GAAYhiB,EAAGjB,YAKf,IAFA,IAAIojB,EAAQ,EAELA,EAAQP,EAAQO,IAAS,CAC9B,IAAIC,EAAWV,EAAYS,GACvBE,EAAWriB,EAAGsiB,QAAQH,GAEtBC,GACqB,MAAnBA,EAASjN,SAGXiN,EAASjN,QAAS,GAGpBoJ,GAAmB9f,EAAK4jB,EAAUjhB,EAAWghB,EAAU7jB,EAAayB,IAUpEqiB,EAASlN,QAAS,CAEtB,CAEA,IAAK,IAAIrU,EAAId,EAAGuiB,aAAe,EAAGzhB,GAAKqhB,EAAOrhB,IAAK,CACjD,IAAI0hB,EAAQxiB,EAAGsiB,QAAQxhB,GACvB2hB,GAAqBziB,EAAIwiB,EAAOjkB,EAClC,CAnCA,CAoCF,CAEA,SAASkkB,GAAqB7jB,EAAO4jB,EAAOjkB,GAI1CikB,IAAS7M,EAAAA,EAAAA,IAAqB6M,EAAOrQ,EAAiBvT,GAAO6O,OAAQlP,EACvE,CAEA,SAAS0jB,GAAkBjH,GACzB,IAAI0H,EAAAA,EAAW1H,EAAQkH,YAAalH,EAAQ0G,YAAaiB,GAAQA,GAAQ3H,GAAS7b,IAAIyjB,IAAkBjjB,OAAOijB,IAAkB7iB,OAAO8iB,IAAe5iB,SACzJ,CAEA,SAAS0iB,GAAOG,EAAMhgB,GACpB,IAAIhG,EAAOgmB,GAAQA,EAAKhmB,KACxB,OAAe,MAARA,EAAeA,EAAO6W,EAAoB7Q,CACnD,CAEA,SAAS8f,GAAiBG,EAAUC,GAClC,IAAIhI,EAAUte,KAAKse,QACfiI,EAA0B,MAAZF,EAAmB/H,EAAQ0G,YAAYqB,GAAY,KACjEP,EAAoB,MAAZQ,EAAmBhI,EAAQkH,YAAYc,GAAY,KAC/DzE,GAAmBvD,EAAQvc,IAAK+jB,EAAOxH,EAAQ5Z,UAAW6hB,EAAajI,EAAQzc,YAAayc,EAAQpc,MACtG,CAEA,SAASikB,GAAcG,GACrB,IAAIhI,EAAUte,KAAKse,QACfwH,EAAQxH,EAAQkH,YAAYc,GAChCR,IAAS7M,EAAAA,EAAAA,IAAqB6M,EAAOrQ,EAAiBqQ,GAAO/U,OAAQuN,EAAQzc,YAC/E,CAMA,SAAS2Y,GAAYvW,GAEnB,OAAOA,IAAUA,EAAMsW,UAAYtW,EAAMuiB,EAC3C,CAEA,SAASjD,GAAetf,GACtB,OAAOA,KAAU2X,EAAAA,EAAAA,QAAO3X,EAAO,cAAe2X,EAAAA,EAAAA,QAAO3X,EAAO,KAC9D,CC7/BO,SAAS+H,GAAQC,GACtBA,EAAUG,kBAAkB,GAC5BH,EAAUC,oBAAoBua,EAChC,C,8HCCIC,EACJ,SAAU7mB,GAER,SAAS6mB,IACP,IAAI5mB,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KAEhE,OADAF,EAAMI,KAAOwmB,EAAkBxmB,KACxBJ,CACT,CAyCA,OA9CA,QAAU4mB,EAAmB7mB,GAM7B6mB,EAAkB/kB,UAAUglB,KAAO,WACjC3mB,KAAK4mB,YAAc,IAAIC,EAAA,EAAWC,EAAA,EACpC,EACAJ,EAAkB/kB,UAAUC,OAAS,SAAUC,EAAaC,EAASC,GACnE,IAAIC,EAAOH,EAAYI,UACnB8kB,EAAmB/mB,KAAK4mB,YAC5BG,EAAiBC,WAAWhlB,EAAM,CAChCilB,UAAWjnB,KAAKknB,cAAcrlB,KAEhC7B,KAAKkC,MAAMO,IAAIskB,EAAiB7kB,MAClC,EACAwkB,EAAkB/kB,UAAUulB,cAAgB,SAAUrlB,GACpD,IAAImG,EAAWnG,EAAYnB,iBACvBoN,EAAW9F,GAAYA,EAAS+F,SAAW/F,EAAS+F,UACxD,OAAOlM,EAAYU,IAAI,QAAQ,GAAQuL,EAAW,IACpD,EACA4Y,EAAkB/kB,UAAUwlB,gBAAkB,SAAUtlB,EAAaC,EAASC,GAC5E,IAAIC,EAAOH,EAAYI,UACvBjC,KAAKkC,MAAM+Z,QACX,IAAImL,GAAM,EAAAjjB,EAAA,GAAa,IAAIyN,MAAM/P,EAAaC,EAASC,GACnDqlB,EAAIlV,UACNkV,EAAIlV,SAAS,CACX1I,MAAO,EACPgQ,IAAKxX,EAAKsF,QACVA,MAAOtF,EAAKsF,SACXtF,GAELhC,KAAK4mB,YAAYS,cACnB,EACAX,EAAkB/kB,UAAU2lB,sBAAwB,SAAUzlB,GAC5D,IAAImG,EAAWnG,EAAYnB,iBACvBsH,GAAYA,EAASuf,mBACvBvnB,KAAKkC,MAAMsJ,UAAYgc,EAAOC,MAAMzf,EAASuf,oBAC7CvnB,KAAKkC,MAAMwlB,qBAEf,EACAhB,EAAkB/kB,UAAU0B,OAAS,SAAUvB,EAASC,GACtD/B,KAAK4mB,aAAe5mB,KAAK4mB,YAAYvjB,QAAO,EAC9C,EACAqjB,EAAkBxmB,KAAO,gBAClBwmB,CACT,CAhDA,CAgDEjjB,EAAA,GACF,I,qBCrDIkkB,EACJ,SAAU9nB,GAER,SAAS8nB,IACP,IAAI7nB,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KAGhE,OAFAF,EAAMI,KAAOynB,EAAyBznB,KACtCJ,EAAM8nB,iBAAkB,EACjB9nB,CACT,CAiDA,OAvDA,QAAU6nB,EAA0B9nB,GAOpC8nB,EAAyBhmB,UAAUqU,eAAiB,SAAUjF,EAAQjP,GACpE,OAAO,EAAAmU,EAAA,GAAiB,KAAMjW,KAAM,CAClC6nB,oBAAoB,GAExB,EACAF,EAAyBhmB,UAAUmO,cAAgB,SAAUpL,EAAW1C,EAAM+N,GAC5E,OAAOA,EAAUrK,MAAM1D,EAAKa,cAAc6B,GAC5C,EACAijB,EAAyBznB,KAAO,uBAChCynB,EAAyBpnB,aAAe,CAAC,OAAQ,SACjDonB,EAAyBnnB,cAAgB,CACvCE,iBAAkB,cAElBD,EAAG,EACHE,iBAAiB,EACjBmnB,WAAY,SACZpX,YAAa,EAEbqX,aAAc,SACd7X,MAAM,EAEN8X,aAAc,CACZC,OAAQ,EAER/mB,MAAO,IAEPgnB,UAAW,OAEXC,OAAQ,GAEVC,oBAAqB,CACnBC,YAAa,SAUflT,WAAY,IAOPwS,CACT,CAzDA,CAyDEnmB,EAAA,GACF,IC3DO,SAASwK,EAAQC,GACtBA,EAAUG,kBAAkB,GAC5BH,EAAUC,oBAAoBoc,GAC9Brc,EAAUI,gBAAe,OAAa,iBACxC,C,mLCCIkc,EAAoB,CAAC,YAAa,WAKlCC,EACJ,SAAU3oB,GAER,SAAS2oB,EAAYxmB,EAAMoE,GACzB,IAAItG,EAAQD,EAAOgE,KAAK7D,OAASA,KAC7ByoB,EAAU3oB,EACV4oB,EAAY,IAAI,IAChBpI,EAAO,IAAI,KAIf,OAHAmI,EAAQvE,eAAe5D,GACvBxgB,EAAM6oB,iBAAiBD,GACvB5oB,EAAMknB,WAAWhlB,EAAMoE,GAAK,GACrBtG,CACT,CA+FA,OAzGA,QAAU0oB,EAAa3oB,GAWvB2oB,EAAY7mB,UAAUqlB,WAAa,SAAUhlB,EAAMoE,EAAKwiB,GACtD,IAAIH,EAAUzoB,KACV6B,EAAcG,EAAK6C,UACnBQ,EAAYrD,EAAKsD,aAAac,GAC9BxF,EAASoB,EAAKa,cAAcuD,GAC5Bb,EAAgBF,EAAUG,SAAS,YACnCya,EAAU5a,EAAU9C,IAAIgmB,GAC5BtI,EAAqB,MAAXA,EAAkB,EAAIA,EAC3B2I,IACH,QAAaH,GAGfA,EAAQzjB,SAAShD,EAAKiD,cAAcmB,EAAK,UACzCqiB,EAAQvjB,MAAM2jB,SAAW,QACrBD,GACFH,EAAQ/P,SAAS,CACfvU,OAAQvD,EAAOuD,SAEjBskB,EAAQvjB,MAAM+a,QAAU,EACxB,KAAkBwI,EAAS,CACzBvjB,MAAO,CACL+a,QAASA,IAEVpe,EAAauE,IAEhB,IAAoBqiB,EAAS,CAC3BvjB,MAAO,CACL+a,QAASA,GAEXhc,MAAO,CACLE,OAAQvD,EAAOuD,SAEhBtC,EAAauE,IAElB,QAAyBqiB,EAASpjB,GAClCrF,KAAK8oB,aAAa9mB,EAAMoE,IACxB,QAAoBpG,KAAMuF,EAAchD,IAAI,SAAUgD,EAAchD,IAAI,aAAcgD,EAAchD,IAAI,YAC1G,EACAimB,EAAY7mB,UAAUmnB,aAAe,SAAU9mB,EAAMoE,GACnD,IAAIqiB,EAAUzoB,KACV0oB,EAAY1oB,KAAK+oB,mBACjBC,EAAYP,EAAQzE,iBACpBniB,EAAcG,EAAK6C,UACnBQ,EAAYrD,EAAKsD,aAAac,GAC9BxF,EAASoB,EAAKa,cAAcuD,GAC5B6iB,EAAcroB,EAAOsoB,MACrBhkB,EAAQlD,EAAKiD,cAAcmB,EAAK,SAChC4Z,EAAc9a,EAAMwK,MACxB,QAEAsZ,GAAW,QAAqB3jB,GAAY,CAC1C8jB,aAAcnnB,EAAK6C,UACnBukB,eAAgBhjB,EAChBijB,eAAgBnkB,EAAM+a,QACtBqJ,YAAatnB,EAAKunB,QAAQnjB,IACzB,CACDwQ,OAAQ,CACN4S,MAAOP,EAAYQ,UACnBC,cAAeT,EAAYS,iBAG/BjB,EAAQjN,cAAc,CACpBmO,OAAO,EACPC,SAAUX,EAAYW,OACtBC,aAAc7J,EAEd8J,YAAa9J,IAEf,IAAI+J,EAAad,EAAYc,WAC7BrB,EAAUhQ,SAAS,CACjBvU,OAAQ4lB,IAEVtB,EAAQuB,oBAAsB,CAC5BC,OAAQF,EAAa,IAAI,IAAcA,EAAW,GAAG,GAAIA,EAAW,GAAG,IAAM,MAI/E,IAAoBf,EAAW,CAC7B9jB,MAAO,CACL6J,EAAGka,EAAYla,EACfwF,EAAG0U,EAAY1U,IAEhB1S,EAAauE,GAChB4iB,EAAUkB,KAAK,CACbC,SAAUlB,EAAYkB,SACtBC,QAASnB,EAAYla,EACrBsb,QAASpB,EAAY1U,EACrBnP,GAAI,MAEN,QAAkBqjB,GAAS,QAAyBpjB,GAAY,CAE9DsK,OAAQqQ,GAEZ,EACOwI,CACT,CA3GA,CA2GE,KACE8B,EACJ,SAAUzqB,GAER,SAASyqB,IACP,IAAIxqB,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KAGhE,OAFAF,EAAMI,KAAOoqB,EAAWpqB,KACxBJ,EAAMyqB,uBAAwB,EACvBzqB,CACT,CA0BA,OAhCA,QAAUwqB,EAAYzqB,GAOtByqB,EAAW3oB,UAAUC,OAAS,SAAUC,EAAaC,EAASC,GAC5D,IAAIC,EAAOH,EAAYI,UACnBE,EAAUnC,KAAKoC,MACfF,EAAQlC,KAAKkC,MACjBF,EAAKQ,KAAKL,GAASM,KAAI,SAAU2D,GAC/B,IAAIokB,EAAc,IAAIhC,EAAYxmB,EAAMoE,GACxCpE,EAAKgB,iBAAiBoD,EAAKokB,GAC3BtoB,EAAMO,IAAI+nB,EACZ,IAAGvnB,QAAO,SAAUP,EAAQQ,GAC1B,IAAIunB,EAAQtoB,EAAQgB,iBAAiBD,GACrCunB,EAAMzD,WAAWhlB,EAAMU,GACvBR,EAAMO,IAAIgoB,GACVzoB,EAAKgB,iBAAiBN,EAAQ+nB,EAChC,IAAGpnB,QAAO,SAAU+C,GAClB,IAAIqkB,EAAQtoB,EAAQgB,iBAAiBiD,GACrC,KAAiCqkB,EAAO5oB,EAAauE,EACvD,IAAG7C,UACHvD,KAAKoC,MAAQJ,CACf,EACAsoB,EAAW3oB,UAAU0B,OAAS,WAC5BrD,KAAKkC,MAAMG,YACXrC,KAAKoC,MAAQ,IACf,EACAkoB,EAAW3oB,UAAU+oB,QAAU,WAAa,EAC5CJ,EAAWpqB,KAAO,SACXoqB,CACT,CAlCA,CAkCE7mB,EAAA,GACF,I,qFCrJIknB,EACJ,SAAU9qB,GAER,SAAS8qB,IACP,IAAI7qB,EAAmB,OAAXD,GAAmBA,EAAOE,MAAMC,KAAMC,YAAcD,KAEhE,OADAF,EAAMI,KAAOyqB,EAAkBzqB,KACxBJ,CACT,CAqFA,OA1FA,QAAU6qB,EAAmB9qB,GAM7B8qB,EAAkBhpB,UAAUglB,KAAO,SAAU5V,GAC3ClR,EAAO8B,UAAUglB,KAAK5mB,MAAMC,KAAMC,WAGlCD,KAAK4qB,qBAAuB,IAAIC,EAAA,EAAqB,OAAY7qB,KAAKiC,QAASjC,MAAO,OAAYA,KAAK6L,WAAY7L,OAEnHA,KAAK8qB,kBAAkB/Z,EACzB,EACA4Z,EAAkBhpB,UAAUqU,eAAiB,SAAUjF,EAAQjP,GAC7D,OAAO,EAAAipB,EAAA,GAAuB/qB,KAAM,CAClCgrB,gBAAiB,CAAC,SAClBC,gBAAiB,QAAa,KAA8BjrB,OAEhE,EACA2qB,EAAkBhpB,UAAUmpB,kBAAoB,SAAU/Z,IAExD,QAAgBA,EAAQ,YAAa,CAAC,SACtC,IAAIma,EAAqBna,EAAO2X,UAC5ByC,EAAuBpa,EAAO9P,SAASynB,UAE3CwC,EAAmBE,KAAOF,EAAmBE,MAAQra,EAAOmY,MAAMkC,KAClED,EAAqBC,KAAOD,EAAqBC,MAAQra,EAAO9P,SAASioB,MAAMkC,IACjF,EAEAT,EAAkBhpB,UAAUuU,cAAgB,SAAUxR,GACpD,IAAI1C,EAAOhC,KAAKiC,UACZwJ,EAAS5L,EAAO8B,UAAUuU,cAAcrS,KAAK7D,KAAM0E,GACnD2mB,EAAWrpB,EAAKsG,aAAa,SAC7BgjB,EAAMtpB,EAAKupB,OAAOF,GAItB,OAFA5f,EAAO+f,QAAWF,IAAYtpB,EAAKO,IAAI8oB,EAAU3mB,GAAa4mB,EAAM,KAAKG,QAAQ,GAAzD,EACxBhgB,EAAOigB,MAAM5kB,KAAK,WACX2E,CACT,EACAkf,EAAkBzqB,KAAO,gBACzByqB,EAAkBnqB,cAAgB,CAEhCC,EAAG,EACHE,iBAAiB,EACjBgrB,QAAS,OACTC,KAAM,GACNC,IAAK,GACLC,MAAO,GACPC,OAAQ,GAMRC,QAAS,KACTC,QAAS,OACTC,KAAM,aACNC,OAAQ,WACRC,IAAK,EACLC,YAAa,SACbnD,MAAO,CACLkC,MAAM,EACNkB,SAAU,SAGZ5D,UAAW,CACT0C,MAAM,EACN5mB,OAAQ,GACR+nB,UAAW,CAET/X,MAAO,IAGX1T,UAAW,CAET0O,YAAa,OACbxO,YAAa,GAEfC,SAAU,CACRioB,MAAO,CACLkC,MAAM,IAGVtU,OAAQ,CACNhW,UAAW,CACT0O,YAAa,aAIZmb,CACT,CA5FA,CA4FEnpB,EAAA,GACF,I,kDCjGA,SAASgrB,EAAY3qB,EAAaE,GAChC,OAAOnB,EAAA,GAAqBiB,EAAY4qB,qBAAsB,CAC5DjY,MAAOzS,EAAI4b,WACXlJ,OAAQ1S,EAAI6b,aAEhB,CACA,SAAS8O,EAAiB1qB,EAAMkqB,GAO9B,IANA,IAAIb,EAAWrpB,EAAKsG,aAAa,SAC7BqkB,EAAW3qB,EAAK4qB,SAASvB,GAAU,SAAUliB,GAC/C,OAAOA,CACT,IACI0jB,EAAU,GACVC,EAAuB,cAATZ,EACT9nB,EAAI,EAAG2oB,EAAM/qB,EAAKsF,QAASlD,EAAI2oB,EAAK3oB,IAC3CyoB,EAAQzoB,GAAKA,EAUf,OAPI,IAAA4G,YAAWkhB,GACbW,EAAQX,KAAKA,GACK,SAATA,GACTW,EAAQX,MAAK,SAAUc,EAAGC,GACxB,OAAOH,EAAcH,EAASK,GAAKL,EAASM,GAAKN,EAASM,GAAKN,EAASK,EAC1E,IAEKH,CACT,CACA,SAAS5D,EAAYjnB,GACnB,IAAIH,EAAcG,EAAK6C,UACnBsnB,EAAStqB,EAAYU,IAAI,UAC7BP,EAAK6D,MAAK,SAAUO,GAClB,IAOIqjB,EACAyD,EACAC,EACApD,EAVA1kB,EAAYrD,EAAKsD,aAAac,GAC9B+Z,EAAa9a,EAAUG,SAAS,SAChC4nB,EAAgBjN,EAAW5d,IAAI,YAC/B8qB,EAAiBhoB,EAAUG,SAAS,aACpC5E,EAASoB,EAAKa,cAAcuD,GAC5BjC,EAASvD,EAAOuD,OAChBmpB,EAAkC,UAAlBF,GAA+C,WAAlBA,GAAgD,WAAlBA,GAAgD,eAAlBA,GAAoD,gBAAlBA,EAK/I,GAAIE,EACoB,eAAlBF,GACFF,GAAS/oB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EAAI,EAC5CgpB,GAAShpB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACxCslB,EAAY,QACe,gBAAlB2D,GACTF,GAAS/oB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EAAI,EAC5CgpB,GAAShpB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACxCslB,EAAY,UAEZyD,GAAS/oB,EAAO,GAAG,GAAKA,EAAO,GAAG,GAAKA,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACtEgpB,GAAShpB,EAAO,GAAG,GAAKA,EAAO,GAAG,GAAKA,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACtEslB,EAAY,UAEdM,EAAa,CAAC,CAACmD,EAAOC,GAAQ,CAACD,EAAOC,QACjC,CACL,IAAII,OAAK,EACLC,OAAK,EACLC,OAAK,EACLC,OAAK,EACLC,EAAeN,EAAe9qB,IAAI,UAClC,EAUkB,SAAlB6qB,GAEFG,GAAMppB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACrCqpB,GAAMrpB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACrCspB,EAAKF,EAAKI,EACVT,EAAQO,EAAK,EACbhE,EAAY,SACe,UAAlB2D,GAETG,GAAMppB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACrCqpB,GAAMrpB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACrCspB,EAAKF,EAAKI,EACVT,EAAQO,EAAK,EACbhE,EAAY,QACe,QAAlB2D,GAETG,GAAMppB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACrCqpB,GAAMrpB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACrCupB,EAAKF,EAAKG,EACVR,EAAQO,EAAK,EACbjE,EAAY,UACe,WAAlB2D,GAETG,GAAMppB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACrCqpB,GAAMrpB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACrCupB,EAAKF,EAAKG,EACVR,EAAQO,EAAK,EACbjE,EAAY,UACe,aAAlB2D,GAETG,EAAgB,eAAXpB,EAA0BhoB,EAAO,GAAG,GAAKA,EAAO,GAAG,GACxDqpB,EAAgB,eAAXrB,EAA0BhoB,EAAO,GAAG,GAAKA,EAAO,GAAG,GACzC,eAAXgoB,GACFuB,EAAKF,EAAKG,EACVR,EAAQO,EAAK,EACbjE,EAAY,WAEZgE,EAAKF,EAAKI,EACVT,EAAQO,EAAK,EACbhE,EAAY,QAEa,gBAAlB2D,GAETG,EAAKppB,EAAO,GAAG,GACfqpB,EAAKrpB,EAAO,GAAG,GACA,eAAXgoB,GACFuB,EAAKF,EAAKG,EACVR,EAAQO,EAAK,EACbjE,EAAY,WAEZgE,EAAKF,EAAKI,EACVT,EAAQO,EAAK,EACbhE,EAAY,WAEa,YAAlB2D,GAETG,EAAKppB,EAAO,GAAG,GACfqpB,EAAgB,eAAXrB,EAA0BhoB,EAAO,GAAG,GAAKA,EAAO,GAAG,GACzC,eAAXgoB,GACFuB,EAAKF,EAAKG,EACVR,EAAQO,EAAK,EACbjE,EAAY,WAEZgE,EAAKF,EAAKI,EACVT,EAAQO,EAAK,EACbhE,EAAY,UAEa,eAAlB2D,GAETG,EAAgB,eAAXpB,EAA0BhoB,EAAO,GAAG,GAAKA,EAAO,GAAG,GACxDqpB,EAAgB,eAAXrB,EAA0BhoB,EAAO,GAAG,GAAKA,EAAO,GAAG,GACzC,eAAXgoB,GACFuB,EAAKF,EAAKG,EACVR,EAAQO,EAAK,EACbjE,EAAY,WAEZgE,EAAKF,EAAKI,EACVT,EAAQO,EAAK,EACbhE,EAAY,WAId8D,GAAMppB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACrCqpB,GAAMrpB,EAAO,GAAG,GAAKA,EAAO,GAAG,IAAM,EACtB,eAAXgoB,GACFuB,EAAKF,EAAKG,EACVR,EAAQO,EAAK,EACbjE,EAAY,WAEZgE,EAAKF,EAAKI,EACVT,EAAQO,EAAK,EACbhE,EAAY,SAGD,eAAX0C,GACFsB,EAAKF,EACLL,EAAQO,IAERC,EAAKF,EACLL,EAAQO,GAEV3D,EAAa,CAAC,CAACwD,EAAIC,GAAK,CAACC,EAAIC,GAC/B,CACA9sB,EAAOsoB,MAAQ,CACba,WAAYA,EACZhb,EAAGme,EACH3Y,EAAG4Y,EACHzD,cAAe,SACfD,UAAWA,EACXG,OAAQ0D,EAEZ,GACF,CACe,SAASM,EAAa9rB,EAASC,GAC5CD,EAAQ4E,iBAAiB,UAAU,SAAU7E,GAC3C,IAAIG,EAAOH,EAAYI,UACnBopB,EAAWrpB,EAAKsG,aAAa,SAC7B4jB,EAAOrqB,EAAYU,IAAI,QACvBsrB,EAAWrB,EAAY3qB,EAAaE,GACpCoqB,EAAStqB,EAAYU,IAAI,UACzBurB,EAAYD,EAASrZ,MACrBuZ,EAAaF,EAASpZ,OACtBoY,EAAUH,EAAiB1qB,EAAMkqB,GACjCnd,EAAI8e,EAAS9e,EACbwF,EAAIsZ,EAAStZ,EACbyZ,EAAwB,eAAX7B,EAA0B,EAAC,QAAatqB,EAAYU,IAAI,WAAYwrB,IAAa,QAAalsB,EAAYU,IAAI,WAAYwrB,IAAe,EAAC,QAAalsB,EAAYU,IAAI,WAAYurB,IAAY,QAAajsB,EAAYU,IAAI,WAAYurB,IACrPG,EAAajsB,EAAKksB,cAAc7C,GAChCvjB,EAAMjG,EAAYU,IAAI,OACtB8E,EAAMxF,EAAYU,IAAI,OACf,MAAPuF,IACFA,EAAMV,KAAKU,IAAImmB,EAAW,GAAI,IAErB,MAAP5mB,IACFA,EAAM4mB,EAAW,IAEnB,IAAI5B,EAAcxqB,EAAYU,IAAI,eAC9B6pB,EAAMvqB,EAAYU,IAAI,OACtB4rB,EAAsB,eAAXhC,EAA0B2B,EAAYC,EACjDK,GAAYD,EAAW/B,GAAOpqB,EAAKsF,QAAU,IAAMtF,EAAKsF,QACxD+mB,EAAgB,SAAuBjoB,EAAK2B,GAE9C,GAAe,eAAXokB,EAAyB,CAC3B,IAAImC,EAAQtsB,EAAKO,IAAI8oB,EAAUjlB,IAAQ,EACnCmoB,GAAa,QAAUD,EAAO,CAACxmB,EAAKT,GAAM2mB,GAAY,GACtDQ,OAAK,EACT,OAAQnC,GACN,IAAK,MACHmC,EAAKja,EACL,MACF,IAAK,SACHia,EAAKja,GAAKwZ,EAAaQ,GAAc,EACrC,MACF,IAAK,SACHC,EAAKja,GAAKwZ,EAAaQ,GACvB,MAEJ,MAAO,CAAC,CAACxmB,EAAQymB,GAAK,CAACzmB,EAAQymB,EAAKD,GACtC,CACA,IAEIE,EAFAtlB,EAAMnH,EAAKO,IAAI8oB,EAAUjlB,IAAQ,EACjCsoB,GAAY,QAAUvlB,EAAK,CAACrB,EAAKT,GAAM2mB,GAAY,GAEvD,OAAQ3B,GACN,IAAK,OACHoC,EAAK1f,EACL,MACF,IAAK,SACH0f,EAAK1f,GAAK+e,EAAYY,GAAa,EACnC,MACF,IAAK,QACHD,EAAK1f,EAAI+e,EAAYY,EACrB,MAEJ,MAAO,CAAC,CAACD,EAAI1mB,GAAS,CAAC0mB,EAAKC,EAAW3mB,GACzC,EACa,cAATmkB,IAEFkC,GAAYA,EACZhC,GAAOA,EACQ,eAAXD,EACFpd,GAAK+e,EAELvZ,GAAKwZ,EAEPlB,EAAUA,EAAQ8B,WAEpB,IAAK,IAAIvqB,EAAI,EAAGA,EAAIyoB,EAAQroB,OAAQJ,IAAK,CACvC,IAAIgC,EAAMymB,EAAQzoB,GACdwqB,EAAU/B,EAAQzoB,EAAI,GACtBiB,EAAYrD,EAAKsD,aAAac,GAClC,GAAe,eAAX+lB,EAAyB,CAC3B,IAAI3X,EAAQnP,EAAU9C,IAAI,CAAC,YAAa,UAC3B,MAATiS,EACFA,EAAQ4Z,GAER5Z,GAAQ,QAAaA,EAAOsZ,GACf,cAAT5B,IACF1X,GAASA,IAGb,IAAIhL,EAAQ6kB,EAAcjoB,EAAK2I,GAC3ByK,EAAM6U,EAAcO,EAAS7f,EAAIyF,GACrCzF,GAAKyF,EAAQ4X,EACbpqB,EAAKkH,cAAc9C,EAAK,CACtBjC,OAAQqF,EAAMqlB,OAAOrV,EAAI7T,QAAQgpB,YAErC,KAAO,CACL,IAAIla,EAASpP,EAAU9C,IAAI,CAAC,YAAa,WAC3B,MAAVkS,EACFA,EAAS2Z,GAET3Z,GAAS,QAAaA,EAAQsZ,GACjB,cAAT7B,IACFzX,GAAUA,IAGVjL,EAAQ6kB,EAAcjoB,EAAKmO,GAC3BiF,EAAM6U,EAAcO,EAASra,EAAIE,GACrCF,GAAKE,EAAS2X,EACdpqB,EAAKkH,cAAc9C,EAAK,CACtBjC,OAAQqF,EAAMqlB,OAAOrV,EAAI7T,QAAQgpB,YAErC,CACF,CACA1F,EAAYjnB,EACd,GACF,C,eC3SO,SAASgK,EAAQC,GACtBA,EAAUG,kBAAkB,GAC5BH,EAAUC,oBAAoB4iB,GAC9B7iB,EAAUI,eAAeuhB,GACzB3hB,EAAU8iB,mBAAkB,EAAAC,EAAA,GAAW,UACzC,C","sources":["webpack://databoard/./node_modules/echarts/lib/chart/boxplot/BoxplotSeries.js","webpack://databoard/./node_modules/echarts/lib/chart/boxplot/BoxplotView.js","webpack://databoard/./node_modules/echarts/lib/chart/boxplot/boxplotLayout.js","webpack://databoard/./node_modules/echarts/lib/chart/boxplot/prepareBoxplotData.js","webpack://databoard/./node_modules/echarts/lib/chart/boxplot/boxplotTransform.js","webpack://databoard/./node_modules/echarts/lib/chart/boxplot/install.js","webpack://databoard/./node_modules/echarts/lib/chart/candlestick/CandlestickView.js","webpack://databoard/./node_modules/echarts/lib/chart/candlestick/CandlestickSeries.js","webpack://databoard/./node_modules/echarts/lib/chart/candlestick/preprocessor.js","webpack://databoard/./node_modules/echarts/lib/chart/candlestick/candlestickVisual.js","webpack://databoard/./node_modules/echarts/lib/chart/candlestick/candlestickLayout.js","webpack://databoard/./node_modules/echarts/lib/chart/candlestick/install.js","webpack://databoard/./node_modules/echarts/lib/chart/custom/CustomSeries.js","webpack://databoard/./node_modules/echarts/lib/chart/custom/CustomView.js","webpack://databoard/./node_modules/echarts/lib/chart/custom/install.js","webpack://databoard/./node_modules/echarts/lib/chart/effectScatter/EffectScatterView.js","webpack://databoard/./node_modules/echarts/lib/chart/effectScatter/EffectScatterSeries.js","webpack://databoard/./node_modules/echarts/lib/chart/effectScatter/install.js","webpack://databoard/./node_modules/echarts/lib/chart/funnel/FunnelView.js","webpack://databoard/./node_modules/echarts/lib/chart/funnel/FunnelSeries.js","webpack://databoard/./node_modules/echarts/lib/chart/funnel/funnelLayout.js","webpack://databoard/./node_modules/echarts/lib/chart/funnel/install.js"],"sourcesContent":["/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport { WhiskerBoxCommonMixin } from '../helper/whiskerBoxCommon.js';\nimport { mixin } from 'zrender/lib/core/util.js';\nvar BoxplotSeriesModel = /** @class */\nfunction (_super) {\n  __extends(BoxplotSeriesModel, _super);\n  function BoxplotSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BoxplotSeriesModel.type; // TODO\n    // box width represents group size, so dimension should have 'size'.\n\n    /**\n     * @see <https://en.wikipedia.org/wiki/Box_plot>\n     * The meanings of 'min' and 'max' depend on user,\n     * and echarts do not need to know it.\n     * @readOnly\n     */\n\n    _this.defaultValueDimensions = [{\n      name: 'min',\n      defaultTooltip: true\n    }, {\n      name: 'Q1',\n      defaultTooltip: true\n    }, {\n      name: 'median',\n      defaultTooltip: true\n    }, {\n      name: 'Q3',\n      defaultTooltip: true\n    }, {\n      name: 'max',\n      defaultTooltip: true\n    }];\n    _this.visualDrawType = 'stroke';\n    return _this;\n  }\n  BoxplotSeriesModel.type = 'series.boxplot';\n  BoxplotSeriesModel.dependencies = ['xAxis', 'yAxis', 'grid'];\n  BoxplotSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    layout: null,\n    boxWidth: [7, 50],\n    itemStyle: {\n      color: '#fff',\n      borderWidth: 1\n    },\n    emphasis: {\n      scale: true,\n      itemStyle: {\n        borderWidth: 2,\n        shadowBlur: 5,\n        shadowOffsetX: 1,\n        shadowOffsetY: 1,\n        shadowColor: 'rgba(0,0,0,0.2)'\n      }\n    },\n    animationDuration: 800\n  };\n  return BoxplotSeriesModel;\n}(SeriesModel);\nmixin(BoxplotSeriesModel, WhiskerBoxCommonMixin, true);\nexport default BoxplotSeriesModel;","import \"core-js/modules/es.array.slice.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ChartView from '../../view/Chart.js';\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport Path from 'zrender/lib/graphic/Path.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nvar BoxplotView = /** @class */\nfunction (_super) {\n  __extends(BoxplotView, _super);\n  function BoxplotView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BoxplotView.type;\n    return _this;\n  }\n  BoxplotView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var group = this.group;\n    var oldData = this._data; // There is no old data only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!this._data) {\n      group.removeAll();\n    }\n    var constDim = seriesModel.get('layout') === 'horizontal' ? 1 : 0;\n    data.diff(oldData).add(function (newIdx) {\n      if (data.hasValue(newIdx)) {\n        var itemLayout = data.getItemLayout(newIdx);\n        var symbolEl = createNormalBox(itemLayout, data, newIdx, constDim, true);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx); // Empty data\n\n      if (!data.hasValue(newIdx)) {\n        group.remove(symbolEl);\n        return;\n      }\n      var itemLayout = data.getItemLayout(newIdx);\n      if (!symbolEl) {\n        symbolEl = createNormalBox(itemLayout, data, newIdx, constDim);\n      } else {\n        saveOldStyle(symbolEl);\n        updateNormalBoxData(itemLayout, symbolEl, data, newIdx);\n      }\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute();\n    this._data = data;\n  };\n  BoxplotView.prototype.remove = function (ecModel) {\n    var group = this.group;\n    var data = this._data;\n    this._data = null;\n    data && data.eachItemGraphicEl(function (el) {\n      el && group.remove(el);\n    });\n  };\n  BoxplotView.type = 'boxplot';\n  return BoxplotView;\n}(ChartView);\nvar BoxPathShape = /** @class */\nfunction () {\n  function BoxPathShape() {}\n  return BoxPathShape;\n}();\nvar BoxPath = /** @class */\nfunction (_super) {\n  __extends(BoxPath, _super);\n  function BoxPath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'boxplotBoxPath';\n    return _this;\n  }\n  BoxPath.prototype.getDefaultShape = function () {\n    return new BoxPathShape();\n  };\n  BoxPath.prototype.buildPath = function (ctx, shape) {\n    var ends = shape.points;\n    var i = 0;\n    ctx.moveTo(ends[i][0], ends[i][1]);\n    i++;\n    for (; i < 4; i++) {\n      ctx.lineTo(ends[i][0], ends[i][1]);\n    }\n    ctx.closePath();\n    for (; i < ends.length; i++) {\n      ctx.moveTo(ends[i][0], ends[i][1]);\n      i++;\n      ctx.lineTo(ends[i][0], ends[i][1]);\n    }\n  };\n  return BoxPath;\n}(Path);\nfunction createNormalBox(itemLayout, data, dataIndex, constDim, isInit) {\n  var ends = itemLayout.ends;\n  var el = new BoxPath({\n    shape: {\n      points: isInit ? transInit(ends, constDim, itemLayout) : ends\n    }\n  });\n  updateNormalBoxData(itemLayout, el, data, dataIndex, isInit);\n  return el;\n}\nfunction updateNormalBoxData(itemLayout, el, data, dataIndex, isInit) {\n  var seriesModel = data.hostModel;\n  var updateMethod = graphic[isInit ? 'initProps' : 'updateProps'];\n  updateMethod(el, {\n    shape: {\n      points: itemLayout.ends\n    }\n  }, seriesModel, dataIndex);\n  el.useStyle(data.getItemVisual(dataIndex, 'style'));\n  el.style.strokeNoScale = true;\n  el.z2 = 100;\n  var itemModel = data.getItemModel(dataIndex);\n  var emphasisModel = itemModel.getModel('emphasis');\n  setStatesStylesFromModel(el, itemModel);\n  toggleHoverEmphasis(el, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n}\nfunction transInit(points, dim, itemLayout) {\n  return zrUtil.map(points, function (point) {\n    point = point.slice();\n    point[dim] = itemLayout.initBaseline;\n    return point;\n  });\n}\nexport default BoxplotView;","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parsePercent } from '../../util/number.js';\nvar each = zrUtil.each;\nexport default function boxplotLayout(ecModel) {\n  var groupResult = groupSeriesByAxis(ecModel);\n  each(groupResult, function (groupItem) {\n    var seriesModels = groupItem.seriesModels;\n    if (!seriesModels.length) {\n      return;\n    }\n    calculateBase(groupItem);\n    each(seriesModels, function (seriesModel, idx) {\n      layoutSingleSeries(seriesModel, groupItem.boxOffsetList[idx], groupItem.boxWidthList[idx]);\n    });\n  });\n}\n/**\n * Group series by axis.\n */\n\nfunction groupSeriesByAxis(ecModel) {\n  var result = [];\n  var axisList = [];\n  ecModel.eachSeriesByType('boxplot', function (seriesModel) {\n    var baseAxis = seriesModel.getBaseAxis();\n    var idx = zrUtil.indexOf(axisList, baseAxis);\n    if (idx < 0) {\n      idx = axisList.length;\n      axisList[idx] = baseAxis;\n      result[idx] = {\n        axis: baseAxis,\n        seriesModels: []\n      };\n    }\n    result[idx].seriesModels.push(seriesModel);\n  });\n  return result;\n}\n/**\n * Calculate offset and box width for each series.\n */\n\nfunction calculateBase(groupItem) {\n  var baseAxis = groupItem.axis;\n  var seriesModels = groupItem.seriesModels;\n  var seriesCount = seriesModels.length;\n  var boxWidthList = groupItem.boxWidthList = [];\n  var boxOffsetList = groupItem.boxOffsetList = [];\n  var boundList = [];\n  var bandWidth;\n  if (baseAxis.type === 'category') {\n    bandWidth = baseAxis.getBandWidth();\n  } else {\n    var maxDataCount_1 = 0;\n    each(seriesModels, function (seriesModel) {\n      maxDataCount_1 = Math.max(maxDataCount_1, seriesModel.getData().count());\n    });\n    var extent = baseAxis.getExtent();\n    bandWidth = Math.abs(extent[1] - extent[0]) / maxDataCount_1;\n  }\n  each(seriesModels, function (seriesModel) {\n    var boxWidthBound = seriesModel.get('boxWidth');\n    if (!zrUtil.isArray(boxWidthBound)) {\n      boxWidthBound = [boxWidthBound, boxWidthBound];\n    }\n    boundList.push([parsePercent(boxWidthBound[0], bandWidth) || 0, parsePercent(boxWidthBound[1], bandWidth) || 0]);\n  });\n  var availableWidth = bandWidth * 0.8 - 2;\n  var boxGap = availableWidth / seriesCount * 0.3;\n  var boxWidth = (availableWidth - boxGap * (seriesCount - 1)) / seriesCount;\n  var base = boxWidth / 2 - availableWidth / 2;\n  each(seriesModels, function (seriesModel, idx) {\n    boxOffsetList.push(base);\n    base += boxGap + boxWidth;\n    boxWidthList.push(Math.min(Math.max(boxWidth, boundList[idx][0]), boundList[idx][1]));\n  });\n}\n/**\n * Calculate points location for each series.\n */\n\nfunction layoutSingleSeries(seriesModel, offset, boxWidth) {\n  var coordSys = seriesModel.coordinateSystem;\n  var data = seriesModel.getData();\n  var halfWidth = boxWidth / 2;\n  var cDimIdx = seriesModel.get('layout') === 'horizontal' ? 0 : 1;\n  var vDimIdx = 1 - cDimIdx;\n  var coordDims = ['x', 'y'];\n  var cDim = data.mapDimension(coordDims[cDimIdx]);\n  var vDims = data.mapDimensionsAll(coordDims[vDimIdx]);\n  if (cDim == null || vDims.length < 5) {\n    return;\n  }\n  for (var dataIndex = 0; dataIndex < data.count(); dataIndex++) {\n    var axisDimVal = data.get(cDim, dataIndex);\n    var median = getPoint(axisDimVal, vDims[2], dataIndex);\n    var end1 = getPoint(axisDimVal, vDims[0], dataIndex);\n    var end2 = getPoint(axisDimVal, vDims[1], dataIndex);\n    var end4 = getPoint(axisDimVal, vDims[3], dataIndex);\n    var end5 = getPoint(axisDimVal, vDims[4], dataIndex);\n    var ends = [];\n    addBodyEnd(ends, end2, false);\n    addBodyEnd(ends, end4, true);\n    ends.push(end1, end2, end5, end4);\n    layEndLine(ends, end1);\n    layEndLine(ends, end5);\n    layEndLine(ends, median);\n    data.setItemLayout(dataIndex, {\n      initBaseline: median[vDimIdx],\n      ends: ends\n    });\n  }\n  function getPoint(axisDimVal, dim, dataIndex) {\n    var val = data.get(dim, dataIndex);\n    var p = [];\n    p[cDimIdx] = axisDimVal;\n    p[vDimIdx] = val;\n    var point;\n    if (isNaN(axisDimVal) || isNaN(val)) {\n      point = [NaN, NaN];\n    } else {\n      point = coordSys.dataToPoint(p);\n      point[cDimIdx] += offset;\n    }\n    return point;\n  }\n  function addBodyEnd(ends, point, start) {\n    var point1 = point.slice();\n    var point2 = point.slice();\n    point1[cDimIdx] += halfWidth;\n    point2[cDimIdx] -= halfWidth;\n    start ? ends.push(point1, point2) : ends.push(point2, point1);\n  }\n  function layEndLine(ends, endCenter) {\n    var from = endCenter.slice();\n    var to = endCenter.slice();\n    from[cDimIdx] -= halfWidth;\n    to[cDimIdx] += halfWidth;\n    ends.push(from, to);\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { quantile, asc } from '../../util/number.js';\nimport { isFunction, isString } from 'zrender/lib/core/util.js';\n/**\n * See:\n *  <https://en.wikipedia.org/wiki/Box_plot#cite_note-frigge_hoaglin_iglewicz-2>\n *  <http://stat.ethz.ch/R-manual/R-devel/library/grDevices/html/boxplot.stats.html>\n *\n * Helper method for preparing data.\n *\n * @param rawData like\n *        [\n *            [12,232,443], (raw data set for the first box)\n *            [3843,5545,1232], (raw data set for the second box)\n *            ...\n *        ]\n * @param opt.boundIQR=1.5 Data less than min bound is outlier.\n *      default 1.5, means Q1 - 1.5 * (Q3 - Q1).\n *      If 'none'/0 passed, min bound will not be used.\n */\n\nexport default function prepareBoxplotData(rawData, opt) {\n  opt = opt || {};\n  var boxData = [];\n  var outliers = [];\n  var boundIQR = opt.boundIQR;\n  var useExtreme = boundIQR === 'none' || boundIQR === 0;\n\n  for (var i = 0; i < rawData.length; i++) {\n    var ascList = asc(rawData[i].slice());\n    var Q1 = quantile(ascList, 0.25);\n    var Q2 = quantile(ascList, 0.5);\n    var Q3 = quantile(ascList, 0.75);\n    var min = ascList[0];\n    var max = ascList[ascList.length - 1];\n    var bound = (boundIQR == null ? 1.5 : boundIQR) * (Q3 - Q1);\n    var low = useExtreme ? min : Math.max(min, Q1 - bound);\n    var high = useExtreme ? max : Math.min(max, Q3 + bound);\n    var itemNameFormatter = opt.itemNameFormatter;\n    var itemName = isFunction(itemNameFormatter) ? itemNameFormatter({\n      value: i\n    }) : isString(itemNameFormatter) ? itemNameFormatter.replace('{value}', i + '') : i + '';\n    boxData.push([itemName, low, Q1, Q2, Q3, high]);\n\n    for (var j = 0; j < ascList.length; j++) {\n      var dataItem = ascList[j];\n\n      if (dataItem < low || dataItem > high) {\n        var outlier = [itemName, dataItem];\n        outliers.push(outlier);\n      }\n    }\n  }\n\n  return {\n    boxData: boxData,\n    outliers: outliers\n  };\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport prepareBoxplotData from './prepareBoxplotData.js';\nimport { throwError, makePrintable } from '../../util/log.js';\nimport { SOURCE_FORMAT_ARRAY_ROWS } from '../../util/types.js';\nexport var boxplotTransform = {\n  type: 'echarts:boxplot',\n  transform: function transform(params) {\n    var upstream = params.upstream;\n    if (upstream.sourceFormat !== SOURCE_FORMAT_ARRAY_ROWS) {\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('source data is not applicable for this boxplot transform. Expect number[][].');\n      }\n      throwError(errMsg);\n    }\n    var result = prepareBoxplotData(upstream.getRawData(), params.config);\n    return [{\n      dimensions: ['ItemName', 'Low', 'Q1', 'Q2', 'Q3', 'High'],\n      data: result.boxData\n    }, {\n      data: result.outliers\n    }];\n  }\n};","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport BoxplotSeriesModel from './BoxplotSeries.js';\nimport BoxplotView from './BoxplotView.js';\nimport boxplotLayout from './boxplotLayout.js';\nimport { boxplotTransform } from './boxplotTransform.js';\nexport function install(registers) {\n  registers.registerSeriesModel(BoxplotSeriesModel);\n  registers.registerChartView(BoxplotView);\n  registers.registerLayout(boxplotLayout);\n  registers.registerTransform(boxplotTransform);\n}","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.fill.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ChartView from '../../view/Chart.js';\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel } from '../../util/states.js';\nimport Path from 'zrender/lib/graphic/Path.js';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nvar SKIP_PROPS = ['color', 'borderColor'];\nvar CandlestickView = /** @class */\nfunction (_super) {\n  __extends(CandlestickView, _super);\n  function CandlestickView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CandlestickView.type;\n    return _this;\n  }\n  CandlestickView.prototype.render = function (seriesModel, ecModel, api) {\n    // If there is clipPath created in large mode. Remove it.\n    this.group.removeClipPath(); // Clear previously rendered progressive elements.\n\n    this._progressiveEls = null;\n    this._updateDrawMode(seriesModel);\n    this._isLargeDraw ? this._renderLarge(seriesModel) : this._renderNormal(seriesModel);\n  };\n  CandlestickView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    this._clear();\n    this._updateDrawMode(seriesModel);\n  };\n  CandlestickView.prototype.incrementalRender = function (params, seriesModel, ecModel, api) {\n    this._progressiveEls = [];\n    this._isLargeDraw ? this._incrementalRenderLarge(params, seriesModel) : this._incrementalRenderNormal(params, seriesModel);\n  };\n  CandlestickView.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n  CandlestickView.prototype._updateDrawMode = function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n    if (this._isLargeDraw == null || isLargeDraw !== this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n      this._clear();\n    }\n  };\n  CandlestickView.prototype._renderNormal = function (seriesModel) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var isSimpleBox = data.getLayout('isSimpleBox');\n    var needsClip = seriesModel.get('clip', true);\n    var coord = seriesModel.coordinateSystem;\n    var clipArea = coord.getArea && coord.getArea(); // There is no old data only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!this._data) {\n      group.removeAll();\n    }\n    data.diff(oldData).add(function (newIdx) {\n      if (data.hasValue(newIdx)) {\n        var itemLayout = data.getItemLayout(newIdx);\n        if (needsClip && isNormalBoxClipped(clipArea, itemLayout)) {\n          return;\n        }\n        var el = createNormalBox(itemLayout, newIdx, true);\n        graphic.initProps(el, {\n          shape: {\n            points: itemLayout.ends\n          }\n        }, seriesModel, newIdx);\n        setBoxCommon(el, data, newIdx, isSimpleBox);\n        group.add(el);\n        data.setItemGraphicEl(newIdx, el);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx); // Empty data\n\n      if (!data.hasValue(newIdx)) {\n        group.remove(el);\n        return;\n      }\n      var itemLayout = data.getItemLayout(newIdx);\n      if (needsClip && isNormalBoxClipped(clipArea, itemLayout)) {\n        group.remove(el);\n        return;\n      }\n      if (!el) {\n        el = createNormalBox(itemLayout, newIdx);\n      } else {\n        graphic.updateProps(el, {\n          shape: {\n            points: itemLayout.ends\n          }\n        }, seriesModel, newIdx);\n        saveOldStyle(el);\n      }\n      setBoxCommon(el, data, newIdx, isSimpleBox);\n      group.add(el);\n      data.setItemGraphicEl(newIdx, el);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute();\n    this._data = data;\n  };\n  CandlestickView.prototype._renderLarge = function (seriesModel) {\n    this._clear();\n    createLarge(seriesModel, this.group);\n    var clipPath = seriesModel.get('clip', true) ? createClipPath(seriesModel.coordinateSystem, false, seriesModel) : null;\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n  };\n  CandlestickView.prototype._incrementalRenderNormal = function (params, seriesModel) {\n    var data = seriesModel.getData();\n    var isSimpleBox = data.getLayout('isSimpleBox');\n    var dataIndex;\n    while ((dataIndex = params.next()) != null) {\n      var itemLayout = data.getItemLayout(dataIndex);\n      var el = createNormalBox(itemLayout, dataIndex);\n      setBoxCommon(el, data, dataIndex, isSimpleBox);\n      el.incremental = true;\n      this.group.add(el);\n      this._progressiveEls.push(el);\n    }\n  };\n  CandlestickView.prototype._incrementalRenderLarge = function (params, seriesModel) {\n    createLarge(seriesModel, this.group, this._progressiveEls, true);\n  };\n  CandlestickView.prototype.remove = function (ecModel) {\n    this._clear();\n  };\n  CandlestickView.prototype._clear = function () {\n    this.group.removeAll();\n    this._data = null;\n  };\n  CandlestickView.type = 'candlestick';\n  return CandlestickView;\n}(ChartView);\nvar NormalBoxPathShape = /** @class */\nfunction () {\n  function NormalBoxPathShape() {}\n  return NormalBoxPathShape;\n}();\nvar NormalBoxPath = /** @class */\nfunction (_super) {\n  __extends(NormalBoxPath, _super);\n  function NormalBoxPath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'normalCandlestickBox';\n    return _this;\n  }\n  NormalBoxPath.prototype.getDefaultShape = function () {\n    return new NormalBoxPathShape();\n  };\n  NormalBoxPath.prototype.buildPath = function (ctx, shape) {\n    var ends = shape.points;\n    if (this.__simpleBox) {\n      ctx.moveTo(ends[4][0], ends[4][1]);\n      ctx.lineTo(ends[6][0], ends[6][1]);\n    } else {\n      ctx.moveTo(ends[0][0], ends[0][1]);\n      ctx.lineTo(ends[1][0], ends[1][1]);\n      ctx.lineTo(ends[2][0], ends[2][1]);\n      ctx.lineTo(ends[3][0], ends[3][1]);\n      ctx.closePath();\n      ctx.moveTo(ends[4][0], ends[4][1]);\n      ctx.lineTo(ends[5][0], ends[5][1]);\n      ctx.moveTo(ends[6][0], ends[6][1]);\n      ctx.lineTo(ends[7][0], ends[7][1]);\n    }\n  };\n  return NormalBoxPath;\n}(Path);\nfunction createNormalBox(itemLayout, dataIndex, isInit) {\n  var ends = itemLayout.ends;\n  return new NormalBoxPath({\n    shape: {\n      points: isInit ? transInit(ends, itemLayout) : ends\n    },\n    z2: 100\n  });\n}\nfunction isNormalBoxClipped(clipArea, itemLayout) {\n  var clipped = true;\n  for (var i = 0; i < itemLayout.ends.length; i++) {\n    // If any point are in the region.\n    if (clipArea.contain(itemLayout.ends[i][0], itemLayout.ends[i][1])) {\n      clipped = false;\n      break;\n    }\n  }\n  return clipped;\n}\nfunction setBoxCommon(el, data, dataIndex, isSimpleBox) {\n  var itemModel = data.getItemModel(dataIndex);\n  el.useStyle(data.getItemVisual(dataIndex, 'style'));\n  el.style.strokeNoScale = true;\n  el.__simpleBox = isSimpleBox;\n  setStatesStylesFromModel(el, itemModel);\n}\nfunction transInit(points, itemLayout) {\n  return zrUtil.map(points, function (point) {\n    point = point.slice();\n    point[1] = itemLayout.initBaseline;\n    return point;\n  });\n}\nvar LargeBoxPathShape = /** @class */\nfunction () {\n  function LargeBoxPathShape() {}\n  return LargeBoxPathShape;\n}();\nvar LargeBoxPath = /** @class */\nfunction (_super) {\n  __extends(LargeBoxPath, _super);\n  function LargeBoxPath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'largeCandlestickBox';\n    return _this;\n  }\n  LargeBoxPath.prototype.getDefaultShape = function () {\n    return new LargeBoxPathShape();\n  };\n  LargeBoxPath.prototype.buildPath = function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n    for (var i = 0; i < points.length;) {\n      if (this.__sign === points[i++]) {\n        var x = points[i++];\n        ctx.moveTo(x, points[i++]);\n        ctx.lineTo(x, points[i++]);\n      } else {\n        i += 3;\n      }\n    }\n  };\n  return LargeBoxPath;\n}(Path);\nfunction createLarge(seriesModel, group, progressiveEls, incremental) {\n  var data = seriesModel.getData();\n  var largePoints = data.getLayout('largePoints');\n  var elP = new LargeBoxPath({\n    shape: {\n      points: largePoints\n    },\n    __sign: 1,\n    ignoreCoarsePointer: true\n  });\n  group.add(elP);\n  var elN = new LargeBoxPath({\n    shape: {\n      points: largePoints\n    },\n    __sign: -1,\n    ignoreCoarsePointer: true\n  });\n  group.add(elN);\n  var elDoji = new LargeBoxPath({\n    shape: {\n      points: largePoints\n    },\n    __sign: 0,\n    ignoreCoarsePointer: true\n  });\n  group.add(elDoji);\n  setLargeStyle(1, elP, seriesModel, data);\n  setLargeStyle(-1, elN, seriesModel, data);\n  setLargeStyle(0, elDoji, seriesModel, data);\n  if (incremental) {\n    elP.incremental = true;\n    elN.incremental = true;\n  }\n  if (progressiveEls) {\n    progressiveEls.push(elP, elN);\n  }\n}\nfunction setLargeStyle(sign, el, seriesModel, data) {\n  // TODO put in visual?\n  var borderColor = seriesModel.get(['itemStyle', sign > 0 ? 'borderColor' : 'borderColor0']) // Use color for border color by default.\n  || seriesModel.get(['itemStyle', sign > 0 ? 'color' : 'color0']);\n  if (sign === 0) {\n    borderColor = seriesModel.get(['itemStyle', 'borderColorDoji']);\n  } // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var itemStyle = seriesModel.getModel('itemStyle').getItemStyle(SKIP_PROPS);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n}\nexport default CandlestickView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport { WhiskerBoxCommonMixin } from '../helper/whiskerBoxCommon.js';\nimport { mixin } from 'zrender/lib/core/util.js';\nvar CandlestickSeriesModel = /** @class */\nfunction (_super) {\n  __extends(CandlestickSeriesModel, _super);\n  function CandlestickSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = CandlestickSeriesModel.type;\n    _this.defaultValueDimensions = [{\n      name: 'open',\n      defaultTooltip: true\n    }, {\n      name: 'close',\n      defaultTooltip: true\n    }, {\n      name: 'lowest',\n      defaultTooltip: true\n    }, {\n      name: 'highest',\n      defaultTooltip: true\n    }];\n    return _this;\n  }\n  /**\n   * Get dimension for shadow in dataZoom\n   * @return dimension name\n   */\n\n  CandlestickSeriesModel.prototype.getShadowDim = function () {\n    return 'open';\n  };\n  CandlestickSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    var itemLayout = data.getItemLayout(dataIndex);\n    return itemLayout && selectors.rect(itemLayout.brushRect);\n  };\n  CandlestickSeriesModel.type = 'series.candlestick';\n  CandlestickSeriesModel.dependencies = ['xAxis', 'yAxis', 'grid'];\n  CandlestickSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    layout: null,\n    clip: true,\n    itemStyle: {\n      color: '#eb5454',\n      color0: '#47b262',\n      borderColor: '#eb5454',\n      borderColor0: '#47b262',\n      borderColorDoji: null,\n      // borderColor: '#d24040',\n      // borderColor0: '#398f4f',\n      borderWidth: 1\n    },\n    emphasis: {\n      scale: true,\n      itemStyle: {\n        borderWidth: 2\n      }\n    },\n    barMaxWidth: null,\n    barMinWidth: null,\n    barWidth: null,\n    large: true,\n    largeThreshold: 600,\n    progressive: 3e3,\n    progressiveThreshold: 1e4,\n    progressiveChunkMode: 'mod',\n    animationEasing: 'linear',\n    animationDuration: 300\n  };\n  return CandlestickSeriesModel;\n}(SeriesModel);\nmixin(CandlestickSeriesModel, WhiskerBoxCommonMixin, true);\nexport default CandlestickSeriesModel;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function candlestickPreprocessor(option) {\n  if (!option || !zrUtil.isArray(option.series)) {\n    return;\n  } // Translate 'k' to 'candlestick'.\n\n  zrUtil.each(option.series, function (seriesItem) {\n    if (zrUtil.isObject(seriesItem) && seriesItem.type === 'k') {\n      seriesItem.type = 'candlestick';\n    }\n  });\n}","import \"core-js/modules/es.array.fill.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport createRenderPlanner from '../helper/createRenderPlanner.js';\nimport { extend } from 'zrender/lib/core/util.js';\nvar positiveBorderColorQuery = ['itemStyle', 'borderColor'];\nvar negativeBorderColorQuery = ['itemStyle', 'borderColor0'];\nvar dojiBorderColorQuery = ['itemStyle', 'borderColorDoji'];\nvar positiveColorQuery = ['itemStyle', 'color'];\nvar negativeColorQuery = ['itemStyle', 'color0'];\nvar candlestickVisual = {\n  seriesType: 'candlestick',\n  plan: createRenderPlanner(),\n  // For legend.\n  performRawSeries: true,\n  reset: function reset(seriesModel, ecModel) {\n    function getColor(sign, model) {\n      return model.get(sign > 0 ? positiveColorQuery : negativeColorQuery);\n    }\n    function getBorderColor(sign, model) {\n      return model.get(sign === 0 ? dojiBorderColorQuery : sign > 0 ? positiveBorderColorQuery : negativeBorderColorQuery);\n    } // Only visible series has each data be visual encoded\n\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var isLargeRender = seriesModel.pipelineContext.large;\n    return !isLargeRender && {\n      progress: function progress(params, data) {\n        var dataIndex;\n        while ((dataIndex = params.next()) != null) {\n          var itemModel = data.getItemModel(dataIndex);\n          var sign = data.getItemLayout(dataIndex).sign;\n          var style = itemModel.getItemStyle();\n          style.fill = getColor(sign, itemModel);\n          style.stroke = getBorderColor(sign, itemModel) || style.fill;\n          var existsStyle = data.ensureUniqueItemVisual(dataIndex, 'style');\n          extend(existsStyle, style);\n        }\n      }\n    };\n  }\n};\nexport default candlestickVisual;","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { subPixelOptimize } from '../../util/graphic.js';\nimport createRenderPlanner from '../helper/createRenderPlanner.js';\nimport { parsePercent } from '../../util/number.js';\nimport { map, retrieve2 } from 'zrender/lib/core/util.js';\nimport { createFloat32Array } from '../../util/vendor.js';\nvar candlestickLayout = {\n  seriesType: 'candlestick',\n  plan: createRenderPlanner(),\n  reset: function reset(seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var data = seriesModel.getData();\n    var candleWidth = calculateCandleWidth(seriesModel, data);\n    var cDimIdx = 0;\n    var vDimIdx = 1;\n    var coordDims = ['x', 'y'];\n    var cDimI = data.getDimensionIndex(data.mapDimension(coordDims[cDimIdx]));\n    var vDimsI = map(data.mapDimensionsAll(coordDims[vDimIdx]), data.getDimensionIndex, data);\n    var openDimI = vDimsI[0];\n    var closeDimI = vDimsI[1];\n    var lowestDimI = vDimsI[2];\n    var highestDimI = vDimsI[3];\n    data.setLayout({\n      candleWidth: candleWidth,\n      // The value is experimented visually.\n      isSimpleBox: candleWidth <= 1.3\n    });\n    if (cDimI < 0 || vDimsI.length < 4) {\n      return;\n    }\n    return {\n      progress: seriesModel.pipelineContext.large ? largeProgress : normalProgress\n    };\n    function normalProgress(params, data) {\n      var dataIndex;\n      var store = data.getStore();\n      while ((dataIndex = params.next()) != null) {\n        var axisDimVal = store.get(cDimI, dataIndex);\n        var openVal = store.get(openDimI, dataIndex);\n        var closeVal = store.get(closeDimI, dataIndex);\n        var lowestVal = store.get(lowestDimI, dataIndex);\n        var highestVal = store.get(highestDimI, dataIndex);\n        var ocLow = Math.min(openVal, closeVal);\n        var ocHigh = Math.max(openVal, closeVal);\n        var ocLowPoint = getPoint(ocLow, axisDimVal);\n        var ocHighPoint = getPoint(ocHigh, axisDimVal);\n        var lowestPoint = getPoint(lowestVal, axisDimVal);\n        var highestPoint = getPoint(highestVal, axisDimVal);\n        var ends = [];\n        addBodyEnd(ends, ocHighPoint, 0);\n        addBodyEnd(ends, ocLowPoint, 1);\n        ends.push(subPixelOptimizePoint(highestPoint), subPixelOptimizePoint(ocHighPoint), subPixelOptimizePoint(lowestPoint), subPixelOptimizePoint(ocLowPoint));\n        var itemModel = data.getItemModel(dataIndex);\n        var hasDojiColor = !!itemModel.get(['itemStyle', 'borderColorDoji']);\n        data.setItemLayout(dataIndex, {\n          sign: getSign(store, dataIndex, openVal, closeVal, closeDimI, hasDojiColor),\n          initBaseline: openVal > closeVal ? ocHighPoint[vDimIdx] : ocLowPoint[vDimIdx],\n          ends: ends,\n          brushRect: makeBrushRect(lowestVal, highestVal, axisDimVal)\n        });\n      }\n      function getPoint(val, axisDimVal) {\n        var p = [];\n        p[cDimIdx] = axisDimVal;\n        p[vDimIdx] = val;\n        return isNaN(axisDimVal) || isNaN(val) ? [NaN, NaN] : coordSys.dataToPoint(p);\n      }\n      function addBodyEnd(ends, point, start) {\n        var point1 = point.slice();\n        var point2 = point.slice();\n        point1[cDimIdx] = subPixelOptimize(point1[cDimIdx] + candleWidth / 2, 1, false);\n        point2[cDimIdx] = subPixelOptimize(point2[cDimIdx] - candleWidth / 2, 1, true);\n        start ? ends.push(point1, point2) : ends.push(point2, point1);\n      }\n      function makeBrushRect(lowestVal, highestVal, axisDimVal) {\n        var pmin = getPoint(lowestVal, axisDimVal);\n        var pmax = getPoint(highestVal, axisDimVal);\n        pmin[cDimIdx] -= candleWidth / 2;\n        pmax[cDimIdx] -= candleWidth / 2;\n        return {\n          x: pmin[0],\n          y: pmin[1],\n          width: vDimIdx ? candleWidth : pmax[0] - pmin[0],\n          height: vDimIdx ? pmax[1] - pmin[1] : candleWidth\n        };\n      }\n      function subPixelOptimizePoint(point) {\n        point[cDimIdx] = subPixelOptimize(point[cDimIdx], 1);\n        return point;\n      }\n    }\n    function largeProgress(params, data) {\n      // Structure: [sign, x, yhigh, ylow, sign, x, yhigh, ylow, ...]\n      var points = createFloat32Array(params.count * 4);\n      var offset = 0;\n      var point;\n      var tmpIn = [];\n      var tmpOut = [];\n      var dataIndex;\n      var store = data.getStore();\n      var hasDojiColor = !!seriesModel.get(['itemStyle', 'borderColorDoji']);\n      while ((dataIndex = params.next()) != null) {\n        var axisDimVal = store.get(cDimI, dataIndex);\n        var openVal = store.get(openDimI, dataIndex);\n        var closeVal = store.get(closeDimI, dataIndex);\n        var lowestVal = store.get(lowestDimI, dataIndex);\n        var highestVal = store.get(highestDimI, dataIndex);\n        if (isNaN(axisDimVal) || isNaN(lowestVal) || isNaN(highestVal)) {\n          points[offset++] = NaN;\n          offset += 3;\n          continue;\n        }\n        points[offset++] = getSign(store, dataIndex, openVal, closeVal, closeDimI, hasDojiColor);\n        tmpIn[cDimIdx] = axisDimVal;\n        tmpIn[vDimIdx] = lowestVal;\n        point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n        points[offset++] = point ? point[0] : NaN;\n        points[offset++] = point ? point[1] : NaN;\n        tmpIn[vDimIdx] = highestVal;\n        point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n        points[offset++] = point ? point[1] : NaN;\n      }\n      data.setLayout('largePoints', points);\n    }\n  }\n};\n/**\n * Get the sign of a single data.\n *\n * @returns 0 for doji with hasDojiColor: true,\n *          1 for positive,\n *          -1 for negative.\n */\n\nfunction getSign(store, dataIndex, openVal, closeVal, closeDimI, hasDojiColor) {\n  var sign;\n  if (openVal > closeVal) {\n    sign = -1;\n  } else if (openVal < closeVal) {\n    sign = 1;\n  } else {\n    sign = hasDojiColor // When doji color is set, use it instead of color/color0.\n    ? 0 : dataIndex > 0 // If close === open, compare with close of last record\n    ? store.get(closeDimI, dataIndex - 1) <= closeVal ? 1 : -1 :\n    // No record of previous, set to be positive\n    1;\n  }\n  return sign;\n}\nfunction calculateCandleWidth(seriesModel, data) {\n  var baseAxis = seriesModel.getBaseAxis();\n  var extent;\n  var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : (extent = baseAxis.getExtent(), Math.abs(extent[1] - extent[0]) / data.count());\n  var barMaxWidth = parsePercent(retrieve2(seriesModel.get('barMaxWidth'), bandWidth), bandWidth);\n  var barMinWidth = parsePercent(retrieve2(seriesModel.get('barMinWidth'), 1), bandWidth);\n  var barWidth = seriesModel.get('barWidth');\n  return barWidth != null ? parsePercent(barWidth, bandWidth) // Put max outer to ensure bar visible in spite of overlap.\n  : Math.max(Math.min(bandWidth / 2, barMaxWidth), barMinWidth);\n}\nexport default candlestickLayout;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CandlestickView from './CandlestickView.js';\nimport CandlestickSeriesModel from './CandlestickSeries.js';\nimport preprocessor from './preprocessor.js';\nimport candlestickVisual from './candlestickVisual.js';\nimport candlestickLayout from './candlestickLayout.js';\nexport function install(registers) {\n  registers.registerChartView(CandlestickView);\n  registers.registerSeriesModel(CandlestickSeriesModel);\n  registers.registerPreprocessor(preprocessor);\n  registers.registerVisual(candlestickVisual);\n  registers.registerLayout(candlestickLayout);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesData from '../helper/createSeriesData.js';\nimport { makeInner } from '../../util/model.js';\nimport SeriesModel from '../../model/Series.js'; // Also compat with ec4, where\n// `visual('color') visual('borderColor')` is supported.\n\nexport var STYLE_VISUAL_TYPE = {\n  color: 'fill',\n  borderColor: 'stroke'\n};\nexport var NON_STYLE_VISUAL_PROPS = {\n  symbol: 1,\n  symbolSize: 1,\n  symbolKeepAspect: 1,\n  legendIcon: 1,\n  visualMeta: 1,\n  liftZ: 1,\n  decal: 1\n};\n;\nexport var customInnerStore = makeInner();\n\nvar CustomSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(CustomSeriesModel, _super);\n\n  function CustomSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CustomSeriesModel.type;\n    return _this;\n  }\n\n  CustomSeriesModel.prototype.optionUpdated = function () {\n    this.currentZLevel = this.get('zlevel', true);\n    this.currentZ = this.get('z', true);\n  };\n\n  CustomSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this);\n  };\n\n  CustomSeriesModel.prototype.getDataParams = function (dataIndex, dataType, el) {\n    var params = _super.prototype.getDataParams.call(this, dataIndex, dataType);\n\n    el && (params.info = customInnerStore(el).info);\n    return params;\n  };\n\n  CustomSeriesModel.type = 'series.custom';\n  CustomSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'];\n  CustomSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    // zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    // Custom series will not clip by default.\n    // Some case will use custom series to draw label\n    // For example https://echarts.apache.org/examples/en/editor.html?c=custom-gantt-flight\n    clip: false // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n\n  };\n  return CustomSeriesModel;\n}(SeriesModel);\n\nexport default CustomSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { hasOwn, assert, isString, retrieve2, retrieve3, defaults, each, indexOf } from 'zrender/lib/core/util.js';\nimport * as graphicUtil from '../../util/graphic.js';\nimport { setDefaultStateProxy, toggleHoverEmphasis } from '../../util/states.js';\nimport * as labelStyleHelper from '../../label/labelStyle.js';\nimport { getDefaultLabel } from '../helper/labelHelper.js';\nimport { getLayoutOnAxis } from '../../layout/barGrid.js';\nimport DataDiffer from '../../data/DataDiffer.js';\nimport ChartView from '../../view/Chart.js';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys.js';\nimport prepareCartesian2d from '../../coord/cartesian/prepareCustom.js';\nimport prepareGeo from '../../coord/geo/prepareCustom.js';\nimport prepareSingleAxis from '../../coord/single/prepareCustom.js';\nimport preparePolar from '../../coord/polar/prepareCustom.js';\nimport prepareCalendar from '../../coord/calendar/prepareCustom.js';\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\nimport { convertToEC4StyleForCustomSerise, isEC4CompatibleStyle, convertFromEC4CompatibleStyle, warnDeprecated } from '../../util/styleCompat.js';\nimport { throwError } from '../../util/log.js';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal.js';\nimport { STYLE_VISUAL_TYPE, NON_STYLE_VISUAL_PROPS, customInnerStore } from './CustomSeries.js';\nimport { applyLeaveTransition, applyUpdateTransition } from '../../animation/customGraphicTransition.js';\nimport { applyKeyframeAnimation, stopPreviousKeyframeAnimationAndRestore } from '../../animation/customGraphicKeyframeAnimation.js';\nvar EMPHASIS = 'emphasis';\nvar NORMAL = 'normal';\nvar BLUR = 'blur';\nvar SELECT = 'select';\nvar STATES = [NORMAL, EMPHASIS, BLUR, SELECT];\nvar PATH_ITEM_STYLE = {\n  normal: ['itemStyle'],\n  emphasis: [EMPHASIS, 'itemStyle'],\n  blur: [BLUR, 'itemStyle'],\n  select: [SELECT, 'itemStyle']\n};\nvar PATH_LABEL = {\n  normal: ['label'],\n  emphasis: [EMPHASIS, 'label'],\n  blur: [BLUR, 'label'],\n  select: [SELECT, 'label']\n};\nvar DEFAULT_TRANSITION = ['x', 'y']; // Use prefix to avoid index to be the same as el.name,\n// which will cause weird update animation.\n\nvar GROUP_DIFF_PREFIX = 'e\\0\\0';\nvar attachedTxInfoTmp = {\n  normal: {},\n  emphasis: {},\n  blur: {},\n  select: {}\n};\n/**\n * To reduce total package size of each coordinate systems, the modules `prepareCustom`\n * of each coordinate systems are not required by each coordinate systems directly, but\n * required by the module `custom`.\n *\n * prepareInfoForCustomSeries {Function}: optional\n *     @return {Object} {coordSys: {...}, api: {\n *         coord: function (data, clamp) {}, // return point in global.\n *         size: function (dataSize, dataItem) {} // return size of each axis in coordSys.\n *     }}\n */\n\nvar prepareCustoms = {\n  cartesian2d: prepareCartesian2d,\n  geo: prepareGeo,\n  single: prepareSingleAxis,\n  polar: preparePolar,\n  calendar: prepareCalendar\n};\n\nfunction isPath(el) {\n  return el instanceof graphicUtil.Path;\n}\n\nfunction isDisplayable(el) {\n  return el instanceof Displayable;\n}\n\nfunction copyElement(sourceEl, targetEl) {\n  targetEl.copyTransform(sourceEl);\n\n  if (isDisplayable(targetEl) && isDisplayable(sourceEl)) {\n    targetEl.setStyle(sourceEl.style);\n    targetEl.z = sourceEl.z;\n    targetEl.z2 = sourceEl.z2;\n    targetEl.zlevel = sourceEl.zlevel;\n    targetEl.invisible = sourceEl.invisible;\n    targetEl.ignore = sourceEl.ignore;\n\n    if (isPath(targetEl) && isPath(sourceEl)) {\n      targetEl.setShape(sourceEl.shape);\n    }\n  }\n}\n\nvar CustomChartView =\n/** @class */\nfunction (_super) {\n  __extends(CustomChartView, _super);\n\n  function CustomChartView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CustomChartView.type;\n    return _this;\n  }\n\n  CustomChartView.prototype.render = function (customSeries, ecModel, api, payload) {\n    // Clear previously rendered progressive elements.\n    this._progressiveEls = null;\n    var oldData = this._data;\n    var data = customSeries.getData();\n    var group = this.group;\n    var renderItem = makeRenderItem(customSeries, data, ecModel, api);\n\n    if (!oldData) {\n      // Previous render is incremental render or first render.\n      // Needs remove the incremental rendered elements.\n      group.removeAll();\n    }\n\n    data.diff(oldData).add(function (newIdx) {\n      createOrUpdateItem(api, null, newIdx, renderItem(newIdx, payload), customSeries, group, data);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && applyLeaveTransition(el, customInnerStore(el).option, customSeries);\n    }).update(function (newIdx, oldIdx) {\n      var oldEl = oldData.getItemGraphicEl(oldIdx);\n      createOrUpdateItem(api, oldEl, newIdx, renderItem(newIdx, payload), customSeries, group, data);\n    }).execute(); // Do clipping\n\n    var clipPath = customSeries.get('clip', true) ? createClipPath(customSeries.coordinateSystem, false, customSeries) : null;\n\n    if (clipPath) {\n      group.setClipPath(clipPath);\n    } else {\n      group.removeClipPath();\n    }\n\n    this._data = data;\n  };\n\n  CustomChartView.prototype.incrementalPrepareRender = function (customSeries, ecModel, api) {\n    this.group.removeAll();\n    this._data = null;\n  };\n\n  CustomChartView.prototype.incrementalRender = function (params, customSeries, ecModel, api, payload) {\n    var data = customSeries.getData();\n    var renderItem = makeRenderItem(customSeries, data, ecModel, api);\n    var progressiveEls = this._progressiveEls = [];\n\n    function setIncrementalAndHoverLayer(el) {\n      if (!el.isGroup) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n\n    for (var idx = params.start; idx < params.end; idx++) {\n      var el = createOrUpdateItem(null, null, idx, renderItem(idx, payload), customSeries, this.group, data);\n\n      if (el) {\n        el.traverse(setIncrementalAndHoverLayer);\n        progressiveEls.push(el);\n      }\n    }\n  };\n\n  CustomChartView.prototype.eachRendered = function (cb) {\n    graphicUtil.traverseElements(this._progressiveEls || this.group, cb);\n  };\n\n  CustomChartView.prototype.filterForExposedEvent = function (eventType, query, targetEl, packedEvent) {\n    var elementName = query.element;\n\n    if (elementName == null || targetEl.name === elementName) {\n      return true;\n    } // Enable to give a name on a group made by `renderItem`, and listen\n    // events that are triggered by its descendents.\n\n\n    while ((targetEl = targetEl.__hostTarget || targetEl.parent) && targetEl !== this.group) {\n      if (targetEl.name === elementName) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  CustomChartView.type = 'custom';\n  return CustomChartView;\n}(ChartView);\n\nexport default CustomChartView;\n\nfunction createEl(elOption) {\n  var graphicType = elOption.type;\n  var el; // Those graphic elements are not shapes. They should not be\n  // overwritten by users, so do them first.\n\n  if (graphicType === 'path') {\n    var shape = elOption.shape; // Using pathRect brings convenience to users sacle svg path.\n\n    var pathRect = shape.width != null && shape.height != null ? {\n      x: shape.x || 0,\n      y: shape.y || 0,\n      width: shape.width,\n      height: shape.height\n    } : null;\n    var pathData = getPathData(shape); // Path is also used for icon, so layout 'center' by default.\n\n    el = graphicUtil.makePath(pathData, null, pathRect, shape.layout || 'center');\n    customInnerStore(el).customPathData = pathData;\n  } else if (graphicType === 'image') {\n    el = new graphicUtil.Image({});\n    customInnerStore(el).customImagePath = elOption.style.image;\n  } else if (graphicType === 'text') {\n    el = new graphicUtil.Text({}); // customInnerStore(el).customText = (elOption.style as TextStyleProps).text;\n  } else if (graphicType === 'group') {\n    el = new graphicUtil.Group();\n  } else if (graphicType === 'compoundPath') {\n    throw new Error('\"compoundPath\" is not supported yet.');\n  } else {\n    var Clz = graphicUtil.getShapeClass(graphicType);\n\n    if (!Clz) {\n      var errMsg = '';\n\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'graphic type \"' + graphicType + '\" can not be found.';\n      }\n\n      throwError(errMsg);\n    }\n\n    el = new Clz();\n  }\n\n  customInnerStore(el).customGraphicType = graphicType;\n  el.name = elOption.name; // Compat ec4: the default z2 lift is 1. If changing the number,\n  // some cases probably be broken: hierarchy layout along z, like circle packing,\n  // where emphasis only intending to modify color/border rather than lift z2.\n\n  el.z2EmphasisLift = 1;\n  el.z2SelectLift = 1;\n  return el;\n}\n\nfunction updateElNormal( // Can be null/undefined\napi, el, dataIndex, elOption, attachedTxInfo, seriesModel, isInit) {\n  // Stop and restore before update any other attributes.\n  stopPreviousKeyframeAnimationAndRestore(el);\n  var txCfgOpt = attachedTxInfo && attachedTxInfo.normal.cfg;\n\n  if (txCfgOpt) {\n    // PENDING: whether use user object directly rather than clone?\n    // TODO:5.0 textConfig transition animation?\n    el.setTextConfig(txCfgOpt);\n  } // Default transition ['x', 'y']\n\n\n  if (elOption && elOption.transition == null) {\n    elOption.transition = DEFAULT_TRANSITION;\n  } // Do some normalization on style.\n\n\n  var styleOpt = elOption && elOption.style;\n\n  if (styleOpt) {\n    if (el.type === 'text') {\n      var textOptionStyle = styleOpt; // Compatible with ec4: if `textFill` or `textStroke` exists use them.\n\n      hasOwn(textOptionStyle, 'textFill') && (textOptionStyle.fill = textOptionStyle.textFill);\n      hasOwn(textOptionStyle, 'textStroke') && (textOptionStyle.stroke = textOptionStyle.textStroke);\n    }\n\n    var decalPattern = void 0;\n    var decalObj = isPath(el) ? styleOpt.decal : null;\n\n    if (api && decalObj) {\n      decalObj.dirty = true;\n      decalPattern = createOrUpdatePatternFromDecal(decalObj, api);\n    } // Always overwrite in case user specify this prop.\n\n\n    styleOpt.__decalPattern = decalPattern;\n  }\n\n  if (isDisplayable(el)) {\n    if (styleOpt) {\n      var decalPattern = styleOpt.__decalPattern;\n\n      if (decalPattern) {\n        styleOpt.decal = decalPattern;\n      }\n    }\n  }\n\n  applyUpdateTransition(el, elOption, seriesModel, {\n    dataIndex: dataIndex,\n    isInit: isInit,\n    clearStyle: true\n  });\n  applyKeyframeAnimation(el, elOption.keyframeAnimation, seriesModel);\n}\n\nfunction updateElOnState(state, el, elStateOpt, styleOpt, attachedTxInfo) {\n  var elDisplayable = el.isGroup ? null : el;\n  var txCfgOpt = attachedTxInfo && attachedTxInfo[state].cfg; // PENDING:5.0 support customize scale change and transition animation?\n\n  if (elDisplayable) {\n    // By default support auto lift color when hover whether `emphasis` specified.\n    var stateObj = elDisplayable.ensureState(state);\n\n    if (styleOpt === false) {\n      var existingEmphasisState = elDisplayable.getState(state);\n\n      if (existingEmphasisState) {\n        existingEmphasisState.style = null;\n      }\n    } else {\n      // style is needed to enable default emphasis.\n      stateObj.style = styleOpt || null;\n    } // If `elOption.styleEmphasis` or `elOption.emphasis.style` is `false`,\n    // remove hover style.\n    // If `elOption.textConfig` or `elOption.emphasis.textConfig` is null/undefined, it does not\n    // make sense. So for simplicity, we do not ditinguish `hasOwnProperty` and null/undefined.\n\n\n    if (txCfgOpt) {\n      stateObj.textConfig = txCfgOpt;\n    }\n\n    setDefaultStateProxy(elDisplayable);\n  }\n}\n\nfunction updateZ(el, elOption, seriesModel) {\n  // Group not support textContent and not support z yet.\n  if (el.isGroup) {\n    return;\n  }\n\n  var elDisplayable = el;\n  var currentZ = seriesModel.currentZ;\n  var currentZLevel = seriesModel.currentZLevel; // Always erase.\n\n  elDisplayable.z = currentZ;\n  elDisplayable.zlevel = currentZLevel; // z2 must not be null/undefined, otherwise sort error may occur.\n\n  var optZ2 = elOption.z2;\n  optZ2 != null && (elDisplayable.z2 = optZ2 || 0);\n\n  for (var i = 0; i < STATES.length; i++) {\n    updateZForEachState(elDisplayable, elOption, STATES[i]);\n  }\n}\n\nfunction updateZForEachState(elDisplayable, elOption, state) {\n  var isNormal = state === NORMAL;\n  var elStateOpt = isNormal ? elOption : retrieveStateOption(elOption, state);\n  var optZ2 = elStateOpt ? elStateOpt.z2 : null;\n  var stateObj;\n\n  if (optZ2 != null) {\n    // Do not `ensureState` until required.\n    stateObj = isNormal ? elDisplayable : elDisplayable.ensureState(state);\n    stateObj.z2 = optZ2 || 0;\n  }\n}\n\nfunction makeRenderItem(customSeries, data, ecModel, api) {\n  var renderItem = customSeries.get('renderItem');\n  var coordSys = customSeries.coordinateSystem;\n  var prepareResult = {};\n\n  if (coordSys) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(renderItem, 'series.render is required.');\n      assert(coordSys.prepareCustoms || prepareCustoms[coordSys.type], 'This coordSys does not support custom series.');\n    } // `coordSys.prepareCustoms` is used for external coord sys like bmap.\n\n\n    prepareResult = coordSys.prepareCustoms ? coordSys.prepareCustoms(coordSys) : prepareCustoms[coordSys.type](coordSys);\n  }\n\n  var userAPI = defaults({\n    getWidth: api.getWidth,\n    getHeight: api.getHeight,\n    getZr: api.getZr,\n    getDevicePixelRatio: api.getDevicePixelRatio,\n    value: value,\n    style: style,\n    ordinalRawValue: ordinalRawValue,\n    styleEmphasis: styleEmphasis,\n    visual: visual,\n    barLayout: barLayout,\n    currentSeriesIndices: currentSeriesIndices,\n    font: font\n  }, prepareResult.api || {});\n  var userParams = {\n    // The life cycle of context: current round of rendering.\n    // The global life cycle is probably not necessary, because\n    // user can store global status by themselves.\n    context: {},\n    seriesId: customSeries.id,\n    seriesName: customSeries.name,\n    seriesIndex: customSeries.seriesIndex,\n    coordSys: prepareResult.coordSys,\n    dataInsideLength: data.count(),\n    encode: wrapEncodeDef(customSeries.getData())\n  }; // If someday intending to refactor them to a class, should consider do not\n  // break change: currently these attribute member are encapsulated in a closure\n  // so that do not need to force user to call these method with a scope.\n  // Do not support call `api` asynchronously without dataIndexInside input.\n\n  var currDataIndexInside;\n  var currItemModel;\n  var currItemStyleModels = {};\n  var currLabelModels = {};\n  var seriesItemStyleModels = {};\n  var seriesLabelModels = {};\n\n  for (var i = 0; i < STATES.length; i++) {\n    var stateName = STATES[i];\n    seriesItemStyleModels[stateName] = customSeries.getModel(PATH_ITEM_STYLE[stateName]);\n    seriesLabelModels[stateName] = customSeries.getModel(PATH_LABEL[stateName]);\n  }\n\n  function getItemModel(dataIndexInside) {\n    return dataIndexInside === currDataIndexInside ? currItemModel || (currItemModel = data.getItemModel(dataIndexInside)) : data.getItemModel(dataIndexInside);\n  }\n\n  function getItemStyleModel(dataIndexInside, state) {\n    return !data.hasItemOption ? seriesItemStyleModels[state] : dataIndexInside === currDataIndexInside ? currItemStyleModels[state] || (currItemStyleModels[state] = getItemModel(dataIndexInside).getModel(PATH_ITEM_STYLE[state])) : getItemModel(dataIndexInside).getModel(PATH_ITEM_STYLE[state]);\n  }\n\n  function getLabelModel(dataIndexInside, state) {\n    return !data.hasItemOption ? seriesLabelModels[state] : dataIndexInside === currDataIndexInside ? currLabelModels[state] || (currLabelModels[state] = getItemModel(dataIndexInside).getModel(PATH_LABEL[state])) : getItemModel(dataIndexInside).getModel(PATH_LABEL[state]);\n  }\n\n  return function (dataIndexInside, payload) {\n    currDataIndexInside = dataIndexInside;\n    currItemModel = null;\n    currItemStyleModels = {};\n    currLabelModels = {};\n    return renderItem && renderItem(defaults({\n      dataIndexInside: dataIndexInside,\n      dataIndex: data.getRawIndex(dataIndexInside),\n      // Can be used for optimization when zoom or roam.\n      actionType: payload ? payload.type : null\n    }, userParams), userAPI);\n  };\n  /**\n   * @public\n   * @param dim by default 0.\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n\n  function value(dim, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    return data.getStore().get(data.getDimensionIndex(dim || 0), dataIndexInside);\n  }\n  /**\n   * @public\n   * @param dim by default 0.\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n\n\n  function ordinalRawValue(dim, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    dim = dim || 0;\n    var dimInfo = data.getDimensionInfo(dim);\n\n    if (!dimInfo) {\n      var dimIndex = data.getDimensionIndex(dim);\n      return dimIndex >= 0 ? data.getStore().get(dimIndex, dataIndexInside) : undefined;\n    }\n\n    var val = data.get(dimInfo.name, dataIndexInside);\n    var ordinalMeta = dimInfo && dimInfo.ordinalMeta;\n    return ordinalMeta ? ordinalMeta.categories[val] : val;\n  }\n  /**\n   * @deprecated The original intention of `api.style` is enable to set itemStyle\n   * like other series. But it is not necessary and not easy to give a strict definition\n   * of what it returns. And since echarts5 it needs to be make compat work. So\n   * deprecates it since echarts5.\n   *\n   * By default, `visual` is applied to style (to support visualMap).\n   * `visual.color` is applied at `fill`. If user want apply visual.color on `stroke`,\n   * it can be implemented as:\n   * `api.style({stroke: api.visual('color'), fill: null})`;\n   *\n   * [Compat]: since ec5, RectText has been separated from its hosts el.\n   * so `api.style()` will only return the style from `itemStyle` but not handle `label`\n   * any more. But `series.label` config is never published in doc.\n   * We still compat it in `api.style()`. But not encourage to use it and will still not\n   * to pulish it to doc.\n   * @public\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n\n\n  function style(userProps, dataIndexInside) {\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecated('api.style', 'Please write literal style directly instead.');\n    }\n\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    var style = data.getItemVisual(dataIndexInside, 'style');\n    var visualColor = style && style.fill;\n    var opacity = style && style.opacity;\n    var itemStyle = getItemStyleModel(dataIndexInside, NORMAL).getItemStyle();\n    visualColor != null && (itemStyle.fill = visualColor);\n    opacity != null && (itemStyle.opacity = opacity);\n    var opt = {\n      inheritColor: isString(visualColor) ? visualColor : '#000'\n    };\n    var labelModel = getLabelModel(dataIndexInside, NORMAL); // Now that the feature of \"auto adjust text fill/stroke\" has been migrated to zrender\n    // since ec5, we should set `isAttached` as `false` here and make compat in\n    // `convertToEC4StyleForCustomSerise`.\n\n    var textStyle = labelStyleHelper.createTextStyle(labelModel, null, opt, false, true);\n    textStyle.text = labelModel.getShallow('show') ? retrieve2(customSeries.getFormattedLabel(dataIndexInside, NORMAL), getDefaultLabel(data, dataIndexInside)) : null;\n    var textConfig = labelStyleHelper.createTextConfig(labelModel, opt, false);\n    preFetchFromExtra(userProps, itemStyle);\n    itemStyle = convertToEC4StyleForCustomSerise(itemStyle, textStyle, textConfig);\n    userProps && applyUserPropsAfter(itemStyle, userProps);\n    itemStyle.legacy = true;\n    return itemStyle;\n  }\n  /**\n   * @deprecated The reason see `api.style()`\n   * @public\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n\n\n  function styleEmphasis(userProps, dataIndexInside) {\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecated('api.styleEmphasis', 'Please write literal style directly instead.');\n    }\n\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    var itemStyle = getItemStyleModel(dataIndexInside, EMPHASIS).getItemStyle();\n    var labelModel = getLabelModel(dataIndexInside, EMPHASIS);\n    var textStyle = labelStyleHelper.createTextStyle(labelModel, null, null, true, true);\n    textStyle.text = labelModel.getShallow('show') ? retrieve3(customSeries.getFormattedLabel(dataIndexInside, EMPHASIS), customSeries.getFormattedLabel(dataIndexInside, NORMAL), getDefaultLabel(data, dataIndexInside)) : null;\n    var textConfig = labelStyleHelper.createTextConfig(labelModel, null, true);\n    preFetchFromExtra(userProps, itemStyle);\n    itemStyle = convertToEC4StyleForCustomSerise(itemStyle, textStyle, textConfig);\n    userProps && applyUserPropsAfter(itemStyle, userProps);\n    itemStyle.legacy = true;\n    return itemStyle;\n  }\n\n  function applyUserPropsAfter(itemStyle, extra) {\n    for (var key in extra) {\n      if (hasOwn(extra, key)) {\n        itemStyle[key] = extra[key];\n      }\n    }\n  }\n\n  function preFetchFromExtra(extra, itemStyle) {\n    // A trick to retrieve those props firstly, which are used to\n    // apply auto inside fill/stroke in `convertToEC4StyleForCustomSerise`.\n    // (It's not reasonable but only for a degree of compat)\n    if (extra) {\n      extra.textFill && (itemStyle.textFill = extra.textFill);\n      extra.textPosition && (itemStyle.textPosition = extra.textPosition);\n    }\n  }\n  /**\n   * @public\n   * @param dataIndexInside by default `currDataIndexInside`.\n   */\n\n\n  function visual(visualType, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n\n    if (hasOwn(STYLE_VISUAL_TYPE, visualType)) {\n      var style_1 = data.getItemVisual(dataIndexInside, 'style');\n      return style_1 ? style_1[STYLE_VISUAL_TYPE[visualType]] : null;\n    } // Only support these visuals. Other visual might be inner tricky\n    // for performance (like `style`), do not expose to users.\n\n\n    if (hasOwn(NON_STYLE_VISUAL_PROPS, visualType)) {\n      return data.getItemVisual(dataIndexInside, visualType);\n    }\n  }\n  /**\n   * @public\n   * @return If not support, return undefined.\n   */\n\n\n  function barLayout(opt) {\n    if (coordSys.type === 'cartesian2d') {\n      var baseAxis = coordSys.getBaseAxis();\n      return getLayoutOnAxis(defaults({\n        axis: baseAxis\n      }, opt));\n    }\n  }\n  /**\n   * @public\n   */\n\n\n  function currentSeriesIndices() {\n    return ecModel.getCurrentSeriesIndices();\n  }\n  /**\n   * @public\n   * @return font string\n   */\n\n\n  function font(opt) {\n    return labelStyleHelper.getFont(opt, ecModel);\n  }\n}\n\nfunction wrapEncodeDef(data) {\n  var encodeDef = {};\n  each(data.dimensions, function (dimName) {\n    var dimInfo = data.getDimensionInfo(dimName);\n\n    if (!dimInfo.isExtraCoord) {\n      var coordDim = dimInfo.coordDim;\n      var dataDims = encodeDef[coordDim] = encodeDef[coordDim] || [];\n      dataDims[dimInfo.coordDimIndex] = data.getDimensionIndex(dimName);\n    }\n  });\n  return encodeDef;\n}\n\nfunction createOrUpdateItem(api, existsEl, dataIndex, elOption, seriesModel, group, data) {\n  // [Rule]\n  // If `renderItem` returns `null`/`undefined`/`false`, remove the previous el if existing.\n  //     (It seems that violate the \"merge\" principle, but most of users probably intuitively\n  //     regard \"return;\" as \"show nothing element whatever\", so make a exception to meet the\n  //     most cases.)\n  // The rule or \"merge\" see [STRATEGY_MERGE].\n  // If `elOption` is `null`/`undefined`/`false` (when `renderItem` returns nothing).\n  if (!elOption) {\n    group.remove(existsEl);\n    return;\n  }\n\n  var el = doCreateOrUpdateEl(api, existsEl, dataIndex, elOption, seriesModel, group);\n  el && data.setItemGraphicEl(dataIndex, el);\n  el && toggleHoverEmphasis(el, elOption.focus, elOption.blurScope, elOption.emphasisDisabled);\n  return el;\n}\n\nfunction doCreateOrUpdateEl(api, existsEl, dataIndex, elOption, seriesModel, group) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(elOption, 'should not have an null/undefined element setting');\n  }\n\n  var toBeReplacedIdx = -1;\n  var oldEl = existsEl;\n\n  if (existsEl && doesElNeedRecreate(existsEl, elOption, seriesModel) // || (\n  //     // PENDING: even in one-to-one mapping case, if el is marked as morph,\n  //     // do not sure whether the el will be mapped to another el with different\n  //     // hierarchy in Group tree. So always recreate el rather than reuse the el.\n  //     morphHelper && morphHelper.isOneToOneFrom(el)\n  // )\n  ) {\n    // Should keep at the original index, otherwise \"merge by index\" will be incorrect.\n    toBeReplacedIdx = indexOf(group.childrenRef(), existsEl);\n    existsEl = null;\n  }\n\n  var isInit = !existsEl;\n  var el = existsEl;\n\n  if (!el) {\n    el = createEl(elOption);\n\n    if (oldEl) {\n      copyElement(oldEl, el);\n    }\n  } else {\n    // FIMXE:NEXT unified clearState?\n    // If in some case the performance issue arised, consider\n    // do not clearState but update cached normal state directly.\n    el.clearStates();\n  } // Need to set morph: false explictly to disable automatically morphing.\n\n\n  if (elOption.morph === false) {\n    el.disableMorphing = true;\n  } else if (el.disableMorphing) {\n    el.disableMorphing = false;\n  }\n\n  attachedTxInfoTmp.normal.cfg = attachedTxInfoTmp.normal.conOpt = attachedTxInfoTmp.emphasis.cfg = attachedTxInfoTmp.emphasis.conOpt = attachedTxInfoTmp.blur.cfg = attachedTxInfoTmp.blur.conOpt = attachedTxInfoTmp.select.cfg = attachedTxInfoTmp.select.conOpt = null;\n  attachedTxInfoTmp.isLegacy = false;\n  doCreateOrUpdateAttachedTx(el, dataIndex, elOption, seriesModel, isInit, attachedTxInfoTmp);\n  doCreateOrUpdateClipPath(el, dataIndex, elOption, seriesModel, isInit);\n  updateElNormal(api, el, dataIndex, elOption, attachedTxInfoTmp, seriesModel, isInit); // `elOption.info` enables user to mount some info on\n  // elements and use them in event handlers.\n  // Update them only when user specified, otherwise, remain.\n\n  hasOwn(elOption, 'info') && (customInnerStore(el).info = elOption.info);\n\n  for (var i = 0; i < STATES.length; i++) {\n    var stateName = STATES[i];\n\n    if (stateName !== NORMAL) {\n      var otherStateOpt = retrieveStateOption(elOption, stateName);\n      var otherStyleOpt = retrieveStyleOptionOnState(elOption, otherStateOpt, stateName);\n      updateElOnState(stateName, el, otherStateOpt, otherStyleOpt, attachedTxInfoTmp);\n    }\n  }\n\n  updateZ(el, elOption, seriesModel);\n\n  if (elOption.type === 'group') {\n    mergeChildren(api, el, dataIndex, elOption, seriesModel);\n  }\n\n  if (toBeReplacedIdx >= 0) {\n    group.replaceAt(el, toBeReplacedIdx);\n  } else {\n    group.add(el);\n  }\n\n  return el;\n} // `el` must not be null/undefined.\n\n\nfunction doesElNeedRecreate(el, elOption, seriesModel) {\n  var elInner = customInnerStore(el);\n  var elOptionType = elOption.type;\n  var elOptionShape = elOption.shape;\n  var elOptionStyle = elOption.style;\n  return (// Always create new if universal transition is enabled.\n    // Because we do transition after render. It needs to know what old element is. Replacement will loose it.\n    seriesModel.isUniversalTransitionEnabled() // If `elOptionType` is `null`, follow the merge principle.\n    || elOptionType != null && elOptionType !== elInner.customGraphicType || elOptionType === 'path' && hasOwnPathData(elOptionShape) && getPathData(elOptionShape) !== elInner.customPathData || elOptionType === 'image' && hasOwn(elOptionStyle, 'image') && elOptionStyle.image !== elInner.customImagePath // // FIXME test and remove this restriction?\n    // || (elOptionType === 'text'\n    //     && hasOwn(elOptionStyle, 'text')\n    //     && (elOptionStyle as TextStyleProps).text !== elInner.customText\n    // )\n\n  );\n}\n\nfunction doCreateOrUpdateClipPath(el, dataIndex, elOption, seriesModel, isInit) {\n  // Based on the \"merge\" principle, if no clipPath provided,\n  // do nothing. The exists clip will be totally removed only if\n  // `el.clipPath` is `false`. Otherwise it will be merged/replaced.\n  var clipPathOpt = elOption.clipPath;\n\n  if (clipPathOpt === false) {\n    if (el && el.getClipPath()) {\n      el.removeClipPath();\n    }\n  } else if (clipPathOpt) {\n    var clipPath = el.getClipPath();\n\n    if (clipPath && doesElNeedRecreate(clipPath, clipPathOpt, seriesModel)) {\n      clipPath = null;\n    }\n\n    if (!clipPath) {\n      clipPath = createEl(clipPathOpt);\n\n      if (process.env.NODE_ENV !== 'production') {\n        assert(isPath(clipPath), 'Only any type of `path` can be used in `clipPath`, rather than ' + clipPath.type + '.');\n      }\n\n      el.setClipPath(clipPath);\n    }\n\n    updateElNormal(null, clipPath, dataIndex, clipPathOpt, null, seriesModel, isInit);\n  } // If not define `clipPath` in option, do nothing unnecessary.\n\n}\n\nfunction doCreateOrUpdateAttachedTx(el, dataIndex, elOption, seriesModel, isInit, attachedTxInfo) {\n  // Group does not support textContent temporarily until necessary.\n  if (el.isGroup) {\n    return;\n  } // Normal must be called before emphasis, for `isLegacy` detection.\n\n\n  processTxInfo(elOption, null, attachedTxInfo);\n  processTxInfo(elOption, EMPHASIS, attachedTxInfo); // If `elOption.textConfig` or `elOption.textContent` is null/undefined, it does not make sense.\n  // So for simplicity, if \"elOption hasOwnProperty of them but be null/undefined\", we do not\n  // trade them as set to null to el.\n  // Especially:\n  // `elOption.textContent: false` means remove textContent.\n  // `elOption.textContent.emphasis.style: false` means remove the style from emphasis state.\n\n  var txConOptNormal = attachedTxInfo.normal.conOpt;\n  var txConOptEmphasis = attachedTxInfo.emphasis.conOpt;\n  var txConOptBlur = attachedTxInfo.blur.conOpt;\n  var txConOptSelect = attachedTxInfo.select.conOpt;\n\n  if (txConOptNormal != null || txConOptEmphasis != null || txConOptSelect != null || txConOptBlur != null) {\n    var textContent = el.getTextContent();\n\n    if (txConOptNormal === false) {\n      textContent && el.removeTextContent();\n    } else {\n      txConOptNormal = attachedTxInfo.normal.conOpt = txConOptNormal || {\n        type: 'text'\n      };\n\n      if (!textContent) {\n        textContent = createEl(txConOptNormal);\n        el.setTextContent(textContent);\n      } else {\n        // If in some case the performance issue arised, consider\n        // do not clearState but update cached normal state directly.\n        textContent.clearStates();\n      }\n\n      updateElNormal(null, textContent, dataIndex, txConOptNormal, null, seriesModel, isInit);\n      var txConStlOptNormal = txConOptNormal && txConOptNormal.style;\n\n      for (var i = 0; i < STATES.length; i++) {\n        var stateName = STATES[i];\n\n        if (stateName !== NORMAL) {\n          var txConOptOtherState = attachedTxInfo[stateName].conOpt;\n          updateElOnState(stateName, textContent, txConOptOtherState, retrieveStyleOptionOnState(txConOptNormal, txConOptOtherState, stateName), null);\n        }\n      }\n\n      txConStlOptNormal ? textContent.dirty() : textContent.markRedraw();\n    }\n  }\n}\n\nfunction processTxInfo(elOption, state, attachedTxInfo) {\n  var stateOpt = !state ? elOption : retrieveStateOption(elOption, state);\n  var styleOpt = !state ? elOption.style : retrieveStyleOptionOnState(elOption, stateOpt, EMPHASIS);\n  var elType = elOption.type;\n  var txCfg = stateOpt ? stateOpt.textConfig : null;\n  var txConOptNormal = elOption.textContent;\n  var txConOpt = !txConOptNormal ? null : !state ? txConOptNormal : retrieveStateOption(txConOptNormal, state);\n\n  if (styleOpt && ( // Because emphasis style has little info to detect legacy,\n  // if normal is legacy, emphasis is trade as legacy.\n  attachedTxInfo.isLegacy || isEC4CompatibleStyle(styleOpt, elType, !!txCfg, !!txConOpt))) {\n    attachedTxInfo.isLegacy = true;\n    var convertResult = convertFromEC4CompatibleStyle(styleOpt, elType, !state); // Explicitly specified `textConfig` and `textContent` has higher priority than\n    // the ones generated by legacy style. Otherwise if users use them and `api.style`\n    // at the same time, they not both work and hardly to known why.\n\n    if (!txCfg && convertResult.textConfig) {\n      txCfg = convertResult.textConfig;\n    }\n\n    if (!txConOpt && convertResult.textContent) {\n      txConOpt = convertResult.textContent;\n    }\n  }\n\n  if (!state && txConOpt) {\n    var txConOptNormal_1 = txConOpt; // `textContent: {type: 'text'}`, the \"type\" is easy to be missing. So we tolerate it.\n\n    !txConOptNormal_1.type && (txConOptNormal_1.type = 'text');\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Do not tolerate incorrcet type for forward compat.\n      assert(txConOptNormal_1.type === 'text', 'textContent.type must be \"text\"');\n    }\n  }\n\n  var info = !state ? attachedTxInfo.normal : attachedTxInfo[state];\n  info.cfg = txCfg;\n  info.conOpt = txConOpt;\n}\n\nfunction retrieveStateOption(elOption, state) {\n  return !state ? elOption : elOption ? elOption[state] : null;\n}\n\nfunction retrieveStyleOptionOnState(stateOptionNormal, stateOption, state) {\n  var style = stateOption && stateOption.style;\n\n  if (style == null && state === EMPHASIS && stateOptionNormal) {\n    style = stateOptionNormal.styleEmphasis;\n  }\n\n  return style;\n} // Usage:\n// (1) By default, `elOption.$mergeChildren` is `'byIndex'`, which indicates\n//     that the existing children will not be removed, and enables the feature\n//     that update some of the props of some of the children simply by construct\n//     the returned children of `renderItem` like:\n//     `var children = group.children = []; children[3] = {opacity: 0.5};`\n// (2) If `elOption.$mergeChildren` is `'byName'`, add/update/remove children\n//     by child.name. But that might be lower performance.\n// (3) If `elOption.$mergeChildren` is `false`, the existing children will be\n//     replaced totally.\n// (4) If `!elOption.children`, following the \"merge\" principle, nothing will\n//     happen.\n// (5) If `elOption.$mergeChildren` is not `false` neither `'byName'` and the\n//     `el` is a group, and if any of the new child is null, it means to remove\n//     the element at the same index, if exists. On the other hand, if the new\n//     child is and empty object `{}`, it means to keep the element not changed.\n//\n// For implementation simpleness, do not provide a direct way to remove single\n// child (otherwise the total indices of the children array have to be modified).\n// User can remove a single child by setting its `ignore` to `true`.\n\n\nfunction mergeChildren(api, el, dataIndex, elOption, seriesModel) {\n  var newChildren = elOption.children;\n  var newLen = newChildren ? newChildren.length : 0;\n  var mergeChildren = elOption.$mergeChildren; // `diffChildrenByName` has been deprecated.\n\n  var byName = mergeChildren === 'byName' || elOption.diffChildrenByName;\n  var notMerge = mergeChildren === false; // For better performance on roam update, only enter if necessary.\n\n  if (!newLen && !byName && !notMerge) {\n    return;\n  }\n\n  if (byName) {\n    diffGroupChildren({\n      api: api,\n      oldChildren: el.children() || [],\n      newChildren: newChildren || [],\n      dataIndex: dataIndex,\n      seriesModel: seriesModel,\n      group: el\n    });\n    return;\n  }\n\n  notMerge && el.removeAll(); // Mapping children of a group simply by index, which\n  // might be better performance.\n\n  var index = 0;\n\n  for (; index < newLen; index++) {\n    var newChild = newChildren[index];\n    var oldChild = el.childAt(index);\n\n    if (newChild) {\n      if (newChild.ignore == null) {\n        // The old child is set to be ignored if null (see comments\n        // below). So we need to set ignore to be false back.\n        newChild.ignore = false;\n      }\n\n      doCreateOrUpdateEl(api, oldChild, dataIndex, newChild, seriesModel, el);\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(oldChild, 'renderItem should not return a group containing elements' + ' as null/undefined/{} if they do not exist before.');\n      } // If the new element option is null, it means to remove the old\n      // element. But we cannot really remove the element from the group\n      // directly, because the element order may not be stable when this\n      // element is added back. So we set the element to be ignored.\n\n\n      oldChild.ignore = true;\n    }\n  }\n\n  for (var i = el.childCount() - 1; i >= index; i--) {\n    var child = el.childAt(i);\n    removeChildFromGroup(el, child, seriesModel);\n  }\n}\n\nfunction removeChildFromGroup(group, child, seriesModel) {\n  // Do not support leave elements that are not mentioned in the latest\n  // `renderItem` return. Otherwise users may not have a clear and simple\n  // concept that how to control all of the elements.\n  child && applyLeaveTransition(child, customInnerStore(group).option, seriesModel);\n}\n\nfunction diffGroupChildren(context) {\n  new DataDiffer(context.oldChildren, context.newChildren, getKey, getKey, context).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute();\n}\n\nfunction getKey(item, idx) {\n  var name = item && item.name;\n  return name != null ? name : GROUP_DIFF_PREFIX + idx;\n}\n\nfunction processAddUpdate(newIndex, oldIndex) {\n  var context = this.context;\n  var childOption = newIndex != null ? context.newChildren[newIndex] : null;\n  var child = oldIndex != null ? context.oldChildren[oldIndex] : null;\n  doCreateOrUpdateEl(context.api, child, context.dataIndex, childOption, context.seriesModel, context.group);\n}\n\nfunction processRemove(oldIndex) {\n  var context = this.context;\n  var child = context.oldChildren[oldIndex];\n  child && applyLeaveTransition(child, customInnerStore(child).option, context.seriesModel);\n}\n/**\n * @return SVG Path data.\n */\n\n\nfunction getPathData(shape) {\n  // \"d\" follows the SVG convention.\n  return shape && (shape.pathData || shape.d);\n}\n\nfunction hasOwnPathData(shape) {\n  return shape && (hasOwn(shape, 'pathData') || hasOwn(shape, 'd'));\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CustomSeriesModel from './CustomSeries.js';\nimport CustomChartView from './CustomView.js';\nexport function install(registers) {\n  registers.registerChartView(CustomChartView);\n  registers.registerSeriesModel(CustomSeriesModel);\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport EffectSymbol from '../helper/EffectSymbol.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport pointsLayout from '../../layout/points.js';\nimport ChartView from '../../view/Chart.js';\nvar EffectScatterView = /** @class */\nfunction (_super) {\n  __extends(EffectScatterView, _super);\n  function EffectScatterView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = EffectScatterView.type;\n    return _this;\n  }\n  EffectScatterView.prototype.init = function () {\n    this._symbolDraw = new SymbolDraw(EffectSymbol);\n  };\n  EffectScatterView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var effectSymbolDraw = this._symbolDraw;\n    effectSymbolDraw.updateData(data, {\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this.group.add(effectSymbolDraw.group);\n  };\n  EffectScatterView.prototype._getClipShape = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  };\n  EffectScatterView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    this.group.dirty();\n    var res = pointsLayout('').reset(seriesModel, ecModel, api);\n    if (res.progress) {\n      res.progress({\n        start: 0,\n        end: data.count(),\n        count: data.count()\n      }, data);\n    }\n    this._symbolDraw.updateLayout();\n  };\n  EffectScatterView.prototype._updateGroupTransform = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys && coordSys.getRoamTransform) {\n      this.group.transform = matrix.clone(coordSys.getRoamTransform());\n      this.group.decomposeTransform();\n    }\n  };\n  EffectScatterView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n  };\n  EffectScatterView.type = 'effectScatter';\n  return EffectScatterView;\n}(ChartView);\nexport default EffectScatterView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesData from '../helper/createSeriesData.js';\nimport SeriesModel from '../../model/Series.js';\nvar EffectScatterSeriesModel = /** @class */\nfunction (_super) {\n  __extends(EffectScatterSeriesModel, _super);\n  function EffectScatterSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = EffectScatterSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n  EffectScatterSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: true\n    });\n  };\n  EffectScatterSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    return selectors.point(data.getItemLayout(dataIndex));\n  };\n  EffectScatterSeriesModel.type = 'series.effectScatter';\n  EffectScatterSeriesModel.dependencies = ['grid', 'polar'];\n  EffectScatterSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    // zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    effectType: 'ripple',\n    progressive: 0,\n    // When to show the effect, option: 'render'|'emphasis'\n    showEffectOn: 'render',\n    clip: true,\n    // Ripple effect config\n    rippleEffect: {\n      period: 4,\n      // Scale of ripple\n      scale: 2.5,\n      // Brush type can be fill or stroke\n      brushType: 'fill',\n      // Ripple number\n      number: 3\n    },\n    universalTransition: {\n      divideShape: 'clone'\n    },\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // symbol: null,        // 图形类型\n    symbolSize: 10 // 图形大小，半宽（半径）参数，当图形为方向或菱形则总宽度为symbolSize * 2\n    // symbolRotate: null,  // 图形旋转控制\n    // itemStyle: {\n    //     opacity: 1\n    // }\n  };\n\n  return EffectScatterSeriesModel;\n}(SeriesModel);\nexport default EffectScatterSeriesModel;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport EffectScatterView from './EffectScatterView.js';\nimport EffectScatterSeriesModel from './EffectScatterSeries.js';\nimport layoutPoints from '../../layout/points.js';\nexport function install(registers) {\n  registers.registerChartView(EffectScatterView);\n  registers.registerSeriesModel(EffectScatterSeriesModel);\n  registers.registerLayout(layoutPoints('effectScatter'));\n}","import \"core-js/modules/es.array.fill.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport ChartView from '../../view/Chart.js';\nimport { setLabelLineStyle, getLabelLineStatesModels } from '../../label/labelGuideHelper.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nvar opacityAccessPath = ['itemStyle', 'opacity'];\n/**\n * Piece of pie including Sector, Label, LabelLine\n */\n\nvar FunnelPiece = /** @class */\nfunction (_super) {\n  __extends(FunnelPiece, _super);\n  function FunnelPiece(data, idx) {\n    var _this = _super.call(this) || this;\n    var polygon = _this;\n    var labelLine = new graphic.Polyline();\n    var text = new graphic.Text();\n    polygon.setTextContent(text);\n    _this.setTextGuideLine(labelLine);\n    _this.updateData(data, idx, true);\n    return _this;\n  }\n  FunnelPiece.prototype.updateData = function (data, idx, firstCreate) {\n    var polygon = this;\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var emphasisModel = itemModel.getModel('emphasis');\n    var opacity = itemModel.get(opacityAccessPath);\n    opacity = opacity == null ? 1 : opacity;\n    if (!firstCreate) {\n      saveOldStyle(polygon);\n    } // Update common style\n\n    polygon.useStyle(data.getItemVisual(idx, 'style'));\n    polygon.style.lineJoin = 'round';\n    if (firstCreate) {\n      polygon.setShape({\n        points: layout.points\n      });\n      polygon.style.opacity = 0;\n      graphic.initProps(polygon, {\n        style: {\n          opacity: opacity\n        }\n      }, seriesModel, idx);\n    } else {\n      graphic.updateProps(polygon, {\n        style: {\n          opacity: opacity\n        },\n        shape: {\n          points: layout.points\n        }\n      }, seriesModel, idx);\n    }\n    setStatesStylesFromModel(polygon, itemModel);\n    this._updateLabel(data, idx);\n    toggleHoverEmphasis(this, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n  };\n  FunnelPiece.prototype._updateLabel = function (data, idx) {\n    var polygon = this;\n    var labelLine = this.getTextGuideLine();\n    var labelText = polygon.getTextContent();\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var layout = data.getItemLayout(idx);\n    var labelLayout = layout.label;\n    var style = data.getItemVisual(idx, 'style');\n    var visualColor = style.fill;\n    setLabelStyle(\n    // position will not be used in setLabelStyle\n    labelText, getLabelStatesModels(itemModel), {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      defaultOpacity: style.opacity,\n      defaultText: data.getName(idx)\n    }, {\n      normal: {\n        align: labelLayout.textAlign,\n        verticalAlign: labelLayout.verticalAlign\n      }\n    });\n    polygon.setTextConfig({\n      local: true,\n      inside: !!labelLayout.inside,\n      insideStroke: visualColor,\n      // insideFill: 'auto',\n      outsideFill: visualColor\n    });\n    var linePoints = labelLayout.linePoints;\n    labelLine.setShape({\n      points: linePoints\n    });\n    polygon.textGuideLineConfig = {\n      anchor: linePoints ? new graphic.Point(linePoints[0][0], linePoints[0][1]) : null\n    }; // Make sure update style on labelText after setLabelStyle.\n    // Because setLabelStyle will replace a new style on it.\n\n    graphic.updateProps(labelText, {\n      style: {\n        x: labelLayout.x,\n        y: labelLayout.y\n      }\n    }, seriesModel, idx);\n    labelText.attr({\n      rotation: labelLayout.rotation,\n      originX: labelLayout.x,\n      originY: labelLayout.y,\n      z2: 10\n    });\n    setLabelLineStyle(polygon, getLabelLineStatesModels(itemModel), {\n      // Default use item visual color\n      stroke: visualColor\n    });\n  };\n  return FunnelPiece;\n}(graphic.Polygon);\nvar FunnelView = /** @class */\nfunction (_super) {\n  __extends(FunnelView, _super);\n  function FunnelView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = FunnelView.type;\n    _this.ignoreLabelLineUpdate = true;\n    return _this;\n  }\n  FunnelView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    data.diff(oldData).add(function (idx) {\n      var funnelPiece = new FunnelPiece(data, idx);\n      data.setItemGraphicEl(idx, funnelPiece);\n      group.add(funnelPiece);\n    }).update(function (newIdx, oldIdx) {\n      var piece = oldData.getItemGraphicEl(oldIdx);\n      piece.updateData(data, newIdx);\n      group.add(piece);\n      data.setItemGraphicEl(newIdx, piece);\n    }).remove(function (idx) {\n      var piece = oldData.getItemGraphicEl(idx);\n      graphic.removeElementWithFadeOut(piece, seriesModel, idx);\n    }).execute();\n    this._data = data;\n  };\n  FunnelView.prototype.remove = function () {\n    this.group.removeAll();\n    this._data = null;\n  };\n  FunnelView.prototype.dispose = function () {};\n  FunnelView.type = 'funnel';\n  return FunnelView;\n}(ChartView);\nexport default FunnelView;","import \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.array.push.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport createSeriesDataSimply from '../helper/createSeriesDataSimply.js';\nimport { defaultEmphasis } from '../../util/model.js';\nimport { makeSeriesEncodeForNameBased } from '../../data/helper/sourceHelper.js';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider.js';\nimport SeriesModel from '../../model/Series.js';\nvar FunnelSeriesModel = /** @class */\nfunction (_super) {\n  __extends(FunnelSeriesModel, _super);\n  function FunnelSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = FunnelSeriesModel.type;\n    return _this;\n  }\n  FunnelSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this)); // Extend labelLine emphasis\n\n    this._defaultLabelLine(option);\n  };\n  FunnelSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesDataSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  };\n  FunnelSeriesModel.prototype._defaultLabelLine = function (option) {\n    // Extend labelLine emphasis\n    defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  }; // Overwrite\n\n  FunnelSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var data = this.getData();\n    var params = _super.prototype.getDataParams.call(this, dataIndex);\n    var valueDim = data.mapDimension('value');\n    var sum = data.getSum(valueDim); // Percent is 0 if sum is 0\n\n    params.percent = !sum ? 0 : +(data.get(valueDim, dataIndex) / sum * 100).toFixed(2);\n    params.$vars.push('percent');\n    return params;\n  };\n  FunnelSeriesModel.type = 'series.funnel';\n  FunnelSeriesModel.defaultOption = {\n    // zlevel: 0,                  // 一级层叠\n    z: 2,\n    legendHoverLink: true,\n    colorBy: 'data',\n    left: 80,\n    top: 60,\n    right: 80,\n    bottom: 60,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    // 默认取数据最小最大值\n    // min: 0,\n    // max: 100,\n    minSize: '0%',\n    maxSize: '100%',\n    sort: 'descending',\n    orient: 'vertical',\n    gap: 0,\n    funnelAlign: 'center',\n    label: {\n      show: true,\n      position: 'outer' // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n    },\n\n    labelLine: {\n      show: true,\n      length: 20,\n      lineStyle: {\n        // color: 各异,\n        width: 1\n      }\n    },\n    itemStyle: {\n      // color: 各异,\n      borderColor: '#fff',\n      borderWidth: 1\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    },\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    }\n  };\n  return FunnelSeriesModel;\n}(SeriesModel);\nexport default FunnelSeriesModel;","import \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.slice.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as layout from '../../util/layout.js';\nimport { parsePercent, linearMap } from '../../util/number.js';\nimport { isFunction } from 'zrender/lib/core/util.js';\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\nfunction getSortedIndices(data, sort) {\n  var valueDim = data.mapDimension('value');\n  var valueArr = data.mapArray(valueDim, function (val) {\n    return val;\n  });\n  var indices = [];\n  var isAscending = sort === 'ascending';\n  for (var i = 0, len = data.count(); i < len; i++) {\n    indices[i] = i;\n  } // Add custom sortable function & none sortable opetion by \"options.sort\"\n\n  if (isFunction(sort)) {\n    indices.sort(sort);\n  } else if (sort !== 'none') {\n    indices.sort(function (a, b) {\n      return isAscending ? valueArr[a] - valueArr[b] : valueArr[b] - valueArr[a];\n    });\n  }\n  return indices;\n}\nfunction labelLayout(data) {\n  var seriesModel = data.hostModel;\n  var orient = seriesModel.get('orient');\n  data.each(function (idx) {\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label');\n    var labelPosition = labelModel.get('position');\n    var labelLineModel = itemModel.getModel('labelLine');\n    var layout = data.getItemLayout(idx);\n    var points = layout.points;\n    var isLabelInside = labelPosition === 'inner' || labelPosition === 'inside' || labelPosition === 'center' || labelPosition === 'insideLeft' || labelPosition === 'insideRight';\n    var textAlign;\n    var textX;\n    var textY;\n    var linePoints;\n    if (isLabelInside) {\n      if (labelPosition === 'insideLeft') {\n        textX = (points[0][0] + points[3][0]) / 2 + 5;\n        textY = (points[0][1] + points[3][1]) / 2;\n        textAlign = 'left';\n      } else if (labelPosition === 'insideRight') {\n        textX = (points[1][0] + points[2][0]) / 2 - 5;\n        textY = (points[1][1] + points[2][1]) / 2;\n        textAlign = 'right';\n      } else {\n        textX = (points[0][0] + points[1][0] + points[2][0] + points[3][0]) / 4;\n        textY = (points[0][1] + points[1][1] + points[2][1] + points[3][1]) / 4;\n        textAlign = 'center';\n      }\n      linePoints = [[textX, textY], [textX, textY]];\n    } else {\n      var x1 = void 0;\n      var y1 = void 0;\n      var x2 = void 0;\n      var y2 = void 0;\n      var labelLineLen = labelLineModel.get('length');\n      if (process.env.NODE_ENV !== 'production') {\n        if (orient === 'vertical' && ['top', 'bottom'].indexOf(labelPosition) > -1) {\n          labelPosition = 'left';\n          console.warn('Position error: Funnel chart on vertical orient dose not support top and bottom.');\n        }\n        if (orient === 'horizontal' && ['left', 'right'].indexOf(labelPosition) > -1) {\n          labelPosition = 'bottom';\n          console.warn('Position error: Funnel chart on horizontal orient dose not support left and right.');\n        }\n      }\n      if (labelPosition === 'left') {\n        // Left side\n        x1 = (points[3][0] + points[0][0]) / 2;\n        y1 = (points[3][1] + points[0][1]) / 2;\n        x2 = x1 - labelLineLen;\n        textX = x2 - 5;\n        textAlign = 'right';\n      } else if (labelPosition === 'right') {\n        // Right side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'left';\n      } else if (labelPosition === 'top') {\n        // Top side\n        x1 = (points[3][0] + points[0][0]) / 2;\n        y1 = (points[3][1] + points[0][1]) / 2;\n        y2 = y1 - labelLineLen;\n        textY = y2 - 5;\n        textAlign = 'center';\n      } else if (labelPosition === 'bottom') {\n        // Bottom side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        y2 = y1 + labelLineLen;\n        textY = y2 + 5;\n        textAlign = 'center';\n      } else if (labelPosition === 'rightTop') {\n        // RightTop side\n        x1 = orient === 'horizontal' ? points[3][0] : points[1][0];\n        y1 = orient === 'horizontal' ? points[3][1] : points[1][1];\n        if (orient === 'horizontal') {\n          y2 = y1 - labelLineLen;\n          textY = y2 - 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'top';\n        }\n      } else if (labelPosition === 'rightBottom') {\n        // RightBottom side\n        x1 = points[2][0];\n        y1 = points[2][1];\n        if (orient === 'horizontal') {\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'bottom';\n        }\n      } else if (labelPosition === 'leftTop') {\n        // LeftTop side\n        x1 = points[0][0];\n        y1 = orient === 'horizontal' ? points[0][1] : points[1][1];\n        if (orient === 'horizontal') {\n          y2 = y1 - labelLineLen;\n          textY = y2 - 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 - labelLineLen;\n          textX = x2 - 5;\n          textAlign = 'right';\n        }\n      } else if (labelPosition === 'leftBottom') {\n        // LeftBottom side\n        x1 = orient === 'horizontal' ? points[1][0] : points[3][0];\n        y1 = orient === 'horizontal' ? points[1][1] : points[2][1];\n        if (orient === 'horizontal') {\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 - labelLineLen;\n          textX = x2 - 5;\n          textAlign = 'right';\n        }\n      } else {\n        // Right side or Bottom side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        if (orient === 'horizontal') {\n          y2 = y1 + labelLineLen;\n          textY = y2 + 5;\n          textAlign = 'center';\n        } else {\n          x2 = x1 + labelLineLen;\n          textX = x2 + 5;\n          textAlign = 'left';\n        }\n      }\n      if (orient === 'horizontal') {\n        x2 = x1;\n        textX = x2;\n      } else {\n        y2 = y1;\n        textY = y2;\n      }\n      linePoints = [[x1, y1], [x2, y2]];\n    }\n    layout.label = {\n      linePoints: linePoints,\n      x: textX,\n      y: textY,\n      verticalAlign: 'middle',\n      textAlign: textAlign,\n      inside: isLabelInside\n    };\n  });\n}\nexport default function funnelLayout(ecModel, api) {\n  ecModel.eachSeriesByType('funnel', function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var sort = seriesModel.get('sort');\n    var viewRect = getViewRect(seriesModel, api);\n    var orient = seriesModel.get('orient');\n    var viewWidth = viewRect.width;\n    var viewHeight = viewRect.height;\n    var indices = getSortedIndices(data, sort);\n    var x = viewRect.x;\n    var y = viewRect.y;\n    var sizeExtent = orient === 'horizontal' ? [parsePercent(seriesModel.get('minSize'), viewHeight), parsePercent(seriesModel.get('maxSize'), viewHeight)] : [parsePercent(seriesModel.get('minSize'), viewWidth), parsePercent(seriesModel.get('maxSize'), viewWidth)];\n    var dataExtent = data.getDataExtent(valueDim);\n    var min = seriesModel.get('min');\n    var max = seriesModel.get('max');\n    if (min == null) {\n      min = Math.min(dataExtent[0], 0);\n    }\n    if (max == null) {\n      max = dataExtent[1];\n    }\n    var funnelAlign = seriesModel.get('funnelAlign');\n    var gap = seriesModel.get('gap');\n    var viewSize = orient === 'horizontal' ? viewWidth : viewHeight;\n    var itemSize = (viewSize - gap * (data.count() - 1)) / data.count();\n    var getLinePoints = function getLinePoints(idx, offset) {\n      // End point index is data.count() and we assign it 0\n      if (orient === 'horizontal') {\n        var val_1 = data.get(valueDim, idx) || 0;\n        var itemHeight = linearMap(val_1, [min, max], sizeExtent, true);\n        var y0 = void 0;\n        switch (funnelAlign) {\n          case 'top':\n            y0 = y;\n            break;\n          case 'center':\n            y0 = y + (viewHeight - itemHeight) / 2;\n            break;\n          case 'bottom':\n            y0 = y + (viewHeight - itemHeight);\n            break;\n        }\n        return [[offset, y0], [offset, y0 + itemHeight]];\n      }\n      var val = data.get(valueDim, idx) || 0;\n      var itemWidth = linearMap(val, [min, max], sizeExtent, true);\n      var x0;\n      switch (funnelAlign) {\n        case 'left':\n          x0 = x;\n          break;\n        case 'center':\n          x0 = x + (viewWidth - itemWidth) / 2;\n          break;\n        case 'right':\n          x0 = x + viewWidth - itemWidth;\n          break;\n      }\n      return [[x0, offset], [x0 + itemWidth, offset]];\n    };\n    if (sort === 'ascending') {\n      // From bottom to top\n      itemSize = -itemSize;\n      gap = -gap;\n      if (orient === 'horizontal') {\n        x += viewWidth;\n      } else {\n        y += viewHeight;\n      }\n      indices = indices.reverse();\n    }\n    for (var i = 0; i < indices.length; i++) {\n      var idx = indices[i];\n      var nextIdx = indices[i + 1];\n      var itemModel = data.getItemModel(idx);\n      if (orient === 'horizontal') {\n        var width = itemModel.get(['itemStyle', 'width']);\n        if (width == null) {\n          width = itemSize;\n        } else {\n          width = parsePercent(width, viewWidth);\n          if (sort === 'ascending') {\n            width = -width;\n          }\n        }\n        var start = getLinePoints(idx, x);\n        var end = getLinePoints(nextIdx, x + width);\n        x += width + gap;\n        data.setItemLayout(idx, {\n          points: start.concat(end.slice().reverse())\n        });\n      } else {\n        var height = itemModel.get(['itemStyle', 'height']);\n        if (height == null) {\n          height = itemSize;\n        } else {\n          height = parsePercent(height, viewHeight);\n          if (sort === 'ascending') {\n            height = -height;\n          }\n        }\n        var start = getLinePoints(idx, y);\n        var end = getLinePoints(nextIdx, y + height);\n        y += height + gap;\n        data.setItemLayout(idx, {\n          points: start.concat(end.slice().reverse())\n        });\n      }\n    }\n    labelLayout(data);\n  });\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport FunnelView from './FunnelView.js';\nimport FunnelSeriesModel from './FunnelSeries.js';\nimport funnelLayout from './funnelLayout.js';\nimport dataFilter from '../../processor/dataFilter.js';\nexport function install(registers) {\n  registers.registerChartView(FunnelView);\n  registers.registerSeriesModel(FunnelSeriesModel);\n  registers.registerLayout(funnelLayout);\n  registers.registerProcessor(dataFilter('funnel'));\n}"],"names":["BoxplotSeriesModel","_super","_this","apply","this","arguments","type","defaultValueDimensions","name","defaultTooltip","visualDrawType","dependencies","defaultOption","z","coordinateSystem","legendHoverLink","layout","boxWidth","itemStyle","color","borderWidth","emphasis","scale","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","animationDuration","Series","mixin","BoxplotView","prototype","render","seriesModel","ecModel","api","data","getData","group","oldData","_data","removeAll","constDim","get","diff","add","newIdx","hasValue","itemLayout","getItemLayout","symbolEl","createNormalBox","setItemGraphicEl","update","oldIdx","getItemGraphicEl","updateNormalBoxData","remove","el","execute","eachItemGraphicEl","Chart","BoxPathShape","BoxPath","opts","call","getDefaultShape","buildPath","ctx","shape","ends","points","i","moveTo","lineTo","closePath","length","Path","dataIndex","isInit","transInit","hostModel","updateMethod","graphic","useStyle","getItemVisual","style","strokeNoScale","z2","itemModel","getItemModel","emphasisModel","getModel","dim","point","slice","initBaseline","each","boxplotLayout","groupResult","groupSeriesByAxis","groupItem","seriesModels","calculateBase","idx","layoutSingleSeries","boxOffsetList","boxWidthList","result","axisList","eachSeriesByType","baseAxis","getBaseAxis","axis","push","bandWidth","seriesCount","boundList","getBandWidth","maxDataCount_1","Math","max","count","extent","getExtent","abs","boxWidthBound","availableWidth","boxGap","base","min","offset","coordSys","halfWidth","cDimIdx","vDimIdx","coordDims","cDim","mapDimension","vDims","mapDimensionsAll","axisDimVal","median","getPoint","end1","end2","end4","end5","addBodyEnd","layEndLine","setItemLayout","val","p","isNaN","NaN","dataToPoint","start","point1","point2","endCenter","from","to","prepareBoxplotData","rawData","opt","boxData","outliers","boundIQR","useExtreme","ascList","asc","Q1","quantile","Q2","Q3","bound","low","high","itemNameFormatter","itemName","isFunction","value","isString","replace","j","dataItem","outlier","boxplotTransform","transform","params","upstream","sourceFormat","errMsg","getRawData","config","dimensions","install","registers","registerSeriesModel","BoxplotSeries","registerChartView","registerLayout","registerTransform","SKIP_PROPS","CandlestickView","removeClipPath","_progressiveEls","_updateDrawMode","_isLargeDraw","_renderLarge","_renderNormal","incrementalPrepareRender","_clear","incrementalRender","_incrementalRenderLarge","_incrementalRenderNormal","eachRendered","cb","traverseElements","isLargeDraw","pipelineContext","large","isSimpleBox","getLayout","needsClip","coord","clipArea","getArea","isNormalBoxClipped","setBoxCommon","createLarge","clipPath","setClipPath","next","incremental","NormalBoxPathShape","NormalBoxPath","__simpleBox","clipped","contain","LargeBoxPathShape","LargeBoxPath","__sign","x","progressiveEls","largePoints","elP","ignoreCoarsePointer","elN","elDoji","setLargeStyle","sign","borderColor","getItemStyle","fill","stroke","CandlestickSeriesModel","getShadowDim","brushSelector","selectors","rect","brushRect","clip","color0","borderColor0","borderColorDoji","barMaxWidth","barMinWidth","barWidth","largeThreshold","progressive","progressiveThreshold","progressiveChunkMode","animationEasing","candlestickPreprocessor","option","series","seriesItem","positiveBorderColorQuery","negativeBorderColorQuery","dojiBorderColorQuery","positiveColorQuery","negativeColorQuery","candlestickVisual","seriesType","plan","createRenderPlanner","performRawSeries","reset","getColor","model","getBorderColor","isSeriesFiltered","isLargeRender","progress","existsStyle","ensureUniqueItemVisual","extend","candlestickLayout","candleWidth","calculateCandleWidth","cDimI","getDimensionIndex","vDimsI","map","openDimI","closeDimI","lowestDimI","highestDimI","setLayout","largeProgress","normalProgress","store","getStore","openVal","closeVal","lowestVal","highestVal","ocLow","ocHigh","ocLowPoint","ocHighPoint","lowestPoint","highestPoint","subPixelOptimizePoint","hasDojiColor","getSign","makeBrushRect","subPixelOptimize","pmin","pmax","y","width","height","tmpIn","tmpOut","retrieve2","CandlestickSeries","registerPreprocessor","registerVisual","STYLE_VISUAL_TYPE","NON_STYLE_VISUAL_PROPS","symbol","symbolSize","symbolKeepAspect","legendIcon","visualMeta","liftZ","decal","customInnerStore","makeInner","CustomSeriesModel","__extends","optionUpdated","currentZLevel","currentZ","getInitialData","createSeriesData","getDataParams","dataType","info","SeriesModel","EMPHASIS","NORMAL","BLUR","SELECT","STATES","PATH_ITEM_STYLE","normal","blur","select","PATH_LABEL","DEFAULT_TRANSITION","GROUP_DIFF_PREFIX","attachedTxInfoTmp","prepareCustoms","cartesian2d","prepareCartesian2d","geo","prepareGeo","single","prepareSingleAxis","polar","preparePolar","calendar","prepareCalendar","isPath","graphicUtil","isDisplayable","Displayable","copyElement","sourceEl","targetEl","copyTransform","setStyle","zlevel","invisible","ignore","setShape","CustomChartView","customSeries","payload","renderItem","makeRenderItem","createOrUpdateItem","applyLeaveTransition","oldEl","createClipPath","setIncrementalAndHoverLayer","isGroup","ensureState","hoverLayer","end","traverse","filterForExposedEvent","eventType","query","packedEvent","elementName","element","__hostTarget","parent","ChartView","createEl","elOption","graphicType","pathRect","pathData","getPathData","customPathData","customImagePath","image","Error","Clz","process","throwError","customGraphicType","z2EmphasisLift","z2SelectLift","updateElNormal","attachedTxInfo","stopPreviousKeyframeAnimationAndRestore","txCfgOpt","cfg","setTextConfig","transition","styleOpt","textOptionStyle","hasOwn","textFill","textStroke","decalPattern","decalObj","dirty","createOrUpdatePatternFromDecal","__decalPattern","applyUpdateTransition","clearStyle","applyKeyframeAnimation","keyframeAnimation","updateElOnState","state","elStateOpt","elDisplayable","stateObj","existingEmphasisState","getState","textConfig","setDefaultStateProxy","updateZ","optZ2","updateZForEachState","isNormal","retrieveStateOption","prepareResult","currDataIndexInside","currItemModel","userAPI","defaults","getWidth","getHeight","getZr","getDevicePixelRatio","ordinalRawValue","styleEmphasis","visual","barLayout","currentSeriesIndices","font","userParams","context","seriesId","id","seriesName","seriesIndex","dataInsideLength","encode","wrapEncodeDef","currItemStyleModels","currLabelModels","seriesItemStyleModels","seriesLabelModels","stateName","dataIndexInside","getItemStyleModel","hasItemOption","getLabelModel","getRawIndex","actionType","dimInfo","getDimensionInfo","dimIndex","undefined","ordinalMeta","categories","userProps","visualColor","opacity","inheritColor","labelModel","textStyle","labelStyleHelper","text","getShallow","getFormattedLabel","getDefaultLabel","preFetchFromExtra","convertToEC4StyleForCustomSerise","applyUserPropsAfter","legacy","retrieve3","extra","key","textPosition","visualType","style_1","getLayoutOnAxis","getCurrentSeriesIndices","encodeDef","dimName","isExtraCoord","coordDim","dataDims","coordDimIndex","existsEl","doCreateOrUpdateEl","toggleHoverEmphasis","focus","blurScope","emphasisDisabled","toBeReplacedIdx","doesElNeedRecreate","indexOf","childrenRef","clearStates","morph","disableMorphing","conOpt","isLegacy","doCreateOrUpdateAttachedTx","doCreateOrUpdateClipPath","otherStateOpt","otherStyleOpt","retrieveStyleOptionOnState","mergeChildren","replaceAt","elInner","elOptionType","elOptionShape","elOptionStyle","isUniversalTransitionEnabled","hasOwnPathData","clipPathOpt","getClipPath","processTxInfo","txConOptNormal","txConOptEmphasis","txConOptBlur","txConOptSelect","textContent","getTextContent","removeTextContent","setTextContent","txConStlOptNormal","txConOptOtherState","markRedraw","stateOpt","elType","txCfg","txConOpt","isEC4CompatibleStyle","convertResult","convertFromEC4CompatibleStyle","txConOptNormal_1","stateOptionNormal","stateOption","newChildren","children","newLen","$mergeChildren","byName","diffChildrenByName","notMerge","diffGroupChildren","oldChildren","index","newChild","oldChild","childAt","childCount","child","removeChildFromGroup","DataDiffer","getKey","processAddUpdate","processRemove","item","newIndex","oldIndex","childOption","d","CustomSeries","EffectScatterView","init","_symbolDraw","SymbolDraw","EffectSymbol","effectSymbolDraw","updateData","clipShape","_getClipShape","updateTransform","res","updateLayout","_updateGroupTransform","getRoamTransform","matrix","clone","decomposeTransform","EffectScatterSeriesModel","hasSymbolVisual","useEncodeDefaulter","effectType","showEffectOn","rippleEffect","period","brushType","number","universalTransition","divideShape","EffectScatterSeries","opacityAccessPath","FunnelPiece","polygon","labelLine","setTextGuideLine","firstCreate","lineJoin","_updateLabel","getTextGuideLine","labelText","labelLayout","label","labelFetcher","labelDataIndex","defaultOpacity","defaultText","getName","align","textAlign","verticalAlign","local","inside","insideStroke","outsideFill","linePoints","textGuideLineConfig","anchor","attr","rotation","originX","originY","FunnelView","ignoreLabelLineUpdate","funnelPiece","piece","dispose","FunnelSeriesModel","legendVisualProvider","LegendVisualProvider","_defaultLabelLine","createSeriesDataSimply","coordDimensions","encodeDefaulter","labelLineNormalOpt","labelLineEmphasisOpt","show","valueDim","sum","getSum","percent","toFixed","$vars","colorBy","left","top","right","bottom","minSize","maxSize","sort","orient","gap","funnelAlign","position","lineStyle","getViewRect","getBoxLayoutParams","getSortedIndices","valueArr","mapArray","indices","isAscending","len","a","b","textX","textY","labelPosition","labelLineModel","isLabelInside","x1","y1","x2","y2","labelLineLen","funnelLayout","viewRect","viewWidth","viewHeight","sizeExtent","dataExtent","getDataExtent","viewSize","itemSize","getLinePoints","val_1","itemHeight","y0","x0","itemWidth","reverse","nextIdx","concat","FunnelSeries","registerProcessor","dataFilter"],"sourceRoot":""}