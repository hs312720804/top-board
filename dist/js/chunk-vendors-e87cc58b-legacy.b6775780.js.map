{"version":3,"file":"js/chunk-vendors-e87cc58b-legacy.b6775780.js","mappings":"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","sources":["webpack://databoard/./node_modules/echarts/lib/component/brush/preprocessor.js","webpack://databoard/./node_modules/echarts/lib/component/brush/selector.js","webpack://databoard/./node_modules/echarts/lib/component/brush/visualEncoding.js","webpack://databoard/./node_modules/echarts/lib/component/brush/BrushView.js","webpack://databoard/./node_modules/echarts/lib/component/brush/BrushModel.js","webpack://databoard/./node_modules/echarts/lib/component/brush/install.js","webpack://databoard/./node_modules/echarts/lib/component/calendar/CalendarView.js","webpack://databoard/./node_modules/echarts/lib/component/calendar/install.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/DataZoomModel.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/DataZoomView.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/helper.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/history.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/install.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/AxisProxy.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/dataZoomProcessor.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/dataZoomAction.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/installCommon.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/InsideZoomModel.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/roams.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/InsideZoomView.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/installDataZoomInside.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/SelectZoomModel.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/SelectZoomView.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/installDataZoomSelect.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/SliderZoomModel.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/SliderZoomView.js","webpack://databoard/./node_modules/echarts/lib/component/dataZoom/installDataZoomSlider.js","webpack://databoard/./node_modules/echarts/lib/component/dataset/install.js","webpack://databoard/./node_modules/echarts/lib/component/geo/GeoView.js","webpack://databoard/./node_modules/echarts/lib/component/geo/install.js"],"sourcesContent":["import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.push.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { normalizeToArray } from '../../util/model.js';\nvar DEFAULT_TOOLBOX_BTNS = ['rect', 'polygon', 'keep', 'clear'];\nexport default function brushPreprocessor(option, isNew) {\n  var brushComponents = normalizeToArray(option ? option.brush : []);\n  if (!brushComponents.length) {\n    return;\n  }\n  var brushComponentSpecifiedBtns = [];\n  zrUtil.each(brushComponents, function (brushOpt) {\n    var tbs = brushOpt.hasOwnProperty('toolbox') ? brushOpt.toolbox : [];\n    if (tbs instanceof Array) {\n      brushComponentSpecifiedBtns = brushComponentSpecifiedBtns.concat(tbs);\n    }\n  });\n  var toolbox = option && option.toolbox;\n  if (zrUtil.isArray(toolbox)) {\n    toolbox = toolbox[0];\n  }\n  if (!toolbox) {\n    toolbox = {\n      feature: {}\n    };\n    option.toolbox = [toolbox];\n  }\n  var toolboxFeature = toolbox.feature || (toolbox.feature = {});\n  var toolboxBrush = toolboxFeature.brush || (toolboxFeature.brush = {});\n  var brushTypes = toolboxBrush.type || (toolboxBrush.type = []);\n  brushTypes.push.apply(brushTypes, brushComponentSpecifiedBtns);\n  removeDuplicate(brushTypes);\n  if (isNew && !brushTypes.length) {\n    brushTypes.push.apply(brushTypes, DEFAULT_TOOLBOX_BTNS);\n  }\n}\nfunction removeDuplicate(arr) {\n  var map = {};\n  zrUtil.each(arr, function (val) {\n    map[val] = 1;\n  });\n  arr.length = 0;\n  zrUtil.each(map, function (flag, val) {\n    arr.push(val);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as polygonContain from 'zrender/lib/contain/polygon.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { linePolygonIntersect } from '../../util/graphic.js';\nexport function makeBrushCommonSelectorForSeries(area) {\n  var brushType = area.brushType; // Do not use function binding or curry for performance.\n\n  var selectors = {\n    point: function (itemLayout) {\n      return selector[brushType].point(itemLayout, selectors, area);\n    },\n    rect: function (itemLayout) {\n      return selector[brushType].rect(itemLayout, selectors, area);\n    }\n  };\n  return selectors;\n}\nvar selector = {\n  lineX: getLineSelectors(0),\n  lineY: getLineSelectors(1),\n  rect: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.intersect(itemLayout);\n    }\n  },\n  polygon: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]) && polygonContain.contain(area.range, itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      var points = area.range;\n\n      if (!itemLayout || points.length <= 1) {\n        return false;\n      }\n\n      var x = itemLayout.x;\n      var y = itemLayout.y;\n      var width = itemLayout.width;\n      var height = itemLayout.height;\n      var p = points[0];\n\n      if (polygonContain.contain(points, x, y) || polygonContain.contain(points, x + width, y) || polygonContain.contain(points, x, y + height) || polygonContain.contain(points, x + width, y + height) || BoundingRect.create(itemLayout).contain(p[0], p[1]) || linePolygonIntersect(x, y, x + width, y, points) || linePolygonIntersect(x, y, x, y + height, points) || linePolygonIntersect(x + width, y, x + width, y + height, points) || linePolygonIntersect(x, y + height, x + width, y + height, points)) {\n        return true;\n      }\n    }\n  }\n};\n\nfunction getLineSelectors(xyIndex) {\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  return {\n    point: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var p = itemLayout[xyIndex];\n        return inLineRange(p, range);\n      }\n    },\n    rect: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var layoutRange = [itemLayout[xy[xyIndex]], itemLayout[xy[xyIndex]] + itemLayout[wh[xyIndex]]];\n        layoutRange[1] < layoutRange[0] && layoutRange.reverse();\n        return inLineRange(layoutRange[0], range) || inLineRange(layoutRange[1], range) || inLineRange(range[0], layoutRange) || inLineRange(range[1], layoutRange);\n      }\n    }\n  };\n}\n\nfunction inLineRange(p, range) {\n  return range[0] <= p && p <= range[1];\n}\n\nexport default selector;","import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.push.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport { makeBrushCommonSelectorForSeries } from './selector.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport BrushTargetManager from '../helper/BrushTargetManager.js';\nvar STATE_LIST = ['inBrush', 'outOfBrush'];\nvar DISPATCH_METHOD = '__ecBrushSelect';\nvar DISPATCH_FLAG = '__ecInBrushSelectEvent';\n;\nexport function layoutCovers(ecModel) {\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    var brushTargetManager = brushModel.brushTargetManager = new BrushTargetManager(brushModel.option, ecModel);\n    brushTargetManager.setInputRanges(brushModel.areas, ecModel);\n  });\n}\n/**\n * Register the visual encoding if this modules required.\n */\n\nexport default function brushVisual(ecModel, api, payload) {\n  var brushSelected = [];\n  var throttleType;\n  var throttleDelay;\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    payload && payload.type === 'takeGlobalCursor' && brushModel.setBrushOption(payload.key === 'brush' ? payload.brushOption : {\n      brushType: false\n    });\n  });\n  layoutCovers(ecModel);\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel, brushIndex) {\n    var thisBrushSelected = {\n      brushId: brushModel.id,\n      brushIndex: brushIndex,\n      brushName: brushModel.name,\n      areas: zrUtil.clone(brushModel.areas),\n      selected: []\n    }; // Every brush component exists in event params, convenient\n    // for user to find by index.\n\n    brushSelected.push(thisBrushSelected);\n    var brushOption = brushModel.option;\n    var brushLink = brushOption.brushLink;\n    var linkedSeriesMap = [];\n    var selectedDataIndexForLink = [];\n    var rangeInfoBySeries = [];\n    var hasBrushExists = false;\n    if (!brushIndex) {\n      // Only the first throttle setting works.\n      throttleType = brushOption.throttleType;\n      throttleDelay = brushOption.throttleDelay;\n    } // Add boundingRect and selectors to range.\n\n    var areas = zrUtil.map(brushModel.areas, function (area) {\n      var builder = boundingRectBuilders[area.brushType];\n      var selectableArea = zrUtil.defaults({\n        boundingRect: builder ? builder(area) : void 0\n      }, area);\n      selectableArea.selectors = makeBrushCommonSelectorForSeries(selectableArea);\n      return selectableArea;\n    });\n    var visualMappings = visualSolution.createVisualMappings(brushModel.option, STATE_LIST, function (mappingOption) {\n      mappingOption.mappingMethod = 'fixed';\n    });\n    zrUtil.isArray(brushLink) && zrUtil.each(brushLink, function (seriesIndex) {\n      linkedSeriesMap[seriesIndex] = 1;\n    });\n    function linkOthers(seriesIndex) {\n      return brushLink === 'all' || !!linkedSeriesMap[seriesIndex];\n    } // If no supported brush or no brush on the series,\n    // all visuals should be in original state.\n\n    function brushed(rangeInfoList) {\n      return !!rangeInfoList.length;\n    }\n    /**\n     * Logic for each series: (If the logic has to be modified one day, do it carefully!)\n     *\n     * ( brushed ┬ && ┬hasBrushExist ┬ && linkOthers  ) => StepA: ┬record, ┬ StepB: ┬visualByRecord.\n     *   !brushed┘    ├hasBrushExist ┤                            └nothing,┘        ├visualByRecord.\n     *                └!hasBrushExist┘                                              └nothing.\n     * ( !brushed  && ┬hasBrushExist ┬ && linkOthers  ) => StepA:  nothing,  StepB: ┬visualByRecord.\n     *                └!hasBrushExist┘                                              └nothing.\n     * ( brushed ┬ &&                     !linkOthers ) => StepA:  nothing,  StepB: ┬visualByCheck.\n     *   !brushed┘                                                                  └nothing.\n     * ( !brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB:  nothing.\n     */\n    // Step A\n\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var rangeInfoList = rangeInfoBySeries[seriesIndex] = [];\n      seriesModel.subType === 'parallel' ? stepAParallel(seriesModel, seriesIndex) : stepAOthers(seriesModel, seriesIndex, rangeInfoList);\n    });\n    function stepAParallel(seriesModel, seriesIndex) {\n      var coordSys = seriesModel.coordinateSystem;\n      hasBrushExists = hasBrushExists || coordSys.hasAxisBrushed();\n      linkOthers(seriesIndex) && coordSys.eachActiveState(seriesModel.getData(), function (activeState, dataIndex) {\n        activeState === 'active' && (selectedDataIndexForLink[dataIndex] = 1);\n      });\n    }\n    function stepAOthers(seriesModel, seriesIndex, rangeInfoList) {\n      if (!seriesModel.brushSelector || brushModelNotControll(brushModel, seriesIndex)) {\n        return;\n      }\n      zrUtil.each(areas, function (area) {\n        if (brushModel.brushTargetManager.controlSeries(area, seriesModel, ecModel)) {\n          rangeInfoList.push(area);\n        }\n        hasBrushExists = hasBrushExists || brushed(rangeInfoList);\n      });\n      if (linkOthers(seriesIndex) && brushed(rangeInfoList)) {\n        var data_1 = seriesModel.getData();\n        data_1.each(function (dataIndex) {\n          if (checkInRange(seriesModel, rangeInfoList, data_1, dataIndex)) {\n            selectedDataIndexForLink[dataIndex] = 1;\n          }\n        });\n      }\n    } // Step B\n\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var seriesBrushSelected = {\n        seriesId: seriesModel.id,\n        seriesIndex: seriesIndex,\n        seriesName: seriesModel.name,\n        dataIndex: []\n      }; // Every series exists in event params, convenient\n      // for user to find series by seriesIndex.\n\n      thisBrushSelected.selected.push(seriesBrushSelected);\n      var rangeInfoList = rangeInfoBySeries[seriesIndex];\n      var data = seriesModel.getData();\n      var getValueState = linkOthers(seriesIndex) ? function (dataIndex) {\n        return selectedDataIndexForLink[dataIndex] ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      } : function (dataIndex) {\n        return checkInRange(seriesModel, rangeInfoList, data, dataIndex) ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      }; // If no supported brush or no brush, all visuals are in original state.\n\n      (linkOthers(seriesIndex) ? hasBrushExists : brushed(rangeInfoList)) && visualSolution.applyVisual(STATE_LIST, visualMappings, data, getValueState);\n    });\n  });\n  dispatchAction(api, throttleType, throttleDelay, brushSelected, payload);\n}\n;\nfunction dispatchAction(api, throttleType, throttleDelay, brushSelected, payload) {\n  // This event will not be triggered when `setOpion`, otherwise dead lock may\n  // triggered when do `setOption` in event listener, which we do not find\n  // satisfactory way to solve yet. Some considered resolutions:\n  // (a) Diff with prevoius selected data ant only trigger event when changed.\n  // But store previous data and diff precisely (i.e., not only by dataIndex, but\n  // also detect value changes in selected data) might bring complexity or fragility.\n  // (b) Use spectial param like `silent` to suppress event triggering.\n  // But such kind of volatile param may be weird in `setOption`.\n  if (!payload) {\n    return;\n  }\n  var zr = api.getZr();\n  if (zr[DISPATCH_FLAG]) {\n    return;\n  }\n  if (!zr[DISPATCH_METHOD]) {\n    zr[DISPATCH_METHOD] = doDispatch;\n  }\n  var fn = throttleUtil.createOrUpdate(zr, DISPATCH_METHOD, throttleDelay, throttleType);\n  fn(api, brushSelected);\n}\nfunction doDispatch(api, brushSelected) {\n  if (!api.isDisposed()) {\n    var zr = api.getZr();\n    zr[DISPATCH_FLAG] = true;\n    api.dispatchAction({\n      type: 'brushSelect',\n      batch: brushSelected\n    });\n    zr[DISPATCH_FLAG] = false;\n  }\n}\nfunction checkInRange(seriesModel, rangeInfoList, data, dataIndex) {\n  for (var i = 0, len = rangeInfoList.length; i < len; i++) {\n    var area = rangeInfoList[i];\n    if (seriesModel.brushSelector(dataIndex, data, area.selectors, area)) {\n      return true;\n    }\n  }\n}\nfunction brushModelNotControll(brushModel, seriesIndex) {\n  var seriesIndices = brushModel.option.seriesIndex;\n  return seriesIndices != null && seriesIndices !== 'all' && (zrUtil.isArray(seriesIndices) ? zrUtil.indexOf(seriesIndices, seriesIndex) < 0 : seriesIndex !== seriesIndices);\n}\nvar boundingRectBuilders = {\n  rect: function rect(area) {\n    return getBoundingRectFromMinMax(area.range);\n  },\n  polygon: function polygon(area) {\n    var minMax;\n    var range = area.range;\n    for (var i = 0, len = range.length; i < len; i++) {\n      minMax = minMax || [[Infinity, -Infinity], [Infinity, -Infinity]];\n      var rg = range[i];\n      rg[0] < minMax[0][0] && (minMax[0][0] = rg[0]);\n      rg[0] > minMax[0][1] && (minMax[0][1] = rg[0]);\n      rg[1] < minMax[1][0] && (minMax[1][0] = rg[1]);\n      rg[1] > minMax[1][1] && (minMax[1][1] = rg[1]);\n    }\n    return minMax && getBoundingRectFromMinMax(minMax);\n  }\n};\nfunction getBoundingRectFromMinMax(minMax) {\n  return new BoundingRect(minMax[0][0], minMax[1][0], minMax[0][1] - minMax[0][0], minMax[1][1] - minMax[1][0]);\n}","import \"core-js/modules/es.array.slice.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BrushController from '../helper/BrushController.js';\nimport { layoutCovers } from './visualEncoding.js';\nimport ComponentView from '../../view/Component.js';\nvar BrushView = /** @class */\nfunction (_super) {\n  __extends(BrushView, _super);\n  function BrushView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BrushView.type;\n    return _this;\n  }\n  BrushView.prototype.init = function (ecModel, api) {\n    this.ecModel = ecModel;\n    this.api = api;\n    this.model;\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  };\n  BrushView.prototype.render = function (brushModel, ecModel, api, payload) {\n    this.model = brushModel;\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype.updateTransform = function (brushModel, ecModel, api, payload) {\n    // PENDING: `updateTransform` is a little tricky, whose layout need\n    // to be calculate mandatorily and other stages will not be performed.\n    // Take care the correctness of the logic. See #11754 .\n    layoutCovers(ecModel);\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype.updateVisual = function (brushModel, ecModel, api, payload) {\n    this.updateTransform(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype.updateView = function (brushModel, ecModel, api, payload) {\n    this._updateController(brushModel, ecModel, api, payload);\n  };\n  BrushView.prototype._updateController = function (brushModel, ecModel, api, payload) {\n    // Do not update controller when drawing.\n    (!payload || payload.$from !== brushModel.id) && this._brushController.setPanels(brushModel.brushTargetManager.makePanelOpts(api)).enableBrush(brushModel.brushOption).updateCovers(brushModel.areas.slice());\n  }; // updateLayout: updateController,\n  // updateVisual: updateController,\n\n  BrushView.prototype.dispose = function () {\n    this._brushController.dispose();\n  };\n  BrushView.prototype._onBrush = function (eventParam) {\n    var modelId = this.model.id;\n    var areas = this.model.brushTargetManager.setOutputRanges(eventParam.areas, this.ecModel); // Action is not dispatched on drag end, because the drag end\n    // emits the same params with the last drag move event, and\n    // may have some delay when using touch pad, which makes\n    // animation not smooth (when using debounce).\n\n    (!eventParam.isEnd || eventParam.removeOnClick) && this.api.dispatchAction({\n      type: 'brush',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n    eventParam.isEnd && this.api.dispatchAction({\n      type: 'brushEnd',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n  };\n  BrushView.type = 'brush';\n  return BrushView;\n}(ComponentView);\nexport default BrushView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as visualSolution from '../../visual/visualSolution.js';\nimport Model from '../../model/Model.js';\nimport ComponentModel from '../../model/Component.js';\nvar DEFAULT_OUT_OF_BRUSH_COLOR = '#ddd';\nvar BrushModel = /** @class */\nfunction (_super) {\n  __extends(BrushModel, _super);\n  function BrushModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BrushModel.type;\n    /**\n     * @readOnly\n     */\n\n    _this.areas = [];\n    /**\n     * Current brush painting area settings.\n     * @readOnly\n     */\n\n    _this.brushOption = {};\n    return _this;\n  }\n  BrushModel.prototype.optionUpdated = function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, ['inBrush', 'outOfBrush']);\n    var inBrush = thisOption.inBrush = thisOption.inBrush || {}; // Always give default visual, consider setOption at the second time.\n\n    thisOption.outOfBrush = thisOption.outOfBrush || {\n      color: DEFAULT_OUT_OF_BRUSH_COLOR\n    };\n    if (!inBrush.hasOwnProperty('liftZ')) {\n      // Bigger than the highlight z lift, otherwise it will\n      // be effected by the highlight z when brush.\n      inBrush.liftZ = 5;\n    }\n  };\n  /**\n   * If `areas` is null/undefined, range state remain.\n   */\n\n  BrushModel.prototype.setAreas = function (areas) {\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(zrUtil.isArray(areas));\n      zrUtil.each(areas, function (area) {\n        zrUtil.assert(area.brushType, 'Illegal areas');\n      });\n    } // If areas is null/undefined, range state remain.\n    // This helps user to dispatchAction({type: 'brush'}) with no areas\n    // set but just want to get the current brush select info from a `brush` event.\n\n    if (!areas) {\n      return;\n    }\n    this.areas = zrUtil.map(areas, function (area) {\n      return generateBrushOption(this.option, area);\n    }, this);\n  };\n  /**\n   * Set the current painting brush option.\n   */\n\n  BrushModel.prototype.setBrushOption = function (brushOption) {\n    this.brushOption = generateBrushOption(this.option, brushOption);\n    this.brushType = this.brushOption.brushType;\n  };\n  BrushModel.type = 'brush';\n  BrushModel.dependencies = ['geo', 'grid', 'xAxis', 'yAxis', 'parallel', 'series'];\n  BrushModel.defaultOption = {\n    seriesIndex: 'all',\n    brushType: 'rect',\n    brushMode: 'single',\n    transformable: true,\n    brushStyle: {\n      borderWidth: 1,\n      color: 'rgba(210,219,238,0.3)',\n      borderColor: '#D2DBEE'\n    },\n    throttleType: 'fixRate',\n    throttleDelay: 0,\n    removeOnClick: true,\n    z: 10000\n  };\n  return BrushModel;\n}(ComponentModel);\nfunction generateBrushOption(option, brushOption) {\n  return zrUtil.merge({\n    brushType: option.brushType,\n    brushMode: option.brushMode,\n    transformable: option.transformable,\n    brushStyle: new Model(option.brushStyle).getItemStyle(),\n    removeOnClick: option.removeOnClick,\n    z: option.z\n  }, brushOption, true);\n}\nexport default BrushModel;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport brushPreprocessor from './preprocessor.js';\nimport BrushView from './BrushView.js';\nimport BrushModel from './BrushModel.js';\nimport brushVisual from './visualEncoding.js'; // TODO\n\nimport BrushFeature from '../toolbox/feature/Brush.js';\nimport { registerFeature } from '../toolbox/featureManager.js';\nimport { noop } from 'zrender/lib/core/util.js';\nexport function install(registers) {\n  registers.registerComponentView(BrushView);\n  registers.registerComponentModel(BrushModel);\n  registers.registerPreprocessor(brushPreprocessor);\n  registers.registerVisual(registers.PRIORITY.VISUAL.BRUSH, brushVisual);\n  registers.registerAction({\n    type: 'brush',\n    event: 'brush',\n    update: 'updateVisual'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'brush',\n      query: payload\n    }, function (brushModel) {\n      brushModel.setAreas(payload.areas);\n    });\n  });\n  /**\n   * payload: {\n   *      brushComponents: [\n   *          {\n   *              brushId,\n   *              brushIndex,\n   *              brushName,\n   *              series: [\n   *                  {\n   *                      seriesId,\n   *                      seriesIndex,\n   *                      seriesName,\n   *                      rawIndices: [21, 34, ...]\n   *                  },\n   *                  ...\n   *              ]\n   *          },\n   *          ...\n   *      ]\n   * }\n   */\n\n  registers.registerAction({\n    type: 'brushSelect',\n    event: 'brushSelected',\n    update: 'none'\n  }, noop);\n  registers.registerAction({\n    type: 'brushEnd',\n    event: 'brushEnd',\n    update: 'none'\n  }, noop);\n  registerFeature('brush', BrushFeature);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { isString, extend, map, isFunction } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { formatTplSimple } from '../../util/format.js';\nimport { parsePercent } from '../../util/number.js';\nimport ComponentView from '../../view/Component.js';\nimport { getLocaleModel } from '../../core/locale.js';\n\nvar CalendarView =\n/** @class */\nfunction (_super) {\n  __extends(CalendarView, _super);\n\n  function CalendarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CalendarView.type;\n    return _this;\n  }\n\n  CalendarView.prototype.render = function (calendarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    var coordSys = calendarModel.coordinateSystem; // range info\n\n    var rangeData = coordSys.getRangeInfo();\n    var orient = coordSys.getOrient(); // locale\n\n    var localeModel = ecModel.getLocaleModel();\n\n    this._renderDayRect(calendarModel, rangeData, group); // _renderLines must be called prior to following function\n\n\n    this._renderLines(calendarModel, rangeData, orient, group);\n\n    this._renderYearText(calendarModel, rangeData, orient, group);\n\n    this._renderMonthText(calendarModel, localeModel, orient, group);\n\n    this._renderWeekText(calendarModel, localeModel, rangeData, orient, group);\n  }; // render day rect\n\n\n  CalendarView.prototype._renderDayRect = function (calendarModel, rangeData, group) {\n    var coordSys = calendarModel.coordinateSystem;\n    var itemRectStyleModel = calendarModel.getModel('itemStyle').getItemStyle();\n    var sw = coordSys.getCellWidth();\n    var sh = coordSys.getCellHeight();\n\n    for (var i = rangeData.start.time; i <= rangeData.end.time; i = coordSys.getNextNDay(i, 1).time) {\n      var point = coordSys.dataToRect([i], false).tl; // every rect\n\n      var rect = new graphic.Rect({\n        shape: {\n          x: point[0],\n          y: point[1],\n          width: sw,\n          height: sh\n        },\n        cursor: 'default',\n        style: itemRectStyleModel\n      });\n      group.add(rect);\n    }\n  }; // render separate line\n\n\n  CalendarView.prototype._renderLines = function (calendarModel, rangeData, orient, group) {\n    var self = this;\n    var coordSys = calendarModel.coordinateSystem;\n    var lineStyleModel = calendarModel.getModel(['splitLine', 'lineStyle']).getLineStyle();\n    var show = calendarModel.get(['splitLine', 'show']);\n    var lineWidth = lineStyleModel.lineWidth;\n    this._tlpoints = [];\n    this._blpoints = [];\n    this._firstDayOfMonth = [];\n    this._firstDayPoints = [];\n    var firstDay = rangeData.start;\n\n    for (var i = 0; firstDay.time <= rangeData.end.time; i++) {\n      addPoints(firstDay.formatedDate);\n\n      if (i === 0) {\n        firstDay = coordSys.getDateInfo(rangeData.start.y + '-' + rangeData.start.m);\n      }\n\n      var date = firstDay.date;\n      date.setMonth(date.getMonth() + 1);\n      firstDay = coordSys.getDateInfo(date);\n    }\n\n    addPoints(coordSys.getNextNDay(rangeData.end.time, 1).formatedDate);\n\n    function addPoints(date) {\n      self._firstDayOfMonth.push(coordSys.getDateInfo(date));\n\n      self._firstDayPoints.push(coordSys.dataToRect([date], false).tl);\n\n      var points = self._getLinePointsOfOneWeek(calendarModel, date, orient);\n\n      self._tlpoints.push(points[0]);\n\n      self._blpoints.push(points[points.length - 1]);\n\n      show && self._drawSplitline(points, lineStyleModel, group);\n    } // render top/left line\n\n\n    show && this._drawSplitline(self._getEdgesPoints(self._tlpoints, lineWidth, orient), lineStyleModel, group); // render bottom/right line\n\n    show && this._drawSplitline(self._getEdgesPoints(self._blpoints, lineWidth, orient), lineStyleModel, group);\n  }; // get points at both ends\n\n\n  CalendarView.prototype._getEdgesPoints = function (points, lineWidth, orient) {\n    var rs = [points[0].slice(), points[points.length - 1].slice()];\n    var idx = orient === 'horizontal' ? 0 : 1; // both ends of the line are extend half lineWidth\n\n    rs[0][idx] = rs[0][idx] - lineWidth / 2;\n    rs[1][idx] = rs[1][idx] + lineWidth / 2;\n    return rs;\n  }; // render split line\n\n\n  CalendarView.prototype._drawSplitline = function (points, lineStyle, group) {\n    var poyline = new graphic.Polyline({\n      z2: 20,\n      shape: {\n        points: points\n      },\n      style: lineStyle\n    });\n    group.add(poyline);\n  }; // render month line of one week points\n\n\n  CalendarView.prototype._getLinePointsOfOneWeek = function (calendarModel, date, orient) {\n    var coordSys = calendarModel.coordinateSystem;\n    var parsedDate = coordSys.getDateInfo(date);\n    var points = [];\n\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(parsedDate.time, i);\n      var point = coordSys.dataToRect([tmpD.time], false);\n      points[2 * tmpD.day] = point.tl;\n      points[2 * tmpD.day + 1] = point[orient === 'horizontal' ? 'bl' : 'tr'];\n    }\n\n    return points;\n  };\n\n  CalendarView.prototype._formatterLabel = function (formatter, params) {\n    if (isString(formatter) && formatter) {\n      return formatTplSimple(formatter, params);\n    }\n\n    if (isFunction(formatter)) {\n      return formatter(params);\n    }\n\n    return params.nameMap;\n  };\n\n  CalendarView.prototype._yearTextPositionControl = function (textEl, point, orient, position, margin) {\n    var x = point[0];\n    var y = point[1];\n    var aligns = ['center', 'bottom'];\n\n    if (position === 'bottom') {\n      y += margin;\n      aligns = ['center', 'top'];\n    } else if (position === 'left') {\n      x -= margin;\n    } else if (position === 'right') {\n      x += margin;\n      aligns = ['center', 'top'];\n    } else {\n      // top\n      y -= margin;\n    }\n\n    var rotate = 0;\n\n    if (position === 'left' || position === 'right') {\n      rotate = Math.PI / 2;\n    }\n\n    return {\n      rotation: rotate,\n      x: x,\n      y: y,\n      style: {\n        align: aligns[0],\n        verticalAlign: aligns[1]\n      }\n    };\n  }; // render year\n\n\n  CalendarView.prototype._renderYearText = function (calendarModel, rangeData, orient, group) {\n    var yearLabel = calendarModel.getModel('yearLabel');\n\n    if (!yearLabel.get('show')) {\n      return;\n    }\n\n    var margin = yearLabel.get('margin');\n    var pos = yearLabel.get('position');\n\n    if (!pos) {\n      pos = orient !== 'horizontal' ? 'top' : 'left';\n    }\n\n    var points = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]];\n    var xc = (points[0][0] + points[1][0]) / 2;\n    var yc = (points[0][1] + points[1][1]) / 2;\n    var idx = orient === 'horizontal' ? 0 : 1;\n    var posPoints = {\n      top: [xc, points[idx][1]],\n      bottom: [xc, points[1 - idx][1]],\n      left: [points[1 - idx][0], yc],\n      right: [points[idx][0], yc]\n    };\n    var name = rangeData.start.y;\n\n    if (+rangeData.end.y > +rangeData.start.y) {\n      name = name + '-' + rangeData.end.y;\n    }\n\n    var formatter = yearLabel.get('formatter');\n    var params = {\n      start: rangeData.start.y,\n      end: rangeData.end.y,\n      nameMap: name\n    };\n\n    var content = this._formatterLabel(formatter, params);\n\n    var yearText = new graphic.Text({\n      z2: 30,\n      style: createTextStyle(yearLabel, {\n        text: content\n      })\n    });\n    yearText.attr(this._yearTextPositionControl(yearText, posPoints[pos], orient, pos, margin));\n    group.add(yearText);\n  };\n\n  CalendarView.prototype._monthTextPositionControl = function (point, isCenter, orient, position, margin) {\n    var align = 'left';\n    var vAlign = 'top';\n    var x = point[0];\n    var y = point[1];\n\n    if (orient === 'horizontal') {\n      y = y + margin;\n\n      if (isCenter) {\n        align = 'center';\n      }\n\n      if (position === 'start') {\n        vAlign = 'bottom';\n      }\n    } else {\n      x = x + margin;\n\n      if (isCenter) {\n        vAlign = 'middle';\n      }\n\n      if (position === 'start') {\n        align = 'right';\n      }\n    }\n\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  }; // render month and year text\n\n\n  CalendarView.prototype._renderMonthText = function (calendarModel, localeModel, orient, group) {\n    var monthLabel = calendarModel.getModel('monthLabel');\n\n    if (!monthLabel.get('show')) {\n      return;\n    }\n\n    var nameMap = monthLabel.get('nameMap');\n    var margin = monthLabel.get('margin');\n    var pos = monthLabel.get('position');\n    var align = monthLabel.get('align');\n    var termPoints = [this._tlpoints, this._blpoints];\n\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      } // PENDING\n      // for ZH locale, original form is `一月` but current form is `1月`\n\n\n      nameMap = localeModel.get(['time', 'monthAbbr']) || [];\n    }\n\n    var idx = pos === 'start' ? 0 : 1;\n    var axis = orient === 'horizontal' ? 0 : 1;\n    margin = pos === 'start' ? -margin : margin;\n    var isCenter = align === 'center';\n\n    for (var i = 0; i < termPoints[idx].length - 1; i++) {\n      var tmp = termPoints[idx][i].slice();\n      var firstDay = this._firstDayOfMonth[i];\n\n      if (isCenter) {\n        var firstDayPoints = this._firstDayPoints[i];\n        tmp[axis] = (firstDayPoints[axis] + termPoints[0][i + 1][axis]) / 2;\n      }\n\n      var formatter = monthLabel.get('formatter');\n      var name_1 = nameMap[+firstDay.m - 1];\n      var params = {\n        yyyy: firstDay.y,\n        yy: (firstDay.y + '').slice(2),\n        MM: firstDay.m,\n        M: +firstDay.m,\n        nameMap: name_1\n      };\n\n      var content = this._formatterLabel(formatter, params);\n\n      var monthText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(monthLabel, {\n          text: content\n        }), this._monthTextPositionControl(tmp, isCenter, orient, pos, margin))\n      });\n      group.add(monthText);\n    }\n  };\n\n  CalendarView.prototype._weekTextPositionControl = function (point, orient, position, margin, cellSize) {\n    var align = 'center';\n    var vAlign = 'middle';\n    var x = point[0];\n    var y = point[1];\n    var isStart = position === 'start';\n\n    if (orient === 'horizontal') {\n      x = x + margin + (isStart ? 1 : -1) * cellSize[0] / 2;\n      align = isStart ? 'right' : 'left';\n    } else {\n      y = y + margin + (isStart ? 1 : -1) * cellSize[1] / 2;\n      vAlign = isStart ? 'bottom' : 'top';\n    }\n\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  }; // render weeks\n\n\n  CalendarView.prototype._renderWeekText = function (calendarModel, localeModel, rangeData, orient, group) {\n    var dayLabel = calendarModel.getModel('dayLabel');\n\n    if (!dayLabel.get('show')) {\n      return;\n    }\n\n    var coordSys = calendarModel.coordinateSystem;\n    var pos = dayLabel.get('position');\n    var nameMap = dayLabel.get('nameMap');\n    var margin = dayLabel.get('margin');\n    var firstDayOfWeek = coordSys.getFirstDayOfWeek();\n\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      } // Use the first letter of `dayOfWeekAbbr` if `dayOfWeekShort` doesn't exist in the locale file\n\n\n      var dayOfWeekShort = localeModel.get(['time', 'dayOfWeekShort']);\n      nameMap = dayOfWeekShort || map(localeModel.get(['time', 'dayOfWeekAbbr']), function (val) {\n        return val[0];\n      });\n    }\n\n    var start = coordSys.getNextNDay(rangeData.end.time, 7 - rangeData.lweek).time;\n    var cellSize = [coordSys.getCellWidth(), coordSys.getCellHeight()];\n    margin = parsePercent(margin, Math.min(cellSize[1], cellSize[0]));\n\n    if (pos === 'start') {\n      start = coordSys.getNextNDay(rangeData.start.time, -(7 + rangeData.fweek)).time;\n      margin = -margin;\n    }\n\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(start, i);\n      var point = coordSys.dataToRect([tmpD.time], false).center;\n      var day = i;\n      day = Math.abs((i + firstDayOfWeek) % 7);\n      var weekText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(dayLabel, {\n          text: nameMap[day]\n        }), this._weekTextPositionControl(point, orient, pos, margin, cellSize))\n      });\n      group.add(weekText);\n    }\n  };\n\n  CalendarView.type = 'calendar';\n  return CalendarView;\n}(ComponentView);\n\nexport default CalendarView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CalendarModel from '../../coord/calendar/CalendarModel.js';\nimport CalendarView from './CalendarView.js';\nimport Calendar from '../../coord/calendar/Calendar.js';\nexport function install(registers) {\n  registers.registerComponentModel(CalendarModel);\n  registers.registerComponentView(CalendarView);\n  registers.registerCoordinateSystem('calendar', Calendar);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { each, createHashMap, merge, assert } from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getAxisMainType, DATA_ZOOM_AXIS_DIMENSIONS } from './helper.js';\nimport { MULTIPLE_REFERRING, SINGLE_REFERRING } from '../../util/model.js';\n\nvar DataZoomAxisInfo =\n/** @class */\nfunction () {\n  function DataZoomAxisInfo() {\n    this.indexList = [];\n    this.indexMap = [];\n  }\n\n  DataZoomAxisInfo.prototype.add = function (axisCmptIdx) {\n    // Remove duplication.\n    if (!this.indexMap[axisCmptIdx]) {\n      this.indexList.push(axisCmptIdx);\n      this.indexMap[axisCmptIdx] = true;\n    }\n  };\n\n  return DataZoomAxisInfo;\n}();\n\nvar DataZoomModel =\n/** @class */\nfunction (_super) {\n  __extends(DataZoomModel, _super);\n\n  function DataZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = DataZoomModel.type;\n    _this._autoThrottle = true;\n    _this._noTarget = true;\n    /**\n     * It is `[rangeModeForMin, rangeModeForMax]`.\n     * The optional values for `rangeMode`:\n     * + `'value'` mode: the axis extent will always be determined by\n     *     `dataZoom.startValue` and `dataZoom.endValue`, despite\n     *     how data like and how `axis.min` and `axis.max` are.\n     * + `'percent'` mode: `100` represents 100% of the `[dMin, dMax]`,\n     *     where `dMin` is `axis.min` if `axis.min` specified, otherwise `data.extent[0]`,\n     *     and `dMax` is `axis.max` if `axis.max` specified, otherwise `data.extent[1]`.\n     *     Axis extent will be determined by the result of the percent of `[dMin, dMax]`.\n     *\n     * For example, when users are using dynamic data (update data periodically via `setOption`),\n     * if in `'value`' mode, the window will be kept in a fixed value range despite how\n     * data are appended, while if in `'percent'` mode, whe window range will be changed alone with\n     * the appended data (suppose `axis.min` and `axis.max` are not specified).\n     */\n\n    _this._rangePropMode = ['percent', 'percent'];\n    return _this;\n  }\n\n  DataZoomModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputRawOption = retrieveRawOption(option);\n    /**\n     * Suppose a \"main process\" start at the point that model prepared (that is,\n     * model initialized or merged or method called in `action`).\n     * We should keep the `main process` idempotent, that is, given a set of values\n     * on `option`, we get the same result.\n     *\n     * But sometimes, values on `option` will be updated for providing users\n     * a \"final calculated value\" (`dataZoomProcessor` will do that). Those value\n     * should not be the base/input of the `main process`.\n     *\n     * So in that case we should save and keep the input of the `main process`\n     * separately, called `settledOption`.\n     *\n     * For example, consider the case:\n     * (Step_1) brush zoom the grid by `toolbox.dataZoom`,\n     *     where the original input `option.startValue`, `option.endValue` are earsed by\n     *     calculated value.\n     * (Step)2) click the legend to hide and show a series,\n     *     where the new range is calculated by the earsed `startValue` and `endValue`,\n     *     which brings incorrect result.\n     */\n\n    this.settledOption = inputRawOption;\n    this.mergeDefaultAndTheme(option, ecModel);\n\n    this._doInit(inputRawOption);\n  };\n\n  DataZoomModel.prototype.mergeOption = function (newOption) {\n    var inputRawOption = retrieveRawOption(newOption); // FIX #2591\n\n    merge(this.option, newOption, true);\n    merge(this.settledOption, inputRawOption, true);\n\n    this._doInit(inputRawOption);\n  };\n\n  DataZoomModel.prototype._doInit = function (inputRawOption) {\n    var thisOption = this.option;\n\n    this._setDefaultThrottle(inputRawOption);\n\n    this._updateRangeUse(inputRawOption);\n\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      // start/end has higher priority over startValue/endValue if they\n      // both set, but we should make chart.setOption({endValue: 1000})\n      // effective, rather than chart.setOption({endValue: 1000, end: null}).\n      if (this._rangePropMode[index] === 'value') {\n        thisOption[names[0]] = settledOption[names[0]] = null;\n      } // Otherwise do nothing and use the merge result.\n\n    }, this);\n\n    this._resetTarget();\n  };\n\n  DataZoomModel.prototype._resetTarget = function () {\n    var optionOrient = this.get('orient', true);\n    var targetAxisIndexMap = this._targetAxisInfoMap = createHashMap();\n\n    var hasAxisSpecified = this._fillSpecifiedTargetAxis(targetAxisIndexMap);\n\n    if (hasAxisSpecified) {\n      this._orient = optionOrient || this._makeAutoOrientByTargetAxis();\n    } else {\n      this._orient = optionOrient || 'horizontal';\n\n      this._fillAutoTargetAxisByOrient(targetAxisIndexMap, this._orient);\n    }\n\n    this._noTarget = true;\n    targetAxisIndexMap.each(function (axisInfo) {\n      if (axisInfo.indexList.length) {\n        this._noTarget = false;\n      }\n    }, this);\n  };\n\n  DataZoomModel.prototype._fillSpecifiedTargetAxis = function (targetAxisIndexMap) {\n    var hasAxisSpecified = false;\n    each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n      var refering = this.getReferringComponents(getAxisMainType(axisDim), MULTIPLE_REFERRING); // When user set axisIndex as a empty array, we think that user specify axisIndex\n      // but do not want use auto mode. Because empty array may be encountered when\n      // some error occurred.\n\n      if (!refering.specified) {\n        return;\n      }\n\n      hasAxisSpecified = true;\n      var axisInfo = new DataZoomAxisInfo();\n      each(refering.models, function (axisModel) {\n        axisInfo.add(axisModel.componentIndex);\n      });\n      targetAxisIndexMap.set(axisDim, axisInfo);\n    }, this);\n    return hasAxisSpecified;\n  };\n\n  DataZoomModel.prototype._fillAutoTargetAxisByOrient = function (targetAxisIndexMap, orient) {\n    var ecModel = this.ecModel;\n    var needAuto = true; // Find axis that parallel to dataZoom as default.\n\n    if (needAuto) {\n      var axisDim = orient === 'vertical' ? 'y' : 'x';\n      var axisModels = ecModel.findComponents({\n        mainType: axisDim + 'Axis'\n      });\n      setParallelAxis(axisModels, axisDim);\n    } // Find axis that parallel to dataZoom as default.\n\n\n    if (needAuto) {\n      var axisModels = ecModel.findComponents({\n        mainType: 'singleAxis',\n        filter: function (axisModel) {\n          return axisModel.get('orient', true) === orient;\n        }\n      });\n      setParallelAxis(axisModels, 'single');\n    }\n\n    function setParallelAxis(axisModels, axisDim) {\n      // At least use the first parallel axis as the target axis.\n      var axisModel = axisModels[0];\n\n      if (!axisModel) {\n        return;\n      }\n\n      var axisInfo = new DataZoomAxisInfo();\n      axisInfo.add(axisModel.componentIndex);\n      targetAxisIndexMap.set(axisDim, axisInfo);\n      needAuto = false; // Find parallel axes in the same grid.\n\n      if (axisDim === 'x' || axisDim === 'y') {\n        var gridModel_1 = axisModel.getReferringComponents('grid', SINGLE_REFERRING).models[0];\n        gridModel_1 && each(axisModels, function (axModel) {\n          if (axisModel.componentIndex !== axModel.componentIndex && gridModel_1 === axModel.getReferringComponents('grid', SINGLE_REFERRING).models[0]) {\n            axisInfo.add(axModel.componentIndex);\n          }\n        });\n      }\n    }\n\n    if (needAuto) {\n      // If no parallel axis, find the first category axis as default. (Also consider polar).\n      each(DATA_ZOOM_AXIS_DIMENSIONS, function (axisDim) {\n        if (!needAuto) {\n          return;\n        }\n\n        var axisModels = ecModel.findComponents({\n          mainType: getAxisMainType(axisDim),\n          filter: function (axisModel) {\n            return axisModel.get('type', true) === 'category';\n          }\n        });\n\n        if (axisModels[0]) {\n          var axisInfo = new DataZoomAxisInfo();\n          axisInfo.add(axisModels[0].componentIndex);\n          targetAxisIndexMap.set(axisDim, axisInfo);\n          needAuto = false;\n        }\n      }, this);\n    }\n  };\n\n  DataZoomModel.prototype._makeAutoOrientByTargetAxis = function () {\n    var dim; // Find the first axis\n\n    this.eachTargetAxis(function (axisDim) {\n      !dim && (dim = axisDim);\n    }, this);\n    return dim === 'y' ? 'vertical' : 'horizontal';\n  };\n\n  DataZoomModel.prototype._setDefaultThrottle = function (inputRawOption) {\n    // When first time user set throttle, auto throttle ends.\n    if (inputRawOption.hasOwnProperty('throttle')) {\n      this._autoThrottle = false;\n    }\n\n    if (this._autoThrottle) {\n      var globalOption = this.ecModel.option;\n      this.option.throttle = globalOption.animation && globalOption.animationDurationUpdate > 0 ? 100 : 20;\n    }\n  };\n\n  DataZoomModel.prototype._updateRangeUse = function (inputRawOption) {\n    var rangePropMode = this._rangePropMode;\n    var rangeModeInOption = this.get('rangeMode');\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      var percentSpecified = inputRawOption[names[0]] != null;\n      var valueSpecified = inputRawOption[names[1]] != null;\n\n      if (percentSpecified && !valueSpecified) {\n        rangePropMode[index] = 'percent';\n      } else if (!percentSpecified && valueSpecified) {\n        rangePropMode[index] = 'value';\n      } else if (rangeModeInOption) {\n        rangePropMode[index] = rangeModeInOption[index];\n      } else if (percentSpecified) {\n        // percentSpecified && valueSpecified\n        rangePropMode[index] = 'percent';\n      } // else remain its original setting.\n\n    });\n  };\n\n  DataZoomModel.prototype.noTarget = function () {\n    return this._noTarget;\n  };\n\n  DataZoomModel.prototype.getFirstTargetAxisModel = function () {\n    var firstAxisModel;\n    this.eachTargetAxis(function (axisDim, axisIndex) {\n      if (firstAxisModel == null) {\n        firstAxisModel = this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n      }\n    }, this);\n    return firstAxisModel;\n  };\n  /**\n   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n   */\n\n\n  DataZoomModel.prototype.eachTargetAxis = function (callback, context) {\n    this._targetAxisInfoMap.each(function (axisInfo, axisDim) {\n      each(axisInfo.indexList, function (axisIndex) {\n        callback.call(context, axisDim, axisIndex);\n      });\n    });\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n\n\n  DataZoomModel.prototype.getAxisProxy = function (axisDim, axisIndex) {\n    var axisModel = this.getAxisModel(axisDim, axisIndex);\n\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    }\n  };\n  /**\n   * @return If not found, return null/undefined.\n   */\n\n\n  DataZoomModel.prototype.getAxisModel = function (axisDim, axisIndex) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(axisDim && axisIndex != null);\n    }\n\n    var axisInfo = this._targetAxisInfoMap.get(axisDim);\n\n    if (axisInfo && axisInfo.indexMap[axisIndex]) {\n      return this.ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n    }\n  };\n  /**\n   * If not specified, set to undefined.\n   */\n\n\n  DataZoomModel.prototype.setRawRange = function (opt) {\n    var thisOption = this.option;\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names) {\n      // Consider the pair <start, startValue>:\n      // If one has value and the other one is `null/undefined`, we both set them\n      // to `settledOption`. This strategy enables the feature to clear the original\n      // value in `settledOption` to `null/undefined`.\n      // But if both of them are `null/undefined`, we do not set them to `settledOption`\n      // and keep `settledOption` with the original value. This strategy enables users to\n      // only set <end or endValue> but not set <start or startValue> when calling\n      // `dispatchAction`.\n      // The pair <end, endValue> is treated in the same way.\n      if (opt[names[0]] != null || opt[names[1]] != null) {\n        thisOption[names[0]] = settledOption[names[0]] = opt[names[0]];\n        thisOption[names[1]] = settledOption[names[1]] = opt[names[1]];\n      }\n    }, this);\n\n    this._updateRangeUse(opt);\n  };\n\n  DataZoomModel.prototype.setCalculatedRange = function (opt) {\n    var option = this.option;\n    each(['start', 'startValue', 'end', 'endValue'], function (name) {\n      option[name] = opt[name];\n    });\n  };\n\n  DataZoomModel.prototype.getPercentRange = function () {\n    var axisProxy = this.findRepresentativeAxisProxy();\n\n    if (axisProxy) {\n      return axisProxy.getDataPercentWindow();\n    }\n  };\n  /**\n   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n   *\n   * @return [startValue, endValue] value can only be '-' or finite number.\n   */\n\n\n  DataZoomModel.prototype.getValueRange = function (axisDim, axisIndex) {\n    if (axisDim == null && axisIndex == null) {\n      var axisProxy = this.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        return axisProxy.getDataValueWindow();\n      }\n    } else {\n      return this.getAxisProxy(axisDim, axisIndex).getDataValueWindow();\n    }\n  };\n  /**\n   * @param axisModel If axisModel given, find axisProxy\n   *      corresponding to the axisModel\n   */\n\n\n  DataZoomModel.prototype.findRepresentativeAxisProxy = function (axisModel) {\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    } // Find the first hosted axisProxy\n\n\n    var firstProxy;\n\n    var axisDimList = this._targetAxisInfoMap.keys();\n\n    for (var i = 0; i < axisDimList.length; i++) {\n      var axisDim = axisDimList[i];\n\n      var axisInfo = this._targetAxisInfoMap.get(axisDim);\n\n      for (var j = 0; j < axisInfo.indexList.length; j++) {\n        var proxy = this.getAxisProxy(axisDim, axisInfo.indexList[j]);\n\n        if (proxy.hostedBy(this)) {\n          return proxy;\n        }\n\n        if (!firstProxy) {\n          firstProxy = proxy;\n        }\n      }\n    } // If no hosted proxy found, still need to return a proxy.\n    // This case always happens in toolbox dataZoom, where axes are all hosted by\n    // other dataZooms.\n\n\n    return firstProxy;\n  };\n\n  DataZoomModel.prototype.getRangePropMode = function () {\n    return this._rangePropMode.slice();\n  };\n\n  DataZoomModel.prototype.getOrient = function () {\n    if (process.env.NODE_ENV !== 'production') {\n      // Should not be called before initialized.\n      assert(this._orient);\n    }\n\n    return this._orient;\n  };\n\n  DataZoomModel.type = 'dataZoom';\n  DataZoomModel.dependencies = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series', 'toolbox'];\n  DataZoomModel.defaultOption = {\n    // zlevel: 0,\n    z: 4,\n    filterMode: 'filter',\n    start: 0,\n    end: 100\n  };\n  return DataZoomModel;\n}(ComponentModel);\n/**\n * Retrieve those raw params from option, which will be cached separately,\n * because they will be overwritten by normalized/calculated values in the main\n * process.\n */\n\n\nfunction retrieveRawOption(option) {\n  var ret = {};\n  each(['start', 'end', 'startValue', 'endValue', 'throttle'], function (name) {\n    option.hasOwnProperty(name) && (ret[name] = option[name]);\n  });\n  return ret;\n}\n\nexport default DataZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\n\nvar DataZoomView =\n/** @class */\nfunction (_super) {\n  __extends(DataZoomView, _super);\n\n  function DataZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = DataZoomView.type;\n    return _this;\n  }\n\n  DataZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    this.dataZoomModel = dataZoomModel;\n    this.ecModel = ecModel;\n    this.api = api;\n  };\n\n  DataZoomView.type = 'dataZoom';\n  return DataZoomView;\n}(ComponentView);\n\nexport default DataZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { indexOf, createHashMap, assert } from 'zrender/lib/core/util.js';\nexport var DATA_ZOOM_AXIS_DIMENSIONS = ['x', 'y', 'radius', 'angle', 'single']; // Supported coords.\n// FIXME: polar has been broken (but rarely used).\n\nvar SERIES_COORDS = ['cartesian2d', 'polar', 'singleAxis'];\nexport function isCoordSupported(seriesModel) {\n  var coordType = seriesModel.get('coordinateSystem');\n  return indexOf(SERIES_COORDS, coordType) >= 0;\n}\nexport function getAxisMainType(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n\n  return axisDim + 'Axis';\n}\nexport function getAxisIndexPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n\n  return axisDim + 'AxisIndex';\n}\nexport function getAxisIdPropName(axisDim) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(axisDim);\n  }\n\n  return axisDim + 'AxisId';\n}\n/**\n * If two dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * This function finds all linked dataZoomModels start from the given payload.\n */\n\nexport function findEffectedDataZooms(ecModel, payload) {\n  // Key: `DataZoomAxisDimension`\n  var axisRecords = createHashMap();\n  var effectedModels = []; // Key: uid of dataZoomModel\n\n  var effectedModelMap = createHashMap(); // Find the dataZooms specified by payload.\n\n  ecModel.eachComponent({\n    mainType: 'dataZoom',\n    query: payload\n  }, function (dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid)) {\n      addToEffected(dataZoomModel);\n    }\n  }); // Start from the given dataZoomModels, travel the graph to find\n  // all of the linked dataZoom models.\n\n  var foundNewLink;\n\n  do {\n    foundNewLink = false;\n    ecModel.eachComponent('dataZoom', processSingle);\n  } while (foundNewLink);\n\n  function processSingle(dataZoomModel) {\n    if (!effectedModelMap.get(dataZoomModel.uid) && isLinked(dataZoomModel)) {\n      addToEffected(dataZoomModel);\n      foundNewLink = true;\n    }\n  }\n\n  function addToEffected(dataZoom) {\n    effectedModelMap.set(dataZoom.uid, true);\n    effectedModels.push(dataZoom);\n    markAxisControlled(dataZoom);\n  }\n\n  function isLinked(dataZoomModel) {\n    var isLink = false;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var axisIdxArr = axisRecords.get(axisDim);\n\n      if (axisIdxArr && axisIdxArr[axisIndex]) {\n        isLink = true;\n      }\n    });\n    return isLink;\n  }\n\n  function markAxisControlled(dataZoomModel) {\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      (axisRecords.get(axisDim) || axisRecords.set(axisDim, []))[axisIndex] = true;\n    });\n  }\n\n  return effectedModels;\n}\n/**\n * Find the first target coordinate system.\n * Available after model built.\n *\n * @return Like {\n *                  grid: [\n *                      {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n *                      {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n *                      ...\n *                  ],  // cartesians must not be null/undefined.\n *                  polar: [\n *                      {model: coord0, axisModels: [axis4], coordIndex: 0},\n *                      ...\n *                  ],  // polars must not be null/undefined.\n *                  singleAxis: [\n *                      {model: coord0, axisModels: [], coordIndex: 0}\n *                  ]\n *              }\n */\n\nexport function collectReferCoordSysModelInfo(dataZoomModel) {\n  var ecModel = dataZoomModel.ecModel;\n  var coordSysInfoWrap = {\n    infoList: [],\n    infoMap: createHashMap()\n  };\n  dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n    var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n\n    if (!axisModel) {\n      return;\n    }\n\n    var coordSysModel = axisModel.getCoordSysModel();\n\n    if (!coordSysModel) {\n      return;\n    }\n\n    var coordSysUid = coordSysModel.uid;\n    var coordSysInfo = coordSysInfoWrap.infoMap.get(coordSysUid);\n\n    if (!coordSysInfo) {\n      coordSysInfo = {\n        model: coordSysModel,\n        axisModels: []\n      };\n      coordSysInfoWrap.infoList.push(coordSysInfo);\n      coordSysInfoWrap.infoMap.set(coordSysUid, coordSysInfo);\n    }\n\n    coordSysInfo.axisModels.push(axisModel);\n  });\n  return coordSysInfoWrap;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nvar each = zrUtil.each;\nvar inner = makeInner();\n/**\n * @param ecModel\n * @param newSnapshot key is dataZoomId\n */\n\nexport function push(ecModel, newSnapshot) {\n  var storedSnapshots = getStoreSnapshots(ecModel); // If previous dataZoom can not be found,\n  // complete an range with current range.\n\n  each(newSnapshot, function (batchItem, dataZoomId) {\n    var i = storedSnapshots.length - 1;\n\n    for (; i >= 0; i--) {\n      var snapshot = storedSnapshots[i];\n\n      if (snapshot[dataZoomId]) {\n        break;\n      }\n    }\n\n    if (i < 0) {\n      // No origin range set, create one by current range.\n      var dataZoomModel = ecModel.queryComponents({\n        mainType: 'dataZoom',\n        subType: 'select',\n        id: dataZoomId\n      })[0];\n\n      if (dataZoomModel) {\n        var percentRange = dataZoomModel.getPercentRange();\n        storedSnapshots[0][dataZoomId] = {\n          dataZoomId: dataZoomId,\n          start: percentRange[0],\n          end: percentRange[1]\n        };\n      }\n    }\n  });\n  storedSnapshots.push(newSnapshot);\n}\nexport function pop(ecModel) {\n  var storedSnapshots = getStoreSnapshots(ecModel);\n  var head = storedSnapshots[storedSnapshots.length - 1];\n  storedSnapshots.length > 1 && storedSnapshots.pop(); // Find top for all dataZoom.\n\n  var snapshot = {};\n  each(head, function (batchItem, dataZoomId) {\n    for (var i = storedSnapshots.length - 1; i >= 0; i--) {\n      batchItem = storedSnapshots[i][dataZoomId];\n\n      if (batchItem) {\n        snapshot[dataZoomId] = batchItem;\n        break;\n      }\n    }\n  });\n  return snapshot;\n}\nexport function clear(ecModel) {\n  inner(ecModel).snapshots = null;\n}\nexport function count(ecModel) {\n  return getStoreSnapshots(ecModel).length;\n}\n/**\n * History length of each dataZoom may be different.\n * this._history[0] is used to store origin range.\n */\n\nfunction getStoreSnapshots(ecModel) {\n  var store = inner(ecModel);\n\n  if (!store.snapshots) {\n    store.snapshots = [{}];\n  }\n\n  return store.snapshots;\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installDataZoomInside } from './installDataZoomInside.js';\nimport { install as installDataZoomSlider } from './installDataZoomSlider.js';\nexport function install(registers) {\n  use(installDataZoomInside);\n  use(installDataZoomSlider); // Do not install './dataZoomSelect',\n  // since it only work for toolbox dataZoom.\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as numberUtil from '../../util/number.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { unionAxisExtentFromData } from '../../coord/axisHelper.js';\nimport { ensureScaleRawExtentInfo } from '../../coord/scaleRawExtentInfo.js';\nimport { getAxisMainType, isCoordSupported } from './helper.js';\nimport { SINGLE_REFERRING } from '../../util/model.js';\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n */\n\nvar AxisProxy =\n/** @class */\nfunction () {\n  function AxisProxy(dimName, axisIndex, dataZoomModel, ecModel) {\n    this._dimName = dimName;\n    this._axisIndex = axisIndex;\n    this.ecModel = ecModel;\n    this._dataZoomModel = dataZoomModel; // /**\n    //  * @readOnly\n    //  * @private\n    //  */\n    // this.hasSeriesStacked;\n  }\n  /**\n   * Whether the axisProxy is hosted by dataZoomModel.\n   */\n\n\n  AxisProxy.prototype.hostedBy = function (dataZoomModel) {\n    return this._dataZoomModel === dataZoomModel;\n  };\n  /**\n   * @return Value can only be NaN or finite value.\n   */\n\n\n  AxisProxy.prototype.getDataValueWindow = function () {\n    return this._valueWindow.slice();\n  };\n  /**\n   * @return {Array.<number>}\n   */\n\n\n  AxisProxy.prototype.getDataPercentWindow = function () {\n    return this._percentWindow.slice();\n  };\n\n  AxisProxy.prototype.getTargetSeriesModels = function () {\n    var seriesModels = [];\n    this.ecModel.eachSeries(function (seriesModel) {\n      if (isCoordSupported(seriesModel)) {\n        var axisMainType = getAxisMainType(this._dimName);\n        var axisModel = seriesModel.getReferringComponents(axisMainType, SINGLE_REFERRING).models[0];\n\n        if (axisModel && this._axisIndex === axisModel.componentIndex) {\n          seriesModels.push(seriesModel);\n        }\n      }\n    }, this);\n    return seriesModels;\n  };\n\n  AxisProxy.prototype.getAxisModel = function () {\n    return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n  };\n\n  AxisProxy.prototype.getMinMaxSpan = function () {\n    return zrUtil.clone(this._minMaxSpan);\n  };\n  /**\n   * Only calculate by given range and this._dataExtent, do not change anything.\n   */\n\n\n  AxisProxy.prototype.calculateDataWindow = function (opt) {\n    var dataExtent = this._dataExtent;\n    var axisModel = this.getAxisModel();\n    var scale = axisModel.axis.scale;\n\n    var rangePropMode = this._dataZoomModel.getRangePropMode();\n\n    var percentExtent = [0, 100];\n    var percentWindow = [];\n    var valueWindow = [];\n    var hasPropModeValue;\n    each(['start', 'end'], function (prop, idx) {\n      var boundPercent = opt[prop];\n      var boundValue = opt[prop + 'Value']; // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n      // on `valueProp` ('startValue', 'endValue'). (They are based on the data extent\n      // but not min/max of axis, which will be calculated by data window then).\n      // The former one is suitable for cases that a dataZoom component controls multiple\n      // axes with different unit or extent, and the latter one is suitable for accurate\n      // zoom by pixel (e.g., in dataZoomSelect).\n      // we use `getRangePropMode()` to mark which prop is used. `rangePropMode` is updated\n      // only when setOption or dispatchAction, otherwise it remains its original value.\n      // (Why not only record `percentProp` and always map to `valueProp`? Because\n      // the map `valueProp` -> `percentProp` -> `valueProp` probably not the original\n      // `valueProp`. consider two axes constrolled by one dataZoom. They have different\n      // data extent. All of values that are overflow the `dataExtent` will be calculated\n      // to percent '100%').\n\n      if (rangePropMode[idx] === 'percent') {\n        boundPercent == null && (boundPercent = percentExtent[idx]); // Use scale.parse to math round for category or time axis.\n\n        boundValue = scale.parse(numberUtil.linearMap(boundPercent, percentExtent, dataExtent));\n      } else {\n        hasPropModeValue = true;\n        boundValue = boundValue == null ? dataExtent[idx] : scale.parse(boundValue); // Calculating `percent` from `value` may be not accurate, because\n        // This calculation can not be inversed, because all of values that\n        // are overflow the `dataExtent` will be calculated to percent '100%'\n\n        boundPercent = numberUtil.linearMap(boundValue, dataExtent, percentExtent);\n      } // valueWindow[idx] = round(boundValue);\n      // percentWindow[idx] = round(boundPercent);\n      // fallback to extent start/end when parsed value or percent is invalid\n\n\n      valueWindow[idx] = boundValue == null || isNaN(boundValue) ? dataExtent[idx] : boundValue;\n      percentWindow[idx] = boundPercent == null || isNaN(boundPercent) ? percentExtent[idx] : boundPercent;\n    });\n    asc(valueWindow);\n    asc(percentWindow); // The windows from user calling of `dispatchAction` might be out of the extent,\n    // or do not obey the `min/maxSpan`, `min/maxValueSpan`. But we don't restrict window\n    // by `zoomLock` here, because we see `zoomLock` just as a interaction constraint,\n    // where API is able to initialize/modify the window size even though `zoomLock`\n    // specified.\n\n    var spans = this._minMaxSpan;\n    hasPropModeValue ? restrictSet(valueWindow, percentWindow, dataExtent, percentExtent, false) : restrictSet(percentWindow, valueWindow, percentExtent, dataExtent, true);\n\n    function restrictSet(fromWindow, toWindow, fromExtent, toExtent, toValue) {\n      var suffix = toValue ? 'Span' : 'ValueSpan';\n      sliderMove(0, fromWindow, fromExtent, 'all', spans['min' + suffix], spans['max' + suffix]);\n\n      for (var i = 0; i < 2; i++) {\n        toWindow[i] = numberUtil.linearMap(fromWindow[i], fromExtent, toExtent, true);\n        toValue && (toWindow[i] = scale.parse(toWindow[i]));\n      }\n    }\n\n    return {\n      valueWindow: valueWindow,\n      percentWindow: percentWindow\n    };\n  };\n  /**\n   * Notice: reset should not be called before series.restoreData() is called,\n   * so it is recommended to be called in \"process stage\" but not \"model init\n   * stage\".\n   */\n\n\n  AxisProxy.prototype.reset = function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var targetSeries = this.getTargetSeriesModels(); // Culculate data window and data extent, and record them.\n\n    this._dataExtent = calculateDataExtent(this, this._dimName, targetSeries); // `calculateDataWindow` uses min/maxSpan.\n\n    this._updateMinMaxSpan();\n\n    var dataWindow = this.calculateDataWindow(dataZoomModel.settledOption);\n    this._valueWindow = dataWindow.valueWindow;\n    this._percentWindow = dataWindow.percentWindow; // Update axis setting then.\n\n    this._setAxisModel();\n  };\n\n  AxisProxy.prototype.filterData = function (dataZoomModel, api) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var axisDim = this._dimName;\n    var seriesModels = this.getTargetSeriesModels();\n    var filterMode = dataZoomModel.get('filterMode');\n    var valueWindow = this._valueWindow;\n\n    if (filterMode === 'none') {\n      return;\n    } // FIXME\n    // Toolbox may has dataZoom injected. And if there are stacked bar chart\n    // with NaN data, NaN will be filtered and stack will be wrong.\n    // So we need to force the mode to be set empty.\n    // In fect, it is not a big deal that do not support filterMode-'filter'\n    // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n    // selection\" some day, which might need \"adapt to data extent on the\n    // otherAxis\", which is disabled by filterMode-'empty'.\n    // But currently, stack has been fixed to based on value but not index,\n    // so this is not an issue any more.\n    // let otherAxisModel = this.getOtherAxisModel();\n    // if (dataZoomModel.get('$fromToolbox')\n    //     && otherAxisModel\n    //     && otherAxisModel.hasSeriesStacked\n    // ) {\n    //     filterMode = 'empty';\n    // }\n    // TODO\n    // filterMode 'weakFilter' and 'empty' is not optimized for huge data yet.\n\n\n    each(seriesModels, function (seriesModel) {\n      var seriesData = seriesModel.getData();\n      var dataDims = seriesData.mapDimensionsAll(axisDim);\n\n      if (!dataDims.length) {\n        return;\n      }\n\n      if (filterMode === 'weakFilter') {\n        var store_1 = seriesData.getStore();\n        var dataDimIndices_1 = zrUtil.map(dataDims, function (dim) {\n          return seriesData.getDimensionIndex(dim);\n        }, seriesData);\n        seriesData.filterSelf(function (dataIndex) {\n          var leftOut;\n          var rightOut;\n          var hasValue;\n\n          for (var i = 0; i < dataDims.length; i++) {\n            var value = store_1.get(dataDimIndices_1[i], dataIndex);\n            var thisHasValue = !isNaN(value);\n            var thisLeftOut = value < valueWindow[0];\n            var thisRightOut = value > valueWindow[1];\n\n            if (thisHasValue && !thisLeftOut && !thisRightOut) {\n              return true;\n            }\n\n            thisHasValue && (hasValue = true);\n            thisLeftOut && (leftOut = true);\n            thisRightOut && (rightOut = true);\n          } // If both left out and right out, do not filter.\n\n\n          return hasValue && leftOut && rightOut;\n        });\n      } else {\n        each(dataDims, function (dim) {\n          if (filterMode === 'empty') {\n            seriesModel.setData(seriesData = seriesData.map(dim, function (value) {\n              return !isInWindow(value) ? NaN : value;\n            }));\n          } else {\n            var range = {};\n            range[dim] = valueWindow; // console.time('select');\n\n            seriesData.selectRange(range); // console.timeEnd('select');\n          }\n        });\n      }\n\n      each(dataDims, function (dim) {\n        seriesData.setApproximateExtent(valueWindow, dim);\n      });\n    });\n\n    function isInWindow(value) {\n      return value >= valueWindow[0] && value <= valueWindow[1];\n    }\n  };\n\n  AxisProxy.prototype._updateMinMaxSpan = function () {\n    var minMaxSpan = this._minMaxSpan = {};\n    var dataZoomModel = this._dataZoomModel;\n    var dataExtent = this._dataExtent;\n    each(['min', 'max'], function (minMax) {\n      var percentSpan = dataZoomModel.get(minMax + 'Span');\n      var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n      valueSpan != null && (valueSpan = this.getAxisModel().axis.scale.parse(valueSpan)); // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n\n      if (valueSpan != null) {\n        percentSpan = numberUtil.linearMap(dataExtent[0] + valueSpan, dataExtent, [0, 100], true);\n      } else if (percentSpan != null) {\n        valueSpan = numberUtil.linearMap(percentSpan, [0, 100], dataExtent, true) - dataExtent[0];\n      }\n\n      minMaxSpan[minMax + 'Span'] = percentSpan;\n      minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n    }, this);\n  };\n\n  AxisProxy.prototype._setAxisModel = function () {\n    var axisModel = this.getAxisModel();\n    var percentWindow = this._percentWindow;\n    var valueWindow = this._valueWindow;\n\n    if (!percentWindow) {\n      return;\n    } // [0, 500]: arbitrary value, guess axis extent.\n\n\n    var precision = numberUtil.getPixelPrecision(valueWindow, [0, 500]);\n    precision = Math.min(precision, 20); // For value axis, if min/max/scale are not set, we just use the extent obtained\n    // by series data, which may be a little different from the extent calculated by\n    // `axisHelper.getScaleExtent`. But the different just affects the experience a\n    // little when zooming. So it will not be fixed until some users require it strongly.\n\n    var rawExtentInfo = axisModel.axis.scale.rawExtentInfo;\n\n    if (percentWindow[0] !== 0) {\n      rawExtentInfo.setDeterminedMinMax('min', +valueWindow[0].toFixed(precision));\n    }\n\n    if (percentWindow[1] !== 100) {\n      rawExtentInfo.setDeterminedMinMax('max', +valueWindow[1].toFixed(precision));\n    }\n\n    rawExtentInfo.freeze();\n  };\n\n  return AxisProxy;\n}();\n\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n  var dataExtent = [Infinity, -Infinity];\n  each(seriesModels, function (seriesModel) {\n    unionAxisExtentFromData(dataExtent, seriesModel.getData(), axisDim);\n  }); // It is important to get \"consistent\" extent when more then one axes is\n  // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n  // when zooming. But it is difficult to know what is \"consistent\", considering\n  // axes have different type or even different meanings (For example, two\n  // time axes are used to compare data of the same date in different years).\n  // So basically dataZoom just obtains extent by series.data (in category axis\n  // extent can be obtained from axis.data).\n  // Nevertheless, user can set min/max/scale on axes to make extent of axes\n  // consistent.\n\n  var axisModel = axisProxy.getAxisModel();\n  var rawExtentResult = ensureScaleRawExtentInfo(axisModel.axis.scale, axisModel, dataExtent).calculate();\n  return [rawExtentResult.min, rawExtentResult.max];\n}\n\nexport default AxisProxy;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport { getAxisMainType } from './helper.js';\nimport AxisProxy from './AxisProxy.js';\nvar dataZoomProcessor = {\n  // `dataZoomProcessor` will only be performed in needed series. Consider if\n  // there is a line series and a pie series, it is better not to update the\n  // line series if only pie series is needed to be updated.\n  getTargetSeries: function (ecModel) {\n    function eachAxisModel(cb) {\n      ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n        dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n          var axisModel = ecModel.getComponent(getAxisMainType(axisDim), axisIndex);\n          cb(axisDim, axisIndex, axisModel, dataZoomModel);\n        });\n      });\n    } // FIXME: it brings side-effect to `getTargetSeries`.\n    // Prepare axis proxies.\n\n\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // dispose all last axis proxy, in case that some axis are deleted.\n      axisModel.__dzAxisProxy = null;\n    });\n    var proxyList = [];\n    eachAxisModel(function (axisDim, axisIndex, axisModel, dataZoomModel) {\n      // Different dataZooms may constrol the same axis. In that case,\n      // an axisProxy serves both of them.\n      if (!axisModel.__dzAxisProxy) {\n        // Use the first dataZoomModel as the main model of axisProxy.\n        axisModel.__dzAxisProxy = new AxisProxy(axisDim, axisIndex, dataZoomModel, ecModel);\n        proxyList.push(axisModel.__dzAxisProxy);\n      }\n    });\n    var seriesModelMap = createHashMap();\n    each(proxyList, function (axisProxy) {\n      each(axisProxy.getTargetSeriesModels(), function (seriesModel) {\n        seriesModelMap.set(seriesModel.uid, seriesModel);\n      });\n    });\n    return seriesModelMap;\n  },\n  // Consider appendData, where filter should be performed. Because data process is\n  // in block mode currently, it is not need to worry about that the overallProgress\n  // execute every frame.\n  overallReset: function (ecModel, api) {\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // We calculate window and reset axis here but not in model\n      // init stage and not after action dispatch handler, because\n      // reset should be called after seriesData.restoreData.\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).reset(dataZoomModel);\n      }); // Caution: data zoom filtering is order sensitive when using\n      // percent range and no min/max/scale set on axis.\n      // For example, we have dataZoom definition:\n      // [\n      //      {xAxisIndex: 0, start: 30, end: 70},\n      //      {yAxisIndex: 0, start: 20, end: 80}\n      // ]\n      // In this case, [20, 80] of y-dataZoom should be based on data\n      // that have filtered by x-dataZoom using range of [30, 70],\n      // but should not be based on full raw data. Thus sliding\n      // x-dataZoom will change both ranges of xAxis and yAxis,\n      // while sliding y-dataZoom will only change the range of yAxis.\n      // So we should filter x-axis after reset x-axis immediately,\n      // and then reset y-axis and filter y-axis.\n\n      dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n        dataZoomModel.getAxisProxy(axisDim, axisIndex).filterData(dataZoomModel, api);\n      });\n    });\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // Fullfill all of the range props so that user\n      // is able to get them from chart.getOption().\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var percentRange = axisProxy.getDataPercentWindow();\n        var valueRange = axisProxy.getDataValueWindow();\n        dataZoomModel.setCalculatedRange({\n          start: percentRange[0],\n          end: percentRange[1],\n          startValue: valueRange[0],\n          endValue: valueRange[1]\n        });\n      }\n    });\n  }\n};\nexport default dataZoomProcessor;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { findEffectedDataZooms } from './helper.js';\nimport { each } from 'zrender/lib/core/util.js';\nexport default function installDataZoomAction(registers) {\n  registers.registerAction('dataZoom', function (payload, ecModel) {\n    var effectedModels = findEffectedDataZooms(ecModel, payload);\n    each(effectedModels, function (dataZoomModel) {\n      dataZoomModel.setRawRange({\n        start: payload.start,\n        end: payload.end,\n        startValue: payload.startValue,\n        endValue: payload.endValue\n      });\n    });\n  });\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport dataZoomProcessor from './dataZoomProcessor.js';\nimport installDataZoomAction from './dataZoomAction.js';\nvar installed = false;\nexport default function installCommon(registers) {\n  if (installed) {\n    return;\n  }\n  installed = true;\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, dataZoomProcessor);\n  installDataZoomAction(registers);\n  registers.registerSubTypeDefaulter('dataZoom', function () {\n    // Default 'slider' when no type specified.\n    return 'slider';\n  });\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar InsideZoomModel = /** @class */\nfunction (_super) {\n  __extends(InsideZoomModel, _super);\n  function InsideZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = InsideZoomModel.type;\n    return _this;\n  }\n  InsideZoomModel.type = 'dataZoom.inside';\n  InsideZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    disabled: false,\n    zoomLock: false,\n    zoomOnMouseWheel: true,\n    moveOnMouseMove: true,\n    moveOnMouseWheel: false,\n    preventDefaultMouseMove: true\n  });\n  return InsideZoomModel;\n}(DataZoomModel);\nexport default InsideZoomModel;","import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.push.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Only create one roam controller for each coordinate system.\n// one roam controller might be refered by two inside data zoom\n// components (for example, one for x and one for y). When user\n// pan or zoom, only dispatch one action for those data zoom\n// components.\nimport RoamController from '../../component/helper/RoamController.js';\nimport * as throttleUtil from '../../util/throttle.js';\nimport { makeInner } from '../../util/model.js';\nimport { each, curry, createHashMap } from 'zrender/lib/core/util.js';\nimport { collectReferCoordSysModelInfo } from './helper.js';\nvar inner = makeInner();\nexport function setViewInfoToCoordSysRecord(api, dataZoomModel, getRange) {\n  inner(api).coordSysRecordMap.each(function (coordSysRecord) {\n    var dzInfo = coordSysRecord.dataZoomInfoMap.get(dataZoomModel.uid);\n    if (dzInfo) {\n      dzInfo.getRange = getRange;\n    }\n  });\n}\nexport function disposeCoordSysRecordIfNeeded(api, dataZoomModel) {\n  var coordSysRecordMap = inner(api).coordSysRecordMap;\n  var coordSysKeyArr = coordSysRecordMap.keys();\n  for (var i = 0; i < coordSysKeyArr.length; i++) {\n    var coordSysKey = coordSysKeyArr[i];\n    var coordSysRecord = coordSysRecordMap.get(coordSysKey);\n    var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n    if (dataZoomInfoMap) {\n      var dzUid = dataZoomModel.uid;\n      var dzInfo = dataZoomInfoMap.get(dzUid);\n      if (dzInfo) {\n        dataZoomInfoMap.removeKey(dzUid);\n        if (!dataZoomInfoMap.keys().length) {\n          disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        }\n      }\n    }\n  }\n}\nfunction disposeCoordSysRecord(coordSysRecordMap, coordSysRecord) {\n  if (coordSysRecord) {\n    coordSysRecordMap.removeKey(coordSysRecord.model.uid);\n    var controller = coordSysRecord.controller;\n    controller && controller.dispose();\n  }\n}\nfunction createCoordSysRecord(api, coordSysModel) {\n  // These init props will never change after record created.\n  var coordSysRecord = {\n    model: coordSysModel,\n    containsPoint: curry(containsPoint, coordSysModel),\n    dispatchAction: curry(dispatchAction, api),\n    dataZoomInfoMap: null,\n    controller: null\n  }; // Must not do anything depends on coordSysRecord outside the event handler here,\n  // because coordSysRecord not completed yet.\n\n  var controller = coordSysRecord.controller = new RoamController(api.getZr());\n  each(['pan', 'zoom', 'scrollMove'], function (eventName) {\n    controller.on(eventName, function (event) {\n      var batch = [];\n      coordSysRecord.dataZoomInfoMap.each(function (dzInfo) {\n        // Check whether the behaviors (zoomOnMouseWheel, moveOnMouseMove,\n        // moveOnMouseWheel, ...) enabled.\n        if (!event.isAvailableBehavior(dzInfo.model.option)) {\n          return;\n        }\n        var method = (dzInfo.getRange || {})[eventName];\n        var range = method && method(dzInfo.dzReferCoordSysInfo, coordSysRecord.model.mainType, coordSysRecord.controller, event);\n        !dzInfo.model.get('disabled', true) && range && batch.push({\n          dataZoomId: dzInfo.model.id,\n          start: range[0],\n          end: range[1]\n        });\n      });\n      batch.length && coordSysRecord.dispatchAction(batch);\n    });\n  });\n  return coordSysRecord;\n}\n/**\n * This action will be throttled.\n */\n\nfunction dispatchAction(api, batch) {\n  if (!api.isDisposed()) {\n    api.dispatchAction({\n      type: 'dataZoom',\n      animation: {\n        easing: 'cubicOut',\n        duration: 100\n      },\n      batch: batch\n    });\n  }\n}\nfunction containsPoint(coordSysModel, e, x, y) {\n  return coordSysModel.coordinateSystem.containPoint([x, y]);\n}\n/**\n * Merge roamController settings when multiple dataZooms share one roamController.\n */\n\nfunction mergeControllerParams(dataZoomInfoMap) {\n  var controlType; // DO NOT use reserved word (true, false, undefined) as key literally. Even if encapsulated\n  // as string, it is probably revert to reserved word by compress tool. See #7411.\n\n  var prefix = 'type_';\n  var typePriority = {\n    'type_true': 2,\n    'type_move': 1,\n    'type_false': 0,\n    'type_undefined': -1\n  };\n  var preventDefaultMouseMove = true;\n  dataZoomInfoMap.each(function (dataZoomInfo) {\n    var dataZoomModel = dataZoomInfo.model;\n    var oneType = dataZoomModel.get('disabled', true) ? false : dataZoomModel.get('zoomLock', true) ? 'move' : true;\n    if (typePriority[prefix + oneType] > typePriority[prefix + controlType]) {\n      controlType = oneType;\n    } // Prevent default move event by default. If one false, do not prevent. Otherwise\n    // users may be confused why it does not work when multiple insideZooms exist.\n\n    preventDefaultMouseMove = preventDefaultMouseMove && dataZoomModel.get('preventDefaultMouseMove', true);\n  });\n  return {\n    controlType: controlType,\n    opt: {\n      // RoamController will enable all of these functionalities,\n      // and the final behavior is determined by its event listener\n      // provided by each inside zoom.\n      zoomOnMouseWheel: true,\n      moveOnMouseMove: true,\n      moveOnMouseWheel: true,\n      preventDefaultMouseMove: !!preventDefaultMouseMove\n    }\n  };\n}\nexport function installDataZoomRoamProcessor(registers) {\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER, function (ecModel, api) {\n    var apiInner = inner(api);\n    var coordSysRecordMap = apiInner.coordSysRecordMap || (apiInner.coordSysRecordMap = createHashMap());\n    coordSysRecordMap.each(function (coordSysRecord) {\n      // `coordSysRecordMap` always exists (because it holds the `roam controller`, which should\n      // better not re-create each time), but clear `dataZoomInfoMap` each round of the workflow.\n      coordSysRecord.dataZoomInfoMap = null;\n    });\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'inside'\n    }, function (dataZoomModel) {\n      var dzReferCoordSysWrap = collectReferCoordSysModelInfo(dataZoomModel);\n      each(dzReferCoordSysWrap.infoList, function (dzCoordSysInfo) {\n        var coordSysUid = dzCoordSysInfo.model.uid;\n        var coordSysRecord = coordSysRecordMap.get(coordSysUid) || coordSysRecordMap.set(coordSysUid, createCoordSysRecord(api, dzCoordSysInfo.model));\n        var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap || (coordSysRecord.dataZoomInfoMap = createHashMap()); // Notice these props might be changed each time for a single dataZoomModel.\n\n        dataZoomInfoMap.set(dataZoomModel.uid, {\n          dzReferCoordSysInfo: dzCoordSysInfo,\n          model: dataZoomModel,\n          getRange: null\n        });\n      });\n    }); // (1) Merge dataZoom settings for each coord sys and set to the roam controller.\n    // (2) Clear coord sys if not refered by any dataZoom.\n\n    coordSysRecordMap.each(function (coordSysRecord) {\n      var controller = coordSysRecord.controller;\n      var firstDzInfo;\n      var dataZoomInfoMap = coordSysRecord.dataZoomInfoMap;\n      if (dataZoomInfoMap) {\n        var firstDzKey = dataZoomInfoMap.keys()[0];\n        if (firstDzKey != null) {\n          firstDzInfo = dataZoomInfoMap.get(firstDzKey);\n        }\n      }\n      if (!firstDzInfo) {\n        disposeCoordSysRecord(coordSysRecordMap, coordSysRecord);\n        return;\n      }\n      var controllerParams = mergeControllerParams(dataZoomInfoMap);\n      controller.enable(controllerParams.controlType, controllerParams.opt);\n      controller.setPointerChecker(coordSysRecord.containsPoint);\n      throttleUtil.createOrUpdate(coordSysRecord, 'dispatchAction', firstDzInfo.model.get('throttle', true), 'fixRate');\n    });\n  });\n}","import \"core-js/modules/es.array.slice.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomView from './DataZoomView.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport * as roams from './roams.js';\nimport { bind } from 'zrender/lib/core/util.js';\nvar InsideZoomView = /** @class */\nfunction (_super) {\n  __extends(InsideZoomView, _super);\n  function InsideZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'dataZoom.inside';\n    return _this;\n  }\n  InsideZoomView.prototype.render = function (dataZoomModel, ecModel, api) {\n    _super.prototype.render.apply(this, arguments);\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n      return;\n    } // Hence the `throttle` util ensures to preserve command order,\n    // here simply updating range all the time will not cause missing\n    // any of the the roam change.\n\n    this.range = dataZoomModel.getPercentRange(); // Reset controllers.\n\n    roams.setViewInfoToCoordSysRecord(api, dataZoomModel, {\n      pan: bind(getRangeHandlers.pan, this),\n      zoom: bind(getRangeHandlers.zoom, this),\n      scrollMove: bind(getRangeHandlers.scrollMove, this)\n    });\n  };\n  InsideZoomView.prototype.dispose = function () {\n    this._clear();\n    _super.prototype.dispose.apply(this, arguments);\n  };\n  InsideZoomView.prototype._clear = function () {\n    roams.disposeCoordSysRecordIfNeeded(this.api, this.dataZoomModel);\n    this.range = null;\n  };\n  InsideZoomView.type = 'dataZoom.inside';\n  return InsideZoomView;\n}(DataZoomView);\nvar getRangeHandlers = {\n  zoom: function zoom(coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice(); // Calculate transform by the first axis.\n\n    var axisModel = coordSysInfo.axisModels[0];\n    if (!axisModel) {\n      return;\n    }\n    var directionInfo = getDirectionInfo[coordSysMainType](null, [e.originX, e.originY], axisModel, controller, coordSysInfo);\n    var percentPoint = (directionInfo.signal > 0 ? directionInfo.pixelStart + directionInfo.pixelLength - directionInfo.pixel : directionInfo.pixel - directionInfo.pixelStart) / directionInfo.pixelLength * (range[1] - range[0]) + range[0];\n    var scale = Math.max(1 / e.scale, 0);\n    range[0] = (range[0] - percentPoint) * scale + percentPoint;\n    range[1] = (range[1] - percentPoint) * scale + percentPoint; // Restrict range.\n\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    sliderMove(0, range, [0, 100], 0, minMaxSpan.minSpan, minMaxSpan.maxSpan);\n    this.range = range;\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  },\n  pan: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([e.oldX, e.oldY], [e.newX, e.newY], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * directionInfo.pixel / directionInfo.pixelLength;\n  }),\n  scrollMove: makeMover(function (range, axisModel, coordSysInfo, coordSysMainType, controller, e) {\n    var directionInfo = getDirectionInfo[coordSysMainType]([0, 0], [e.scrollDelta, e.scrollDelta], axisModel, controller, coordSysInfo);\n    return directionInfo.signal * (range[1] - range[0]) * e.scrollDelta;\n  })\n};\nfunction makeMover(getPercentDelta) {\n  return function (coordSysInfo, coordSysMainType, controller, e) {\n    var lastRange = this.range;\n    var range = lastRange.slice(); // Calculate transform by the first axis.\n\n    var axisModel = coordSysInfo.axisModels[0];\n    if (!axisModel) {\n      return;\n    }\n    var percentDelta = getPercentDelta(range, axisModel, coordSysInfo, coordSysMainType, controller, e);\n    sliderMove(percentDelta, range, [0, 100], 'all');\n    this.range = range;\n    if (lastRange[0] !== range[0] || lastRange[1] !== range[1]) {\n      return range;\n    }\n  };\n}\nvar getDirectionInfo = {\n  grid: function grid(oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    oldPoint = oldPoint || [0, 0];\n    if (axis.dim === 'x') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // axis.dim === 'y'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n    return ret;\n  },\n  polar: function polar(oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var polar = coordSysInfo.model.coordinateSystem;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var angleExtent = polar.getAngleAxis().getExtent();\n    oldPoint = oldPoint ? polar.pointToCoord(oldPoint) : [0, 0];\n    newPoint = polar.pointToCoord(newPoint);\n    if (axisModel.mainType === 'radiusAxis') {\n      ret.pixel = newPoint[0] - oldPoint[0]; // ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);\n      // ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);\n\n      ret.pixelLength = radiusExtent[1] - radiusExtent[0];\n      ret.pixelStart = radiusExtent[0];\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'angleAxis'\n      ret.pixel = newPoint[1] - oldPoint[1]; // ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);\n      // ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);\n\n      ret.pixelLength = angleExtent[1] - angleExtent[0];\n      ret.pixelStart = angleExtent[0];\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n    return ret;\n  },\n  singleAxis: function singleAxis(oldPoint, newPoint, axisModel, controller, coordSysInfo) {\n    var axis = axisModel.axis;\n    var rect = coordSysInfo.model.coordinateSystem.getRect();\n    var ret = {};\n    oldPoint = oldPoint || [0, 0];\n    if (axis.orient === 'horizontal') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'vertical'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n    return ret;\n  }\n};\nexport default InsideZoomView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport InsideZoomModel from './InsideZoomModel.js';\nimport InsideZoomView from './InsideZoomView.js';\nimport { installDataZoomRoamProcessor } from './roams.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  installCommon(registers);\n  registers.registerComponentModel(InsideZoomModel);\n  registers.registerComponentView(InsideZoomView);\n  installDataZoomRoamProcessor(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\n\nvar SelectDataZoomModel =\n/** @class */\nfunction (_super) {\n  __extends(SelectDataZoomModel, _super);\n\n  function SelectDataZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SelectDataZoomModel.type;\n    return _this;\n  }\n\n  SelectDataZoomModel.type = 'dataZoom.select';\n  return SelectDataZoomModel;\n}(DataZoomModel);\n\nexport default SelectDataZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomView from './DataZoomView.js';\n\nvar SelectDataZoomView =\n/** @class */\nfunction (_super) {\n  __extends(SelectDataZoomView, _super);\n\n  function SelectDataZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SelectDataZoomView.type;\n    return _this;\n  }\n\n  SelectDataZoomView.type = 'dataZoom.select';\n  return SelectDataZoomView;\n}(DataZoomView);\n\nexport default SelectDataZoomView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SelectZoomModel from './SelectZoomModel.js';\nimport SelectZoomView from './SelectZoomView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(SelectZoomModel);\n  registers.registerComponentView(SelectZoomView);\n  installCommon(registers);\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar SliderZoomModel = /** @class */\nfunction (_super) {\n  __extends(SliderZoomModel, _super);\n  function SliderZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderZoomModel.type;\n    return _this;\n  }\n  SliderZoomModel.type = 'dataZoom.slider';\n  SliderZoomModel.layoutMode = 'box';\n  SliderZoomModel.defaultOption = inheritDefaultOption(DataZoomModel.defaultOption, {\n    show: true,\n    // deault value can only be drived in view stage.\n    right: 'ph',\n    top: 'ph',\n    width: 'ph',\n    height: 'ph',\n    left: null,\n    bottom: null,\n    borderColor: '#d2dbee',\n    borderRadius: 3,\n    backgroundColor: 'rgba(47,69,84,0)',\n    // dataBackgroundColor: '#ddd',\n    dataBackground: {\n      lineStyle: {\n        color: '#d2dbee',\n        width: 0.5\n      },\n      areaStyle: {\n        color: '#d2dbee',\n        opacity: 0.2\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: '#8fb0f7',\n        width: 0.5\n      },\n      areaStyle: {\n        color: '#8fb0f7',\n        opacity: 0.2\n      }\n    },\n    // Color of selected window.\n    fillerColor: 'rgba(135,175,274,0.2)',\n    handleIcon: 'path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z',\n    // Percent of the slider height\n    handleSize: '100%',\n    handleStyle: {\n      color: '#fff',\n      borderColor: '#ACB8D1'\n    },\n    moveHandleSize: 7,\n    moveHandleIcon: 'path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z',\n    moveHandleStyle: {\n      color: '#D2DBEE',\n      opacity: 0.7\n    },\n    showDetail: true,\n    showDataShadow: 'auto',\n    realtime: true,\n    zoomLock: false,\n    textStyle: {\n      color: '#6E7079'\n    },\n    brushSelect: true,\n    brushStyle: {\n      color: 'rgba(135,175,274,0.15)'\n    },\n    emphasis: {\n      handleStyle: {\n        borderColor: '#8FB0F7'\n      },\n      moveHandleStyle: {\n        color: '#8FB0F7'\n      }\n    }\n  });\n  return SliderZoomModel;\n}(DataZoomModel);\nexport default SliderZoomModel;","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { bind, each, isFunction, isString, indexOf } from 'zrender/lib/core/util.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as throttle from '../../util/throttle.js';\nimport DataZoomView from './DataZoomView.js';\nimport { linearMap, asc, parsePercent } from '../../util/number.js';\nimport * as layout from '../../util/layout.js';\nimport sliderMove from '../helper/sliderMove.js';\nimport { getAxisMainType, collectReferCoordSysModelInfo } from './helper.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { createSymbol, symbolBuildProxies } from '../../util/symbol.js';\nimport { deprecateLog } from '../../util/log.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nvar Rect = graphic.Rect; // Constants\n\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar DEFAULT_MOVE_HANDLE_SIZE = 7;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar REALTIME_ANIMATION_CONFIG = {\n  easing: 'cubicOut',\n  duration: 100,\n  delay: 0\n};\nvar SliderZoomView = /** @class */\nfunction (_super) {\n  __extends(SliderZoomView, _super);\n  function SliderZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = SliderZoomView.type;\n    _this._displayables = {};\n    return _this;\n  }\n  SliderZoomView.prototype.init = function (ecModel, api) {\n    this.api = api; // A unique handler for each dataZoom component\n\n    this._onBrush = bind(this._onBrush, this);\n    this._onBrushEnd = bind(this._onBrushEnd, this);\n  };\n  SliderZoomView.prototype.render = function (dataZoomModel, ecModel, api, payload) {\n    _super.prototype.render.apply(this, arguments);\n    throttle.createOrUpdate(this, '_dispatchZoomAction', dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.getOrient();\n    if (dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n    if (dataZoomModel.noTarget()) {\n      this._clear();\n      this.group.removeAll();\n      return;\n    } // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n    this._updateView();\n  };\n  SliderZoomView.prototype.dispose = function () {\n    this._clear();\n    _super.prototype.dispose.apply(this, arguments);\n  };\n  SliderZoomView.prototype._clear = function () {\n    throttle.clear(this, '_dispatchZoomAction');\n    var zr = this.api.getZr();\n    zr.off('mousemove', this._onBrush);\n    zr.off('mouseup', this._onBrushEnd);\n  };\n  SliderZoomView.prototype._buildView = function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    this._brushing = false;\n    this._displayables.brushRect = null;\n    this._resetLocation();\n    this._resetInterval();\n    var barGroup = this._displayables.sliderGroup = new graphic.Group();\n    this._renderBackground();\n    this._renderHandle();\n    this._renderDataShadow();\n    thisGroup.add(barGroup);\n    this._positionGroup();\n  };\n  SliderZoomView.prototype._resetLocation = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var showMoveHandle = dataZoomModel.get('brushSelect');\n    var moveHandleSize = showMoveHandle ? DEFAULT_MOVE_HANDLE_SIZE : 0; // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n\n    var coordRect = this._findCoordRect();\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }; // Default align by coordinate system rect.\n\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP - moveHandleSize,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    }; // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option); // Replace the placeholder value.\n\n    each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  };\n  SliderZoomView.prototype._positionGroup = function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient; // Just use the first axis to determine mapping.\n\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var sliderGroup = this._displayables.sliderGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse; // Transform barGroup.\n\n    sliderGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: 1\n    } : orient === HORIZONTAL && inverse ? {\n      scaleY: otherAxisInverse ? 1 : -1,\n      scaleX: -1\n    } : orient === VERTICAL && !inverse ? {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: 1,\n      rotation: Math.PI / 2\n    } // Don't use Math.PI, considering shadow direction.\n    : {\n      scaleY: otherAxisInverse ? -1 : 1,\n      scaleX: -1,\n      rotation: Math.PI / 2\n    }); // Position barGroup\n\n    var rect = thisGroup.getBoundingRect([sliderGroup]);\n    thisGroup.x = location.x - rect.x;\n    thisGroup.y = location.y - rect.y;\n    thisGroup.markRedraw();\n  };\n  SliderZoomView.prototype._getViewExtent = function () {\n    return [0, this._size[0]];\n  };\n  SliderZoomView.prototype._renderBackground = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.sliderGroup;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    })); // Click panel, over shadow, below handles.\n\n    var clickPanel = new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: bind(this._onClickPanel, this)\n    });\n    var zr = this.api.getZr();\n    if (brushSelect) {\n      clickPanel.on('mousedown', this._onBrushStart, this);\n      clickPanel.cursor = 'crosshair';\n      zr.on('mousemove', this._onBrush);\n      zr.on('mouseup', this._onBrushEnd);\n    } else {\n      zr.off('mousemove', this._onBrush);\n      zr.off('mouseup', this._onBrushEnd);\n    }\n    barGroup.add(clickPanel);\n  };\n  SliderZoomView.prototype._renderDataShadow = function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n    this._displayables.dataShadowSegs = [];\n    if (!info) {\n      return;\n    }\n    var size = this._size;\n    var oldSize = this._shadowSize || [];\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var candlestickDim = seriesModel.getShadowDim && seriesModel.getShadowDim();\n    var otherDim = candlestickDim && data.getDimensionInfo(candlestickDim) ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n    if (otherDim == null) {\n      return;\n    }\n    var polygonPts = this._shadowPolygonPts;\n    var polylinePts = this._shadowPolylinePts; // Not re-render if data doesn't change.\n\n    if (data !== this._shadowData || otherDim !== this._shadowDim || size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n      var otherDataExtent_1 = data.getDataExtent(otherDim); // Nice extent.\n\n      var otherOffset = (otherDataExtent_1[1] - otherDataExtent_1[0]) * 0.3;\n      otherDataExtent_1 = [otherDataExtent_1[0] - otherOffset, otherDataExtent_1[1] + otherOffset];\n      var otherShadowExtent_1 = [0, size[1]];\n      var thisShadowExtent = [0, size[0]];\n      var areaPoints_1 = [[size[0], 0], [0, 0]];\n      var linePoints_1 = [];\n      var step_1 = thisShadowExtent[1] / (data.count() - 1);\n      var thisCoord_1 = 0; // Optimize for large data shadow\n\n      var stride_1 = Math.round(data.count() / size[0]);\n      var lastIsEmpty_1;\n      data.each([otherDim], function (value, index) {\n        if (stride_1 > 0 && index % stride_1) {\n          thisCoord_1 += step_1;\n          return;\n        } // FIXME\n        // Should consider axis.min/axis.max when drawing dataShadow.\n        // FIXME\n        // 应该使用统一的空判断？还是在list里进行空判断？\n\n        var isEmpty = value == null || isNaN(value) || value === ''; // See #4235.\n\n        var otherCoord = isEmpty ? 0 : linearMap(value, otherDataExtent_1, otherShadowExtent_1, true); // Attempt to draw data shadow precisely when there are empty value.\n\n        if (isEmpty && !lastIsEmpty_1 && index) {\n          areaPoints_1.push([areaPoints_1[areaPoints_1.length - 1][0], 0]);\n          linePoints_1.push([linePoints_1[linePoints_1.length - 1][0], 0]);\n        } else if (!isEmpty && lastIsEmpty_1) {\n          areaPoints_1.push([thisCoord_1, 0]);\n          linePoints_1.push([thisCoord_1, 0]);\n        }\n        areaPoints_1.push([thisCoord_1, otherCoord]);\n        linePoints_1.push([thisCoord_1, otherCoord]);\n        thisCoord_1 += step_1;\n        lastIsEmpty_1 = isEmpty;\n      });\n      polygonPts = this._shadowPolygonPts = areaPoints_1;\n      polylinePts = this._shadowPolylinePts = linePoints_1;\n    }\n    this._shadowData = data;\n    this._shadowDim = otherDim;\n    this._shadowSize = [size[0], size[1]];\n    var dataZoomModel = this.dataZoomModel;\n    function createDataShadowGroup(isSelectedArea) {\n      var model = dataZoomModel.getModel(isSelectedArea ? 'selectedDataBackground' : 'dataBackground');\n      var group = new graphic.Group();\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: polygonPts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('areaStyle').getAreaStyle(),\n        silent: true,\n        z2: -20\n      });\n      var polyline = new graphic.Polyline({\n        shape: {\n          points: polylinePts\n        },\n        segmentIgnoreThreshold: 1,\n        style: model.getModel('lineStyle').getLineStyle(),\n        silent: true,\n        z2: -19\n      });\n      group.add(polygon);\n      group.add(polyline);\n      return group;\n    } // let dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n\n    for (var i = 0; i < 3; i++) {\n      var group = createDataShadowGroup(i === 1);\n      this._displayables.sliderGroup.add(group);\n      this._displayables.dataShadowSegs.push(group);\n    }\n  };\n  SliderZoomView.prototype._prepareDataShadowInfo = function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n    if (showDataShadow === false) {\n      return;\n    } // Find a representative series.\n\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (axisDim, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(axisDim, axisIndex).getTargetSeriesModels();\n      each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n        if (showDataShadow !== true && indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n        var thisAxis = ecModel.getComponent(getAxisMainType(axisDim), axisIndex).axis;\n        var otherDim = getOtherDim(axisDim);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n        otherDim = seriesModel.getData().mapDimension(otherDim);\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: axisDim,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  };\n  SliderZoomView.prototype._renderHandle = function () {\n    var thisGroup = this.group;\n    var displayables = this._displayables;\n    var handles = displayables.handles = [null, null];\n    var handleLabels = displayables.handleLabels = [null, null];\n    var sliderGroup = this._displayables.sliderGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api;\n    var borderRadius = dataZoomModel.get('borderRadius') || 0;\n    var brushSelect = dataZoomModel.get('brushSelect');\n    var filler = displayables.filler = new Rect({\n      silent: brushSelect,\n      style: {\n        fill: dataZoomModel.get('fillerColor')\n      },\n      textConfig: {\n        position: 'inside'\n      }\n    });\n    sliderGroup.add(filler); // Frame border.\n\n    sliderGroup.add(new Rect({\n      silent: true,\n      subPixelOptimize: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1],\n        r: borderRadius\n      },\n      style: {\n        // deprecated option\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    })); // Left and right handle to resize\n\n    each([0, 1], function (handleIndex) {\n      var iconStr = dataZoomModel.get('handleIcon');\n      if (!symbolBuildProxies[iconStr] && iconStr.indexOf('path://') < 0 && iconStr.indexOf('image://') < 0) {\n        // Compatitable with the old icon parsers. Which can use a path string without path://\n        iconStr = 'path://' + iconStr;\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('handleIcon now needs \\'path://\\' prefix when using a path string');\n        }\n      }\n      var path = createSymbol(iconStr, -1, 0, 2, 2, null, true);\n      path.attr({\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false),\n        z2: 5\n      });\n      var bRect = path.getBoundingRect();\n      var handleSize = dataZoomModel.get('handleSize');\n      this._handleHeight = parsePercent(handleSize, this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      path.style.strokeNoScale = true;\n      path.rectHover = true;\n      path.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'handleStyle']).getItemStyle();\n      enableHoverEmphasis(path);\n      var handleColor = dataZoomModel.get('handleColor'); // deprecated option\n      // Compatitable with previous version\n\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n      sliderGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.getModel('textStyle');\n      thisGroup.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: createTextStyle(textStyleModel, {\n          x: 0,\n          y: 0,\n          text: '',\n          verticalAlign: 'middle',\n          align: 'center',\n          fill: textStyleModel.getTextColor(),\n          font: textStyleModel.getFont()\n        }),\n        z2: 10\n      }));\n    }, this); // Handle to move. Only visible when brushSelect is set true.\n\n    var actualMoveZone = filler;\n    if (brushSelect) {\n      var moveHandleHeight = parsePercent(dataZoomModel.get('moveHandleSize'), size[1]);\n      var moveHandle_1 = displayables.moveHandle = new graphic.Rect({\n        style: dataZoomModel.getModel('moveHandleStyle').getItemStyle(),\n        silent: true,\n        shape: {\n          r: [0, 0, 2, 2],\n          y: size[1] - 0.5,\n          height: moveHandleHeight\n        }\n      });\n      var iconSize = moveHandleHeight * 0.8;\n      var moveHandleIcon = displayables.moveHandleIcon = createSymbol(dataZoomModel.get('moveHandleIcon'), -iconSize / 2, -iconSize / 2, iconSize, iconSize, '#fff', true);\n      moveHandleIcon.silent = true;\n      moveHandleIcon.y = size[1] + moveHandleHeight / 2 - 0.5;\n      moveHandle_1.ensureState('emphasis').style = dataZoomModel.getModel(['emphasis', 'moveHandleStyle']).getItemStyle();\n      var moveZoneExpandSize = Math.min(size[1] / 2, Math.max(moveHandleHeight, 10));\n      actualMoveZone = displayables.moveZone = new graphic.Rect({\n        invisible: true,\n        shape: {\n          y: size[1] - moveZoneExpandSize,\n          height: moveHandleHeight + moveZoneExpandSize\n        }\n      });\n      actualMoveZone.on('mouseover', function () {\n        api.enterEmphasis(moveHandle_1);\n      }).on('mouseout', function () {\n        api.leaveEmphasis(moveHandle_1);\n      });\n      sliderGroup.add(moveHandle_1);\n      sliderGroup.add(moveHandleIcon);\n      sliderGroup.add(actualMoveZone);\n    }\n    actualMoveZone.attr({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: bind(this._onDragMove, this, 'all'),\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false)\n    });\n  };\n  SliderZoomView.prototype._resetInterval = function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n    var viewExtent = this._getViewExtent();\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  };\n  SliderZoomView.prototype._updateInterval = function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n    var viewExtend = this._getViewExtent();\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    var lastRange = this._range;\n    var range = this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n    return !lastRange || lastRange[0] !== range[0] || lastRange[1] !== range[1];\n  };\n  SliderZoomView.prototype._updateView = function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scaleX: handleHeight / 2,\n        scaleY: handleHeight / 2,\n        // This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.\n        // NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.\n        x: handleEnds[handleIndex] + (handleIndex ? -1 : 1),\n        y: size[1] / 2 - handleHeight / 2\n      });\n    }, this); // Filler\n\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n    var viewExtent = {\n      x: handleInterval[0],\n      width: handleInterval[1] - handleInterval[0]\n    }; // Move handle\n\n    if (displaybles.moveHandle) {\n      displaybles.moveHandle.setShape(viewExtent);\n      displaybles.moveZone.setShape(viewExtent); // Force update path on the invisible object\n\n      displaybles.moveZone.getBoundingRect();\n      displaybles.moveHandleIcon && displaybles.moveHandleIcon.attr('x', viewExtent.x + viewExtent.width / 2);\n    } // update clip path of shadow.\n\n    var dataShadowSegs = displaybles.dataShadowSegs;\n    var segIntervals = [0, handleInterval[0], handleInterval[1], size[0]];\n    for (var i = 0; i < dataShadowSegs.length; i++) {\n      var segGroup = dataShadowSegs[i];\n      var clipPath = segGroup.getClipPath();\n      if (!clipPath) {\n        clipPath = new graphic.Rect();\n        segGroup.setClipPath(clipPath);\n      }\n      clipPath.setShape({\n        x: segIntervals[i],\n        y: 0,\n        width: segIntervals[i + 1] - segIntervals[i],\n        height: size[1]\n      });\n    }\n    this._updateDataInfo(nonRealtime);\n  };\n  SliderZoomView.prototype._updateDataInfo = function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', '']; // FIXME\n    // date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）\n\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        verticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        align: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  };\n  SliderZoomView.prototype._formatLabel = function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n    var valueStr = value == null || isNaN(value) ? '' // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel({\n      value: Math.round(value)\n    }) // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return isFunction(labelFormatter) ? labelFormatter(value, valueStr) : isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  };\n  /**\n   * @param showOrHide true: show, false: hide\n   */\n\n  SliderZoomView.prototype._showDataInfo = function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var displayables = this._displayables;\n    var handleLabels = displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide); // Highlight move handle\n\n    displayables.moveHandle && this.api[showOrHide ? 'enterEmphasis' : 'leaveEmphasis'](displayables.moveHandle, 1);\n  };\n  SliderZoomView.prototype._onDragMove = function (handleIndex, dx, dy, event) {\n    this._dragging = true; // For mobile device, prevent screen slider on the button.\n\n    eventTool.stop(event.event); // Transform dx, dy to bar coordination.\n\n    var barTransform = this._displayables.sliderGroup.getLocalTransform();\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n    var changed = this._updateInterval(handleIndex, vertex[0]);\n    var realtime = this.dataZoomModel.get('realtime');\n    this._updateView(!realtime); // Avoid dispatch dataZoom repeatly but range not changed,\n    // which cause bad visual effect when progressive enabled.\n\n    changed && realtime && this._dispatchZoomAction(true);\n  };\n  SliderZoomView.prototype._onDragEnd = function () {\n    this._dragging = false;\n    this._showDataInfo(false); // While in realtime mode and stream mode, dispatch action when\n    // drag end will cause the whole view rerender, which is unnecessary.\n\n    var realtime = this.dataZoomModel.get('realtime');\n    !realtime && this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onClickPanel = function (e) {\n    var size = this._size;\n    var localPoint = this._displayables.sliderGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n    var changed = this._updateInterval('all', localPoint[0] - center);\n    this._updateView();\n    changed && this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onBrushStart = function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    this._brushStart = new graphic.Point(x, y);\n    this._brushing = true;\n    this._brushStartTime = +new Date(); // this._updateBrushRect(x, y);\n  };\n\n  SliderZoomView.prototype._onBrushEnd = function (e) {\n    if (!this._brushing) {\n      return;\n    }\n    var brushRect = this._displayables.brushRect;\n    this._brushing = false;\n    if (!brushRect) {\n      return;\n    }\n    brushRect.attr('ignore', true);\n    var brushShape = brushRect.shape;\n    var brushEndTime = +new Date(); // console.log(brushEndTime - this._brushStartTime);\n\n    if (brushEndTime - this._brushStartTime < 200 && Math.abs(brushShape.width) < 5) {\n      // Will treat it as a click\n      return;\n    }\n    var viewExtend = this._getViewExtent();\n    var percentExtent = [0, 100];\n    this._range = asc([linearMap(brushShape.x, viewExtend, percentExtent, true), linearMap(brushShape.x + brushShape.width, viewExtend, percentExtent, true)]);\n    this._handleEnds = [brushShape.x, brushShape.x + brushShape.width];\n    this._updateView();\n    this._dispatchZoomAction(false);\n  };\n  SliderZoomView.prototype._onBrush = function (e) {\n    if (this._brushing) {\n      // For mobile device, prevent screen slider on the button.\n      eventTool.stop(e.event);\n      this._updateBrushRect(e.offsetX, e.offsetY);\n    }\n  };\n  SliderZoomView.prototype._updateBrushRect = function (mouseX, mouseY) {\n    var displayables = this._displayables;\n    var dataZoomModel = this.dataZoomModel;\n    var brushRect = displayables.brushRect;\n    if (!brushRect) {\n      brushRect = displayables.brushRect = new Rect({\n        silent: true,\n        style: dataZoomModel.getModel('brushStyle').getItemStyle()\n      });\n      displayables.sliderGroup.add(brushRect);\n    }\n    brushRect.attr('ignore', false);\n    var brushStart = this._brushStart;\n    var sliderGroup = this._displayables.sliderGroup;\n    var endPoint = sliderGroup.transformCoordToLocal(mouseX, mouseY);\n    var startPoint = sliderGroup.transformCoordToLocal(brushStart.x, brushStart.y);\n    var size = this._size;\n    endPoint[0] = Math.max(Math.min(size[0], endPoint[0]), 0);\n    brushRect.setShape({\n      x: startPoint[0],\n      y: 0,\n      width: endPoint[0] - startPoint[0],\n      height: size[1]\n    });\n  };\n  /**\n   * This action will be throttled.\n   */\n\n  SliderZoomView.prototype._dispatchZoomAction = function (realtime) {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      animation: realtime ? REALTIME_ANIMATION_CONFIG : null,\n      start: range[0],\n      end: range[1]\n    });\n  };\n  SliderZoomView.prototype._findCoordRect = function () {\n    // Find the grid corresponding to the first axis referred by dataZoom.\n    var rect;\n    var coordSysInfoList = collectReferCoordSysModelInfo(this.dataZoomModel).infoList;\n    if (!rect && coordSysInfoList.length) {\n      var coordSys = coordSysInfoList[0].model.coordinateSystem;\n      rect = coordSys.getRect && coordSys.getRect();\n    }\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n    return rect;\n  };\n  SliderZoomView.type = 'dataZoom.slider';\n  return SliderZoomView;\n}(DataZoomView);\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // 这个逻辑和getOtherAxis里一致，但是写在这里是否不好\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\nexport default SliderZoomView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SliderZoomModel from './SliderZoomModel.js';\nimport SliderZoomView from './SliderZoomView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(SliderZoomModel);\n  registers.registerComponentView(SliderZoomView);\n  installCommon(registers);\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * This module is imported by echarts directly.\n *\n * Notice:\n * Always keep this file exists for backward compatibility.\n * Because before 4.1.0, dataset is an optional component,\n * some users may import this module manually.\n */\n\nimport ComponentModel from '../../model/Component.js';\nimport ComponentView from '../../view/Component.js';\nimport { SERIES_LAYOUT_BY_COLUMN } from '../../util/types.js';\nimport { disableTransformOptionMerge, SourceManager } from '../../data/helper/sourceManager.js';\nvar DatasetModel = /** @class */\nfunction (_super) {\n  __extends(DatasetModel, _super);\n  function DatasetModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'dataset';\n    return _this;\n  }\n  DatasetModel.prototype.init = function (option, parentModel, ecModel) {\n    _super.prototype.init.call(this, option, parentModel, ecModel);\n    this._sourceManager = new SourceManager(this);\n    disableTransformOptionMerge(this);\n  };\n  DatasetModel.prototype.mergeOption = function (newOption, ecModel) {\n    _super.prototype.mergeOption.call(this, newOption, ecModel);\n    disableTransformOptionMerge(this);\n  };\n  DatasetModel.prototype.optionUpdated = function () {\n    this._sourceManager.dirty();\n  };\n  DatasetModel.prototype.getSourceManager = function () {\n    return this._sourceManager;\n  };\n  DatasetModel.type = 'dataset';\n  DatasetModel.defaultOption = {\n    seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN\n  };\n  return DatasetModel;\n}(ComponentModel);\nexport { DatasetModel };\nvar DatasetView = /** @class */\nfunction (_super) {\n  __extends(DatasetView, _super);\n  function DatasetView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = 'dataset';\n    return _this;\n  }\n  DatasetView.type = 'dataset';\n  return DatasetView;\n}(ComponentView);\nexport function install(registers) {\n  registers.registerComponentModel(DatasetModel);\n  registers.registerComponentView(DatasetView);\n}","import \"core-js/modules/es.function.name.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport MapDraw from '../helper/MapDraw.js';\nimport ComponentView from '../../view/Component.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { findEventDispatcher } from '../../util/event.js';\nvar GeoView = /** @class */\nfunction (_super) {\n  __extends(GeoView, _super);\n  function GeoView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GeoView.type;\n    _this.focusBlurEnabled = true;\n    return _this;\n  }\n  GeoView.prototype.init = function (ecModel, api) {\n    this._api = api;\n  };\n  GeoView.prototype.render = function (geoModel, ecModel, api, payload) {\n    this._model = geoModel;\n    if (!geoModel.get('show')) {\n      this._mapDraw && this._mapDraw.remove();\n      this._mapDraw = null;\n      return;\n    }\n    if (!this._mapDraw) {\n      this._mapDraw = new MapDraw(api);\n    }\n    var mapDraw = this._mapDraw;\n    mapDraw.draw(geoModel, ecModel, api, this, payload);\n    mapDraw.group.on('click', this._handleRegionClick, this);\n    mapDraw.group.silent = geoModel.get('silent');\n    this.group.add(mapDraw.group);\n    this.updateSelectStatus(geoModel, ecModel, api);\n  };\n  GeoView.prototype._handleRegionClick = function (e) {\n    var eventData;\n    findEventDispatcher(e.target, function (current) {\n      return (eventData = getECData(current).eventData) != null;\n    }, true);\n    if (eventData) {\n      this._api.dispatchAction({\n        type: 'geoToggleSelect',\n        geoId: this._model.id,\n        name: eventData.name\n      });\n    }\n  };\n  GeoView.prototype.updateSelectStatus = function (model, ecModel, api) {\n    var _this = this;\n    this._mapDraw.group.traverse(function (node) {\n      var eventData = getECData(node).eventData;\n      if (eventData) {\n        _this._model.isSelected(eventData.name) ? api.enterSelect(node) : api.leaveSelect(node); // No need to traverse children.\n\n        return true;\n      }\n    });\n  };\n  GeoView.prototype.findHighDownDispatchers = function (name) {\n    return this._mapDraw && this._mapDraw.findHighDownDispatchers(name, this._model);\n  };\n  GeoView.prototype.dispose = function () {\n    this._mapDraw && this._mapDraw.remove();\n  };\n  GeoView.type = 'geo';\n  return GeoView;\n}(ComponentView);\nexport default GeoView;","import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.push.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport GeoModel from '../../coord/geo/GeoModel.js';\nimport geoCreator from '../../coord/geo/geoCreator.js';\nimport { each } from 'zrender/lib/core/util.js';\nimport { updateCenterAndZoom } from '../../action/roamHelper.js';\nimport GeoView from './GeoView.js';\nimport geoSourceManager from '../../coord/geo/geoSourceManager.js';\nfunction registerMap(mapName, geoJson, specialAreas) {\n  geoSourceManager.registerMap(mapName, geoJson, specialAreas);\n}\nexport function install(registers) {\n  registers.registerCoordinateSystem('geo', geoCreator);\n  registers.registerComponentModel(GeoModel);\n  registers.registerComponentView(GeoView);\n  registers.registerImpl('registerMap', registerMap);\n  registers.registerImpl('getMap', function (mapName) {\n    return geoSourceManager.getMapForUser(mapName);\n  });\n  function makeAction(method, actionInfo) {\n    actionInfo.update = 'geo:updateSelectStatus';\n    registers.registerAction(actionInfo, function (payload, ecModel) {\n      var selected = {};\n      var allSelected = [];\n      ecModel.eachComponent({\n        mainType: 'geo',\n        query: payload\n      }, function (geoModel) {\n        geoModel[method](payload.name);\n        var geo = geoModel.coordinateSystem;\n        each(geo.regions, function (region) {\n          selected[region.name] = geoModel.isSelected(region.name) || false;\n        }); // Notice: there might be duplicated name in different regions.\n\n        var names = [];\n        each(selected, function (v, name) {\n          selected[name] && names.push(name);\n        });\n        allSelected.push({\n          geoIndex: geoModel.componentIndex,\n          // Use singular, the same naming convention as the event `selectchanged`.\n          name: names\n        });\n      });\n      return {\n        selected: selected,\n        allSelected: allSelected,\n        name: payload.name\n      };\n    });\n  }\n  makeAction('toggleSelected', {\n    type: 'geoToggleSelect',\n    event: 'geoselectchanged'\n  });\n  makeAction('select', {\n    type: 'geoSelect',\n    event: 'geoselected'\n  });\n  makeAction('unSelect', {\n    type: 'geoUnSelect',\n    event: 'geounselected'\n  });\n  /**\n   * @payload\n   * @property {string} [componentType=series]\n   * @property {number} [dx]\n   * @property {number} [dy]\n   * @property {number} [zoom]\n   * @property {number} [originX]\n   * @property {number} [originY]\n   */\n\n  registers.registerAction({\n    type: 'geoRoam',\n    event: 'geoRoam',\n    update: 'updateTransform'\n  }, function (payload, ecModel, api) {\n    var componentType = payload.componentType || 'series';\n    ecModel.eachComponent({\n      mainType: componentType,\n      query: payload\n    }, function (componentModel) {\n      var geo = componentModel.coordinateSystem;\n      if (geo.type !== 'geo') {\n        return;\n      }\n      var res = updateCenterAndZoom(geo, payload, componentModel.get('scaleLimit'), api);\n      componentModel.setCenter && componentModel.setCenter(res.center);\n      componentModel.setZoom && componentModel.setZoom(res.zoom); // All map series with same `map` use the same geo coordinate system\n      // So the center and zoom must be in sync. Include the series not selected by legend\n\n      if (componentType === 'series') {\n        each(componentModel.seriesGroup, function (seriesModel) {\n          seriesModel.setCenter(res.center);\n          seriesModel.setZoom(res.zoom);\n        });\n      }\n    });\n  });\n}"],"names":["DEFAULT_TOOLBOX_BTNS","brushPreprocessor","option","isNew","brushComponents","brush","length","brushComponentSpecifiedBtns","brushOpt","tbs","hasOwnProperty","toolbox","Array","concat","feature","toolboxFeature","toolboxBrush","brushTypes","type","push","apply","removeDuplicate","arr","map","val","flag","makeBrushCommonSelectorForSeries","area","brushType","selectors","point","itemLayout","selector","rect","lineX","getLineSelectors","lineY","boundingRect","contain","intersect","polygon","polygonContain","range","points","x","y","width","height","p","BoundingRect","linePolygonIntersect","xyIndex","xy","wh","inLineRange","layoutRange","reverse","STATE_LIST","DISPATCH_METHOD","DISPATCH_FLAG","layoutCovers","ecModel","eachComponent","mainType","brushModel","brushTargetManager","BrushTargetManager","setInputRanges","areas","brushVisual","api","payload","throttleType","throttleDelay","brushSelected","setBrushOption","key","brushOption","brushIndex","thisBrushSelected","brushId","id","brushName","name","selected","brushLink","linkedSeriesMap","selectedDataIndexForLink","rangeInfoBySeries","hasBrushExists","builder","boundingRectBuilders","selectableArea","visualMappings","visualSolution","mappingOption","mappingMethod","linkOthers","seriesIndex","brushed","rangeInfoList","stepAParallel","seriesModel","coordSys","coordinateSystem","hasAxisBrushed","eachActiveState","getData","activeState","dataIndex","stepAOthers","brushSelector","brushModelNotControll","controlSeries","data_1","each","checkInRange","eachSeries","subType","seriesBrushSelected","seriesId","seriesName","data","getValueState","getRawIndex","dispatchAction","zr","getZr","doDispatch","fn","throttle","isDisposed","batch","i","len","seriesIndices","getBoundingRectFromMinMax","minMax","Infinity","rg","BrushView","_super","_this","this","arguments","prototype","init","model","_brushController","BrushController","on","_onBrush","mount","render","_updateController","updateTransform","updateVisual","updateView","$from","setPanels","makePanelOpts","enableBrush","updateCovers","slice","dispose","eventParam","modelId","setOutputRanges","isEnd","removeOnClick","Component","DEFAULT_OUT_OF_BRUSH_COLOR","BrushModel","optionUpdated","newOption","isInit","thisOption","inBrush","outOfBrush","color","liftZ","setAreas","generateBrushOption","dependencies","defaultOption","brushMode","transformable","brushStyle","borderWidth","borderColor","z","Model","getItemStyle","install","registers","registerComponentView","registerComponentModel","registerPreprocessor","registerVisual","PRIORITY","VISUAL","BRUSH","registerAction","event","update","query","noop","Brush","CalendarView","__extends","calendarModel","group","removeAll","rangeData","getRangeInfo","orient","getOrient","localeModel","getLocaleModel","_renderDayRect","_renderLines","_renderYearText","_renderMonthText","_renderWeekText","itemRectStyleModel","getModel","sw","getCellWidth","sh","getCellHeight","start","time","end","getNextNDay","dataToRect","tl","graphic","shape","cursor","style","add","self","lineStyleModel","getLineStyle","show","get","lineWidth","_tlpoints","_blpoints","_firstDayOfMonth","_firstDayPoints","firstDay","addPoints","formatedDate","getDateInfo","m","date","setMonth","getMonth","_getLinePointsOfOneWeek","_drawSplitline","_getEdgesPoints","rs","idx","lineStyle","poyline","z2","parsedDate","tmpD","day","_formatterLabel","formatter","params","isString","formatTplSimple","isFunction","nameMap","_yearTextPositionControl","textEl","position","margin","aligns","rotate","Math","PI","rotation","align","verticalAlign","yearLabel","pos","xc","yc","posPoints","top","bottom","left","right","content","yearText","createTextStyle","text","attr","_monthTextPositionControl","isCenter","vAlign","monthLabel","termPoints","axis","tmp","firstDayPoints","name_1","yyyy","yy","MM","M","monthText","extend","_weekTextPositionControl","cellSize","isStart","dayLabel","firstDayOfWeek","getFirstDayOfWeek","dayOfWeekShort","lweek","parsePercent","min","fweek","center","abs","weekText","ComponentView","CalendarModel","registerCoordinateSystem","Calendar","DataZoomAxisInfo","indexList","indexMap","axisCmptIdx","DataZoomModel","_autoThrottle","_noTarget","_rangePropMode","parentModel","inputRawOption","retrieveRawOption","settledOption","mergeDefaultAndTheme","_doInit","mergeOption","merge","_setDefaultThrottle","_updateRangeUse","names","index","_resetTarget","optionOrient","targetAxisIndexMap","_targetAxisInfoMap","createHashMap","hasAxisSpecified","_fillSpecifiedTargetAxis","_orient","_makeAutoOrientByTargetAxis","_fillAutoTargetAxisByOrient","axisInfo","DATA_ZOOM_AXIS_DIMENSIONS","axisDim","refering","getReferringComponents","getAxisMainType","MULTIPLE_REFERRING","specified","models","axisModel","componentIndex","set","needAuto","axisModels","findComponents","setParallelAxis","filter","gridModel_1","SINGLE_REFERRING","axModel","dim","eachTargetAxis","globalOption","animation","animationDurationUpdate","rangePropMode","rangeModeInOption","percentSpecified","valueSpecified","noTarget","getFirstTargetAxisModel","firstAxisModel","axisIndex","getComponent","callback","context","call","getAxisProxy","getAxisModel","__dzAxisProxy","setRawRange","opt","setCalculatedRange","getPercentRange","axisProxy","findRepresentativeAxisProxy","getDataPercentWindow","getValueRange","getDataValueWindow","firstProxy","axisDimList","keys","j","proxy","hostedBy","getRangePropMode","filterMode","ComponentModel","ret","DataZoomView","dataZoomModel","SERIES_COORDS","isCoordSupported","coordType","indexOf","findEffectedDataZooms","foundNewLink","axisRecords","effectedModels","effectedModelMap","uid","addToEffected","processSingle","isLinked","dataZoom","markAxisControlled","isLink","axisIdxArr","collectReferCoordSysModelInfo","coordSysInfoWrap","infoList","infoMap","coordSysModel","getCoordSysModel","coordSysUid","coordSysInfo","zrUtil","inner","makeInner","newSnapshot","storedSnapshots","getStoreSnapshots","batchItem","dataZoomId","snapshot","queryComponents","percentRange","pop","head","clear","snapshots","count","store","asc","numberUtil","AxisProxy","dimName","_dimName","_axisIndex","_dataZoomModel","_valueWindow","_percentWindow","getTargetSeriesModels","seriesModels","axisMainType","getMinMaxSpan","_minMaxSpan","calculateDataWindow","hasPropModeValue","dataExtent","_dataExtent","scale","percentExtent","percentWindow","valueWindow","prop","boundPercent","boundValue","parse","isNaN","spans","restrictSet","fromWindow","toWindow","fromExtent","toExtent","toValue","suffix","sliderMove","reset","targetSeries","calculateDataExtent","_updateMinMaxSpan","dataWindow","_setAxisModel","filterData","seriesData","dataDims","mapDimensionsAll","store_1","getStore","dataDimIndices_1","getDimensionIndex","filterSelf","leftOut","rightOut","hasValue","value","thisHasValue","thisLeftOut","thisRightOut","setData","isInWindow","NaN","selectRange","setApproximateExtent","minMaxSpan","percentSpan","valueSpan","precision","rawExtentInfo","setDeterminedMinMax","toFixed","freeze","unionAxisExtentFromData","rawExtentResult","ensureScaleRawExtentInfo","calculate","max","dataZoomProcessor","getTargetSeries","eachAxisModel","cb","proxyList","seriesModelMap","overallReset","valueRange","startValue","endValue","installDataZoomAction","installed","installCommon","registerProcessor","PROCESSOR","FILTER","registerSubTypeDefaulter","InsideZoomModel","disabled","zoomLock","zoomOnMouseWheel","moveOnMouseMove","moveOnMouseWheel","preventDefaultMouseMove","setViewInfoToCoordSysRecord","getRange","coordSysRecordMap","coordSysRecord","dzInfo","dataZoomInfoMap","disposeCoordSysRecordIfNeeded","coordSysKeyArr","coordSysKey","dzUid","removeKey","disposeCoordSysRecord","controller","createCoordSysRecord","containsPoint","curry","RoamController","eventName","isAvailableBehavior","method","dzReferCoordSysInfo","easing","duration","e","containPoint","mergeControllerParams","controlType","prefix","typePriority","dataZoomInfo","oneType","installDataZoomRoamProcessor","apiInner","dzReferCoordSysWrap","dzCoordSysInfo","firstDzInfo","firstDzKey","controllerParams","enable","setPointerChecker","InsideZoomView","_clear","pan","bind","getRangeHandlers","zoom","scrollMove","coordSysMainType","lastRange","directionInfo","getDirectionInfo","originX","originY","percentPoint","signal","pixelStart","pixelLength","pixel","minSpan","maxSpan","makeMover","oldX","oldY","newX","newY","scrollDelta","getPercentDelta","percentDelta","grid","oldPoint","newPoint","getRect","inverse","polar","radiusExtent","getRadiusAxis","getExtent","angleExtent","getAngleAxis","pointToCoord","singleAxis","SelectDataZoomModel","SelectDataZoomView","SelectZoomModel","SelectZoomView","SliderZoomModel","layoutMode","borderRadius","backgroundColor","dataBackground","areaStyle","opacity","selectedDataBackground","fillerColor","handleIcon","handleSize","handleStyle","moveHandleSize","moveHandleIcon","moveHandleStyle","showDetail","showDataShadow","realtime","textStyle","brushSelect","emphasis","DEFAULT_LOCATION_EDGE_GAP","DEFAULT_FRAME_BORDER_WIDTH","DEFAULT_FILLER_SIZE","DEFAULT_MOVE_HANDLE_SIZE","HORIZONTAL","VERTICAL","LABEL_GAP","SHOW_DATA_SHADOW_SERIES_TYPE","REALTIME_ANIMATION_CONFIG","delay","SliderZoomView","_displayables","_onBrushEnd","from","_buildView","_updateView","off","thisGroup","_brushing","brushRect","_resetLocation","_resetInterval","barGroup","sliderGroup","_renderBackground","_renderHandle","_renderDataShadow","_positionGroup","showMoveHandle","coordRect","_findCoordRect","ecSize","getWidth","getHeight","positionInfo","layoutParams","layout","layoutRect","_location","_size","location","targetAxisModel","otherAxisInverse","_dataShadowInfo","scaleY","scaleX","getBoundingRect","markRedraw","_getViewExtent","size","silent","fill","clickPanel","onclick","_onClickPanel","_onBrushStart","info","_prepareDataShadowInfo","dataShadowSegs","oldSize","_shadowSize","series","getRawData","candlestickDim","getShadowDim","otherDim","getDimensionInfo","polygonPts","_shadowPolygonPts","polylinePts","_shadowPolylinePts","_shadowData","_shadowDim","otherDataExtent_1","getDataExtent","otherOffset","lastIsEmpty_1","otherShadowExtent_1","thisShadowExtent","areaPoints_1","linePoints_1","step_1","thisCoord_1","stride_1","round","isEmpty","otherCoord","createDataShadowGroup","isSelectedArea","segmentIgnoreThreshold","getAreaStyle","polyline","result","thisAxis","getOtherDim","getOtherAxis","mapDimension","thisDim","displayables","handles","handleLabels","filler","textConfig","subPixelOptimize","r","stroke","handleIndex","iconStr","symbol","path","getCursor","draggable","drift","_onDragMove","ondragend","_onDragEnd","onmouseover","_showDataInfo","onmouseout","bRect","_handleHeight","_handleWidth","setStyle","strokeNoScale","rectHover","ensureState","handleColor","textStyleModel","invisible","getTextColor","font","getFont","actualMoveZone","moveHandleHeight","moveHandle_1","moveHandle","iconSize","moveZoneExpandSize","moveZone","enterEmphasis","leaveEmphasis","ondragstart","_range","viewExtent","_handleEnds","_updateInterval","delta","handleEnds","viewExtend","nonRealtime","displaybles","handleInterval","handle","handleHeight","setShape","segIntervals","segGroup","clipPath","getClipPath","setClipPath","_updateDataInfo","labelTexts","dataInterval","_formatLabel","orderedHandleEnds","setLabel","barTransform","getTransform","parent","direction","transformDirection","offset","textPoint","applyTransform","labelFormatter","labelPrecision","getPixelPrecision","valueStr","getLabel","replace","showOrHide","_dragging","dx","dy","getLocalTransform","vertex","changed","_dispatchZoomAction","localPoint","transformCoordToLocal","offsetX","offsetY","_brushStart","_brushStartTime","Date","brushShape","brushEndTime","_updateBrushRect","mouseX","mouseY","brushStart","endPoint","startPoint","coordSysInfoList","radius","angle","DatasetModel","_sourceManager","dirty","getSourceManager","seriesLayoutBy","DatasetView","GeoView","focusBlurEnabled","_api","geoModel","_model","_mapDraw","remove","MapDraw","mapDraw","draw","_handleRegionClick","updateSelectStatus","eventData","target","current","geoId","traverse","node","isSelected","enterSelect","leaveSelect","findHighDownDispatchers","registerMap","mapName","geoJson","specialAreas","geoSourceManager","makeAction","actionInfo","allSelected","geo","regions","region","v","geoIndex","geoCreator","GeoModel","registerImpl","componentType","componentModel","res","setCenter","setZoom","seriesGroup"],"sourceRoot":""}