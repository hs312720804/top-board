"use strict";(self["webpackChunkdataboard"]=self["webpackChunkdataboard"]||[]).push([[733],{89955:function(t,e,o){o(47042);var i=o(57490),n=o(33051),r=o(9219),a=["rect","polygon","lineX","lineY","keep","clear"],s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.render=function(t,e,o){var i,r,a;e.eachComponent({mainType:"brush"},(function(t){i=t.brushType,r=t.brushOption.brushMode||"single",a=a||!!t.areas.length})),this._brushType=i,this._brushMode=r,n.each(t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===r:"clear"===e?a:e===i)?"emphasis":"normal")}))},e.prototype.updateView=function(t,e,o){this.render(t,e,o)},e.prototype.getIcons=function(){var t=this.model,e=t.get("icon",!0),o={};return n.each(t.get("type",!0),(function(t){e[t]&&(o[t]=e[t])})),o},e.prototype.onclick=function(t,e,o){var i=this._brushType,n=this._brushMode;"clear"===o?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===o?i:i!==o&&o,brushMode:"keep"===o?"multiple"===n?"single":"multiple":n}})},e.getDefaultOption=function(t){var e={show:!0,type:a.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return e},e}(r.f1);e["Z"]=s},9219:function(t,e,o){o.d(e,{Bm:function(){return a},f1:function(){return i},ls:function(){return r}});var i=function(){function t(){}return t}(),n={};function r(t,e){n[t]=e}function a(t){return n[t]}},58763:function(t,e,o){o.d(e,{N:function(){return ut}});var i=o(51305),n=o(10751),r=o(57490),a=o(33051),s=o(9219),l=o(56033),h=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return(0,r.ZT)(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;a.each(this.option.feature,(function(t,o){var i=s.Bm(o);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(e)),a.merge(t,i.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(l.Z),u=h,d=(o(57658),o(43290),o(80423)),p=o(92317),c=o(97193),f=o(34925),g=o(49349),m=o(83569),y=o(24274),v=o(96858),x=o(96498),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.render=function(t,e,o,i){var n=this.group;if(n.removeAll(),t.get("show")){var r=+t.get("itemSize"),l="vertical"===t.get("orient"),h=t.get("feature")||{},u=this._features||(this._features={}),y=[];a.each(h,(function(t,e){y.push(e)})),new g.Z(this._featureNames||[],y).add(_).update(_).remove(a.curry(_,null)).execute(),this._featureNames=y,m.b(n,t,o),n.add(m.l(n.getBoundingRect(),t)),l||n.eachChild((function(t){var e=t.__title,i=t.ensureState("emphasis"),s=i.textConfig||(i.textConfig={}),l=t.getTextContent(),h=l&&l.ensureState("emphasis");if(h&&!a.isFunction(h)&&e){var u=h.style||(h.style={}),p=d.lP(e,x.ZP.makeFont(u)),c=t.x+n.x,f=t.y+n.y+r,g=!1;f+p.height>o.getHeight()&&(s.position="top",g=!0);var m=g?-5-p.height:r+10;c+p.width/2>o.getWidth()?(s.position=["100%",m],u.align="right"):c-p.width/2<0&&(s.position=[0,m],u.align="left")}}))}function _(n,r){var a,l=y[n],d=y[r],p=h[l],g=new f.Z(p,t,t.ecModel);if(i&&null!=i.newTitle&&i.featureName===l&&(p.title=i.newTitle),l&&!d){if(w(l))a={onclick:g.option.onclick,featureName:l};else{var m=(0,s.Bm)(l);if(!m)return;a=new m}u[l]=a}else if(a=u[d],!a)return;a.uid=(0,v.Kr)("toolbox-feature"),a.model=g,a.ecModel=e,a.api=o;var x=a instanceof s.f1;l||!d?!g.get("show")||x&&a.unusable?x&&a.remove&&a.remove(e,o):(b(g,a,l),g.setIconStatus=function(t,e){var o=this.option,i=this.iconPaths;o.iconStatus=o.iconStatus||{},o.iconStatus[t]=e,i[t]&&("emphasis"===e?c.fD:c.Mh)(i[t])},a instanceof s.f1&&a.render&&a.render(g,e,o,i)):x&&a.dispose&&a.dispose(e,o)}function b(i,h,u){var d,f,g=i.getModel("iconStyle"),m=i.getModel(["emphasis","iconStyle"]),y=h instanceof s.f1&&h.getIcons?h.getIcons():i.get("icon"),v=i.get("title")||{};a.isString(y)?(d={},d[u]=y):d=y,a.isString(v)?(f={},f[u]=v):f=v;var _=i.iconPaths={};a.each(d,(function(s,u){var d=p.createIcon(s,{},{x:-r/2,y:-r/2,width:r,height:r});d.setStyle(g.getItemStyle());var y=d.ensureState("emphasis");y.style=m.getItemStyle();var v=new x.ZP({style:{text:f[u],align:m.get("textAlign"),borderRadius:m.get("textBorderRadius"),padding:m.get("textPadding"),fill:null},ignore:!0});d.setTextContent(v),p.setTooltipConfig({el:d,componentModel:t,itemName:u,formatterParamsExtra:{title:f[u]}}),d.__title=f[u],d.on("mouseover",(function(){var e=m.getItemStyle(),i=l?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";v.setStyle({fill:m.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:m.get("textBackgroundColor")}),d.setTextConfig({position:m.get("textPosition")||i}),v.ignore=!t.get("showTitle"),o.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==i.get(["iconStatus",u])&&o.leaveEmphasis(this),v.hide()})),("emphasis"===i.get(["iconStatus",u])?c.fD:c.Mh)(d),n.add(d),d.on("click",a.bind(h.onclick,h,e,o,u)),_[u]=d}))}},e.prototype.updateView=function(t,e,o,i){a.each(this._features,(function(t){t instanceof s.f1&&t.updateView&&t.updateView(t.model,e,o,i)}))},e.prototype.remove=function(t,e){a.each(this._features,(function(o){o instanceof s.f1&&o.remove&&o.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){a.each(this._features,(function(o){o instanceof s.f1&&o.dispose&&o.dispose(t,e)}))},e.type="toolbox",e}(y.Z);function w(t){return 0===t.indexOf("my")}var b=_,M=(o(75505),o(87714),o(82801),o(1174),o(39575),o(41539),o(82472),o(48675),o(92990),o(18927),o(33105),o(35035),o(74345),o(7174),o(63408),o(14590),o(32846),o(44731),o(77209),o(96319),o(58867),o(37789),o(33739),o(29368),o(14483),o(12056),o(3462),o(30678),o(27462),o(33824),o(55021),o(12974),o(15016),o(66387)),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.onclick=function(t,e){var o=this.model,i=o.get("name")||t.get("title.0.text")||"echarts",n="svg"===e.getZr().painter.getType(),r=n?"svg":o.get("type",!0)||"png",s=e.getConnectedDataURL({type:r,backgroundColor:o.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:o.get("connectedBackgroundColor"),excludeComponents:o.get("excludeComponents"),pixelRatio:o.get("pixelRatio")}),l=M.Z.browser;if((0,a.isFunction)(MouseEvent)&&(l.newEdge||!l.ie&&!l.edge)){var h=document.createElement("a");h.download=i+"."+r,h.target="_blank",h.href=s;var u=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});h.dispatchEvent(u)}else if(window.navigator.msSaveOrOpenBlob||n){var d=s.split(","),p=d[0].indexOf("base64")>-1,c=n?decodeURIComponent(d[1]):d[1];p&&(c=window.atob(c));var f=i+"."+r;if(window.navigator.msSaveOrOpenBlob){var g=c.length,m=new Uint8Array(g);while(g--)m[g]=c.charCodeAt(g);var y=new Blob([m]);window.navigator.msSaveOrOpenBlob(y,f)}else{var v=document.createElement("iframe");document.body.appendChild(v);var x=v.contentWindow,_=x.document;_.open("image/svg+xml","replace"),_.write(c),_.close(),x.focus(),_.execCommand("SaveAs",!0,f),document.body.removeChild(v)}}else{var w=o.get("lang"),b='<body style="margin:0;"><img src="'+s+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" /></body>',C=window.open();C.document.write(b),C.document.title=i}},e.getDefaultOption=function(t){var e={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return e},e}(s.f1),T=C,S=o(51365),k=o(14035),A="__ec_magicType_stack__",I=[["line","bar"],["stack"]],O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),o={};return a.each(t.get("type"),(function(t){e[t]&&(o[t]=e[t])})),o},e.getDefaultOption=function(t){var e={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return e},e.prototype.onclick=function(t,e,o){var i=this.model,n=i.get(["seriesIndex",o]);if(D[o]){var r,s={series:[]},l=function(t){var e=t.subType,n=t.id,r=D[o](e,n,t,i);r&&(a.defaults(r,t.option),s.series.push(r));var l=t.coordinateSystem;if(l&&"cartesian2d"===l.type&&("line"===o||"bar"===o)){var h=l.getAxesByScale("ordinal")[0];if(h){var u=h.dim,d=u+"Axis",p=t.getReferringComponents(d,k.C6).models[0],c=p.componentIndex;s[d]=s[d]||[];for(var f=0;f<=c;f++)s[d][c]=s[d][c]||{};s[d][c].boundaryGap="bar"===o}}};a.each(I,(function(t){a.indexOf(t,o)>=0&&a.each(t,(function(t){i.setIconStatus(t,"normal")}))})),i.setIconStatus(o,"emphasis"),t.eachComponent({mainType:"series",query:null==n?null:{seriesIndex:n}},l);var h=o;"stack"===o&&(r=a.merge({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",o])&&(h="tiled")),e.dispatchAction({type:"changeMagicType",currentType:h,newOption:s,newTitle:r,featureName:"magicType"})}},e}(s.f1),D={line:function(t,e,o,i){if("bar"===t)return a.merge({id:e,type:"line",data:o.get("data"),stack:o.get("stack"),markPoint:o.get("markPoint"),markLine:o.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(t,e,o,i){if("line"===t)return a.merge({id:e,type:"bar",data:o.get("data"),stack:o.get("stack"),markPoint:o.get("markPoint"),markLine:o.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(t,e,o,i){var n=o.get("stack")===A;if("line"===t||"bar"===t)return i.setIconStatus("stack",n?"normal":"emphasis"),a.merge({id:e,stack:n?"":A},i.get(["option","stack"])||{},!0)}};S.zl({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var Z=O,z=(o(69600),o(92222),o(68309),o(74916),o(15306),o(47042),o(24603),o(28450),o(88386),o(39714),o(23123),o(21703),o(61158)),H=new Array(60).join("-"),L="\t";function B(t){var e={},o=[],i=[];return t.eachRawSeries((function(t){var n=t.coordinateSystem;if(!n||"cartesian2d"!==n.type&&"polar"!==n.type)o.push(t);else{var r=n.getBaseAxis();if("category"===r.type){var a=r.dim+"_"+r.index;e[a]||(e[a]={categoryAxis:r,valueAxis:n.getOtherAxis(r),series:[]},i.push({axisDim:r.dim,axisIndex:r.index})),e[a].series.push(t)}else o.push(t)}})),{seriesGroupByCategoryAxis:e,other:o,meta:i}}function V(t){var e=[];return a.each(t,(function(t,o){var i=t.categoryAxis,n=t.valueAxis,r=n.dim,s=[" "].concat(a.map(t.series,(function(t){return t.name}))),l=[i.model.getCategories()];a.each(t.series,(function(t){var e=t.getRawData();l.push(t.getRawData().mapArray(e.mapDimension(r),(function(t){return t})))}));for(var h=[s.join(L)],u=0;u<l[0].length;u++){for(var d=[],p=0;p<l.length;p++)d.push(l[p][u]);h.push(d.join(L))}e.push(h.join("\n"))})),e.join("\n\n"+H+"\n\n")}function P(t){return a.map(t,(function(t){var e=t.getRawData(),o=[t.name],i=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,n=arguments[t-1],r=e.getName(n),a=0;a<t-1;a++)i[a]=arguments[a];o.push((r?r+L:"")+i.join(L))})),o.join("\n")})).join("\n\n"+H+"\n\n")}function R(t){var e=B(t);return{value:a.filter([V(e.seriesGroupByCategoryAxis),P(e.other)],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+H+"\n\n"),meta:e.meta}}function E(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function X(t){var e=t.slice(0,t.indexOf("\n"));if(e.indexOf(L)>=0)return!0}var Y=new RegExp("["+L+"]+","g");function N(t){for(var e=t.split(/\n+/g),o=E(e.shift()).split(Y),i=[],n=a.map(o,(function(t){return{name:t,data:[]}})),r=0;r<e.length;r++){var s=E(e[r]).split(Y);i.push(s.shift());for(var l=0;l<s.length;l++)n[l]&&(n[l].data[r]=s[l])}return{series:n,categories:i}}function W(t){for(var e=t.split(/\n+/g),o=E(e.shift()),i=[],n=0;n<e.length;n++){var r=E(e[n]);if(r){var a=r.split(Y),s="",l=void 0,h=!1;isNaN(a[0])?(h=!0,s=a[0],a=a.slice(1),i[n]={name:s,value:[]},l=i[n].value):l=i[n]=[];for(var u=0;u<a.length;u++)l.push(+a[u]);1===l.length&&(h?i[n].value=l[0]:i[n]=l[0])}}return{name:o,data:i}}function j(t,e){var o=t.split(new RegExp("\n*"+H+"\n*","g")),i={series:[]};return a.each(o,(function(t,o){if(X(t)){var n=N(t),r=e[o],a=r.axisDim+"Axis";r&&(i[a]=i[a]||[],i[a][r.axisIndex]={data:n.categories},i.series=i.series.concat(n.series))}else{n=W(t);i.series.push(n)}})),i}var F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.onclick=function(t,e){setTimeout((function(){e.dispatchAction({type:"hideTip"})}));var o=e.getDom(),i=this.model;this._dom&&o.removeChild(this._dom);var n=document.createElement("div");n.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",n.style.backgroundColor=i.get("backgroundColor")||"#fff";var r=document.createElement("h4"),s=i.get("lang")||[];r.innerHTML=s[0]||i.get("title"),r.style.cssText="margin:10px 20px",r.style.color=i.get("textColor");var l=document.createElement("div"),h=document.createElement("textarea");l.style.cssText="overflow:auto";var u=i.get("optionToContent"),d=i.get("contentToOption"),p=R(t);if(a.isFunction(u)){var c=u(e.getOption());a.isString(c)?l.innerHTML=c:a.isDom(c)&&l.appendChild(c)}else{h.readOnly=i.get("readOnly");var f=h.style;f.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",f.color=i.get("textColor"),f.borderColor=i.get("textareaBorderColor"),f.backgroundColor=i.get("textareaColor"),h.value=p.value,l.appendChild(h)}var g=p.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),x=document.createElement("div");y+=";background-color:"+i.get("buttonColor"),y+=";color:"+i.get("buttonTextColor");var _=this;function w(){o.removeChild(n),_._dom=null}(0,z.Oo)(v,"click",w),(0,z.Oo)(x,"click",(function(){if(null==d&&null!=u||null!=d&&null==u)w();else{var t;try{t=a.isFunction(d)?d(l,e.getOption()):j(h.value,g)}catch(o){throw w(),new Error("Data view format error "+o)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),w()}})),v.innerHTML=s[1],x.innerHTML=s[2],x.style.cssText=v.style.cssText=y,!i.get("readOnly")&&m.appendChild(x),m.appendChild(v),n.appendChild(r),n.appendChild(l),n.appendChild(m),l.style.height=o.clientHeight-80+"px",o.appendChild(n),this._dom=n},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){var e={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return e},e}(s.f1);function U(t,e){return a.map(t,(function(t,o){var i=e&&e[o];if(a.isObject(i)&&!a.isArray(i)){var n=a.isObject(t)&&!a.isArray(t);n||(t={value:t});var r=null!=i.name&&null==t.name;return t=a.defaults(t,i),r&&delete t.name,t}return t}))}S.zl({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var o=[];a.each(t.newOption.series,(function(t){var i=e.getSeriesByName(t.name)[0];if(i){var n=i.get("data");o.push({name:t.name,data:U(t.data,n)})}else o.push(a.extend({type:"scatter"},t))})),e.mergeOption(a.defaults({series:o},t.newOption))}));var G=F,Q=o(81858),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.onclick=function(t,e){Q.ZH(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var e={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return e},e}(s.f1);S.zl({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var $=q,K=o(57624),J=o(80726),tt=o(14784),et=o(50554),ot=a.each,it=(0,k.g0)("toolbox-dataZoom_"),nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.render=function(t,e,o,i){this._brushController||(this._brushController=new K.Z(o.getZr()),this._brushController.on("brush",a.bind(this._onBrush,this)).mount()),lt(t,e,this,i,o),st(t,e)},e.prototype.onclick=function(t,e,o){rt[o].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var o={},i=this.ecModel;this._brushController.updateCovers([]);var n=new J.Z(at(this.model),i,{include:["grid"]});n.matchOutputRanges(e,i,(function(t,e,o){if("cartesian2d"===o.type){var i=t.brushType;"rect"===i?(r("x",o,e[0]),r("y",o,e[1])):r({lineX:"x",lineY:"y"}[i],o,e)}})),Q.VF(i,o),this._dispatchZoomAction(o)}function r(t,e,n){var r=e.getAxis(t),s=r.model,l=a(t,s,i),h=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==h.minValueSpan&&null==h.maxValueSpan||(n=(0,tt.Z)(0,n.slice(),r.scale.getExtent(),0,h.minValueSpan,h.maxValueSpan)),l&&(o[l.id]={dataZoomId:l.id,startValue:n[0],endValue:n[1]})}function a(t,e,o){var i;return o.eachComponent({mainType:"dataZoom",subType:"select"},(function(o){var n=o.getAxisModel(t,e.componentIndex);n&&(i=o)})),i}},e.prototype._dispatchZoomAction=function(t){var e=[];ot(t,(function(t,o){e.push(a.clone(t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){var e={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return e},e}(s.f1),rt={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(Q.Sw(this.ecModel))}};function at(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}function st(t,e){t.setIconStatus("back",Q.QX(e)>1?"emphasis":"normal")}function lt(t,e,o,i,n){var r=o._isZoomActive;i&&"takeGlobalCursor"===i.type&&(r="dataZoomSelect"===i.key&&i.dataZoomSelectActive),o._isZoomActive=r,t.setIconStatus("zoom",r?"emphasis":"normal");var a=new J.Z(at(t),e,{include:["grid"]}),s=a.makePanelOpts(n,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));o._brushController.setPanels(s).enableBrush(!(!r||!s.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(0,et.f)("dataZoom",(function(t){var e=t.getComponent("toolbox",0),o=["feature","dataZoom"];if(e&&null!=e.get(o)){var i=e.getModel(o),n=[],r=at(i),a=(0,k.pm)(t,r);return ot(a.xAxisModels,(function(t){return s(t,"xAxis","xAxisIndex")})),ot(a.yAxisModels,(function(t){return s(t,"yAxis","yAxisIndex")})),n}function s(t,e,o){var r=t.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:it+e+r};a[o]=r,n.push(a)}}));var ht=nt;function ut(t){t.registerComponentModel(u),t.registerComponentView(b),(0,s.ls)("saveAsImage",T),(0,s.ls)("magicType",Z),(0,s.ls)("dataView",G),(0,s.ls)("dataZoom",ht),(0,s.ls)("restore",$),(0,i.D)(n.N)}},48716:function(t,e,o){o.d(e,{N:function(){return dt}});var i=o(75707),n=o(51305),r=o(57490),a=o(56033),s=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return(0,r.ZT)(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(a.Z),l=s,h=(o(57658),o(30541),o(69600),o(68309),o(47042),o(41539),o(33948),o(33051)),u=o(66387),d=(o(56977),o(61158)),p=o(84602),c=o(28021);function f(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function g(t){if(u.Z.domSupported)for(var e=document.documentElement.style,o=0,i=t.length;o<i;o++)if(t[o]in e)return t[o]}var m=g(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),y=g(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function v(t,e){if(!t)return e;e=(0,c.zW)(e,!0);var o=t.indexOf(e);return t=-1===o?e:"-"+t.slice(0,o)+"-"+e,t.toLowerCase()}function x(t,e){var o=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return o?e?o[e]:o:null}var _=o(35245),w=v(y,"transition"),b=v(m,"transform"),M="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(u.Z.transform3dSupported?"will-change:transform;":"");function C(t){return t="left"===t?"right":"right"===t?"left":"top"===t?"bottom":"top",t}function T(t,e,o){if(!(0,h.isString)(o)||"inside"===o)return"";var i=t.get("backgroundColor"),n=t.get("borderWidth");e=(0,c.Lz)(e);var r,a=C(o),s=Math.max(1.5*Math.round(n),6),l="",u=b+":";(0,h.indexOf)(["left","right"],a)>-1?(l+="top:50%",u+="translateY(-50%) rotate("+(r="left"===a?-225:-45)+"deg)"):(l+="left:50%",u+="translateX(-50%) rotate("+(r="top"===a?225:45)+"deg)");var d=r*Math.PI/180,p=s+n,f=p*Math.abs(Math.cos(d))+p*Math.abs(Math.sin(d)),g=Math.round(100*((f-Math.SQRT2*n)/2+Math.SQRT2*n-(f-p)/2))/100;l+=";"+a+":-"+g+"px";var m=e+" solid "+n+"px;",y=["position:absolute;width:"+s+"px;height:"+s+"px;",l+";"+u+";","border-bottom:"+m,"border-right:"+m,"background-color:"+i+";"];return'<div style="'+y.join("")+'"></div>'}function S(t,e){var o="cubic-bezier(0.23,1,0.32,1)",i=" "+t/2+"s "+o,n="opacity"+i+",visibility"+i;return e||(i=" "+t+"s "+o,n+=u.Z.transformSupported?","+b+i:",left"+i+",top"+i),w+":"+n}function k(t,e,o){var i=t.toFixed(0)+"px",n=e.toFixed(0)+"px";if(!u.Z.transformSupported)return o?"top:"+n+";left:"+i+";":[["top",n],["left",i]];var r=u.Z.transform3dSupported,a="translate"+(r?"3d":"")+"("+i+","+n+(r?",0":"")+")";return o?"top:0;left:0;"+b+":"+a+";":[["top",0],["left",0],[m,a]]}function A(t){var e=[],o=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont()),o&&e.push("line-height:"+Math.round(3*o/2)+"px");var n=t.get("textShadowColor"),r=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return n&&r&&e.push("text-shadow:"+a+"px "+s+"px "+r+"px "+n),(0,h.each)(["decoration","align"],(function(o){var i=t.get(o);i&&e.push("text-"+o+":"+i)})),e.join(";")}function I(t,e,o){var i=[],n=t.get("transitionDuration"),r=t.get("backgroundColor"),a=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),u=t.get("shadowOffsetY"),d=t.getModel("textStyle"),p=(0,_.d_)(t,"html"),f=l+"px "+u+"px "+a+"px "+s;return i.push("box-shadow:"+f),e&&n&&i.push(S(n,o)),r&&i.push("background-color:"+r),(0,h.each)(["width","color","radius"],(function(e){var o="border-"+e,n=(0,c.zW)(o),r=t.get(n);null!=r&&i.push(o+":"+r+("color"===e?"":"px"))})),i.push(A(d)),null!=p&&i.push("padding:"+(0,c.MY)(p).join("px ")+"px"),i.join(";")+";"}function O(t,e,o,i,n){var r=e&&e.painter;if(o){var a=r&&r.getViewportRoot();a&&(0,p.YB)(t,a,document.body,i,n)}else{t[0]=i,t[1]=n;var s=r&&r.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var D=function(){function t(t,e,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,u.Z.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var n=this._zr=e.getZr(),r=this._appendToBody=o&&o.appendToBody;O(this._styleCoord,n,r,e.getWidth()/2,e.getHeight()/2),r?document.body.appendChild(i):t.appendChild(i),this._container=t;var a=this;i.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=n.handler,o=n.painter.getViewportRoot();(0,d.OD)(o,t,!0),e.dispatch("mousemove",t)}},i.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){var e=this._container,o=x(e,"position"),i=e.style;"absolute"!==i.position&&"absolute"!==o&&(i.position="relative");var n=t.get("alwaysShowContent");n&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,i=o.style,n=this._styleCoord;o.innerHTML?i.cssText=M+I(t,!this._firstShow,this._longHide)+k(n[0],n[1],!0)+"border-color:"+(0,c.Lz)(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,o,i,n){var r=this.el;if(null!=t){var a="";if((0,h.isString)(n)&&"item"===o.get("trigger")&&!f(o)&&(a=T(o,i,n)),(0,h.isString)(t))r.innerHTML=t+a;else if(t){r.innerHTML="",(0,h.isArray)(t)||(t=[t]);for(var s=0;s<t.length;s++)(0,h.isDom)(t[s])&&t[s].parentNode!==r&&r.appendChild(t[s]);if(a&&r.childNodes.length){var l=document.createElement("div");l.innerHTML=a,r.appendChild(l)}}}else r.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var o=this._styleCoord;if(O(o,this._zr,this._appendToBody,t,e),null!=o[0]&&null!=o[1]){var i=this.el.style,n=k(o[0],o[1]);(0,h.each)(n,(function(t){i[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",u.Z.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout((0,h.bind)(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}(),Z=D,z=o(96498),H=o(14586),L=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),P(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,o,i,n){var r=this;h.isObject(t)&&(0,H._y)(""),this.el&&this._zr.remove(this.el);var a=o.getModel("textStyle");this.el=new z.ZP({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:a.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:(0,_.d_)(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),h.each(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(t){r.el.style[t]=o.get(t)})),h.each(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(t){r.el.style[t]=a.get(t)||0})),this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),o=V(t.style);return[e.width+o.left+o.right,e.height+o.top+o.bottom]},t.prototype.moveTo=function(t,e){var o=this.el;if(o){var i=this._styleCoord;P(i,this._zr,t,e),t=i[0],e=i[1];var n=o.style,r=B(n.borderWidth||0),a=V(n);o.x=t+r+a.left,o.y=e+r+a.top,o.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(h.bind(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function B(t){return Math.max(0,t)}function V(t){var e=B(t.shadowBlur||0),o=B(t.shadowOffsetX||0),i=B(t.shadowOffsetY||0);return{left:B(e-o),right:B(e+o),top:B(e-i),bottom:B(e+i)}}function P(t,e,o,i){t[0]=o,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var R=L,E=o(33122),X=o(25293),Y=o(41562),N=o(14925),W=o(34925),j=o(17764),F=o(3024),U=o(99605),G=o(14035),Q=o(24274),q=o(14505),$=o(70915),K=o(79580),J=o(87052),tt=o(63526),et=new X.Z({shape:{x:-1,y:-1,width:2,height:2}}),ot=function(t){function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.type=e.type,o}return(0,r.ZT)(e,t),e.prototype.init=function(t,e){if(!u.Z.node&&e.getDom()){var o=t.getComponent("tooltip"),i=this._renderMode=(0,G.U9)(o.get("renderMode"));this._tooltipContent="richText"===i?new R(e):new Z(e.getDom(),e,{appendToBody:o.get("appendToBody",!0)})}},e.prototype.render=function(t,e,o){if(!u.Z.node&&o.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=o,this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?(0,tt.T9)(this,"_updatePosition",50,"fixRate"):(0,tt.ZH)(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,e=t.get("triggerOn");j.z("itemTooltip",this._api,(0,h.bind)((function(t,o,i){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(o,i):"leave"===t&&this._hide(i))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,o=this._api,i=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==i&&"click"!==i){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!o.isDisposed()&&n.manuallyShowTip(t,e,o,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,o,i){if(i.from!==this.uid&&!u.Z.node&&o.getDom()){var n=nt(i,o);this._ticket="";var r=i.dataByCoordSys,a=ht(i,e,o);if(a){var s=a.el.getBoundingRect().clone();s.applyTransform(a.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:a.el,position:i.position,positionDefault:"bottom"},n)}else if(i.tooltip&&null!=i.x&&null!=i.y){var l=et;l.x=i.x,l.y=i.y,l.update(),(0,$.A)(l).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:l},n)}else if(r)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:r,tooltipOption:i.tooltipOption},n);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,o,i))return;var h=(0,Y.Z)(i,e),d=h.point[0],p=h.point[1];null!=d&&null!=p&&this._tryShow({offsetX:d,offsetY:p,target:h.el,position:i.position,positionDefault:"bottom"},n)}else null!=i.x&&null!=i.y&&(o.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:o.getZr().findHover(i.x,i.y).target},n))}},e.prototype.manuallyHideTip=function(t,e,o,i){var n=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(nt(i,o))},e.prototype._manuallyAxisShowTip=function(t,e,o,i){var n=i.seriesIndex,r=i.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=n&&null!=r&&null!=a){var s=e.getSeriesByIndex(n);if(s){var l=s.getData(),h=it([l.getItemModel(r),s,(s.coordinateSystem||{}).model],this._tooltipModel);if("axis"===h.get("trigger"))return o.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:r,position:i.position}),!0}}},e.prototype._tryShow=function(t,e){var o=t.target,i=this._tooltipModel;if(i){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;if(n&&n.length)this._showAxisTooltip(n,t);else if(o){var r,a;this._lastDataByCoordSys=null,(0,J.o)(o,(function(t){return null!=(0,$.A)(t).dataIndex?(r=t,!0):null!=(0,$.A)(t).tooltipConfig?(a=t,!0):void 0}),!0),r?this._showSeriesItemTooltip(t,r,e):a?this._showComponentItemTooltip(t,a,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var o=t.get("showDelay");e=(0,h.bind)(e,this),clearTimeout(this._showTimout),o>0?this._showTimout=setTimeout(e,o):e()},e.prototype._showAxisTooltip=function(t,e){var o=this._ecModel,i=this._tooltipModel,n=[e.offsetX,e.offsetY],r=it([e.tooltipOption],i),a=this._renderMode,s=[],l=(0,_.TX)("section",{blocks:[],noHeader:!0}),u=[],d=new _.iv;(0,h.each)(t,(function(t){(0,h.each)(t.dataByAxis,(function(t){var e=o.getComponent(t.axisDim+"Axis",t.axisIndex),n=t.value;if(e&&null!=n){var r=U.gk(n,e.axis,o,t.seriesDataIndices,t.valueLabelOpt),p=(0,_.TX)("section",{header:r,noHeader:!(0,h.trim)(r),sortBlocks:!0,blocks:[]});l.blocks.push(p),(0,h.each)(t.seriesDataIndices,(function(l){var f=o.getSeriesByIndex(l.seriesIndex),g=l.dataIndexInside,m=f.getDataParams(g);if(!(m.dataIndex<0)){m.axisDim=t.axisDim,m.axisIndex=t.axisIndex,m.axisType=t.axisType,m.axisId=t.axisId,m.axisValue=F.DX(e.axis,{value:n}),m.axisValueLabel=r,m.marker=d.makeTooltipMarker("item",(0,c.Lz)(m.color),a);var y=(0,K.f)(f.formatTooltip(g,!0,null)),v=y.frag;if(v){var x=it([f],i).get("valueFormatter");p.blocks.push(x?(0,h.extend)({valueFormatter:x},v):v)}y.text&&u.push(y.text),s.push(m)}}))}}))})),l.blocks.reverse(),u.reverse();var p=e.position,f=r.get("order"),g=(0,_.BY)(l,d,a,f,o.get("useUTC"),r.get("textStyle"));g&&u.unshift(g);var m="richText"===a?"\n\n":"<br/>",y=u.join(m);this._showOrMove(r,(function(){this._updateContentNotChangedOnAxis(t,s)?this._updatePosition(r,p,n[0],n[1],this._tooltipContent,s):this._showTooltipContent(r,y,s,Math.random()+"",n[0],n[1],p,null,d)}))},e.prototype._showSeriesItemTooltip=function(t,e,o){var i=this._ecModel,n=(0,$.A)(e),r=n.seriesIndex,a=i.getSeriesByIndex(r),s=n.dataModel||a,l=n.dataIndex,u=n.dataType,d=s.getData(u),p=this._renderMode,f=t.positionDefault,g=it([d.getItemModel(l),s,a&&(a.coordinateSystem||{}).model],this._tooltipModel,f?{position:f}:null),m=g.get("trigger");if(null==m||"item"===m){var y=s.getDataParams(l,u),v=new _.iv;y.marker=v.makeTooltipMarker("item",(0,c.Lz)(y.color),p);var x=(0,K.f)(s.formatTooltip(l,!1,u)),w=g.get("order"),b=g.get("valueFormatter"),M=x.frag,C=M?(0,_.BY)(b?(0,h.extend)({valueFormatter:b},M):M,v,p,w,i.get("useUTC"),g.get("textStyle")):x.text,T="item_"+s.name+"_"+l;this._showOrMove(g,(function(){this._showTooltipContent(g,C,y,T,t.offsetX,t.offsetY,t.position,t.target,v)})),o({type:"showTip",dataIndexInside:l,dataIndex:d.getRawIndex(l),seriesIndex:r,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,o){var i=(0,$.A)(e),n=i.tooltipConfig,r=n.option||{};if((0,h.isString)(r)){var a=r;r={content:a,formatter:a}}var s=[r],l=this._ecModel.getComponent(i.componentMainType,i.componentIndex);l&&s.push(l),s.push({formatter:r.content});var u=t.positionDefault,d=it(s,this._tooltipModel,u?{position:u}:null),p=d.get("content"),c=Math.random()+"",f=new _.iv;this._showOrMove(d,(function(){var o=(0,h.clone)(d.get("formatterParams")||{});this._showTooltipContent(d,p,o,c,t.offsetX,t.offsetY,t.position,e,f)})),o({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,o,i,n,r,a,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent;u.setEnterable(t.get("enterable"));var d=t.get("formatter");a=a||t.get("position");var p=e,f=this._getNearestPoint([n,r],o,t.get("trigger"),t.get("borderColor")),g=f.color;if(d)if((0,h.isString)(d)){var m=t.ecModel.get("useUTC"),y=(0,h.isArray)(o)?o[0]:o,v=y&&y.axisType&&y.axisType.indexOf("time")>=0;p=d,v&&(p=(0,q.WU)(y.axisValue,p,m)),p=(0,c.kF)(p,o,!0)}else if((0,h.isFunction)(d)){var x=(0,h.bind)((function(e,i){e===this._ticket&&(u.setContent(i,l,t,g,a),this._updatePosition(t,a,n,r,u,o,s))}),this);this._ticket=i,p=d(o,i,x)}else p=d;u.setContent(p,l,t,g,a),u.show(t,g),this._updatePosition(t,a,n,r,u,o,s)}},e.prototype._getNearestPoint=function(t,e,o,i){return"axis"===o||(0,h.isArray)(e)?{color:i||("html"===this._renderMode?"#fff":"none")}:(0,h.isArray)(e)?void 0:{color:i||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,o,i,n,r,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=n.getSize(),d=t.get("align"),p=t.get("verticalAlign"),c=a&&a.getBoundingRect().clone();if(a&&c.applyTransform(a.transform),(0,h.isFunction)(e)&&(e=e([o,i],r,n.el,c,{viewSize:[s,l],contentSize:u.slice()})),(0,h.isArray)(e))o=(0,E.GM)(e[0],s),i=(0,E.GM)(e[1],l);else if((0,h.isObject)(e)){var g=e;g.width=u[0],g.height=u[1];var m=(0,N.ME)(g,{width:s,height:l});o=m.x,i=m.y,d=null,p=null}else if((0,h.isString)(e)&&a){var y=st(e,c,u,t.get("borderWidth"));o=y[0],i=y[1]}else{y=rt(o,i,n,s,l,d?null:20,p?null:20);o=y[0],i=y[1]}if(d&&(o-=lt(d)?u[0]/2:"right"===d?u[0]:0),p&&(i-=lt(p)?u[1]/2:"bottom"===p?u[1]:0),f(t)){y=at(o,i,n,s,l);o=y[0],i=y[1]}n.moveTo(o,i)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var o=this._lastDataByCoordSys,i=this._cbParamsList,n=!!o&&o.length===t.length;return n&&(0,h.each)(o,(function(o,r){var a=o.dataByAxis||[],s=t[r]||{},l=s.dataByAxis||[];n=n&&a.length===l.length,n&&(0,h.each)(a,(function(t,o){var r=l[o]||{},a=t.seriesDataIndices||[],s=r.seriesDataIndices||[];n=n&&t.value===r.value&&t.axisType===r.axisType&&t.axisId===r.axisId&&a.length===s.length,n&&(0,h.each)(a,(function(t,e){var o=s[e];n=n&&t.seriesIndex===o.seriesIndex&&t.dataIndex===o.dataIndex})),i&&(0,h.each)(t.seriesDataIndices,(function(t){var o=t.seriesIndex,r=e[o],a=i[o];r&&a&&a.data!==r.data&&(n=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!n},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){!u.Z.node&&e.getDom()&&((0,tt.ZH)(this,"_updatePosition"),this._tooltipContent.dispose(),j.E("itemTooltip",e))},e.type="tooltip",e}(Q.Z);function it(t,e,o){var i,n=e.ecModel;o?(i=new W.Z(o,n,n),i=new W.Z(e.option,i,n)):i=e;for(var r=t.length-1;r>=0;r--){var a=t[r];a&&(a instanceof W.Z&&(a=a.get("tooltip",!0)),(0,h.isString)(a)&&(a={formatter:a}),a&&(i=new W.Z(a,i,n)))}return i}function nt(t,e){return t.dispatchAction||(0,h.bind)(e.dispatchAction,e)}function rt(t,e,o,i,n,r,a){var s=o.getSize(),l=s[0],h=s[1];return null!=r&&(t+l+r+2>i?t-=l+r:t+=r),null!=a&&(e+h+a>n?e-=h+a:e+=a),[t,e]}function at(t,e,o,i,n){var r=o.getSize(),a=r[0],s=r[1];return t=Math.min(t+a,i)-a,e=Math.min(e+s,n)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function st(t,e,o,i){var n=o[0],r=o[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,h=e.width,u=e.height;switch(t){case"inside":s=e.x+h/2-n/2,l=e.y+u/2-r/2;break;case"top":s=e.x+h/2-n/2,l=e.y-r-a;break;case"bottom":s=e.x+h/2-n/2,l=e.y+u+a;break;case"left":s=e.x-n-a,l=e.y+u/2-r/2;break;case"right":s=e.x+h+a,l=e.y+u/2-r/2}return[s,l]}function lt(t){return"center"===t||"middle"===t}function ht(t,e,o){var i=(0,G.zH)(t).queryOptionMap,n=i.keys()[0];if(n&&"series"!==n){var r=(0,G.HZ)(e,n,i.get(n),{useDefault:!1,enableAll:!1,enableNone:!1}),a=r.models[0];if(a){var s,l=o.getViewOfComponentModel(a);return l.group.traverse((function(e){var o=(0,$.A)(e).tooltipConfig;if(o&&o.name===t.name)return s=e,!0})),s?{componentMainType:n,componentIndex:a.componentIndex,el:s}:void 0}}}var ut=ot;function dt(t){(0,n.D)(i.N),t.registerComponentModel(l),t.registerComponentView(ut),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},h.noop),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},h.noop)}}}]);