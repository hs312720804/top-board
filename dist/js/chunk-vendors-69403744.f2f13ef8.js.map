{"version":3,"file":"js/chunk-vendors-69403744.f2f13ef8.js","mappings":"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","sources":["webpack://databoard/./node_modules/echarts/lib/legacy/dataSelectAction.js","webpack://databoard/./node_modules/echarts/lib/legacy/getTextRect.js","webpack://databoard/./node_modules/echarts/lib/loading/default.js","webpack://databoard/./node_modules/echarts/lib/model/Component.js","webpack://databoard/./node_modules/echarts/lib/model/globalDefault.js","webpack://databoard/./node_modules/echarts/lib/model/Global.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/areaStyle.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/textStyle.js","webpack://databoard/./node_modules/echarts/lib/model/Model.js","webpack://databoard/./node_modules/echarts/lib/model/OptionManager.js","webpack://databoard/./node_modules/echarts/lib/model/Series.js","webpack://databoard/./node_modules/echarts/lib/model/internalComponentCreator.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/dataFormat.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/itemStyle.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/lineStyle.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/makeStyleMapper.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/palette.js","webpack://databoard/./node_modules/echarts/lib/model/referHelper.js","webpack://databoard/./node_modules/echarts/lib/preprocessor/helper/compatStyle.js","webpack://databoard/./node_modules/echarts/lib/preprocessor/backwardCompat.js","webpack://databoard/./node_modules/echarts/lib/processor/dataFilter.js","webpack://databoard/./node_modules/echarts/lib/processor/dataSample.js","webpack://databoard/./node_modules/echarts/lib/processor/dataStack.js","webpack://databoard/./node_modules/echarts/lib/processor/negativeDataFilter.js","webpack://databoard/./node_modules/echarts/lib/renderer/installCanvasRenderer.js","webpack://databoard/./node_modules/echarts/lib/renderer/installSVGRenderer.js","webpack://databoard/./node_modules/echarts/lib/scale/Interval.js","webpack://databoard/./node_modules/echarts/lib/scale/Log.js","webpack://databoard/./node_modules/echarts/lib/scale/Ordinal.js","webpack://databoard/./node_modules/echarts/lib/scale/Scale.js","webpack://databoard/./node_modules/echarts/lib/scale/Time.js","webpack://databoard/./node_modules/echarts/lib/scale/helper.js","webpack://databoard/./node_modules/echarts/lib/theme/dark.js","webpack://databoard/./node_modules/echarts/lib/theme/light.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, each, isArray, isString } from 'zrender/lib/core/util.js';\nimport { deprecateReplaceLog, deprecateLog } from '../util/log.js';\nimport { queryDataIndex } from '../util/model.js'; // Legacy data selection action.\n// Includes: pieSelect, pieUnSelect, pieToggleSelect, mapSelect, mapUnSelect, mapToggleSelect\n\nexport function createLegacyDataSelectAction(seriesType, ecRegisterAction) {\n  function getSeriesIndices(ecModel, payload) {\n    var seriesIndices = [];\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: seriesType,\n      query: payload\n    }, function (seriesModel) {\n      seriesIndices.push(seriesModel.seriesIndex);\n    });\n    return seriesIndices;\n  }\n\n  each([[seriesType + 'ToggleSelect', 'toggleSelect'], [seriesType + 'Select', 'select'], [seriesType + 'UnSelect', 'unselect']], function (eventsMap) {\n    ecRegisterAction(eventsMap[0], function (payload, ecModel, api) {\n      payload = extend({}, payload);\n\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(payload.type, eventsMap[1]);\n      }\n\n      api.dispatchAction(extend(payload, {\n        type: eventsMap[1],\n        seriesIndex: getSeriesIndices(ecModel, payload)\n      }));\n    });\n  });\n}\n\nfunction handleSeriesLegacySelectEvents(type, eventPostfix, ecIns, ecModel, payload) {\n  var legacyEventName = type + eventPostfix;\n\n  if (!ecIns.isSilent(legacyEventName)) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateLog(\"event \" + legacyEventName + \" is deprecated.\");\n    }\n\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'pie'\n    }, function (seriesModel) {\n      var seriesIndex = seriesModel.seriesIndex;\n      var selectedMap = seriesModel.option.selectedMap;\n      var selected = payload.selected;\n\n      for (var i = 0; i < selected.length; i++) {\n        if (selected[i].seriesIndex === seriesIndex) {\n          var data = seriesModel.getData();\n          var dataIndex = queryDataIndex(data, payload.fromActionPayload);\n          ecIns.trigger(legacyEventName, {\n            type: legacyEventName,\n            seriesId: seriesModel.id,\n            name: isArray(dataIndex) ? data.getName(dataIndex[0]) : data.getName(dataIndex),\n            selected: isString(selectedMap) ? selectedMap : extend({}, selectedMap)\n          });\n        }\n      }\n    });\n  }\n}\n\nexport function handleLegacySelectEvents(messageCenter, ecIns, api) {\n  messageCenter.on('selectchanged', function (params) {\n    var ecModel = api.getModel();\n\n    if (params.isFromClick) {\n      handleSeriesLegacySelectEvents('map', 'selectchanged', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selectchanged', ecIns, ecModel, params);\n    } else if (params.fromAction === 'select') {\n      handleSeriesLegacySelectEvents('map', 'selected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selected', ecIns, ecModel, params);\n    } else if (params.fromAction === 'unselect') {\n      handleSeriesLegacySelectEvents('map', 'unselected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'unselected', ecIns, ecModel, params);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { Text } from '../util/graphic.js';\nexport function getTextRect(text, font, align, verticalAlign, padding, rich, truncate, lineHeight) {\n  var textEl = new Text({\n    style: {\n      text: text,\n      font: font,\n      align: align,\n      verticalAlign: verticalAlign,\n      padding: padding,\n      rich: rich,\n      overflow: truncate ? 'truncate' : null,\n      lineHeight: lineHeight\n    }\n  });\n  return textEl.getBoundingRect();\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../util/graphic.js';\nvar PI = Math.PI;\n/**\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} [opts]\n * @param {string} [opts.text]\n * @param {string} [opts.color]\n * @param {string} [opts.textColor]\n * @return {module:zrender/Element}\n */\n\nexport default function defaultLoading(api, opts) {\n  opts = opts || {};\n  zrUtil.defaults(opts, {\n    text: 'loading',\n    textColor: '#000',\n    fontSize: 12,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    fontFamily: 'sans-serif',\n    maskColor: 'rgba(255, 255, 255, 0.8)',\n    showSpinner: true,\n    color: '#5470c6',\n    spinnerRadius: 10,\n    lineWidth: 5,\n    zlevel: 0\n  });\n  var group = new graphic.Group();\n  var mask = new graphic.Rect({\n    style: {\n      fill: opts.maskColor\n    },\n    zlevel: opts.zlevel,\n    z: 10000\n  });\n  group.add(mask);\n  var textContent = new graphic.Text({\n    style: {\n      text: opts.text,\n      fill: opts.textColor,\n      fontSize: opts.fontSize,\n      fontWeight: opts.fontWeight,\n      fontStyle: opts.fontStyle,\n      fontFamily: opts.fontFamily\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  var labelRect = new graphic.Rect({\n    style: {\n      fill: 'none'\n    },\n    textContent: textContent,\n    textConfig: {\n      position: 'right',\n      distance: 10\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  group.add(labelRect);\n  var arc;\n\n  if (opts.showSpinner) {\n    arc = new graphic.Arc({\n      shape: {\n        startAngle: -PI / 2,\n        endAngle: -PI / 2 + 0.1,\n        r: opts.spinnerRadius\n      },\n      style: {\n        stroke: opts.color,\n        lineCap: 'round',\n        lineWidth: opts.lineWidth\n      },\n      zlevel: opts.zlevel,\n      z: 10001\n    });\n    arc.animateShape(true).when(1000, {\n      endAngle: PI * 3 / 2\n    }).start('circularInOut');\n    arc.animateShape(true).when(1000, {\n      startAngle: PI * 3 / 2\n    }).delay(300).start('circularInOut');\n    group.add(arc);\n  } // Inject resize\n\n\n  group.resize = function () {\n    var textWidth = textContent.getBoundingRect().width;\n    var r = opts.showSpinner ? opts.spinnerRadius : 0; // cx = (containerWidth - arcDiameter - textDistance - textWidth) / 2\n    // textDistance needs to be calculated when both animation and text exist\n\n    var cx = (api.getWidth() - r * 2 - (opts.showSpinner && textWidth ? 10 : 0) - textWidth) / 2 - (opts.showSpinner && textWidth ? 0 : 5 + textWidth / 2) // only show the text\n    + (opts.showSpinner ? 0 : textWidth / 2) // only show the spinner\n    + (textWidth ? 0 : r);\n    var cy = api.getHeight() / 2;\n    opts.showSpinner && arc.setShape({\n      cx: cx,\n      cy: cy\n    });\n    labelRect.setShape({\n      x: cx - r,\n      y: cy - r,\n      width: r * 2,\n      height: r * 2\n    });\n    mask.setShape({\n      x: 0,\n      y: 0,\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n\n  group.resize();\n  return group;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from './Model.js';\nimport * as componentUtil from '../util/component.js';\nimport { enableClassManagement, parseClassType, isExtendedClass, mountExtend } from '../util/clazz.js';\nimport { makeInner, queryReferringComponents } from '../util/model.js';\nimport * as layout from '../util/layout.js';\nvar inner = makeInner();\n\nvar ComponentModel =\n/** @class */\nfunction (_super) {\n  __extends(ComponentModel, _super);\n\n  function ComponentModel(option, parentModel, ecModel) {\n    var _this = _super.call(this, option, parentModel, ecModel) || this;\n\n    _this.uid = componentUtil.getUID('ec_cpt_model');\n    return _this;\n  }\n\n  ComponentModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n\n  ComponentModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = layout.fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n    var themeModel = ecModel.getTheme();\n    zrUtil.merge(option, themeModel.get(this.mainType));\n    zrUtil.merge(option, this.getDefaultOption());\n\n    if (layoutMode) {\n      layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n\n  ComponentModel.prototype.mergeOption = function (option, ecModel) {\n    zrUtil.merge(this.option, option, true);\n    var layoutMode = layout.fetchLayoutMode(this);\n\n    if (layoutMode) {\n      layout.mergeLayoutParam(this.option, option, layoutMode);\n    }\n  };\n  /**\n   * Called immediately after `init` or `mergeOption` of this instance called.\n   */\n\n\n  ComponentModel.prototype.optionUpdated = function (newCptOption, isInit) {};\n  /**\n   * [How to declare defaultOption]:\n   *\n   * (A) If using class declaration in typescript (since echarts 5):\n   * ```ts\n   * import {ComponentOption} from '../model/option.js';\n   * export interface XxxOption extends ComponentOption {\n   *     aaa: number\n   * }\n   * export class XxxModel extends Component {\n   *     static type = 'xxx';\n   *     static defaultOption: XxxOption = {\n   *         aaa: 123\n   *     }\n   * }\n   * Component.registerClass(XxxModel);\n   * ```\n   * ```ts\n   * import {inheritDefaultOption} from '../util/component.js';\n   * import {XxxModel, XxxOption} from './XxxModel.js';\n   * export interface XxxSubOption extends XxxOption {\n   *     bbb: number\n   * }\n   * class XxxSubModel extends XxxModel {\n   *     static defaultOption: XxxSubOption = inheritDefaultOption(XxxModel.defaultOption, {\n   *         bbb: 456\n   *     })\n   *     fn() {\n   *         let opt = this.getDefaultOption();\n   *         // opt is {aaa: 123, bbb: 456}\n   *     }\n   * }\n   * ```\n   *\n   * (B) If using class extend (previous approach in echarts 3 & 4):\n   * ```js\n   * let XxxComponent = Component.extend({\n   *     defaultOption: {\n   *         xx: 123\n   *     }\n   * })\n   * ```\n   * ```js\n   * let XxxSubComponent = XxxComponent.extend({\n   *     defaultOption: {\n   *         yy: 456\n   *     },\n   *     fn: function () {\n   *         let opt = this.getDefaultOption();\n   *         // opt is {xx: 123, yy: 456}\n   *     }\n   * })\n   * ```\n   */\n\n\n  ComponentModel.prototype.getDefaultOption = function () {\n    var ctor = this.constructor; // If using class declaration, it is different to travel super class\n    // in legacy env and auto merge defaultOption. So if using class\n    // declaration, defaultOption should be merged manually.\n\n    if (!isExtendedClass(ctor)) {\n      // When using ts class, defaultOption must be declared as static.\n      return ctor.defaultOption;\n    } // FIXME: remove this approach?\n\n\n    var fields = inner(this);\n\n    if (!fields.defaultOption) {\n      var optList = [];\n      var clz = ctor;\n\n      while (clz) {\n        var opt = clz.prototype.defaultOption;\n        opt && optList.push(opt);\n        clz = clz.superClass;\n      }\n\n      var defaultOption = {};\n\n      for (var i = optList.length - 1; i >= 0; i--) {\n        defaultOption = zrUtil.merge(defaultOption, optList[i], true);\n      }\n\n      fields.defaultOption = defaultOption;\n    }\n\n    return fields.defaultOption;\n  };\n  /**\n   * Notice: always force to input param `useDefault` in case that forget to consider it.\n   * The same behavior as `modelUtil.parseFinder`.\n   *\n   * @param useDefault In many cases like series refer axis and axis refer grid,\n   *        If axis index / axis id not specified, use the first target as default.\n   *        In other cases like dataZoom refer axis, if not specified, measn no refer.\n   */\n\n\n  ComponentModel.prototype.getReferringComponents = function (mainType, opt) {\n    var indexKey = mainType + 'Index';\n    var idKey = mainType + 'Id';\n    return queryReferringComponents(this.ecModel, mainType, {\n      index: this.get(indexKey, true),\n      id: this.get(idKey, true)\n    }, opt);\n  };\n\n  ComponentModel.prototype.getBoxLayoutParams = function () {\n    // Consider itself having box layout configs.\n    var boxLayoutModel = this;\n    return {\n      left: boxLayoutModel.get('left'),\n      top: boxLayoutModel.get('top'),\n      right: boxLayoutModel.get('right'),\n      bottom: boxLayoutModel.get('bottom'),\n      width: boxLayoutModel.get('width'),\n      height: boxLayoutModel.get('height')\n    };\n  };\n  /**\n   * Get key for zlevel.\n   * If developers don't configure zlevel. We will assign zlevel to series based on the key.\n   * For example, lines with trail effect and progressive series will in an individual zlevel.\n   */\n\n\n  ComponentModel.prototype.getZLevelKey = function () {\n    return '';\n  };\n\n  ComponentModel.prototype.setZLevel = function (zlevel) {\n    this.option.zlevel = zlevel;\n  };\n\n  ComponentModel.protoInitialize = function () {\n    var proto = ComponentModel.prototype;\n    proto.type = 'component';\n    proto.id = '';\n    proto.name = '';\n    proto.mainType = '';\n    proto.subType = '';\n    proto.componentIndex = 0;\n  }();\n\n  return ComponentModel;\n}(Model);\n\nmountExtend(ComponentModel, Model);\nenableClassManagement(ComponentModel);\ncomponentUtil.enableSubTypeDefaulter(ComponentModel);\ncomponentUtil.enableTopologicalTravel(ComponentModel, getDependencies);\n\nfunction getDependencies(componentType) {\n  var deps = [];\n  zrUtil.each(ComponentModel.getClassesByMainType(componentType), function (clz) {\n    deps = deps.concat(clz.dependencies || clz.prototype.dependencies || []);\n  }); // Ensure main type.\n\n  deps = zrUtil.map(deps, function (type) {\n    return parseClassType(type).main;\n  }); // Hack dataset for convenience.\n\n  if (componentType !== 'dataset' && zrUtil.indexOf(deps, 'dataset') <= 0) {\n    deps.unshift('dataset');\n  }\n\n  return deps;\n}\n\nexport default ComponentModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar platform = ''; // Navigator not exists in node\n\nif (typeof navigator !== 'undefined') {\n  /* global navigator */\n  platform = navigator.platform || '';\n}\n\nvar decalColor = 'rgba(0, 0, 0, 0.2)';\nexport default {\n  darkMode: 'auto',\n  // backgroundColor: 'rgba(0,0,0,0)',\n  colorBy: 'series',\n  color: ['#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc'],\n  gradientColor: ['#f6efa6', '#d88273', '#bf444c'],\n  aria: {\n    decal: {\n      decals: [{\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [2, 5],\n        symbolSize: 1,\n        rotation: Math.PI / 6\n      }, {\n        color: decalColor,\n        symbol: 'circle',\n        dashArrayX: [[8, 8], [0, 8, 8, 0]],\n        dashArrayY: [6, 0],\n        symbolSize: 0.8\n      }, {\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [4, 3],\n        rotation: -Math.PI / 4\n      }, {\n        color: decalColor,\n        dashArrayX: [[6, 6], [0, 6, 6, 0]],\n        dashArrayY: [6, 0]\n      }, {\n        color: decalColor,\n        dashArrayX: [[1, 0], [1, 6]],\n        dashArrayY: [1, 0, 6, 0],\n        rotation: Math.PI / 4\n      }, {\n        color: decalColor,\n        symbol: 'triangle',\n        dashArrayX: [[9, 9], [0, 9, 9, 0]],\n        dashArrayY: [7, 2],\n        symbolSize: 0.75\n      }]\n    }\n  },\n  // If xAxis and yAxis declared, grid is created by default.\n  // grid: {},\n  textStyle: {\n    // color: '#000',\n    // decoration: 'none',\n    // PENDING\n    fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n    // fontFamily: 'Arial, Verdana, sans-serif',\n    fontSize: 12,\n    fontStyle: 'normal',\n    fontWeight: 'normal'\n  },\n  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n  // Default is source-over\n  blendMode: null,\n  stateAnimation: {\n    duration: 300,\n    easing: 'cubicOut'\n  },\n  animation: 'auto',\n  animationDuration: 1000,\n  animationDurationUpdate: 500,\n  animationEasing: 'cubicInOut',\n  animationEasingUpdate: 'cubicInOut',\n  animationThreshold: 2000,\n  // Configuration for progressive/incremental rendering\n  progressiveThreshold: 3000,\n  progressive: 400,\n  // Threshold of if use single hover layer to optimize.\n  // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n  // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n  // which is unexpected.\n  // see example <echarts/test/heatmap-large.html>.\n  hoverLayerThreshold: 3000,\n  // See: module:echarts/scale/Time\n  useUTC: false\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Caution: If the mechanism should be changed some day, these cases\n * should be considered:\n *\n * (1) In `merge option` mode, if using the same option to call `setOption`\n * many times, the result should be the same (try our best to ensure that).\n * (2) In `merge option` mode, if a component has no id/name specified, it\n * will be merged by index, and the result sequence of the components is\n * consistent to the original sequence.\n * (3) In `replaceMerge` mode, keep the result sequence of the components is\n * consistent to the original sequence, even though there might result in \"hole\".\n * (4) `reset` feature (in toolbox). Find detailed info in comments about\n * `mergeOption` in module:echarts/model/OptionManager.\n */\n\nimport { each, filter, isArray, isObject, isString, createHashMap, assert, clone, merge, extend, mixin, isFunction } from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../util/model.js';\nimport Model from './Model.js';\nimport ComponentModel from './Component.js';\nimport globalDefault from './globalDefault.js';\nimport { resetSourceDefaulter } from '../data/helper/sourceHelper.js';\nimport { concatInternalOptions } from './internalComponentCreator.js';\nimport { PaletteMixin } from './mixin/palette.js';\nimport { error, warn } from '../util/log.js'; // -----------------------\n// Internal method names:\n// -----------------------\n\nvar reCreateSeriesIndices;\nvar assertSeriesInitialized;\nvar initBase;\nvar OPTION_INNER_KEY = '\\0_ec_inner';\nvar OPTION_INNER_VALUE = 1;\nvar BUITIN_COMPONENTS_MAP = {\n  grid: 'GridComponent',\n  polar: 'PolarComponent',\n  geo: 'GeoComponent',\n  singleAxis: 'SingleAxisComponent',\n  parallel: 'ParallelComponent',\n  calendar: 'CalendarComponent',\n  graphic: 'GraphicComponent',\n  toolbox: 'ToolboxComponent',\n  tooltip: 'TooltipComponent',\n  axisPointer: 'AxisPointerComponent',\n  brush: 'BrushComponent',\n  title: 'TitleComponent',\n  timeline: 'TimelineComponent',\n  markPoint: 'MarkPointComponent',\n  markLine: 'MarkLineComponent',\n  markArea: 'MarkAreaComponent',\n  legend: 'LegendComponent',\n  dataZoom: 'DataZoomComponent',\n  visualMap: 'VisualMapComponent',\n  // aria: 'AriaComponent',\n  // dataset: 'DatasetComponent',\n  // Dependencies\n  xAxis: 'GridComponent',\n  yAxis: 'GridComponent',\n  angleAxis: 'PolarComponent',\n  radiusAxis: 'PolarComponent'\n};\nvar BUILTIN_CHARTS_MAP = {\n  line: 'LineChart',\n  bar: 'BarChart',\n  pie: 'PieChart',\n  scatter: 'ScatterChart',\n  radar: 'RadarChart',\n  map: 'MapChart',\n  tree: 'TreeChart',\n  treemap: 'TreemapChart',\n  graph: 'GraphChart',\n  gauge: 'GaugeChart',\n  funnel: 'FunnelChart',\n  parallel: 'ParallelChart',\n  sankey: 'SankeyChart',\n  boxplot: 'BoxplotChart',\n  candlestick: 'CandlestickChart',\n  effectScatter: 'EffectScatterChart',\n  lines: 'LinesChart',\n  heatmap: 'HeatmapChart',\n  pictorialBar: 'PictorialBarChart',\n  themeRiver: 'ThemeRiverChart',\n  sunburst: 'SunburstChart',\n  custom: 'CustomChart'\n};\nvar componetsMissingLogPrinted = {};\n\nfunction checkMissingComponents(option) {\n  each(option, function (componentOption, mainType) {\n    if (!ComponentModel.hasClass(mainType)) {\n      var componentImportName = BUITIN_COMPONENTS_MAP[mainType];\n\n      if (componentImportName && !componetsMissingLogPrinted[componentImportName]) {\n        error(\"Component \" + mainType + \" is used but not imported.\\nimport { \" + componentImportName + \" } from 'echarts/components';\\necharts.use([\" + componentImportName + \"]);\");\n        componetsMissingLogPrinted[componentImportName] = true;\n      }\n    }\n  });\n}\n\nvar GlobalModel =\n/** @class */\nfunction (_super) {\n  __extends(GlobalModel, _super);\n\n  function GlobalModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GlobalModel.prototype.init = function (option, parentModel, ecModel, theme, locale, optionManager) {\n    theme = theme || {};\n    this.option = null; // Mark as not initialized.\n\n    this._theme = new Model(theme);\n    this._locale = new Model(locale);\n    this._optionManager = optionManager;\n  };\n\n  GlobalModel.prototype.setOption = function (option, opts, optionPreprocessorFuncs) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(option != null, 'option is null/undefined');\n      assert(option[OPTION_INNER_KEY] !== OPTION_INNER_VALUE, 'please use chart.getOption()');\n    }\n\n    var innerOpt = normalizeSetOptionInput(opts);\n\n    this._optionManager.setOption(option, optionPreprocessorFuncs, innerOpt);\n\n    this._resetOption(null, innerOpt);\n  };\n  /**\n   * @param type null/undefined: reset all.\n   *        'recreate': force recreate all.\n   *        'timeline': only reset timeline option\n   *        'media': only reset media query option\n   * @return Whether option changed.\n   */\n\n\n  GlobalModel.prototype.resetOption = function (type, opt) {\n    return this._resetOption(type, normalizeSetOptionInput(opt));\n  };\n\n  GlobalModel.prototype._resetOption = function (type, opt) {\n    var optionChanged = false;\n    var optionManager = this._optionManager;\n\n    if (!type || type === 'recreate') {\n      var baseOption = optionManager.mountOption(type === 'recreate');\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkMissingComponents(baseOption);\n      }\n\n      if (!this.option || type === 'recreate') {\n        initBase(this, baseOption);\n      } else {\n        this.restoreData();\n\n        this._mergeOption(baseOption, opt);\n      }\n\n      optionChanged = true;\n    }\n\n    if (type === 'timeline' || type === 'media') {\n      this.restoreData();\n    } // By design, if `setOption(option2)` at the second time, and `option2` is a `ECUnitOption`,\n    // it should better not have the same props with `MediaUnit['option']`.\n    // Because either `option2` or `MediaUnit['option']` will be always merged to \"current option\"\n    // rather than original \"baseOption\". If they both override a prop, the result might be\n    // unexpected when media state changed after `setOption` called.\n    // If we really need to modify a props in each `MediaUnit['option']`, use the full version\n    // (`{baseOption, media}`) in `setOption`.\n    // For `timeline`, the case is the same.\n\n\n    if (!type || type === 'recreate' || type === 'timeline') {\n      var timelineOption = optionManager.getTimelineOption(this);\n\n      if (timelineOption) {\n        optionChanged = true;\n\n        this._mergeOption(timelineOption, opt);\n      }\n    }\n\n    if (!type || type === 'recreate' || type === 'media') {\n      var mediaOptions = optionManager.getMediaOption(this);\n\n      if (mediaOptions.length) {\n        each(mediaOptions, function (mediaOption) {\n          optionChanged = true;\n\n          this._mergeOption(mediaOption, opt);\n        }, this);\n      }\n    }\n\n    return optionChanged;\n  };\n\n  GlobalModel.prototype.mergeOption = function (option) {\n    this._mergeOption(option, null);\n  };\n\n  GlobalModel.prototype._mergeOption = function (newOption, opt) {\n    var option = this.option;\n    var componentsMap = this._componentsMap;\n    var componentsCount = this._componentsCount;\n    var newCmptTypes = [];\n    var newCmptTypeMap = createHashMap();\n    var replaceMergeMainTypeMap = opt && opt.replaceMergeMainTypeMap;\n    resetSourceDefaulter(this); // If no component class, merge directly.\n    // For example: color, animaiton options, etc.\n\n    each(newOption, function (componentOption, mainType) {\n      if (componentOption == null) {\n        return;\n      }\n\n      if (!ComponentModel.hasClass(mainType)) {\n        // globalSettingTask.dirty();\n        option[mainType] = option[mainType] == null ? clone(componentOption) : merge(option[mainType], componentOption, true);\n      } else if (mainType) {\n        newCmptTypes.push(mainType);\n        newCmptTypeMap.set(mainType, true);\n      }\n    });\n\n    if (replaceMergeMainTypeMap) {\n      // If there is a mainType `xxx` in `replaceMerge` but not declared in option,\n      // we trade it as it is declared in option as `{xxx: []}`. Because:\n      // (1) for normal merge, `{xxx: null/undefined}` are the same meaning as `{xxx: []}`.\n      // (2) some preprocessor may convert some of `{xxx: null/undefined}` to `{xxx: []}`.\n      replaceMergeMainTypeMap.each(function (val, mainTypeInReplaceMerge) {\n        if (ComponentModel.hasClass(mainTypeInReplaceMerge) && !newCmptTypeMap.get(mainTypeInReplaceMerge)) {\n          newCmptTypes.push(mainTypeInReplaceMerge);\n          newCmptTypeMap.set(mainTypeInReplaceMerge, true);\n        }\n      });\n    }\n\n    ComponentModel.topologicalTravel(newCmptTypes, ComponentModel.getAllClassMainTypes(), visitComponent, this);\n\n    function visitComponent(mainType) {\n      var newCmptOptionList = concatInternalOptions(this, mainType, modelUtil.normalizeToArray(newOption[mainType]));\n      var oldCmptList = componentsMap.get(mainType);\n      var mergeMode = // `!oldCmptList` means init. See the comment in `mappingToExists`\n      !oldCmptList ? 'replaceAll' : replaceMergeMainTypeMap && replaceMergeMainTypeMap.get(mainType) ? 'replaceMerge' : 'normalMerge';\n      var mappingResult = modelUtil.mappingToExists(oldCmptList, newCmptOptionList, mergeMode); // Set mainType and complete subType.\n\n      modelUtil.setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel); // Empty it before the travel, in order to prevent `this._componentsMap`\n      // from being used in the `init`/`mergeOption`/`optionUpdated` of some\n      // components, which is probably incorrect logic.\n\n      option[mainType] = null;\n      componentsMap.set(mainType, null);\n      componentsCount.set(mainType, 0);\n      var optionsByMainType = [];\n      var cmptsByMainType = [];\n      var cmptsCountByMainType = 0;\n      var tooltipExists;\n      var tooltipWarningLogged;\n      each(mappingResult, function (resultItem, index) {\n        var componentModel = resultItem.existing;\n        var newCmptOption = resultItem.newOption;\n\n        if (!newCmptOption) {\n          if (componentModel) {\n            // Consider where is no new option and should be merged using {},\n            // see removeEdgeAndAdd in topologicalTravel and\n            // ComponentModel.getAllClassMainTypes.\n            componentModel.mergeOption({}, this);\n            componentModel.optionUpdated({}, false);\n          } // If no both `resultItem.exist` and `resultItem.option`,\n          // either it is in `replaceMerge` and not matched by any id,\n          // or it has been removed in previous `replaceMerge` and left a \"hole\" in this component index.\n\n        } else {\n          var isSeriesType = mainType === 'series';\n          var ComponentModelClass = ComponentModel.getClass(mainType, resultItem.keyInfo.subType, !isSeriesType // Give a more detailed warn later if series don't exists\n          );\n\n          if (!ComponentModelClass) {\n            if (process.env.NODE_ENV !== 'production') {\n              var subType = resultItem.keyInfo.subType;\n              var seriesImportName = BUILTIN_CHARTS_MAP[subType];\n\n              if (!componetsMissingLogPrinted[subType]) {\n                componetsMissingLogPrinted[subType] = true;\n\n                if (seriesImportName) {\n                  error(\"Series \" + subType + \" is used but not imported.\\nimport { \" + seriesImportName + \" } from 'echarts/charts';\\necharts.use([\" + seriesImportName + \"]);\");\n                } else {\n                  error(\"Unknown series \" + subType);\n                }\n              }\n            }\n\n            return;\n          } // TODO Before multiple tooltips get supported, we do this check to avoid unexpected exception.\n\n\n          if (mainType === 'tooltip') {\n            if (tooltipExists) {\n              if (process.env.NODE_ENV !== 'production') {\n                if (!tooltipWarningLogged) {\n                  warn('Currently only one tooltip component is allowed.');\n                  tooltipWarningLogged = true;\n                }\n              }\n\n              return;\n            }\n\n            tooltipExists = true;\n          }\n\n          if (componentModel && componentModel.constructor === ComponentModelClass) {\n            componentModel.name = resultItem.keyInfo.name; // componentModel.settingTask && componentModel.settingTask.dirty();\n\n            componentModel.mergeOption(newCmptOption, this);\n            componentModel.optionUpdated(newCmptOption, false);\n          } else {\n            // PENDING Global as parent ?\n            var extraOpt = extend({\n              componentIndex: index\n            }, resultItem.keyInfo);\n            componentModel = new ComponentModelClass(newCmptOption, this, this, extraOpt); // Assign `keyInfo`\n\n            extend(componentModel, extraOpt);\n\n            if (resultItem.brandNew) {\n              componentModel.__requireNewView = true;\n            }\n\n            componentModel.init(newCmptOption, this, this); // Call optionUpdated after init.\n            // newCmptOption has been used as componentModel.option\n            // and may be merged with theme and default, so pass null\n            // to avoid confusion.\n\n            componentModel.optionUpdated(null, true);\n          }\n        }\n\n        if (componentModel) {\n          optionsByMainType.push(componentModel.option);\n          cmptsByMainType.push(componentModel);\n          cmptsCountByMainType++;\n        } else {\n          // Always do assign to avoid elided item in array.\n          optionsByMainType.push(void 0);\n          cmptsByMainType.push(void 0);\n        }\n      }, this);\n      option[mainType] = optionsByMainType;\n      componentsMap.set(mainType, cmptsByMainType);\n      componentsCount.set(mainType, cmptsCountByMainType); // Backup series for filtering.\n\n      if (mainType === 'series') {\n        reCreateSeriesIndices(this);\n      }\n    } // If no series declared, ensure `_seriesIndices` initialized.\n\n\n    if (!this._seriesIndices) {\n      reCreateSeriesIndices(this);\n    }\n  };\n  /**\n   * Get option for output (cloned option and inner info removed)\n   */\n\n\n  GlobalModel.prototype.getOption = function () {\n    var option = clone(this.option);\n    each(option, function (optInMainType, mainType) {\n      if (ComponentModel.hasClass(mainType)) {\n        var opts = modelUtil.normalizeToArray(optInMainType); // Inner cmpts need to be removed.\n        // Inner cmpts might not be at last since ec5.0, but still\n        // compatible for users: if inner cmpt at last, splice the returned array.\n\n        var realLen = opts.length;\n        var metNonInner = false;\n\n        for (var i = realLen - 1; i >= 0; i--) {\n          // Remove options with inner id.\n          if (opts[i] && !modelUtil.isComponentIdInternal(opts[i])) {\n            metNonInner = true;\n          } else {\n            opts[i] = null;\n            !metNonInner && realLen--;\n          }\n        }\n\n        opts.length = realLen;\n        option[mainType] = opts;\n      }\n    });\n    delete option[OPTION_INNER_KEY];\n    return option;\n  };\n\n  GlobalModel.prototype.getTheme = function () {\n    return this._theme;\n  };\n\n  GlobalModel.prototype.getLocaleModel = function () {\n    return this._locale;\n  };\n\n  GlobalModel.prototype.setUpdatePayload = function (payload) {\n    this._payload = payload;\n  };\n\n  GlobalModel.prototype.getUpdatePayload = function () {\n    return this._payload;\n  };\n  /**\n   * @param idx If not specified, return the first one.\n   */\n\n\n  GlobalModel.prototype.getComponent = function (mainType, idx) {\n    var list = this._componentsMap.get(mainType);\n\n    if (list) {\n      var cmpt = list[idx || 0];\n\n      if (cmpt) {\n        return cmpt;\n      } else if (idx == null) {\n        for (var i = 0; i < list.length; i++) {\n          if (list[i]) {\n            return list[i];\n          }\n        }\n      }\n    }\n  };\n  /**\n   * @return Never be null/undefined.\n   */\n\n\n  GlobalModel.prototype.queryComponents = function (condition) {\n    var mainType = condition.mainType;\n\n    if (!mainType) {\n      return [];\n    }\n\n    var index = condition.index;\n    var id = condition.id;\n    var name = condition.name;\n\n    var cmpts = this._componentsMap.get(mainType);\n\n    if (!cmpts || !cmpts.length) {\n      return [];\n    }\n\n    var result;\n\n    if (index != null) {\n      result = [];\n      each(modelUtil.normalizeToArray(index), function (idx) {\n        cmpts[idx] && result.push(cmpts[idx]);\n      });\n    } else if (id != null) {\n      result = queryByIdOrName('id', id, cmpts);\n    } else if (name != null) {\n      result = queryByIdOrName('name', name, cmpts);\n    } else {\n      // Return all non-empty components in that mainType\n      result = filter(cmpts, function (cmpt) {\n        return !!cmpt;\n      });\n    }\n\n    return filterBySubType(result, condition);\n  };\n  /**\n   * The interface is different from queryComponents,\n   * which is convenient for inner usage.\n   *\n   * @usage\n   * let result = findComponents(\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n   * );\n   * let result = findComponents(\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n   * );\n   * let result = findComponents(\n   *     {mainType: 'series',\n   *     filter: function (model, index) {...}}\n   * );\n   * // result like [component0, componnet1, ...]\n   */\n\n\n  GlobalModel.prototype.findComponents = function (condition) {\n    var query = condition.query;\n    var mainType = condition.mainType;\n    var queryCond = getQueryCond(query);\n    var result = queryCond ? this.queryComponents(queryCond) // Retrieve all non-empty components.\n    : filter(this._componentsMap.get(mainType), function (cmpt) {\n      return !!cmpt;\n    });\n    return doFilter(filterBySubType(result, condition));\n\n    function getQueryCond(q) {\n      var indexAttr = mainType + 'Index';\n      var idAttr = mainType + 'Id';\n      var nameAttr = mainType + 'Name';\n      return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n        mainType: mainType,\n        // subType will be filtered finally.\n        index: q[indexAttr],\n        id: q[idAttr],\n        name: q[nameAttr]\n      } : null;\n    }\n\n    function doFilter(res) {\n      return condition.filter ? filter(res, condition.filter) : res;\n    }\n  };\n\n  GlobalModel.prototype.eachComponent = function (mainType, cb, context) {\n    var componentsMap = this._componentsMap;\n\n    if (isFunction(mainType)) {\n      var ctxForAll_1 = cb;\n      var cbForAll_1 = mainType;\n      componentsMap.each(function (cmpts, componentType) {\n        for (var i = 0; cmpts && i < cmpts.length; i++) {\n          var cmpt = cmpts[i];\n          cmpt && cbForAll_1.call(ctxForAll_1, componentType, cmpt, cmpt.componentIndex);\n        }\n      });\n    } else {\n      var cmpts = isString(mainType) ? componentsMap.get(mainType) : isObject(mainType) ? this.findComponents(mainType) : null;\n\n      for (var i = 0; cmpts && i < cmpts.length; i++) {\n        var cmpt = cmpts[i];\n        cmpt && cb.call(context, cmpt, cmpt.componentIndex);\n      }\n    }\n  };\n  /**\n   * Get series list before filtered by name.\n   */\n\n\n  GlobalModel.prototype.getSeriesByName = function (name) {\n    var nameStr = modelUtil.convertOptionIdName(name, null);\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && nameStr != null && oneSeries.name === nameStr;\n    });\n  };\n  /**\n   * Get series list before filtered by index.\n   */\n\n\n  GlobalModel.prototype.getSeriesByIndex = function (seriesIndex) {\n    return this._componentsMap.get('series')[seriesIndex];\n  };\n  /**\n   * Get series list before filtered by type.\n   * FIXME: rename to getRawSeriesByType?\n   */\n\n\n  GlobalModel.prototype.getSeriesByType = function (subType) {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && oneSeries.subType === subType;\n    });\n  };\n  /**\n   * Get all series before filtered.\n   */\n\n\n  GlobalModel.prototype.getSeries = function () {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries;\n    });\n  };\n  /**\n   * Count series before filtered.\n   */\n\n\n  GlobalModel.prototype.getSeriesCount = function () {\n    return this._componentsCount.get('series');\n  };\n  /**\n   * After filtering, series may be different\n   * from raw series.\n   */\n\n\n  GlobalModel.prototype.eachSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n      cb.call(context, series, rawSeriesIndex);\n    }, this);\n  };\n  /**\n   * Iterate raw series before filtered.\n   *\n   * @param {Function} cb\n   * @param {*} context\n   */\n\n\n  GlobalModel.prototype.eachRawSeries = function (cb, context) {\n    each(this._componentsMap.get('series'), function (series) {\n      series && cb.call(context, series, series.componentIndex);\n    });\n  };\n  /**\n   * After filtering, series may be different.\n   * from raw series.\n   */\n\n\n  GlobalModel.prototype.eachSeriesByType = function (subType, cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n      if (series.subType === subType) {\n        cb.call(context, series, rawSeriesIndex);\n      }\n    }, this);\n  };\n  /**\n   * Iterate raw series before filtered of given type.\n   */\n\n\n  GlobalModel.prototype.eachRawSeriesByType = function (subType, cb, context) {\n    return each(this.getSeriesByType(subType), cb, context);\n  };\n\n  GlobalModel.prototype.isSeriesFiltered = function (seriesModel) {\n    assertSeriesInitialized(this);\n    return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\n  };\n\n  GlobalModel.prototype.getCurrentSeriesIndices = function () {\n    return (this._seriesIndices || []).slice();\n  };\n\n  GlobalModel.prototype.filterSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    var newSeriesIndices = [];\n    each(this._seriesIndices, function (seriesRawIdx) {\n      var series = this._componentsMap.get('series')[seriesRawIdx];\n\n      cb.call(context, series, seriesRawIdx) && newSeriesIndices.push(seriesRawIdx);\n    }, this);\n    this._seriesIndices = newSeriesIndices;\n    this._seriesIndicesMap = createHashMap(newSeriesIndices);\n  };\n\n  GlobalModel.prototype.restoreData = function (payload) {\n    reCreateSeriesIndices(this);\n    var componentsMap = this._componentsMap;\n    var componentTypes = [];\n    componentsMap.each(function (components, componentType) {\n      if (ComponentModel.hasClass(componentType)) {\n        componentTypes.push(componentType);\n      }\n    });\n    ComponentModel.topologicalTravel(componentTypes, ComponentModel.getAllClassMainTypes(), function (componentType) {\n      each(componentsMap.get(componentType), function (component) {\n        if (component && (componentType !== 'series' || !isNotTargetSeries(component, payload))) {\n          component.restoreData();\n        }\n      });\n    });\n  };\n\n  GlobalModel.internalField = function () {\n    reCreateSeriesIndices = function (ecModel) {\n      var seriesIndices = ecModel._seriesIndices = [];\n      each(ecModel._componentsMap.get('series'), function (series) {\n        // series may have been removed by `replaceMerge`.\n        series && seriesIndices.push(series.componentIndex);\n      });\n      ecModel._seriesIndicesMap = createHashMap(seriesIndices);\n    };\n\n    assertSeriesInitialized = function (ecModel) {\n      // Components that use _seriesIndices should depends on series component,\n      // which make sure that their initialization is after series.\n      if (process.env.NODE_ENV !== 'production') {\n        if (!ecModel._seriesIndices) {\n          throw new Error('Option should contains series.');\n        }\n      }\n    };\n\n    initBase = function (ecModel, baseOption) {\n      // Using OPTION_INNER_KEY to mark that this option cannot be used outside,\n      // i.e. `chart.setOption(chart.getModel().option);` is forbidden.\n      ecModel.option = {};\n      ecModel.option[OPTION_INNER_KEY] = OPTION_INNER_VALUE; // Init with series: [], in case of calling findSeries method\n      // before series initialized.\n\n      ecModel._componentsMap = createHashMap({\n        series: []\n      });\n      ecModel._componentsCount = createHashMap(); // If user spefied `option.aria`, aria will be enable. This detection should be\n      // performed before theme and globalDefault merge.\n\n      var airaOption = baseOption.aria;\n\n      if (isObject(airaOption) && airaOption.enabled == null) {\n        airaOption.enabled = true;\n      }\n\n      mergeTheme(baseOption, ecModel._theme.option); // TODO Needs clone when merging to the unexisted property\n\n      merge(baseOption, globalDefault, false);\n\n      ecModel._mergeOption(baseOption, null);\n    };\n  }();\n\n  return GlobalModel;\n}(Model);\n\nfunction isNotTargetSeries(seriesModel, payload) {\n  if (payload) {\n    var index = payload.seriesIndex;\n    var id = payload.seriesId;\n    var name_1 = payload.seriesName;\n    return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name_1 != null && seriesModel.name !== name_1;\n  }\n}\n\nfunction mergeTheme(option, theme) {\n  // PENDING\n  // NOT use `colorLayer` in theme if option has `color`\n  var notMergeColorLayer = option.color && !option.colorLayer;\n  each(theme, function (themeItem, name) {\n    if (name === 'colorLayer' && notMergeColorLayer) {\n      return;\n    } // If it is component model mainType, the model handles that merge later.\n    // otherwise, merge them here.\n\n\n    if (!ComponentModel.hasClass(name)) {\n      if (typeof themeItem === 'object') {\n        option[name] = !option[name] ? clone(themeItem) : merge(option[name], themeItem, false);\n      } else {\n        if (option[name] == null) {\n          option[name] = themeItem;\n        }\n      }\n    }\n  });\n}\n\nfunction queryByIdOrName(attr, idOrName, cmpts) {\n  // Here is a break from echarts4: string and number are\n  // treated as equal.\n  if (isArray(idOrName)) {\n    var keyMap_1 = createHashMap();\n    each(idOrName, function (idOrNameItem) {\n      if (idOrNameItem != null) {\n        var idName = modelUtil.convertOptionIdName(idOrNameItem, null);\n        idName != null && keyMap_1.set(idOrNameItem, true);\n      }\n    });\n    return filter(cmpts, function (cmpt) {\n      return cmpt && keyMap_1.get(cmpt[attr]);\n    });\n  } else {\n    var idName_1 = modelUtil.convertOptionIdName(idOrName, null);\n    return filter(cmpts, function (cmpt) {\n      return cmpt && idName_1 != null && cmpt[attr] === idName_1;\n    });\n  }\n}\n\nfunction filterBySubType(components, condition) {\n  // Using hasOwnProperty for restrict. Consider\n  // subType is undefined in user payload.\n  return condition.hasOwnProperty('subType') ? filter(components, function (cmpt) {\n    return cmpt && cmpt.subType === condition.subType;\n  }) : components;\n}\n\nfunction normalizeSetOptionInput(opts) {\n  var replaceMergeMainTypeMap = createHashMap();\n  opts && each(modelUtil.normalizeToArray(opts.replaceMerge), function (mainType) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(ComponentModel.hasClass(mainType), '\"' + mainType + '\" is not valid component main type in \"replaceMerge\"');\n    }\n\n    replaceMergeMainTypeMap.set(mainType, true);\n  });\n  return {\n    replaceMergeMainTypeMap: replaceMergeMainTypeMap\n  };\n}\n\nmixin(GlobalModel, PaletteMixin);\nexport default GlobalModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper.js';\nexport var AREA_STYLE_KEY_MAP = [['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\nvar getAreaStyle = makeStyleMapper(AREA_STYLE_KEY_MAP);\n\nvar AreaStyleMixin =\n/** @class */\nfunction () {\n  function AreaStyleMixin() {}\n\n  AreaStyleMixin.prototype.getAreaStyle = function (excludes, includes) {\n    return getAreaStyle(this, excludes, includes);\n  };\n\n  return AreaStyleMixin;\n}();\n\n;\nexport { AreaStyleMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getFont } from '../../label/labelStyle.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nvar PATH_COLOR = ['textStyle', 'color'];\nvar textStyleParams = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'padding', 'lineHeight', 'rich', 'width', 'height', 'overflow']; // TODO Performance improvement?\n\nvar tmpText = new ZRText();\n\nvar TextStyleMixin =\n/** @class */\nfunction () {\n  function TextStyleMixin() {}\n  /**\n   * Get color property or get color from option.textStyle.color\n   */\n  // TODO Callback\n\n\n  TextStyleMixin.prototype.getTextColor = function (isEmphasis) {\n    var ecModel = this.ecModel;\n    return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\n  };\n  /**\n   * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n   * @return {string}\n   */\n\n\n  TextStyleMixin.prototype.getFont = function () {\n    return getFont({\n      fontStyle: this.getShallow('fontStyle'),\n      fontWeight: this.getShallow('fontWeight'),\n      fontSize: this.getShallow('fontSize'),\n      fontFamily: this.getShallow('fontFamily')\n    }, this.ecModel);\n  };\n\n  TextStyleMixin.prototype.getTextRect = function (text) {\n    var style = {\n      text: text,\n      verticalAlign: this.getShallow('verticalAlign') || this.getShallow('baseline')\n    };\n\n    for (var i = 0; i < textStyleParams.length; i++) {\n      style[textStyleParams[i]] = this.getShallow(textStyleParams[i]);\n    }\n\n    tmpText.useStyle(style);\n    tmpText.update();\n    return tmpText.getBoundingRect();\n  };\n\n  return TextStyleMixin;\n}();\n\n;\nexport default TextStyleMixin;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport env from 'zrender/lib/core/env.js';\nimport { enableClassExtend, enableClassCheck } from '../util/clazz.js';\nimport { AreaStyleMixin } from './mixin/areaStyle.js';\nimport TextStyleMixin from './mixin/textStyle.js';\nimport { LineStyleMixin } from './mixin/lineStyle.js';\nimport { ItemStyleMixin } from './mixin/itemStyle.js';\nimport { mixin, clone, merge } from 'zrender/lib/core/util.js';\n\nvar Model =\n/** @class */\nfunction () {\n  function Model(option, parentModel, ecModel) {\n    this.parentModel = parentModel;\n    this.ecModel = ecModel;\n    this.option = option; // Simple optimization\n    // if (this.init) {\n    //     if (arguments.length <= 4) {\n    //         this.init(option, parentModel, ecModel, extraOpt);\n    //     }\n    //     else {\n    //         this.init.apply(this, arguments);\n    //     }\n    // }\n  }\n\n  Model.prototype.init = function (option, parentModel, ecModel) {\n    var rest = [];\n\n    for (var _i = 3; _i < arguments.length; _i++) {\n      rest[_i - 3] = arguments[_i];\n    }\n  };\n  /**\n   * Merge the input option to me.\n   */\n\n\n  Model.prototype.mergeOption = function (option, ecModel) {\n    merge(this.option, option, true);\n  }; // `path` can be 'a.b.c', so the return value type have to be `ModelOption`\n  // TODO: TYPE strict key check?\n  // get(path: string | string[], ignoreParent?: boolean): ModelOption;\n\n\n  Model.prototype.get = function (path, ignoreParent) {\n    if (path == null) {\n      return this.option;\n    }\n\n    return this._doGet(this.parsePath(path), !ignoreParent && this.parentModel);\n  };\n\n  Model.prototype.getShallow = function (key, ignoreParent) {\n    var option = this.option;\n    var val = option == null ? option : option[key];\n\n    if (val == null && !ignoreParent) {\n      var parentModel = this.parentModel;\n\n      if (parentModel) {\n        // FIXME:TS do not know how to make it works\n        val = parentModel.getShallow(key);\n      }\n    }\n\n    return val;\n  }; // `path` can be 'a.b.c', so the return value type have to be `Model<ModelOption>`\n  // getModel(path: string | string[], parentModel?: Model): Model;\n  // TODO 'a.b.c' is deprecated\n\n\n  Model.prototype.getModel = function (path, parentModel) {\n    var hasPath = path != null;\n    var pathFinal = hasPath ? this.parsePath(path) : null;\n    var obj = hasPath ? this._doGet(pathFinal) : this.option;\n    parentModel = parentModel || this.parentModel && this.parentModel.getModel(this.resolveParentPath(pathFinal));\n    return new Model(obj, parentModel, this.ecModel);\n  };\n  /**\n   * If model has option\n   */\n\n\n  Model.prototype.isEmpty = function () {\n    return this.option == null;\n  };\n\n  Model.prototype.restoreData = function () {}; // Pending\n\n\n  Model.prototype.clone = function () {\n    var Ctor = this.constructor;\n    return new Ctor(clone(this.option));\n  }; // setReadOnly(properties): void {\n  // clazzUtil.setReadOnly(this, properties);\n  // }\n  // If path is null/undefined, return null/undefined.\n\n\n  Model.prototype.parsePath = function (path) {\n    if (typeof path === 'string') {\n      return path.split('.');\n    }\n\n    return path;\n  }; // Resolve path for parent. Perhaps useful when parent use a different property.\n  // Default to be a identity resolver.\n  // Can be modified to a different resolver.\n\n\n  Model.prototype.resolveParentPath = function (path) {\n    return path;\n  }; // FIXME:TS check whether put this method here\n\n\n  Model.prototype.isAnimationEnabled = function () {\n    if (!env.node && this.option) {\n      if (this.option.animation != null) {\n        return !!this.option.animation;\n      } else if (this.parentModel) {\n        return this.parentModel.isAnimationEnabled();\n      }\n    }\n  };\n\n  Model.prototype._doGet = function (pathArr, parentModel) {\n    var obj = this.option;\n\n    if (!pathArr) {\n      return obj;\n    }\n\n    for (var i = 0; i < pathArr.length; i++) {\n      // Ignore empty\n      if (!pathArr[i]) {\n        continue;\n      } // obj could be number/string/... (like 0)\n\n\n      obj = obj && typeof obj === 'object' ? obj[pathArr[i]] : null;\n\n      if (obj == null) {\n        break;\n      }\n    }\n\n    if (obj == null && parentModel) {\n      obj = parentModel._doGet(this.resolveParentPath(pathArr), parentModel.parentModel);\n    }\n\n    return obj;\n  };\n\n  return Model;\n}();\n\n; // Enable Model.extend.\n\nenableClassExtend(Model);\nenableClassCheck(Model);\nmixin(Model, LineStyleMixin);\nmixin(Model, ItemStyleMixin);\nmixin(Model, AreaStyleMixin);\nmixin(Model, TextStyleMixin);\nexport default Model;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { normalizeToArray // , MappingExistingItem, setComponentTypeToKeyInfo, mappingToExists\n} from '../util/model.js';\nimport { each, clone, map, isTypedArray, setAsPrimitive, isArray, isObject // , HashMap , createHashMap, extend, merge,\n} from 'zrender/lib/core/util.js';\nimport { error } from '../util/log.js';\nvar QUERY_REG = /^(min|max)?(.+)$/; // Key: mainType\n// type FakeComponentsMap = HashMap<(MappingExistingItem & { subType: string })[]>;\n\n/**\n * TERM EXPLANATIONS:\n * See `ECOption` and `ECUnitOption` in `src/util/types.ts`.\n */\n\nvar OptionManager =\n/** @class */\nfunction () {\n  // timeline.notMerge is not supported in ec3. Firstly there is rearly\n  // case that notMerge is needed. Secondly supporting 'notMerge' requires\n  // rawOption cloned and backuped when timeline changed, which does no\n  // good to performance. What's more, that both timeline and setOption\n  // method supply 'notMerge' brings complex and some problems.\n  // Consider this case:\n  // (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n  // (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n  function OptionManager(api) {\n    this._timelineOptions = [];\n    this._mediaList = [];\n    /**\n     * -1, means default.\n     * empty means no media.\n     */\n\n    this._currentMediaIndices = [];\n    this._api = api;\n  }\n\n  OptionManager.prototype.setOption = function (rawOption, optionPreprocessorFuncs, opt) {\n    if (rawOption) {\n      // That set dat primitive is dangerous if user reuse the data when setOption again.\n      each(normalizeToArray(rawOption.series), function (series) {\n        series && series.data && isTypedArray(series.data) && setAsPrimitive(series.data);\n      });\n      each(normalizeToArray(rawOption.dataset), function (dataset) {\n        dataset && dataset.source && isTypedArray(dataset.source) && setAsPrimitive(dataset.source);\n      });\n    } // Caution: some series modify option data, if do not clone,\n    // it should ensure that the repeat modify correctly\n    // (create a new object when modify itself).\n\n\n    rawOption = clone(rawOption); // FIXME\n    // If some property is set in timeline options or media option but\n    // not set in baseOption, a warning should be given.\n\n    var optionBackup = this._optionBackup;\n    var newParsedOption = parseRawOption(rawOption, optionPreprocessorFuncs, !optionBackup);\n    this._newBaseOption = newParsedOption.baseOption; // For setOption at second time (using merge mode);\n\n    if (optionBackup) {\n      // FIXME\n      // the restore merge solution is essentially incorrect.\n      // the mapping can not be 100% consistent with ecModel, which probably brings\n      // potential bug!\n      // The first merge is delayed, because in most cases, users do not call `setOption` twice.\n      // let fakeCmptsMap = this._fakeCmptsMap;\n      // if (!fakeCmptsMap) {\n      //     fakeCmptsMap = this._fakeCmptsMap = createHashMap();\n      //     mergeToBackupOption(fakeCmptsMap, null, optionBackup.baseOption, null);\n      // }\n      // mergeToBackupOption(\n      //     fakeCmptsMap, optionBackup.baseOption, newParsedOption.baseOption, opt\n      // );\n      // For simplicity, timeline options and media options do not support merge,\n      // that is, if you `setOption` twice and both has timeline options, the latter\n      // timeline options will not be merged to the former, but just substitute them.\n      if (newParsedOption.timelineOptions.length) {\n        optionBackup.timelineOptions = newParsedOption.timelineOptions;\n      }\n\n      if (newParsedOption.mediaList.length) {\n        optionBackup.mediaList = newParsedOption.mediaList;\n      }\n\n      if (newParsedOption.mediaDefault) {\n        optionBackup.mediaDefault = newParsedOption.mediaDefault;\n      }\n    } else {\n      this._optionBackup = newParsedOption;\n    }\n  };\n\n  OptionManager.prototype.mountOption = function (isRecreate) {\n    var optionBackup = this._optionBackup;\n    this._timelineOptions = optionBackup.timelineOptions;\n    this._mediaList = optionBackup.mediaList;\n    this._mediaDefault = optionBackup.mediaDefault;\n    this._currentMediaIndices = [];\n    return clone(isRecreate // this._optionBackup.baseOption, which is created at the first `setOption`\n    // called, and is merged into every new option by inner method `mergeToBackupOption`\n    // each time `setOption` called, can be only used in `isRecreate`, because\n    // its reliability is under suspicion. In other cases option merge is\n    // performed by `model.mergeOption`.\n    ? optionBackup.baseOption : this._newBaseOption);\n  };\n\n  OptionManager.prototype.getTimelineOption = function (ecModel) {\n    var option;\n    var timelineOptions = this._timelineOptions;\n\n    if (timelineOptions.length) {\n      // getTimelineOption can only be called after ecModel inited,\n      // so we can get currentIndex from timelineModel.\n      var timelineModel = ecModel.getComponent('timeline');\n\n      if (timelineModel) {\n        option = clone( // FIXME:TS as TimelineModel or quivlant interface\n        timelineOptions[timelineModel.getCurrentIndex()]);\n      }\n    }\n\n    return option;\n  };\n\n  OptionManager.prototype.getMediaOption = function (ecModel) {\n    var ecWidth = this._api.getWidth();\n\n    var ecHeight = this._api.getHeight();\n\n    var mediaList = this._mediaList;\n    var mediaDefault = this._mediaDefault;\n    var indices = [];\n    var result = []; // No media defined.\n\n    if (!mediaList.length && !mediaDefault) {\n      return result;\n    } // Multi media may be applied, the latter defined media has higher priority.\n\n\n    for (var i = 0, len = mediaList.length; i < len; i++) {\n      if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n        indices.push(i);\n      }\n    } // FIXME\n    // Whether mediaDefault should force users to provide? Otherwise\n    // the change by media query can not be recorvered.\n\n\n    if (!indices.length && mediaDefault) {\n      indices = [-1];\n    }\n\n    if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n      result = map(indices, function (index) {\n        return clone(index === -1 ? mediaDefault.option : mediaList[index].option);\n      });\n    } // Otherwise return nothing.\n\n\n    this._currentMediaIndices = indices;\n    return result;\n  };\n\n  return OptionManager;\n}();\n/**\n * [RAW_OPTION_PATTERNS]\n * (Note: \"series: []\" represents all other props in `ECUnitOption`)\n *\n * (1) No prop \"baseOption\" declared:\n * Root option is used as \"baseOption\" (except prop \"options\" and \"media\").\n * ```js\n * option = {\n *     series: [],\n *     timeline: {},\n *     options: [],\n * };\n * option = {\n *     series: [],\n *     media: {},\n * };\n * option = {\n *     series: [],\n *     timeline: {},\n *     options: [],\n *     media: {},\n * }\n * ```\n *\n * (2) Prop \"baseOption\" declared:\n * If \"baseOption\" declared, `ECUnitOption` props can only be declared\n * inside \"baseOption\" except prop \"timeline\" (compat ec2).\n * ```js\n * option = {\n *     baseOption: {\n *         timeline: {},\n *         series: [],\n *     },\n *     options: []\n * };\n * option = {\n *     baseOption: {\n *         series: [],\n *     },\n *     media: []\n * };\n * option = {\n *     baseOption: {\n *         timeline: {},\n *         series: [],\n *     },\n *     options: []\n *     media: []\n * };\n * option = {\n *     // ec3 compat ec2: allow (only) `timeline` declared\n *     // outside baseOption. Keep this setting for compat.\n *     timeline: {},\n *     baseOption: {\n *         series: [],\n *     },\n *     options: [],\n *     media: []\n * };\n * ```\n */\n\n\nfunction parseRawOption( // `rawOption` May be modified\nrawOption, optionPreprocessorFuncs, isNew) {\n  var mediaList = [];\n  var mediaDefault;\n  var baseOption;\n  var declaredBaseOption = rawOption.baseOption; // Compatible with ec2, [RAW_OPTION_PATTERNS] above.\n\n  var timelineOnRoot = rawOption.timeline;\n  var timelineOptionsOnRoot = rawOption.options;\n  var mediaOnRoot = rawOption.media;\n  var hasMedia = !!rawOption.media;\n  var hasTimeline = !!(timelineOptionsOnRoot || timelineOnRoot || declaredBaseOption && declaredBaseOption.timeline);\n\n  if (declaredBaseOption) {\n    baseOption = declaredBaseOption; // For merge option.\n\n    if (!baseOption.timeline) {\n      baseOption.timeline = timelineOnRoot;\n    }\n  } // For convenience, enable to use the root option as the `baseOption`:\n  // `{ ...normalOptionProps, media: [{ ... }, { ... }] }`\n  else {\n      if (hasTimeline || hasMedia) {\n        rawOption.options = rawOption.media = null;\n      }\n\n      baseOption = rawOption;\n    }\n\n  if (hasMedia) {\n    if (isArray(mediaOnRoot)) {\n      each(mediaOnRoot, function (singleMedia) {\n        if (process.env.NODE_ENV !== 'production') {\n          // Real case of wrong config.\n          if (singleMedia && !singleMedia.option && isObject(singleMedia.query) && isObject(singleMedia.query.option)) {\n            error('Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }');\n          }\n        }\n\n        if (singleMedia && singleMedia.option) {\n          if (singleMedia.query) {\n            mediaList.push(singleMedia);\n          } else if (!mediaDefault) {\n            // Use the first media default.\n            mediaDefault = singleMedia;\n          }\n        }\n      });\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        // Real case of wrong config.\n        error('Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }');\n      }\n    }\n  }\n\n  doPreprocess(baseOption);\n  each(timelineOptionsOnRoot, function (option) {\n    return doPreprocess(option);\n  });\n  each(mediaList, function (media) {\n    return doPreprocess(media.option);\n  });\n\n  function doPreprocess(option) {\n    each(optionPreprocessorFuncs, function (preProcess) {\n      preProcess(option, isNew);\n    });\n  }\n\n  return {\n    baseOption: baseOption,\n    timelineOptions: timelineOptionsOnRoot || [],\n    mediaDefault: mediaDefault,\n    mediaList: mediaList\n  };\n}\n/**\n * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\n * Support: width, height, aspectRatio\n * Can use max or min as prefix.\n */\n\n\nfunction applyMediaQuery(query, ecWidth, ecHeight) {\n  var realMap = {\n    width: ecWidth,\n    height: ecHeight,\n    aspectratio: ecWidth / ecHeight // lower case for convenience.\n\n  };\n  var applicable = true;\n  each(query, function (value, attr) {\n    var matched = attr.match(QUERY_REG);\n\n    if (!matched || !matched[1] || !matched[2]) {\n      return;\n    }\n\n    var operator = matched[1];\n    var realAttr = matched[2].toLowerCase();\n\n    if (!compare(realMap[realAttr], value, operator)) {\n      applicable = false;\n    }\n  });\n  return applicable;\n}\n\nfunction compare(real, expect, operator) {\n  if (operator === 'min') {\n    return real >= expect;\n  } else if (operator === 'max') {\n    return real <= expect;\n  } else {\n    // Equals\n    return real === expect;\n  }\n}\n\nfunction indicesEquals(indices1, indices2) {\n  // indices is always order by asc and has only finite number.\n  return indices1.join(',') === indices2.join(',');\n}\n/**\n * Consider case:\n * `chart.setOption(opt1);`\n * Then user do some interaction like dataZoom, dataView changing.\n * `chart.setOption(opt2);`\n * Then user press 'reset button' in toolbox.\n *\n * After doing that all of the interaction effects should be reset, the\n * chart should be the same as the result of invoke\n * `chart.setOption(opt1); chart.setOption(opt2);`.\n *\n * Although it is not able ensure that\n * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\n * `chart.setOption(merge(opt1, opt2));` exactly,\n * this might be the only simple way to implement that feature.\n *\n * MEMO: We've considered some other approaches:\n * 1. Each model handles its self restoration but not uniform treatment.\n *     (Too complex in logic and error-prone)\n * 2. Use a shadow ecModel. (Performance expensive)\n *\n * FIXME: A possible solution:\n * Add a extra level of model for each component model. The inheritance chain would be:\n * ecModel <- componentModel <- componentActionModel <- dataItemModel\n * And all of the actions can only modify the `componentActionModel` rather than\n * `componentModel`. `setOption` will only modify the `ecModel` and `componentModel`.\n * When \"resotre\" action triggered, model from `componentActionModel` will be discarded\n * instead of recreating the \"ecModel\" from the \"_optionBackup\".\n */\n// function mergeToBackupOption(\n//     fakeCmptsMap: FakeComponentsMap,\n//     // `tarOption` Can be null/undefined, means init\n//     tarOption: ECUnitOption,\n//     newOption: ECUnitOption,\n//     // Can be null/undefined\n//     opt: InnerSetOptionOpts\n// ): void {\n//     newOption = newOption || {} as ECUnitOption;\n//     const notInit = !!tarOption;\n//     each(newOption, function (newOptsInMainType, mainType) {\n//         if (newOptsInMainType == null) {\n//             return;\n//         }\n//         if (!ComponentModel.hasClass(mainType)) {\n//             if (tarOption) {\n//                 tarOption[mainType] = merge(tarOption[mainType], newOptsInMainType, true);\n//             }\n//         }\n//         else {\n//             const oldTarOptsInMainType = notInit ? normalizeToArray(tarOption[mainType]) : null;\n//             const oldFakeCmptsInMainType = fakeCmptsMap.get(mainType) || [];\n//             const resultTarOptsInMainType = notInit ? (tarOption[mainType] = [] as ComponentOption[]) : null;\n//             const resultFakeCmptsInMainType = fakeCmptsMap.set(mainType, []);\n//             const mappingResult = mappingToExists(\n//                 oldFakeCmptsInMainType,\n//                 normalizeToArray(newOptsInMainType),\n//                 (opt && opt.replaceMergeMainTypeMap.get(mainType)) ? 'replaceMerge' : 'normalMerge'\n//             );\n//             setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel as ComponentModelConstructor);\n//             each(mappingResult, function (resultItem, index) {\n//                 // The same logic as `Global.ts#_mergeOption`.\n//                 let fakeCmpt = resultItem.existing;\n//                 const newOption = resultItem.newOption;\n//                 const keyInfo = resultItem.keyInfo;\n//                 let fakeCmptOpt;\n//                 if (!newOption) {\n//                     fakeCmptOpt = oldTarOptsInMainType[index];\n//                 }\n//                 else {\n//                     if (fakeCmpt && fakeCmpt.subType === keyInfo.subType) {\n//                         fakeCmpt.name = keyInfo.name;\n//                         if (notInit) {\n//                             fakeCmptOpt = merge(oldTarOptsInMainType[index], newOption, true);\n//                         }\n//                     }\n//                     else {\n//                         fakeCmpt = extend({}, keyInfo);\n//                         if (notInit) {\n//                             fakeCmptOpt = clone(newOption);\n//                         }\n//                     }\n//                 }\n//                 if (fakeCmpt) {\n//                     notInit && resultTarOptsInMainType.push(fakeCmptOpt);\n//                     resultFakeCmptsInMainType.push(fakeCmpt);\n//                 }\n//                 else {\n//                     notInit && resultTarOptsInMainType.push(void 0);\n//                     resultFakeCmptsInMainType.push(void 0);\n//                 }\n//             });\n//         }\n//     });\n// }\n\n\nexport default OptionManager;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport * as modelUtil from '../util/model.js';\nimport ComponentModel from './Component.js';\nimport { PaletteMixin } from './mixin/palette.js';\nimport { DataFormatMixin } from '../model/mixin/dataFormat.js';\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout.js';\nimport { createTask } from '../core/task.js';\nimport { mountExtend } from '../util/clazz.js';\nimport { SourceManager } from '../data/helper/sourceManager.js';\nimport { defaultSeriesFormatTooltip } from '../component/tooltip/seriesFormatTooltip.js';\nvar inner = modelUtil.makeInner();\n\nfunction getSelectionKey(data, dataIndex) {\n  return data.getName(dataIndex) || data.getId(dataIndex);\n}\n\nexport var SERIES_UNIVERSAL_TRANSITION_PROP = '__universalTransitionEnabled';\n\nvar SeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(SeriesModel, _super);\n\n  function SeriesModel() {\n    // [Caution]: Because this class or desecendants can be used as `XXX.extend(subProto)`,\n    // the class members must not be initialized in constructor or declaration place.\n    // Otherwise there is bad case:\n    //   class A {xxx = 1;}\n    //   enableClassExtend(A);\n    //   class B extends A {}\n    //   var C = B.extend({xxx: 5});\n    //   var c = new C();\n    //   console.log(c.xxx); // expect 5 but always 1.\n    var _this = _super !== null && _super.apply(this, arguments) || this; // ---------------------------------------\n    // Props about data selection\n    // ---------------------------------------\n\n\n    _this._selectedDataIndicesMap = {};\n    return _this;\n  }\n\n  SeriesModel.prototype.init = function (option, parentModel, ecModel) {\n    this.seriesIndex = this.componentIndex;\n    this.dataTask = createTask({\n      count: dataTaskCount,\n      reset: dataTaskReset\n    });\n    this.dataTask.context = {\n      model: this\n    };\n    this.mergeDefaultAndTheme(option, ecModel);\n    var sourceManager = inner(this).sourceManager = new SourceManager(this);\n    sourceManager.prepareSource();\n    var data = this.getInitialData(option, ecModel);\n    wrapData(data, this);\n    this.dataTask.context.data = data;\n\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(data, 'getInitialData returned invalid data.');\n    }\n\n    inner(this).dataBeforeProcessed = data; // If we reverse the order (make data firstly, and then make\n    // dataBeforeProcessed by cloneShallow), cloneShallow will\n    // cause data.graph.data !== data when using\n    // module:echarts/data/Graph or module:echarts/data/Tree.\n    // See module:echarts/data/helper/linkSeriesData\n    // Theoretically, it is unreasonable to call `seriesModel.getData()` in the model\n    // init or merge stage, because the data can be restored. So we do not `restoreData`\n    // and `setData` here, which forbids calling `seriesModel.getData()` in this stage.\n    // Call `seriesModel.getRawData()` instead.\n    // this.restoreData();\n\n    autoSeriesName(this);\n\n    this._initSelectedMapFromData(data);\n  };\n  /**\n   * Util for merge default and theme to option\n   */\n\n\n  SeriesModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? getLayoutParams(option) : {}; // Backward compat: using subType on theme.\n    // But if name duplicate between series subType\n    // (for example: parallel) add component mainType,\n    // add suffix 'Series'.\n\n    var themeSubType = this.subType;\n\n    if (ComponentModel.hasClass(themeSubType)) {\n      themeSubType += 'Series';\n    }\n\n    zrUtil.merge(option, ecModel.getTheme().get(this.subType));\n    zrUtil.merge(option, this.getDefaultOption()); // Default label emphasis `show`\n\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\n    this.fillDataTextStyle(option.data);\n\n    if (layoutMode) {\n      mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n\n  SeriesModel.prototype.mergeOption = function (newSeriesOption, ecModel) {\n    // this.settingTask.dirty();\n    newSeriesOption = zrUtil.merge(this.option, newSeriesOption, true);\n    this.fillDataTextStyle(newSeriesOption.data);\n    var layoutMode = fetchLayoutMode(this);\n\n    if (layoutMode) {\n      mergeLayoutParam(this.option, newSeriesOption, layoutMode);\n    }\n\n    var sourceManager = inner(this).sourceManager;\n    sourceManager.dirty();\n    sourceManager.prepareSource();\n    var data = this.getInitialData(newSeriesOption, ecModel);\n    wrapData(data, this);\n    this.dataTask.dirty();\n    this.dataTask.context.data = data;\n    inner(this).dataBeforeProcessed = data;\n    autoSeriesName(this);\n\n    this._initSelectedMapFromData(data);\n  };\n\n  SeriesModel.prototype.fillDataTextStyle = function (data) {\n    // Default data label emphasis `show`\n    // FIXME Tree structure data ?\n    // FIXME Performance ?\n    if (data && !zrUtil.isTypedArray(data)) {\n      var props = ['show'];\n\n      for (var i = 0; i < data.length; i++) {\n        if (data[i] && data[i].label) {\n          modelUtil.defaultEmphasis(data[i], 'label', props);\n        }\n      }\n    }\n  };\n  /**\n   * Init a data structure from data related option in series\n   * Must be overridden.\n   */\n\n\n  SeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return;\n  };\n  /**\n   * Append data to list\n   */\n\n\n  SeriesModel.prototype.appendData = function (params) {\n    // FIXME ???\n    // (1) If data from dataset, forbidden append.\n    // (2) support append data of dataset.\n    var data = this.getRawData();\n    data.appendData(params.data);\n  };\n  /**\n   * Consider some method like `filter`, `map` need make new data,\n   * We should make sure that `seriesModel.getData()` get correct\n   * data in the stream procedure. So we fetch data from upstream\n   * each time `task.perform` called.\n   */\n\n\n  SeriesModel.prototype.getData = function (dataType) {\n    var task = getCurrentTask(this);\n\n    if (task) {\n      var data = task.context.data;\n      return dataType == null ? data : data.getLinkedData(dataType);\n    } else {\n      // When series is not alive (that may happen when click toolbox\n      // restore or setOption with not merge mode), series data may\n      // be still need to judge animation or something when graphic\n      // elements want to know whether fade out.\n      return inner(this).data;\n    }\n  };\n\n  SeriesModel.prototype.getAllData = function () {\n    var mainData = this.getData();\n    return mainData && mainData.getLinkedDataAll ? mainData.getLinkedDataAll() : [{\n      data: mainData\n    }];\n  };\n\n  SeriesModel.prototype.setData = function (data) {\n    var task = getCurrentTask(this);\n\n    if (task) {\n      var context = task.context; // Consider case: filter, data sample.\n      // FIXME:TS never used, so comment it\n      // if (context.data !== data && task.modifyOutputEnd) {\n      //     task.setOutputEnd(data.count());\n      // }\n\n      context.outputData = data; // Caution: setData should update context.data,\n      // Because getData may be called multiply in a\n      // single stage and expect to get the data just\n      // set. (For example, AxisProxy, x y both call\n      // getData and setDate sequentially).\n      // So the context.data should be fetched from\n      // upstream each time when a stage starts to be\n      // performed.\n\n      if (task !== this.dataTask) {\n        context.data = data;\n      }\n    }\n\n    inner(this).data = data;\n  };\n\n  SeriesModel.prototype.getEncode = function () {\n    var encode = this.get('encode', true);\n\n    if (encode) {\n      return zrUtil.createHashMap(encode);\n    }\n  };\n\n  SeriesModel.prototype.getSourceManager = function () {\n    return inner(this).sourceManager;\n  };\n\n  SeriesModel.prototype.getSource = function () {\n    return this.getSourceManager().getSource();\n  };\n  /**\n   * Get data before processed\n   */\n\n\n  SeriesModel.prototype.getRawData = function () {\n    return inner(this).dataBeforeProcessed;\n  };\n\n  SeriesModel.prototype.getColorBy = function () {\n    var colorBy = this.get('colorBy');\n    return colorBy || 'series';\n  };\n\n  SeriesModel.prototype.isColorBySeries = function () {\n    return this.getColorBy() === 'series';\n  };\n  /**\n   * Get base axis if has coordinate system and has axis.\n   * By default use coordSys.getBaseAxis();\n   * Can be overridden for some chart.\n   * @return {type} description\n   */\n\n\n  SeriesModel.prototype.getBaseAxis = function () {\n    var coordSys = this.coordinateSystem; // @ts-ignore\n\n    return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n  };\n  /**\n   * Default tooltip formatter\n   *\n   * @param dataIndex\n   * @param multipleSeries\n   * @param dataType\n   * @param renderMode valid values: 'html'(by default) and 'richText'.\n   *        'html' is used for rendering tooltip in extra DOM form, and the result\n   *        string is used as DOM HTML content.\n   *        'richText' is used for rendering tooltip in rich text form, for those where\n   *        DOM operation is not supported.\n   * @return formatted tooltip with `html` and `markers`\n   *        Notice: The override method can also return string\n   */\n\n\n  SeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    return defaultSeriesFormatTooltip({\n      series: this,\n      dataIndex: dataIndex,\n      multipleSeries: multipleSeries\n    });\n  };\n\n  SeriesModel.prototype.isAnimationEnabled = function () {\n    var ecModel = this.ecModel; // Disable animation if using echarts in node but not give ssr flag.\n    // In ssr mode, renderToString will generate svg with css animation.\n\n    if (env.node && !(ecModel && ecModel.ssr)) {\n      return false;\n    }\n\n    var animationEnabled = this.getShallow('animation');\n\n    if (animationEnabled) {\n      if (this.getData().count() > this.getShallow('animationThreshold')) {\n        animationEnabled = false;\n      }\n    }\n\n    return !!animationEnabled;\n  };\n\n  SeriesModel.prototype.restoreData = function () {\n    this.dataTask.dirty();\n  };\n\n  SeriesModel.prototype.getColorFromPalette = function (name, scope, requestColorNum) {\n    var ecModel = this.ecModel; // PENDING\n\n    var color = PaletteMixin.prototype.getColorFromPalette.call(this, name, scope, requestColorNum);\n\n    if (!color) {\n      color = ecModel.getColorFromPalette(name, scope, requestColorNum);\n    }\n\n    return color;\n  };\n  /**\n   * Use `data.mapDimensionsAll(coordDim)` instead.\n   * @deprecated\n   */\n\n\n  SeriesModel.prototype.coordDimToDataDim = function (coordDim) {\n    return this.getRawData().mapDimensionsAll(coordDim);\n  };\n  /**\n   * Get progressive rendering count each step\n   */\n\n\n  SeriesModel.prototype.getProgressive = function () {\n    return this.get('progressive');\n  };\n  /**\n   * Get progressive rendering count each step\n   */\n\n\n  SeriesModel.prototype.getProgressiveThreshold = function () {\n    return this.get('progressiveThreshold');\n  }; // PENGING If selectedMode is null ?\n\n\n  SeriesModel.prototype.select = function (innerDataIndices, dataType) {\n    this._innerSelect(this.getData(dataType), innerDataIndices);\n  };\n\n  SeriesModel.prototype.unselect = function (innerDataIndices, dataType) {\n    var selectedMap = this.option.selectedMap;\n\n    if (!selectedMap) {\n      return;\n    }\n\n    var selectedMode = this.option.selectedMode;\n    var data = this.getData(dataType);\n\n    if (selectedMode === 'series' || selectedMap === 'all') {\n      this.option.selectedMap = {};\n      this._selectedDataIndicesMap = {};\n      return;\n    }\n\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      var dataIndex = innerDataIndices[i];\n      var nameOrId = getSelectionKey(data, dataIndex);\n      selectedMap[nameOrId] = false;\n      this._selectedDataIndicesMap[nameOrId] = -1;\n    }\n  };\n\n  SeriesModel.prototype.toggleSelect = function (innerDataIndices, dataType) {\n    var tmpArr = [];\n\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      tmpArr[0] = innerDataIndices[i];\n      this.isSelected(innerDataIndices[i], dataType) ? this.unselect(tmpArr, dataType) : this.select(tmpArr, dataType);\n    }\n  };\n\n  SeriesModel.prototype.getSelectedDataIndices = function () {\n    if (this.option.selectedMap === 'all') {\n      return [].slice.call(this.getData().getIndices());\n    }\n\n    var selectedDataIndicesMap = this._selectedDataIndicesMap;\n    var nameOrIds = zrUtil.keys(selectedDataIndicesMap);\n    var dataIndices = [];\n\n    for (var i = 0; i < nameOrIds.length; i++) {\n      var dataIndex = selectedDataIndicesMap[nameOrIds[i]];\n\n      if (dataIndex >= 0) {\n        dataIndices.push(dataIndex);\n      }\n    }\n\n    return dataIndices;\n  };\n\n  SeriesModel.prototype.isSelected = function (dataIndex, dataType) {\n    var selectedMap = this.option.selectedMap;\n\n    if (!selectedMap) {\n      return false;\n    }\n\n    var data = this.getData(dataType);\n    return (selectedMap === 'all' || selectedMap[getSelectionKey(data, dataIndex)]) && !data.getItemModel(dataIndex).get(['select', 'disabled']);\n  };\n\n  SeriesModel.prototype.isUniversalTransitionEnabled = function () {\n    if (this[SERIES_UNIVERSAL_TRANSITION_PROP]) {\n      return true;\n    }\n\n    var universalTransitionOpt = this.option.universalTransition; // Quick reject\n\n    if (!universalTransitionOpt) {\n      return false;\n    }\n\n    if (universalTransitionOpt === true) {\n      return true;\n    } // Can be simply 'universalTransition: true'\n\n\n    return universalTransitionOpt && universalTransitionOpt.enabled;\n  };\n\n  SeriesModel.prototype._innerSelect = function (data, innerDataIndices) {\n    var _a, _b;\n\n    var option = this.option;\n    var selectedMode = option.selectedMode;\n    var len = innerDataIndices.length;\n\n    if (!selectedMode || !len) {\n      return;\n    }\n\n    if (selectedMode === 'series') {\n      option.selectedMap = 'all';\n    } else if (selectedMode === 'multiple') {\n      if (!zrUtil.isObject(option.selectedMap)) {\n        option.selectedMap = {};\n      }\n\n      var selectedMap = option.selectedMap;\n\n      for (var i = 0; i < len; i++) {\n        var dataIndex = innerDataIndices[i]; // TODO different types of data share same object.\n\n        var nameOrId = getSelectionKey(data, dataIndex);\n        selectedMap[nameOrId] = true;\n        this._selectedDataIndicesMap[nameOrId] = data.getRawIndex(dataIndex);\n      }\n    } else if (selectedMode === 'single' || selectedMode === true) {\n      var lastDataIndex = innerDataIndices[len - 1];\n      var nameOrId = getSelectionKey(data, lastDataIndex);\n      option.selectedMap = (_a = {}, _a[nameOrId] = true, _a);\n      this._selectedDataIndicesMap = (_b = {}, _b[nameOrId] = data.getRawIndex(lastDataIndex), _b);\n    }\n  };\n\n  SeriesModel.prototype._initSelectedMapFromData = function (data) {\n    // Ignore select info in data if selectedMap exists.\n    // NOTE It's only for legacy usage. edge data is not supported.\n    if (this.option.selectedMap) {\n      return;\n    }\n\n    var dataIndices = [];\n\n    if (data.hasItemOption) {\n      data.each(function (idx) {\n        var rawItem = data.getRawDataItem(idx);\n\n        if (rawItem && rawItem.selected) {\n          dataIndices.push(idx);\n        }\n      });\n    }\n\n    if (dataIndices.length > 0) {\n      this._innerSelect(data, dataIndices);\n    }\n  }; // /**\n  //  * @see {module:echarts/stream/Scheduler}\n  //  */\n  // abstract pipeTask: null\n\n\n  SeriesModel.registerClass = function (clz) {\n    return ComponentModel.registerClass(clz);\n  };\n\n  SeriesModel.protoInitialize = function () {\n    var proto = SeriesModel.prototype;\n    proto.type = 'series.__base__';\n    proto.seriesIndex = 0;\n    proto.ignoreStyleOnData = false;\n    proto.hasSymbolVisual = false;\n    proto.defaultSymbol = 'circle'; // Make sure the values can be accessed!\n\n    proto.visualStyleAccessPath = 'itemStyle';\n    proto.visualDrawType = 'fill';\n  }();\n\n  return SeriesModel;\n}(ComponentModel);\n\nzrUtil.mixin(SeriesModel, DataFormatMixin);\nzrUtil.mixin(SeriesModel, PaletteMixin);\nmountExtend(SeriesModel, ComponentModel);\n/**\n * MUST be called after `prepareSource` called\n * Here we need to make auto series, especially for auto legend. But we\n * do not modify series.name in option to avoid side effects.\n */\n\nfunction autoSeriesName(seriesModel) {\n  // User specified name has higher priority, otherwise it may cause\n  // series can not be queried unexpectedly.\n  var name = seriesModel.name;\n\n  if (!modelUtil.isNameSpecified(seriesModel)) {\n    seriesModel.name = getSeriesAutoName(seriesModel) || name;\n  }\n}\n\nfunction getSeriesAutoName(seriesModel) {\n  var data = seriesModel.getRawData();\n  var dataDims = data.mapDimensionsAll('seriesName');\n  var nameArr = [];\n  zrUtil.each(dataDims, function (dataDim) {\n    var dimInfo = data.getDimensionInfo(dataDim);\n    dimInfo.displayName && nameArr.push(dimInfo.displayName);\n  });\n  return nameArr.join(' ');\n}\n\nfunction dataTaskCount(context) {\n  return context.model.getRawData().count();\n}\n\nfunction dataTaskReset(context) {\n  var seriesModel = context.model;\n  seriesModel.setData(seriesModel.getRawData().cloneShallow());\n  return dataTaskProgress;\n}\n\nfunction dataTaskProgress(param, context) {\n  // Avoid repeat cloneShallow when data just created in reset.\n  if (context.outputData && param.end > context.outputData.count()) {\n    context.model.getRawData().cloneShallow(context.outputData);\n  }\n} // TODO refactor\n\n\nfunction wrapData(data, seriesModel) {\n  zrUtil.each(zrUtil.concatArray(data.CHANGABLE_METHODS, data.DOWNSAMPLE_METHODS), function (methodName) {\n    data.wrapMethod(methodName, zrUtil.curry(onDataChange, seriesModel));\n  });\n}\n\nfunction onDataChange(seriesModel, newList) {\n  var task = getCurrentTask(seriesModel);\n\n  if (task) {\n    // Consider case: filter, selectRange\n    task.setOutputEnd((newList || this).count());\n  }\n\n  return newList;\n}\n\nfunction getCurrentTask(seriesModel) {\n  var scheduler = (seriesModel.ecModel || {}).scheduler;\n  var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);\n\n  if (pipeline) {\n    // When pipline finished, the currrentTask keep the last\n    // task (renderTask).\n    var task = pipeline.currentTask;\n\n    if (task) {\n      var agentStubMap = task.agentStubMap;\n\n      if (agentStubMap) {\n        task = agentStubMap.get(seriesModel.uid);\n      }\n    }\n\n    return task;\n  }\n}\n\nexport default SeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, assert } from 'zrender/lib/core/util.js';\nimport { isComponentIdInternal } from '../util/model.js';\nvar internalOptionCreatorMap = createHashMap();\nexport function registerInternalOptionCreator(mainType, creator) {\n  assert(internalOptionCreatorMap.get(mainType) == null && creator);\n  internalOptionCreatorMap.set(mainType, creator);\n}\nexport function concatInternalOptions(ecModel, mainType, newCmptOptionList) {\n  var internalOptionCreator = internalOptionCreatorMap.get(mainType);\n\n  if (!internalOptionCreator) {\n    return newCmptOptionList;\n  }\n\n  var internalOptions = internalOptionCreator(ecModel);\n\n  if (!internalOptions) {\n    return newCmptOptionList;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < internalOptions.length; i++) {\n      assert(isComponentIdInternal(internalOptions[i]));\n    }\n  }\n\n  return newCmptOptionList.concat(internalOptions);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\nimport { formatTpl } from '../../util/format.js';\nimport { error, makePrintable } from '../../util/log.js';\nvar DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g;\n\nvar DataFormatMixin =\n/** @class */\nfunction () {\n  function DataFormatMixin() {}\n  /**\n   * Get params for formatter\n   */\n\n\n  DataFormatMixin.prototype.getDataParams = function (dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var style = data.getItemVisual(dataIndex, 'style');\n    var color = style && style[data.getItemVisual(dataIndex, 'drawType') || 'fill'];\n    var borderColor = style && style.stroke;\n    var mainType = this.mainType;\n    var isSeries = mainType === 'series';\n    var userOutput = data.userOutput && data.userOutput.get();\n    return {\n      componentType: mainType,\n      componentSubType: this.subType,\n      componentIndex: this.componentIndex,\n      seriesType: isSeries ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: isSeries ? this.id : null,\n      seriesName: isSeries ? this.name : null,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      borderColor: borderColor,\n      dimensionNames: userOutput ? userOutput.fullDimensions : null,\n      encode: userOutput ? userOutput.encode : null,\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  };\n  /**\n   * Format label\n   * @param dataIndex\n   * @param status 'normal' by default\n   * @param dataType\n   * @param labelDimIndex Only used in some chart that\n   *        use formatter in different dimensions, like radar.\n   * @param formatter Formatter given outside.\n   * @return return null/undefined if no formatter\n   */\n\n\n  DataFormatMixin.prototype.getFormattedLabel = function (dataIndex, status, dataType, labelDimIndex, formatter, extendParams) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var params = this.getDataParams(dataIndex, dataType);\n\n    if (extendParams) {\n      params.value = extendParams.interpolatedValue;\n    }\n\n    if (labelDimIndex != null && zrUtil.isArray(params.value)) {\n      params.value = params.value[labelDimIndex];\n    }\n\n    if (!formatter) {\n      var itemModel = data.getItemModel(dataIndex); // @ts-ignore\n\n      formatter = itemModel.get(status === 'normal' ? ['label', 'formatter'] : [status, 'label', 'formatter']);\n    }\n\n    if (zrUtil.isFunction(formatter)) {\n      params.status = status;\n      params.dimensionIndex = labelDimIndex;\n      return formatter(params);\n    } else if (zrUtil.isString(formatter)) {\n      var str = formatTpl(formatter, params); // Support 'aaa{@[3]}bbb{@product}ccc'.\n      // Do not support '}' in dim name util have to.\n\n      return str.replace(DIMENSION_LABEL_REG, function (origin, dimStr) {\n        var len = dimStr.length;\n        var dimLoose = dimStr;\n\n        if (dimLoose.charAt(0) === '[' && dimLoose.charAt(len - 1) === ']') {\n          dimLoose = +dimLoose.slice(1, len - 1); // Also support: '[]' => 0\n\n          if (process.env.NODE_ENV !== 'production') {\n            if (isNaN(dimLoose)) {\n              error(\"Invalide label formatter: @\" + dimStr + \", only support @[0], @[1], @[2], ...\");\n            }\n          }\n        }\n\n        var val = retrieveRawValue(data, dataIndex, dimLoose);\n\n        if (extendParams && zrUtil.isArray(extendParams.interpolatedValue)) {\n          var dimIndex = data.getDimensionIndex(dimLoose);\n\n          if (dimIndex >= 0) {\n            val = extendParams.interpolatedValue[dimIndex];\n          }\n        }\n\n        return val != null ? val + '' : '';\n      });\n    }\n  };\n  /**\n   * Get raw value in option\n   */\n\n\n  DataFormatMixin.prototype.getRawValue = function (idx, dataType) {\n    return retrieveRawValue(this.getData(dataType), idx);\n  };\n  /**\n   * Should be implemented.\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {string} [dataType]\n   */\n\n\n  DataFormatMixin.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    // Empty function\n    return;\n  };\n\n  return DataFormatMixin;\n}();\n\nexport { DataFormatMixin };\n; // PENDING: previously we accept this type when calling `formatTooltip`,\n// but guess little chance has been used outside. Do we need to backward\n// compat it?\n// type TooltipFormatResultLegacyObject = {\n//     // `html` means the markup language text, either in 'html' or 'richText'.\n//     // The name `html` is not appropriate because in 'richText' it is not a HTML\n//     // string. But still support it for backward compatibility.\n//     html: string;\n//     markers: Dictionary<ColorString>;\n// };\n\n/**\n * For backward compat, normalize the return from `formatTooltip`.\n */\n\nexport function normalizeTooltipFormatResult(result) {\n  var markupText; // let markers: Dictionary<ColorString>;\n\n  var markupFragment;\n\n  if (zrUtil.isObject(result)) {\n    if (result.type) {\n      markupFragment = result;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('The return type of `formatTooltip` is not supported: ' + makePrintable(result));\n      }\n    } // else {\n    //     markupText = (result as TooltipFormatResultLegacyObject).html;\n    //     markers = (result as TooltipFormatResultLegacyObject).markers;\n    //     if (markersExisting) {\n    //         markers = zrUtil.merge(markersExisting, markers);\n    //     }\n    // }\n\n  } else {\n    markupText = result;\n  }\n\n  return {\n    text: markupText,\n    // markers: markers || markersExisting,\n    frag: markupFragment\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper.js';\nexport var ITEM_STYLE_KEY_MAP = [['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'borderType'], ['lineDashOffset', 'borderDashOffset'], ['lineCap', 'borderCap'], ['lineJoin', 'borderJoin'], ['miterLimit', 'borderMiterLimit'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\nvar getItemStyle = makeStyleMapper(ITEM_STYLE_KEY_MAP);\n\nvar ItemStyleMixin =\n/** @class */\nfunction () {\n  function ItemStyleMixin() {}\n\n  ItemStyleMixin.prototype.getItemStyle = function (excludes, includes) {\n    return getItemStyle(this, excludes, includes);\n  };\n\n  return ItemStyleMixin;\n}();\n\nexport { ItemStyleMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper.js';\nexport var LINE_STYLE_KEY_MAP = [['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'type'], ['lineDashOffset', 'dashOffset'], ['lineCap', 'cap'], ['lineJoin', 'join'], ['miterLimit'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\nvar getLineStyle = makeStyleMapper(LINE_STYLE_KEY_MAP);\n\nvar LineStyleMixin =\n/** @class */\nfunction () {\n  function LineStyleMixin() {}\n\n  LineStyleMixin.prototype.getLineStyle = function (excludes) {\n    return getLineStyle(this, excludes);\n  };\n\n  return LineStyleMixin;\n}();\n\n;\nexport { LineStyleMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Parse shadow style\n// TODO Only shallow path support\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function makeStyleMapper(properties, ignoreParent) {\n  // Normalize\n  for (var i = 0; i < properties.length; i++) {\n    if (!properties[i][1]) {\n      properties[i][1] = properties[i][0];\n    }\n  }\n\n  ignoreParent = ignoreParent || false;\n  return function (model, excludes, includes) {\n    var style = {};\n\n    for (var i = 0; i < properties.length; i++) {\n      var propName = properties[i][1];\n\n      if (excludes && zrUtil.indexOf(excludes, propName) >= 0 || includes && zrUtil.indexOf(includes, propName) < 0) {\n        continue;\n      }\n\n      var val = model.getShallow(propName, ignoreParent);\n\n      if (val != null) {\n        style[properties[i][0]] = val;\n      }\n    } // TODO Text or image?\n\n\n    return style;\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner, normalizeToArray } from '../../util/model.js';\nvar innerColor = makeInner();\nvar innerDecal = makeInner();\n\nvar PaletteMixin =\n/** @class */\nfunction () {\n  function PaletteMixin() {}\n\n  PaletteMixin.prototype.getColorFromPalette = function (name, scope, requestNum) {\n    var defaultPalette = normalizeToArray(this.get('color', true));\n    var layeredPalette = this.get('colorLayer', true);\n    return getFromPalette(this, innerColor, defaultPalette, layeredPalette, name, scope, requestNum);\n  };\n\n  PaletteMixin.prototype.clearColorPalette = function () {\n    clearPalette(this, innerColor);\n  };\n\n  return PaletteMixin;\n}();\n\nexport function getDecalFromPalette(ecModel, name, scope, requestNum) {\n  var defaultDecals = normalizeToArray(ecModel.get(['aria', 'decal', 'decals']));\n  return getFromPalette(ecModel, innerDecal, defaultDecals, null, name, scope, requestNum);\n}\n\nfunction getNearestPalette(palettes, requestColorNum) {\n  var paletteNum = palettes.length; // TODO palettes must be in order\n\n  for (var i = 0; i < paletteNum; i++) {\n    if (palettes[i].length > requestColorNum) {\n      return palettes[i];\n    }\n  }\n\n  return palettes[paletteNum - 1];\n}\n/**\n * @param name MUST NOT be null/undefined. Otherwise call this function\n *             twise with the same parameters will get different result.\n * @param scope default this.\n * @return Can be null/undefined\n */\n\n\nfunction getFromPalette(that, inner, defaultPalette, layeredPalette, name, scope, requestNum) {\n  scope = scope || that;\n  var scopeFields = inner(scope);\n  var paletteIdx = scopeFields.paletteIdx || 0;\n  var paletteNameMap = scopeFields.paletteNameMap = scopeFields.paletteNameMap || {}; // Use `hasOwnProperty` to avoid conflict with Object.prototype.\n\n  if (paletteNameMap.hasOwnProperty(name)) {\n    return paletteNameMap[name];\n  }\n\n  var palette = requestNum == null || !layeredPalette ? defaultPalette : getNearestPalette(layeredPalette, requestNum); // In case can't find in layered color palette.\n\n  palette = palette || defaultPalette;\n\n  if (!palette || !palette.length) {\n    return;\n  }\n\n  var pickedPaletteItem = palette[paletteIdx];\n\n  if (name) {\n    paletteNameMap[name] = pickedPaletteItem;\n  }\n\n  scopeFields.paletteIdx = (paletteIdx + 1) % palette.length;\n  return pickedPaletteItem;\n}\n\nfunction clearPalette(that, inner) {\n  inner(that).paletteIdx = 0;\n  inner(that).paletteNameMap = {};\n}\n\nexport { PaletteMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Helper for model references.\n * There are many manners to refer axis/coordSys.\n */\n// TODO\n// merge relevant logic to this file?\n// check: \"modelHelper\" of tooltip and \"BrushTargetManager\".\nimport { createHashMap, retrieve, each } from 'zrender/lib/core/util.js';\nimport { SINGLE_REFERRING } from '../util/model.js';\n/**\n * @class\n * For example:\n * {\n *     coordSysName: 'cartesian2d',\n *     coordSysDims: ['x', 'y', ...],\n *     axisMap: HashMap({\n *         x: xAxisModel,\n *         y: yAxisModel\n *     }),\n *     categoryAxisMap: HashMap({\n *         x: xAxisModel,\n *         y: undefined\n *     }),\n *     // The index of the first category axis in `coordSysDims`.\n *     // `null/undefined` means no category axis exists.\n *     firstCategoryDimIndex: 1,\n *     // To replace user specified encode.\n * }\n */\n\nvar CoordSysInfo =\n/** @class */\nfunction () {\n  function CoordSysInfo(coordSysName) {\n    this.coordSysDims = [];\n    this.axisMap = createHashMap();\n    this.categoryAxisMap = createHashMap();\n    this.coordSysName = coordSysName;\n  }\n\n  return CoordSysInfo;\n}();\n\nexport function getCoordSysInfoBySeries(seriesModel) {\n  var coordSysName = seriesModel.get('coordinateSystem');\n  var result = new CoordSysInfo(coordSysName);\n  var fetch = fetchers[coordSysName];\n\n  if (fetch) {\n    fetch(seriesModel, result, result.axisMap, result.categoryAxisMap);\n    return result;\n  }\n}\nvar fetchers = {\n  cartesian2d: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var xAxisModel = seriesModel.getReferringComponents('xAxis', SINGLE_REFERRING).models[0];\n    var yAxisModel = seriesModel.getReferringComponents('yAxis', SINGLE_REFERRING).models[0];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!xAxisModel) {\n        throw new Error('xAxis \"' + retrieve(seriesModel.get('xAxisIndex'), seriesModel.get('xAxisId'), 0) + '\" not found');\n      }\n\n      if (!yAxisModel) {\n        throw new Error('yAxis \"' + retrieve(seriesModel.get('xAxisIndex'), seriesModel.get('yAxisId'), 0) + '\" not found');\n      }\n    }\n\n    result.coordSysDims = ['x', 'y'];\n    axisMap.set('x', xAxisModel);\n    axisMap.set('y', yAxisModel);\n\n    if (isCategory(xAxisModel)) {\n      categoryAxisMap.set('x', xAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n\n    if (isCategory(yAxisModel)) {\n      categoryAxisMap.set('y', yAxisModel);\n      result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);\n    }\n  },\n  singleAxis: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var singleAxisModel = seriesModel.getReferringComponents('singleAxis', SINGLE_REFERRING).models[0];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!singleAxisModel) {\n        throw new Error('singleAxis should be specified.');\n      }\n    }\n\n    result.coordSysDims = ['single'];\n    axisMap.set('single', singleAxisModel);\n\n    if (isCategory(singleAxisModel)) {\n      categoryAxisMap.set('single', singleAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n  },\n  polar: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var polarModel = seriesModel.getReferringComponents('polar', SINGLE_REFERRING).models[0];\n    var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n    var angleAxisModel = polarModel.findAxisModel('angleAxis');\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!angleAxisModel) {\n        throw new Error('angleAxis option not found');\n      }\n\n      if (!radiusAxisModel) {\n        throw new Error('radiusAxis option not found');\n      }\n    }\n\n    result.coordSysDims = ['radius', 'angle'];\n    axisMap.set('radius', radiusAxisModel);\n    axisMap.set('angle', angleAxisModel);\n\n    if (isCategory(radiusAxisModel)) {\n      categoryAxisMap.set('radius', radiusAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n\n    if (isCategory(angleAxisModel)) {\n      categoryAxisMap.set('angle', angleAxisModel);\n      result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);\n    }\n  },\n  geo: function (seriesModel, result, axisMap, categoryAxisMap) {\n    result.coordSysDims = ['lng', 'lat'];\n  },\n  parallel: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var ecModel = seriesModel.ecModel;\n    var parallelModel = ecModel.getComponent('parallel', seriesModel.get('parallelIndex'));\n    var coordSysDims = result.coordSysDims = parallelModel.dimensions.slice();\n    each(parallelModel.parallelAxisIndex, function (axisIndex, index) {\n      var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n      var axisDim = coordSysDims[index];\n      axisMap.set(axisDim, axisModel);\n\n      if (isCategory(axisModel)) {\n        categoryAxisMap.set(axisDim, axisModel);\n\n        if (result.firstCategoryDimIndex == null) {\n          result.firstCategoryDimIndex = index;\n        }\n      }\n    });\n  }\n};\n\nfunction isCategory(axisModel) {\n  return axisModel.get('type') === 'category';\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nimport { deprecateLog, deprecateReplaceLog } from '../../util/log.js';\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\n\nfunction compatEC2ItemStyle(opt) {\n  var itemStyleOpt = opt && opt.itemStyle;\n\n  if (!itemStyleOpt) {\n    return;\n  }\n\n  for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n    var styleName = POSSIBLE_STYLES[i];\n    var normalItemStyleOpt = itemStyleOpt.normal;\n    var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n\n    if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.normal.\" + styleName, styleName);\n      }\n\n      opt[styleName] = opt[styleName] || {};\n\n      if (!opt[styleName].normal) {\n        opt[styleName].normal = normalItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n      }\n\n      normalItemStyleOpt[styleName] = null;\n    }\n\n    if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.emphasis.\" + styleName, \"emphasis.\" + styleName);\n      }\n\n      opt[styleName] = opt[styleName] || {};\n\n      if (!opt[styleName].emphasis) {\n        opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n      }\n\n      emphasisItemStyleOpt[styleName] = null;\n    }\n  }\n}\n\nfunction convertNormalEmphasis(opt, optType, useExtend) {\n  if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {\n    var normalOpt = opt[optType].normal;\n    var emphasisOpt = opt[optType].emphasis;\n\n    if (normalOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line max-len\n        deprecateLog(\"'normal' hierarchy in \" + optType + \" has been removed since 4.0. All style properties are configured in \" + optType + \" directly now.\");\n      } // Timeline controlStyle has other properties besides normal and emphasis\n\n\n      if (useExtend) {\n        opt[optType].normal = opt[optType].emphasis = null;\n        zrUtil.defaults(opt[optType], normalOpt);\n      } else {\n        opt[optType] = normalOpt;\n      }\n    }\n\n    if (emphasisOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog(optType + \".emphasis has been changed to emphasis.\" + optType + \" since 4.0\");\n      }\n\n      opt.emphasis = opt.emphasis || {};\n      opt.emphasis[optType] = emphasisOpt; // Also compat the case user mix the style and focus together in ec3 style\n      // for example: { itemStyle: { normal: {}, emphasis: {focus, shadowBlur} } }\n\n      if (emphasisOpt.focus) {\n        opt.emphasis.focus = emphasisOpt.focus;\n      }\n\n      if (emphasisOpt.blurScope) {\n        opt.emphasis.blurScope = emphasisOpt.blurScope;\n      }\n    }\n  }\n}\n\nfunction removeEC3NormalStatus(opt) {\n  convertNormalEmphasis(opt, 'itemStyle');\n  convertNormalEmphasis(opt, 'lineStyle');\n  convertNormalEmphasis(opt, 'areaStyle');\n  convertNormalEmphasis(opt, 'label');\n  convertNormalEmphasis(opt, 'labelLine'); // treemap\n\n  convertNormalEmphasis(opt, 'upperLabel'); // graph\n\n  convertNormalEmphasis(opt, 'edgeLabel');\n}\n\nfunction compatTextStyle(opt, propName) {\n  // Check whether is not object (string\\null\\undefined ...)\n  var labelOptSingle = isObject(opt) && opt[propName];\n  var textStyle = isObject(labelOptSingle) && labelOptSingle.textStyle;\n\n  if (textStyle) {\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line max-len\n      deprecateLog(\"textStyle hierarchy in \" + propName + \" has been removed since 4.0. All textStyle properties are configured in \" + propName + \" directly now.\");\n    }\n\n    for (var i = 0, len = modelUtil.TEXT_STYLE_OPTIONS.length; i < len; i++) {\n      var textPropName = modelUtil.TEXT_STYLE_OPTIONS[i];\n\n      if (textStyle.hasOwnProperty(textPropName)) {\n        labelOptSingle[textPropName] = textStyle[textPropName];\n      }\n    }\n  }\n}\n\nfunction compatEC3CommonStyles(opt) {\n  if (opt) {\n    removeEC3NormalStatus(opt);\n    compatTextStyle(opt, 'label');\n    opt.emphasis && compatTextStyle(opt.emphasis, 'label');\n  }\n}\n\nfunction processSeries(seriesOpt) {\n  if (!isObject(seriesOpt)) {\n    return;\n  }\n\n  compatEC2ItemStyle(seriesOpt);\n  removeEC3NormalStatus(seriesOpt);\n  compatTextStyle(seriesOpt, 'label'); // treemap\n\n  compatTextStyle(seriesOpt, 'upperLabel'); // graph\n\n  compatTextStyle(seriesOpt, 'edgeLabel');\n\n  if (seriesOpt.emphasis) {\n    compatTextStyle(seriesOpt.emphasis, 'label'); // treemap\n\n    compatTextStyle(seriesOpt.emphasis, 'upperLabel'); // graph\n\n    compatTextStyle(seriesOpt.emphasis, 'edgeLabel');\n  }\n\n  var markPoint = seriesOpt.markPoint;\n\n  if (markPoint) {\n    compatEC2ItemStyle(markPoint);\n    compatEC3CommonStyles(markPoint);\n  }\n\n  var markLine = seriesOpt.markLine;\n\n  if (markLine) {\n    compatEC2ItemStyle(markLine);\n    compatEC3CommonStyles(markLine);\n  }\n\n  var markArea = seriesOpt.markArea;\n\n  if (markArea) {\n    compatEC3CommonStyles(markArea);\n  }\n\n  var data = seriesOpt.data; // Break with ec3: if `setOption` again, there may be no `type` in option,\n  // then the backward compat based on option type will not be performed.\n\n  if (seriesOpt.type === 'graph') {\n    data = data || seriesOpt.nodes;\n    var edgeData = seriesOpt.links || seriesOpt.edges;\n\n    if (edgeData && !zrUtil.isTypedArray(edgeData)) {\n      for (var i = 0; i < edgeData.length; i++) {\n        compatEC3CommonStyles(edgeData[i]);\n      }\n    }\n\n    zrUtil.each(seriesOpt.categories, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  }\n\n  if (data && !zrUtil.isTypedArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      compatEC3CommonStyles(data[i]);\n    }\n  } // mark point data\n\n\n  markPoint = seriesOpt.markPoint;\n\n  if (markPoint && markPoint.data) {\n    var mpData = markPoint.data;\n\n    for (var i = 0; i < mpData.length; i++) {\n      compatEC3CommonStyles(mpData[i]);\n    }\n  } // mark line data\n\n\n  markLine = seriesOpt.markLine;\n\n  if (markLine && markLine.data) {\n    var mlData = markLine.data;\n\n    for (var i = 0; i < mlData.length; i++) {\n      if (zrUtil.isArray(mlData[i])) {\n        compatEC3CommonStyles(mlData[i][0]);\n        compatEC3CommonStyles(mlData[i][1]);\n      } else {\n        compatEC3CommonStyles(mlData[i]);\n      }\n    }\n  } // Series\n\n\n  if (seriesOpt.type === 'gauge') {\n    compatTextStyle(seriesOpt, 'axisLabel');\n    compatTextStyle(seriesOpt, 'title');\n    compatTextStyle(seriesOpt, 'detail');\n  } else if (seriesOpt.type === 'treemap') {\n    convertNormalEmphasis(seriesOpt.breadcrumb, 'itemStyle');\n    zrUtil.each(seriesOpt.levels, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  } else if (seriesOpt.type === 'tree') {\n    removeEC3NormalStatus(seriesOpt.leaves);\n  } // sunburst starts from ec4, so it does not need to compat levels.\n\n}\n\nfunction toArr(o) {\n  return zrUtil.isArray(o) ? o : o ? [o] : [];\n}\n\nfunction toObj(o) {\n  return (zrUtil.isArray(o) ? o[0] : o) || {};\n}\n\nexport default function globalCompatStyle(option, isTheme) {\n  each(toArr(option.series), function (seriesOpt) {\n    isObject(seriesOpt) && processSeries(seriesOpt);\n  });\n  var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n  isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n  each(axes, function (axisName) {\n    each(toArr(option[axisName]), function (axisOpt) {\n      if (axisOpt) {\n        compatTextStyle(axisOpt, 'axisLabel');\n        compatTextStyle(axisOpt.axisPointer, 'label');\n      }\n    });\n  });\n  each(toArr(option.parallel), function (parallelOpt) {\n    var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n    compatTextStyle(parallelAxisDefault, 'axisLabel');\n    compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n  });\n  each(toArr(option.calendar), function (calendarOpt) {\n    convertNormalEmphasis(calendarOpt, 'itemStyle');\n    compatTextStyle(calendarOpt, 'dayLabel');\n    compatTextStyle(calendarOpt, 'monthLabel');\n    compatTextStyle(calendarOpt, 'yearLabel');\n  }); // radar.name.textStyle\n\n  each(toArr(option.radar), function (radarOpt) {\n    compatTextStyle(radarOpt, 'name'); // Use axisName instead of name because component has name property\n\n    if (radarOpt.name && radarOpt.axisName == null) {\n      radarOpt.axisName = radarOpt.name;\n      delete radarOpt.name;\n\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('name property in radar component has been changed to axisName');\n      }\n    }\n\n    if (radarOpt.nameGap != null && radarOpt.axisNameGap == null) {\n      radarOpt.axisNameGap = radarOpt.nameGap;\n      delete radarOpt.nameGap;\n\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('nameGap property in radar component has been changed to axisNameGap');\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      each(radarOpt.indicator, function (indicatorOpt) {\n        if (indicatorOpt.text) {\n          deprecateReplaceLog('text', 'name', 'radar.indicator');\n        }\n      });\n    }\n  });\n  each(toArr(option.geo), function (geoOpt) {\n    if (isObject(geoOpt)) {\n      compatEC3CommonStyles(geoOpt);\n      each(toArr(geoOpt.regions), function (regionObj) {\n        compatEC3CommonStyles(regionObj);\n      });\n    }\n  });\n  each(toArr(option.timeline), function (timelineOpt) {\n    compatEC3CommonStyles(timelineOpt);\n    convertNormalEmphasis(timelineOpt, 'label');\n    convertNormalEmphasis(timelineOpt, 'itemStyle');\n    convertNormalEmphasis(timelineOpt, 'controlStyle', true);\n    var data = timelineOpt.data;\n    zrUtil.isArray(data) && zrUtil.each(data, function (item) {\n      if (zrUtil.isObject(item)) {\n        convertNormalEmphasis(item, 'label');\n        convertNormalEmphasis(item, 'itemStyle');\n      }\n    });\n  });\n  each(toArr(option.toolbox), function (toolboxOpt) {\n    convertNormalEmphasis(toolboxOpt, 'iconStyle');\n    each(toolboxOpt.feature, function (featureOpt) {\n      convertNormalEmphasis(featureOpt, 'iconStyle');\n    });\n  });\n  compatTextStyle(toObj(option.axisPointer), 'label');\n  compatTextStyle(toObj(option.tooltip).axisPointer, 'label'); // Clean logs\n  // storedLogs = {};\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isArray, isObject, isTypedArray, defaults } from 'zrender/lib/core/util.js';\nimport compatStyle from './helper/compatStyle.js';\nimport { normalizeToArray } from '../util/model.js';\nimport { deprecateLog, deprecateReplaceLog } from '../util/log.js';\n\nfunction get(opt, path) {\n  var pathArr = path.split(',');\n  var obj = opt;\n\n  for (var i = 0; i < pathArr.length; i++) {\n    obj = obj && obj[pathArr[i]];\n\n    if (obj == null) {\n      break;\n    }\n  }\n\n  return obj;\n}\n\nfunction set(opt, path, val, overwrite) {\n  var pathArr = path.split(',');\n  var obj = opt;\n  var key;\n  var i = 0;\n\n  for (; i < pathArr.length - 1; i++) {\n    key = pathArr[i];\n\n    if (obj[key] == null) {\n      obj[key] = {};\n    }\n\n    obj = obj[key];\n  }\n\n  if (overwrite || obj[pathArr[i]] == null) {\n    obj[pathArr[i]] = val;\n  }\n}\n\nfunction compatLayoutProperties(option) {\n  option && each(LAYOUT_PROPERTIES, function (prop) {\n    if (prop[0] in option && !(prop[1] in option)) {\n      option[prop[1]] = option[prop[0]];\n    }\n  });\n}\n\nvar LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\nvar COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\nvar BAR_ITEM_STYLE_MAP = [['borderRadius', 'barBorderRadius'], ['borderColor', 'barBorderColor'], ['borderWidth', 'barBorderWidth']];\n\nfunction compatBarItemStyle(option) {\n  var itemStyle = option && option.itemStyle;\n\n  if (itemStyle) {\n    for (var i = 0; i < BAR_ITEM_STYLE_MAP.length; i++) {\n      var oldName = BAR_ITEM_STYLE_MAP[i][1];\n      var newName = BAR_ITEM_STYLE_MAP[i][0];\n\n      if (itemStyle[oldName] != null) {\n        itemStyle[newName] = itemStyle[oldName];\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog(oldName, newName);\n        }\n      }\n    }\n  }\n}\n\nfunction compatPieLabel(option) {\n  if (!option) {\n    return;\n  }\n\n  if (option.alignTo === 'edge' && option.margin != null && option.edgeDistance == null) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('label.margin', 'label.edgeDistance', 'pie');\n    }\n\n    option.edgeDistance = option.margin;\n  }\n}\n\nfunction compatSunburstState(option) {\n  if (!option) {\n    return;\n  }\n\n  if (option.downplay && !option.blur) {\n    option.blur = option.downplay;\n\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('downplay', 'blur', 'sunburst');\n    }\n  }\n}\n\nfunction compatGraphFocus(option) {\n  if (!option) {\n    return;\n  }\n\n  if (option.focusNodeAdjacency != null) {\n    option.emphasis = option.emphasis || {};\n\n    if (option.emphasis.focus == null) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog('focusNodeAdjacency', 'emphasis: { focus: \\'adjacency\\'}', 'graph/sankey');\n      }\n\n      option.emphasis.focus = 'adjacency';\n    }\n  }\n}\n\nfunction traverseTree(data, cb) {\n  if (data) {\n    for (var i = 0; i < data.length; i++) {\n      cb(data[i]);\n      data[i] && traverseTree(data[i].children, cb);\n    }\n  }\n}\n\nexport default function globalBackwardCompat(option, isTheme) {\n  compatStyle(option, isTheme); // Make sure series array for model initialization.\n\n  option.series = normalizeToArray(option.series);\n  each(option.series, function (seriesOpt) {\n    if (!isObject(seriesOpt)) {\n      return;\n    }\n\n    var seriesType = seriesOpt.type;\n\n    if (seriesType === 'line') {\n      if (seriesOpt.clipOverflow != null) {\n        seriesOpt.clip = seriesOpt.clipOverflow;\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clipOverflow', 'clip', 'line');\n        }\n      }\n    } else if (seriesType === 'pie' || seriesType === 'gauge') {\n      if (seriesOpt.clockWise != null) {\n        seriesOpt.clockwise = seriesOpt.clockWise;\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clockWise', 'clockwise');\n        }\n      }\n\n      compatPieLabel(seriesOpt.label);\n      var data = seriesOpt.data;\n\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          compatPieLabel(data[i]);\n        }\n      }\n\n      if (seriesOpt.hoverOffset != null) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n\n        if (seriesOpt.emphasis.scaleSize = null) {\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('hoverOffset', 'emphasis.scaleSize');\n          }\n\n          seriesOpt.emphasis.scaleSize = seriesOpt.hoverOffset;\n        }\n      }\n    } else if (seriesType === 'gauge') {\n      var pointerColor = get(seriesOpt, 'pointer.color');\n      pointerColor != null && set(seriesOpt, 'itemStyle.color', pointerColor);\n    } else if (seriesType === 'bar') {\n      compatBarItemStyle(seriesOpt);\n      compatBarItemStyle(seriesOpt.backgroundStyle);\n      compatBarItemStyle(seriesOpt.emphasis);\n      var data = seriesOpt.data;\n\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          if (typeof data[i] === 'object') {\n            compatBarItemStyle(data[i]);\n            compatBarItemStyle(data[i] && data[i].emphasis);\n          }\n        }\n      }\n    } else if (seriesType === 'sunburst') {\n      var highlightPolicy = seriesOpt.highlightPolicy;\n\n      if (highlightPolicy) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n\n        if (!seriesOpt.emphasis.focus) {\n          seriesOpt.emphasis.focus = highlightPolicy;\n\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('highlightPolicy', 'emphasis.focus', 'sunburst');\n          }\n        }\n      }\n\n      compatSunburstState(seriesOpt);\n      traverseTree(seriesOpt.data, compatSunburstState);\n    } else if (seriesType === 'graph' || seriesType === 'sankey') {\n      compatGraphFocus(seriesOpt); // TODO nodes, edges?\n    } else if (seriesType === 'map') {\n      if (seriesOpt.mapType && !seriesOpt.map) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('mapType', 'map', 'map');\n        }\n\n        seriesOpt.map = seriesOpt.mapType;\n      }\n\n      if (seriesOpt.mapLocation) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('`mapLocation` is not used anymore.');\n        }\n\n        defaults(seriesOpt, seriesOpt.mapLocation);\n      }\n    }\n\n    if (seriesOpt.hoverAnimation != null) {\n      seriesOpt.emphasis = seriesOpt.emphasis || {};\n\n      if (seriesOpt.emphasis && seriesOpt.emphasis.scale == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('hoverAnimation', 'emphasis.scale');\n        }\n\n        seriesOpt.emphasis.scale = seriesOpt.hoverAnimation;\n      }\n    }\n\n    compatLayoutProperties(seriesOpt);\n  }); // dataRange has changed to visualMap\n\n  if (option.dataRange) {\n    option.visualMap = option.dataRange;\n  }\n\n  each(COMPATITABLE_COMPONENTS, function (componentName) {\n    var options = option[componentName];\n\n    if (options) {\n      if (!isArray(options)) {\n        options = [options];\n      }\n\n      each(options, function (option) {\n        compatLayoutProperties(option);\n      });\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function dataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx); // If in any legend component the status is not selected.\n\n        for (var i = 0; i < legendModels.length; i++) {\n          // @ts-ignore FIXME: LegendModel\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isFunction, isString } from 'zrender/lib/core/util.js';\nvar samplers = {\n  average: function (frame) {\n    var sum = 0;\n    var count = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      if (!isNaN(frame[i])) {\n        sum += frame[i];\n        count++;\n      }\n    } // Return NaN if count is 0\n\n\n    return count === 0 ? NaN : sum / count;\n  },\n  sum: function (frame) {\n    var sum = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      // Ignore NaN\n      sum += frame[i] || 0;\n    }\n\n    return sum;\n  },\n  max: function (frame) {\n    var max = -Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] > max && (max = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(max) ? max : NaN;\n  },\n  min: function (frame) {\n    var min = Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] < min && (min = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(min) ? min : NaN;\n  },\n  // TODO\n  // Median\n  nearest: function (frame) {\n    return frame[0];\n  }\n};\n\nvar indexSampler = function (frame) {\n  return Math.round(frame.length / 2);\n};\n\nexport default function dataSample(seriesType) {\n  return {\n    seriesType: seriesType,\n    // FIXME:TS never used, so comment it\n    // modifyOutputEnd: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var sampling = seriesModel.get('sampling');\n      var coordSys = seriesModel.coordinateSystem;\n      var count = data.count(); // Only cartesian2d support down sampling. Disable it when there is few data.\n\n      if (count > 10 && coordSys.type === 'cartesian2d' && sampling) {\n        var baseAxis = coordSys.getBaseAxis();\n        var valueAxis = coordSys.getOtherAxis(baseAxis);\n        var extent = baseAxis.getExtent();\n        var dpr = api.getDevicePixelRatio(); // Coordinste system has been resized\n\n        var size = Math.abs(extent[1] - extent[0]) * (dpr || 1);\n        var rate = Math.round(count / size);\n\n        if (isFinite(rate) && rate > 1) {\n          if (sampling === 'lttb') {\n            seriesModel.setData(data.lttbDownSample(data.mapDimension(valueAxis.dim), 1 / rate));\n          }\n\n          var sampler = void 0;\n\n          if (isString(sampling)) {\n            sampler = samplers[sampling];\n          } else if (isFunction(sampling)) {\n            sampler = sampling;\n          }\n\n          if (sampler) {\n            // Only support sample the first dim mapped from value axis.\n            seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n          }\n        }\n      }\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport { addSafe } from '../util/number.js'; // (1) [Caution]: the logic is correct based on the premises:\n//     data processing stage is blocked in stream.\n//     See <module:echarts/stream/Scheduler#performDataProcessorTasks>\n// (2) Only register once when import repeatedly.\n//     Should be executed after series is filtered and before stack calculation.\n\nexport default function dataStack(ecModel) {\n  var stackInfoMap = createHashMap();\n  ecModel.eachSeries(function (seriesModel) {\n    var stack = seriesModel.get('stack'); // Compatible: when `stack` is set as '', do not stack.\n\n    if (stack) {\n      var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);\n      var data = seriesModel.getData();\n      var stackInfo = {\n        // Used for calculate axis extent automatically.\n        // TODO: Type getCalculationInfo return more specific type?\n        stackResultDimension: data.getCalculationInfo('stackResultDimension'),\n        stackedOverDimension: data.getCalculationInfo('stackedOverDimension'),\n        stackedDimension: data.getCalculationInfo('stackedDimension'),\n        stackedByDimension: data.getCalculationInfo('stackedByDimension'),\n        isStackedByIndex: data.getCalculationInfo('isStackedByIndex'),\n        data: data,\n        seriesModel: seriesModel\n      }; // If stacked on axis that do not support data stack.\n\n      if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {\n        return;\n      }\n\n      stackInfoList.length && data.setCalculationInfo('stackedOnSeries', stackInfoList[stackInfoList.length - 1].seriesModel);\n      stackInfoList.push(stackInfo);\n    }\n  });\n  stackInfoMap.each(calculateStack);\n}\n\nfunction calculateStack(stackInfoList) {\n  each(stackInfoList, function (targetStackInfo, idxInStack) {\n    var resultVal = [];\n    var resultNaN = [NaN, NaN];\n    var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];\n    var targetData = targetStackInfo.data;\n    var isStackedByIndex = targetStackInfo.isStackedByIndex;\n    var stackStrategy = targetStackInfo.seriesModel.get('stackStrategy') || 'samesign'; // Should not write on raw data, because stack series model list changes\n    // depending on legend selection.\n\n    targetData.modify(dims, function (v0, v1, dataIndex) {\n      var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex); // Consider `connectNulls` of line area, if value is NaN, stackedOver\n      // should also be NaN, to draw a appropriate belt area.\n\n      if (isNaN(sum)) {\n        return resultNaN;\n      }\n\n      var byValue;\n      var stackedDataRawIndex;\n\n      if (isStackedByIndex) {\n        stackedDataRawIndex = targetData.getRawIndex(dataIndex);\n      } else {\n        byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);\n      } // If stackOver is NaN, chart view will render point on value start.\n\n\n      var stackedOver = NaN;\n\n      for (var j = idxInStack - 1; j >= 0; j--) {\n        var stackInfo = stackInfoList[j]; // Has been optimized by inverted indices on `stackedByDimension`.\n\n        if (!isStackedByIndex) {\n          stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);\n        }\n\n        if (stackedDataRawIndex >= 0) {\n          var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex); // Considering positive stack, negative stack and empty data\n\n          if (stackStrategy === 'all' // single stack group\n          || stackStrategy === 'positive' && val > 0 || stackStrategy === 'negative' && val < 0 || stackStrategy === 'samesign' && sum >= 0 && val > 0 // All positive stack\n          || stackStrategy === 'samesign' && sum <= 0 && val < 0 // All negative stack\n          ) {\n              // The sum has to be very small to be affected by the\n              // floating arithmetic problem. An incorrect result will probably\n              // cause axis min/max to be filtered incorrectly.\n              sum = addSafe(sum, val);\n              stackedOver = val;\n              break;\n            }\n        }\n      }\n\n      resultVal[0] = sum;\n      resultVal[1] = stackedOver;\n      return resultVal;\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isNumber } from 'zrender/lib/core/util.js';\nexport default function negativeDataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        // handle negative value condition\n        var valueDim = data.mapDimension('value');\n        var curValue = data.get(valueDim, idx);\n\n        if (isNumber(curValue) && !isNaN(curValue) && curValue < 0) {\n          return false;\n        }\n\n        return true;\n      });\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CanvasPainter from 'zrender/lib/canvas/Painter.js';\nexport function install(registers) {\n  registers.registerPainter('canvas', CanvasPainter);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SVGPainter from 'zrender/lib/svg/Painter.js';\nexport function install(registers) {\n  registers.registerPainter('svg', SVGPainter);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as numberUtil from '../util/number.js';\nimport * as formatUtil from '../util/format.js';\nimport Scale from './Scale.js';\nimport * as helper from './helper.js';\nvar roundNumber = numberUtil.round;\n\nvar IntervalScale =\n/** @class */\nfunction (_super) {\n  __extends(IntervalScale, _super);\n\n  function IntervalScale() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'interval'; // Step is calculated in adjustExtent.\n\n    _this._interval = 0;\n    _this._intervalPrecision = 2;\n    return _this;\n  }\n\n  IntervalScale.prototype.parse = function (val) {\n    return val;\n  };\n\n  IntervalScale.prototype.contain = function (val) {\n    return helper.contain(val, this._extent);\n  };\n\n  IntervalScale.prototype.normalize = function (val) {\n    return helper.normalize(val, this._extent);\n  };\n\n  IntervalScale.prototype.scale = function (val) {\n    return helper.scale(val, this._extent);\n  };\n\n  IntervalScale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent; // start,end may be a Number like '25',so...\n\n    if (!isNaN(start)) {\n      thisExtent[0] = parseFloat(start);\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = parseFloat(end);\n    }\n  };\n\n  IntervalScale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // unionExtent may called by it's sub classes\n\n    this.setExtent(extent[0], extent[1]);\n  };\n\n  IntervalScale.prototype.getInterval = function () {\n    return this._interval;\n  };\n\n  IntervalScale.prototype.setInterval = function (interval) {\n    this._interval = interval; // Dropped auto calculated niceExtent and use user-set extent.\n    // We assume user wants to set both interval, min, max to get a better result.\n\n    this._niceExtent = this._extent.slice();\n    this._intervalPrecision = helper.getIntervalPrecision(interval);\n  };\n  /**\n   * @param expandToNicedExtent Whether expand the ticks to niced extent.\n   */\n\n\n  IntervalScale.prototype.getTicks = function (expandToNicedExtent) {\n    var interval = this._interval;\n    var extent = this._extent;\n    var niceTickExtent = this._niceExtent;\n    var intervalPrecision = this._intervalPrecision;\n    var ticks = []; // If interval is 0, return [];\n\n    if (!interval) {\n      return ticks;\n    } // Consider this case: using dataZoom toolbox, zoom and zoom.\n\n\n    var safeLimit = 10000;\n\n    if (extent[0] < niceTickExtent[0]) {\n      if (expandToNicedExtent) {\n        ticks.push({\n          value: roundNumber(niceTickExtent[0] - interval, intervalPrecision)\n        });\n      } else {\n        ticks.push({\n          value: extent[0]\n        });\n      }\n    }\n\n    var tick = niceTickExtent[0];\n\n    while (tick <= niceTickExtent[1]) {\n      ticks.push({\n        value: tick\n      }); // Avoid rounding error\n\n      tick = roundNumber(tick + interval, intervalPrecision);\n\n      if (tick === ticks[ticks.length - 1].value) {\n        // Consider out of safe float point, e.g.,\n        // -3711126.9907707 + 2e-10 === -3711126.9907707\n        break;\n      }\n\n      if (ticks.length > safeLimit) {\n        return [];\n      }\n    } // Consider this case: the last item of ticks is smaller\n    // than niceTickExtent[1] and niceTickExtent[1] === extent[1].\n\n\n    var lastNiceTick = ticks.length ? ticks[ticks.length - 1].value : niceTickExtent[1];\n\n    if (extent[1] > lastNiceTick) {\n      if (expandToNicedExtent) {\n        ticks.push({\n          value: roundNumber(lastNiceTick + interval, intervalPrecision)\n        });\n      } else {\n        ticks.push({\n          value: extent[1]\n        });\n      }\n    }\n\n    return ticks;\n  };\n\n  IntervalScale.prototype.getMinorTicks = function (splitNumber) {\n    var ticks = this.getTicks(true);\n    var minorTicks = [];\n    var extent = this.getExtent();\n\n    for (var i = 1; i < ticks.length; i++) {\n      var nextTick = ticks[i];\n      var prevTick = ticks[i - 1];\n      var count = 0;\n      var minorTicksGroup = [];\n      var interval = nextTick.value - prevTick.value;\n      var minorInterval = interval / splitNumber;\n\n      while (count < splitNumber - 1) {\n        var minorTick = roundNumber(prevTick.value + (count + 1) * minorInterval); // For the first and last interval. The count may be less than splitNumber.\n\n        if (minorTick > extent[0] && minorTick < extent[1]) {\n          minorTicksGroup.push(minorTick);\n        }\n\n        count++;\n      }\n\n      minorTicks.push(minorTicksGroup);\n    }\n\n    return minorTicks;\n  };\n  /**\n   * @param opt.precision If 'auto', use nice presision.\n   * @param opt.pad returns 1.50 but not 1.5 if precision is 2.\n   */\n\n\n  IntervalScale.prototype.getLabel = function (data, opt) {\n    if (data == null) {\n      return '';\n    }\n\n    var precision = opt && opt.precision;\n\n    if (precision == null) {\n      precision = numberUtil.getPrecision(data.value) || 0;\n    } else if (precision === 'auto') {\n      // Should be more precise then tick.\n      precision = this._intervalPrecision;\n    } // (1) If `precision` is set, 12.005 should be display as '12.00500'.\n    // (2) Use roundNumber (toFixed) to avoid scientific notation like '3.5e-7'.\n\n\n    var dataNum = roundNumber(data.value, precision, true);\n    return formatUtil.addCommas(dataNum);\n  };\n  /**\n   * @param splitNumber By default `5`.\n   */\n\n\n  IntervalScale.prototype.calcNiceTicks = function (splitNumber, minInterval, maxInterval) {\n    splitNumber = splitNumber || 5;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n\n    if (!isFinite(span)) {\n      return;\n    } // User may set axis min 0 and data are all negative\n    // FIXME If it needs to reverse ?\n\n\n    if (span < 0) {\n      span = -span;\n      extent.reverse();\n    }\n\n    var result = helper.intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval);\n    this._intervalPrecision = result.intervalPrecision;\n    this._interval = result.interval;\n    this._niceExtent = result.niceTickExtent;\n  };\n\n  IntervalScale.prototype.calcNiceExtent = function (opt) {\n    var extent = this._extent; // If extent start and end are same, expand them\n\n    if (extent[0] === extent[1]) {\n      if (extent[0] !== 0) {\n        // Expand extent\n        // Note that extents can be both negative. See #13154\n        var expandSize = Math.abs(extent[0]); // In the fowllowing case\n        //      Axis has been fixed max 100\n        //      Plus data are all 100 and axis extent are [100, 100].\n        // Extend to the both side will cause expanded max is larger than fixed max.\n        // So only expand to the smaller side.\n\n        if (!opt.fixMax) {\n          extent[1] += expandSize / 2;\n          extent[0] -= expandSize / 2;\n        } else {\n          extent[0] -= expandSize / 2;\n        }\n      } else {\n        extent[1] = 1;\n      }\n    }\n\n    var span = extent[1] - extent[0]; // If there are no data and extent are [Infinity, -Infinity]\n\n    if (!isFinite(span)) {\n      extent[0] = 0;\n      extent[1] = 1;\n    }\n\n    this.calcNiceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // let extent = this._extent;\n\n    var interval = this._interval;\n\n    if (!opt.fixMin) {\n      extent[0] = roundNumber(Math.floor(extent[0] / interval) * interval);\n    }\n\n    if (!opt.fixMax) {\n      extent[1] = roundNumber(Math.ceil(extent[1] / interval) * interval);\n    }\n  };\n\n  IntervalScale.prototype.setNiceExtent = function (min, max) {\n    this._niceExtent = [min, max];\n  };\n\n  IntervalScale.type = 'interval';\n  return IntervalScale;\n}(Scale);\n\nScale.registerClass(IntervalScale);\nexport default IntervalScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Scale from './Scale.js';\nimport * as numberUtil from '../util/number.js';\nimport * as scaleHelper from './helper.js'; // Use some method of IntervalScale\n\nimport IntervalScale from './Interval.js';\nvar scaleProto = Scale.prototype; // FIXME:TS refactor: not good to call it directly with `this`?\n\nvar intervalScaleProto = IntervalScale.prototype;\nvar roundingErrorFix = numberUtil.round;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar mathPow = Math.pow;\nvar mathLog = Math.log;\n\nvar LogScale =\n/** @class */\nfunction (_super) {\n  __extends(LogScale, _super);\n\n  function LogScale() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'log';\n    _this.base = 10;\n    _this._originalScale = new IntervalScale(); // FIXME:TS actually used by `IntervalScale`\n\n    _this._interval = 0;\n    return _this;\n  }\n  /**\n   * @param Whether expand the ticks to niced extent.\n   */\n\n\n  LogScale.prototype.getTicks = function (expandToNicedExtent) {\n    var originalScale = this._originalScale;\n    var extent = this._extent;\n    var originalExtent = originalScale.getExtent();\n    var ticks = intervalScaleProto.getTicks.call(this, expandToNicedExtent);\n    return zrUtil.map(ticks, function (tick) {\n      var val = tick.value;\n      var powVal = numberUtil.round(mathPow(this.base, val)); // Fix #4158\n\n      powVal = val === extent[0] && this._fixMin ? fixRoundingError(powVal, originalExtent[0]) : powVal;\n      powVal = val === extent[1] && this._fixMax ? fixRoundingError(powVal, originalExtent[1]) : powVal;\n      return {\n        value: powVal\n      };\n    }, this);\n  };\n\n  LogScale.prototype.setExtent = function (start, end) {\n    var base = mathLog(this.base); // log(-Infinity) is NaN, so safe guard here\n\n    start = mathLog(Math.max(0, start)) / base;\n    end = mathLog(Math.max(0, end)) / base;\n    intervalScaleProto.setExtent.call(this, start, end);\n  };\n  /**\n   * @return {number} end\n   */\n\n\n  LogScale.prototype.getExtent = function () {\n    var base = this.base;\n    var extent = scaleProto.getExtent.call(this);\n    extent[0] = mathPow(base, extent[0]);\n    extent[1] = mathPow(base, extent[1]); // Fix #4158\n\n    var originalScale = this._originalScale;\n    var originalExtent = originalScale.getExtent();\n    this._fixMin && (extent[0] = fixRoundingError(extent[0], originalExtent[0]));\n    this._fixMax && (extent[1] = fixRoundingError(extent[1], originalExtent[1]));\n    return extent;\n  };\n\n  LogScale.prototype.unionExtent = function (extent) {\n    this._originalScale.unionExtent(extent);\n\n    var base = this.base;\n    extent[0] = mathLog(extent[0]) / mathLog(base);\n    extent[1] = mathLog(extent[1]) / mathLog(base);\n    scaleProto.unionExtent.call(this, extent);\n  };\n\n  LogScale.prototype.unionExtentFromData = function (data, dim) {\n    // TODO\n    // filter value that <= 0\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Update interval and extent of intervals for nice ticks\n   * @param approxTickNum default 10 Given approx tick number\n   */\n\n\n  LogScale.prototype.calcNiceTicks = function (approxTickNum) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n\n    if (span === Infinity || span <= 0) {\n      return;\n    }\n\n    var interval = numberUtil.quantity(span);\n    var err = approxTickNum / span * interval; // Filter ticks to get closer to the desired count.\n\n    if (err <= 0.5) {\n      interval *= 10;\n    } // Interval should be integer\n\n\n    while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {\n      interval *= 10;\n    }\n\n    var niceExtent = [numberUtil.round(mathCeil(extent[0] / interval) * interval), numberUtil.round(mathFloor(extent[1] / interval) * interval)];\n    this._interval = interval;\n    this._niceExtent = niceExtent;\n  };\n\n  LogScale.prototype.calcNiceExtent = function (opt) {\n    intervalScaleProto.calcNiceExtent.call(this, opt);\n    this._fixMin = opt.fixMin;\n    this._fixMax = opt.fixMax;\n  };\n\n  LogScale.prototype.parse = function (val) {\n    return val;\n  };\n\n  LogScale.prototype.contain = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return scaleHelper.contain(val, this._extent);\n  };\n\n  LogScale.prototype.normalize = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return scaleHelper.normalize(val, this._extent);\n  };\n\n  LogScale.prototype.scale = function (val) {\n    val = scaleHelper.scale(val, this._extent);\n    return mathPow(this.base, val);\n  };\n\n  LogScale.type = 'log';\n  return LogScale;\n}(Scale);\n\nvar proto = LogScale.prototype;\nproto.getMinorTicks = intervalScaleProto.getMinorTicks;\nproto.getLabel = intervalScaleProto.getLabel;\n\nfunction fixRoundingError(val, originalVal) {\n  return roundingErrorFix(val, numberUtil.getPrecision(originalVal));\n}\n\nScale.registerClass(LogScale);\nexport default LogScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Linear continuous scale\n * http://en.wikipedia.org/wiki/Level_of_measurement\n */\n// FIXME only one data\n\nimport Scale from './Scale.js';\nimport OrdinalMeta from '../data/OrdinalMeta.js';\nimport * as scaleHelper from './helper.js';\nimport { isArray, map, isObject, isString } from 'zrender/lib/core/util.js';\n\nvar OrdinalScale =\n/** @class */\nfunction (_super) {\n  __extends(OrdinalScale, _super);\n\n  function OrdinalScale(setting) {\n    var _this = _super.call(this, setting) || this;\n\n    _this.type = 'ordinal';\n\n    var ordinalMeta = _this.getSetting('ordinalMeta'); // Caution: Should not use instanceof, consider ec-extensions using\n    // import approach to get OrdinalMeta class.\n\n\n    if (!ordinalMeta) {\n      ordinalMeta = new OrdinalMeta({});\n    }\n\n    if (isArray(ordinalMeta)) {\n      ordinalMeta = new OrdinalMeta({\n        categories: map(ordinalMeta, function (item) {\n          return isObject(item) ? item.value : item;\n        })\n      });\n    }\n\n    _this._ordinalMeta = ordinalMeta;\n    _this._extent = _this.getSetting('extent') || [0, ordinalMeta.categories.length - 1];\n    return _this;\n  }\n\n  OrdinalScale.prototype.parse = function (val) {\n    // Caution: Math.round(null) will return `0` rather than `NaN`\n    if (val == null) {\n      return NaN;\n    }\n\n    return isString(val) ? this._ordinalMeta.getOrdinal(val) // val might be float.\n    : Math.round(val);\n  };\n\n  OrdinalScale.prototype.contain = function (rank) {\n    rank = this.parse(rank);\n    return scaleHelper.contain(rank, this._extent) && this._ordinalMeta.categories[rank] != null;\n  };\n  /**\n   * Normalize given rank or name to linear [0, 1]\n   * @param val raw ordinal number.\n   * @return normalized value in [0, 1].\n   */\n\n\n  OrdinalScale.prototype.normalize = function (val) {\n    val = this._getTickNumber(this.parse(val));\n    return scaleHelper.normalize(val, this._extent);\n  };\n  /**\n   * @param val normalized value in [0, 1].\n   * @return raw ordinal number.\n   */\n\n\n  OrdinalScale.prototype.scale = function (val) {\n    val = Math.round(scaleHelper.scale(val, this._extent));\n    return this.getRawOrdinalNumber(val);\n  };\n\n  OrdinalScale.prototype.getTicks = function () {\n    var ticks = [];\n    var extent = this._extent;\n    var rank = extent[0];\n\n    while (rank <= extent[1]) {\n      ticks.push({\n        value: rank\n      });\n      rank++;\n    }\n\n    return ticks;\n  };\n\n  OrdinalScale.prototype.getMinorTicks = function (splitNumber) {\n    // Not support.\n    return;\n  };\n  /**\n   * @see `Ordinal['_ordinalNumbersByTick']`\n   */\n\n\n  OrdinalScale.prototype.setSortInfo = function (info) {\n    if (info == null) {\n      this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null;\n      return;\n    }\n\n    var infoOrdinalNumbers = info.ordinalNumbers;\n    var ordinalsByTick = this._ordinalNumbersByTick = [];\n    var ticksByOrdinal = this._ticksByOrdinalNumber = []; // Unnecessary support negative tick in `realtimeSort`.\n\n    var tickNum = 0;\n    var allCategoryLen = this._ordinalMeta.categories.length;\n\n    for (var len = Math.min(allCategoryLen, infoOrdinalNumbers.length); tickNum < len; ++tickNum) {\n      var ordinalNumber = infoOrdinalNumbers[tickNum];\n      ordinalsByTick[tickNum] = ordinalNumber;\n      ticksByOrdinal[ordinalNumber] = tickNum;\n    } // Handle that `series.data` only covers part of the `axis.category.data`.\n\n\n    var unusedOrdinal = 0;\n\n    for (; tickNum < allCategoryLen; ++tickNum) {\n      while (ticksByOrdinal[unusedOrdinal] != null) {\n        unusedOrdinal++;\n      }\n\n      ;\n      ordinalsByTick.push(unusedOrdinal);\n      ticksByOrdinal[unusedOrdinal] = tickNum;\n    }\n  };\n\n  OrdinalScale.prototype._getTickNumber = function (ordinal) {\n    var ticksByOrdinalNumber = this._ticksByOrdinalNumber; // also support ordinal out of range of `ordinalMeta.categories.length`,\n    // where ordinal numbers are used as tick value directly.\n\n    return ticksByOrdinalNumber && ordinal >= 0 && ordinal < ticksByOrdinalNumber.length ? ticksByOrdinalNumber[ordinal] : ordinal;\n  };\n  /**\n   * @usage\n   * ```js\n   * const ordinalNumber = ordinalScale.getRawOrdinalNumber(tickVal);\n   *\n   * // case0\n   * const rawOrdinalValue = axisModel.getCategories()[ordinalNumber];\n   * // case1\n   * const rawOrdinalValue = this._ordinalMeta.categories[ordinalNumber];\n   * // case2\n   * const coord = axis.dataToCoord(ordinalNumber);\n   * ```\n   *\n   * @param {OrdinalNumber} tickNumber index of display\n   */\n\n\n  OrdinalScale.prototype.getRawOrdinalNumber = function (tickNumber) {\n    var ordinalNumbersByTick = this._ordinalNumbersByTick; // tickNumber may be out of range, e.g., when axis max is larger than `ordinalMeta.categories.length`.,\n    // where ordinal numbers are used as tick value directly.\n\n    return ordinalNumbersByTick && tickNumber >= 0 && tickNumber < ordinalNumbersByTick.length ? ordinalNumbersByTick[tickNumber] : tickNumber;\n  };\n  /**\n   * Get item on tick\n   */\n\n\n  OrdinalScale.prototype.getLabel = function (tick) {\n    if (!this.isBlank()) {\n      var ordinalNumber = this.getRawOrdinalNumber(tick.value);\n      var cateogry = this._ordinalMeta.categories[ordinalNumber]; // Note that if no data, ordinalMeta.categories is an empty array.\n      // Return empty if it's not exist.\n\n      return cateogry == null ? '' : cateogry + '';\n    }\n  };\n\n  OrdinalScale.prototype.count = function () {\n    return this._extent[1] - this._extent[0] + 1;\n  };\n\n  OrdinalScale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * @override\n   * If value is in extent range\n   */\n\n\n  OrdinalScale.prototype.isInExtentRange = function (value) {\n    value = this._getTickNumber(value);\n    return this._extent[0] <= value && this._extent[1] >= value;\n  };\n\n  OrdinalScale.prototype.getOrdinalMeta = function () {\n    return this._ordinalMeta;\n  };\n\n  OrdinalScale.prototype.calcNiceTicks = function () {};\n\n  OrdinalScale.prototype.calcNiceExtent = function () {};\n\n  OrdinalScale.type = 'ordinal';\n  return OrdinalScale;\n}(Scale);\n\nScale.registerClass(OrdinalScale);\nexport default OrdinalScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as clazzUtil from '../util/clazz.js';\n\nvar Scale =\n/** @class */\nfunction () {\n  function Scale(setting) {\n    this._setting = setting || {};\n    this._extent = [Infinity, -Infinity];\n  }\n\n  Scale.prototype.getSetting = function (name) {\n    return this._setting[name];\n  };\n  /**\n   * Set extent from data\n   */\n\n\n  Scale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // not setExtent because in log axis it may transformed to power\n    // this.setExtent(extent[0], extent[1]);\n  };\n  /**\n   * Set extent from data\n   */\n\n\n  Scale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Get extent\n   *\n   * Extent is always in increase order.\n   */\n\n\n  Scale.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Set extent\n   */\n\n\n  Scale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent;\n\n    if (!isNaN(start)) {\n      thisExtent[0] = start;\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = end;\n    }\n  };\n  /**\n   * If value is in extent range\n   */\n\n\n  Scale.prototype.isInExtentRange = function (value) {\n    return this._extent[0] <= value && this._extent[1] >= value;\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n\n\n  Scale.prototype.isBlank = function () {\n    return this._isBlank;\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n\n\n  Scale.prototype.setBlank = function (isBlank) {\n    this._isBlank = isBlank;\n  };\n\n  return Scale;\n}();\n\nclazzUtil.enableClassManagement(Scale);\nexport default Scale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/*\n* A third-party license is embedded for some of the code in this file:\n* The \"scaleLevels\" was originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment on the definition of \"scaleLevels\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\n// [About UTC and local time zone]:\n// In most cases, `number.parseDate` will treat input data string as local time\n// (except time zone is specified in time string). And `format.formateTime` returns\n// local time by default. option.useUTC is false by default. This design has\n// considered these common cases:\n// (1) Time that is persistent in server is in UTC, but it is needed to be displayed\n// in local time by default.\n// (2) By default, the input data string (e.g., '2011-01-02') should be displayed\n// as its original time, without any time difference.\n\nimport * as numberUtil from '../util/number.js';\nimport { ONE_SECOND, ONE_MINUTE, ONE_HOUR, ONE_DAY, ONE_YEAR, format, leveledFormat, getUnitValue, timeUnits, fullLeveledFormatter, getPrimaryTimeUnit, isPrimaryTimeUnit, getDefaultFormatPrecisionOfInterval, fullYearGetterName, monthSetterName, fullYearSetterName, dateSetterName, hoursGetterName, hoursSetterName, minutesSetterName, secondsSetterName, millisecondsSetterName, monthGetterName, dateGetterName, minutesGetterName, secondsGetterName, millisecondsGetterName } from '../util/time.js';\nimport * as scaleHelper from './helper.js';\nimport IntervalScale from './Interval.js';\nimport Scale from './Scale.js';\nimport { warn } from '../util/log.js';\nimport { filter, isNumber, map } from 'zrender/lib/core/util.js'; // FIXME 公用？\n\nvar bisect = function (a, x, lo, hi) {\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n\n    if (a[mid][1] < x) {\n      lo = mid + 1;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return lo;\n};\n\nvar TimeScale =\n/** @class */\nfunction (_super) {\n  __extends(TimeScale, _super);\n\n  function TimeScale(settings) {\n    var _this = _super.call(this, settings) || this;\n\n    _this.type = 'time';\n    return _this;\n  }\n  /**\n   * Get label is mainly for other components like dataZoom, tooltip.\n   */\n\n\n  TimeScale.prototype.getLabel = function (tick) {\n    var useUTC = this.getSetting('useUTC');\n    return format(tick.value, fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))] || fullLeveledFormatter.second, useUTC, this.getSetting('locale'));\n  };\n\n  TimeScale.prototype.getFormattedLabel = function (tick, idx, labelFormatter) {\n    var isUTC = this.getSetting('useUTC');\n    var lang = this.getSetting('locale');\n    return leveledFormat(tick, idx, labelFormatter, lang, isUTC);\n  };\n  /**\n   * @override\n   */\n\n\n  TimeScale.prototype.getTicks = function () {\n    var interval = this._interval;\n    var extent = this._extent;\n    var ticks = []; // If interval is 0, return [];\n\n    if (!interval) {\n      return ticks;\n    }\n\n    ticks.push({\n      value: extent[0],\n      level: 0\n    });\n    var useUTC = this.getSetting('useUTC');\n    var innerTicks = getIntervalTicks(this._minLevelUnit, this._approxInterval, useUTC, extent);\n    ticks = ticks.concat(innerTicks);\n    ticks.push({\n      value: extent[1],\n      level: 0\n    });\n    return ticks;\n  };\n\n  TimeScale.prototype.calcNiceExtent = function (opt) {\n    var extent = this._extent; // If extent start and end are same, expand them\n\n    if (extent[0] === extent[1]) {\n      // Expand extent\n      extent[0] -= ONE_DAY;\n      extent[1] += ONE_DAY;\n    } // If there are no data and extent are [Infinity, -Infinity]\n\n\n    if (extent[1] === -Infinity && extent[0] === Infinity) {\n      var d = new Date();\n      extent[1] = +new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      extent[0] = extent[1] - ONE_DAY;\n    }\n\n    this.calcNiceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval);\n  };\n\n  TimeScale.prototype.calcNiceTicks = function (approxTickNum, minInterval, maxInterval) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n    this._approxInterval = span / approxTickNum;\n\n    if (minInterval != null && this._approxInterval < minInterval) {\n      this._approxInterval = minInterval;\n    }\n\n    if (maxInterval != null && this._approxInterval > maxInterval) {\n      this._approxInterval = maxInterval;\n    }\n\n    var scaleIntervalsLen = scaleIntervals.length;\n    var idx = Math.min(bisect(scaleIntervals, this._approxInterval, 0, scaleIntervalsLen), scaleIntervalsLen - 1); // Interval that can be used to calculate ticks\n\n    this._interval = scaleIntervals[idx][1]; // Min level used when picking ticks from top down.\n    // We check one more level to avoid the ticks are to sparse in some case.\n\n    this._minLevelUnit = scaleIntervals[Math.max(idx - 1, 0)][0];\n  };\n\n  TimeScale.prototype.parse = function (val) {\n    // val might be float.\n    return isNumber(val) ? val : +numberUtil.parseDate(val);\n  };\n\n  TimeScale.prototype.contain = function (val) {\n    return scaleHelper.contain(this.parse(val), this._extent);\n  };\n\n  TimeScale.prototype.normalize = function (val) {\n    return scaleHelper.normalize(this.parse(val), this._extent);\n  };\n\n  TimeScale.prototype.scale = function (val) {\n    return scaleHelper.scale(val, this._extent);\n  };\n\n  TimeScale.type = 'time';\n  return TimeScale;\n}(IntervalScale);\n/**\n * This implementation was originally copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/time/scale.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\n\n\nvar scaleIntervals = [// Format                           interval\n['second', ONE_SECOND], ['minute', ONE_MINUTE], ['hour', ONE_HOUR], ['quarter-day', ONE_HOUR * 6], ['half-day', ONE_HOUR * 12], ['day', ONE_DAY * 1.2], ['half-week', ONE_DAY * 3.5], ['week', ONE_DAY * 7], ['month', ONE_DAY * 31], ['quarter', ONE_DAY * 95], ['half-year', ONE_YEAR / 2], ['year', ONE_YEAR] // 1Y\n];\n\nfunction isUnitValueSame(unit, valueA, valueB, isUTC) {\n  var dateA = numberUtil.parseDate(valueA);\n  var dateB = numberUtil.parseDate(valueB);\n\n  var isSame = function (unit) {\n    return getUnitValue(dateA, unit, isUTC) === getUnitValue(dateB, unit, isUTC);\n  };\n\n  var isSameYear = function () {\n    return isSame('year');\n  }; // const isSameHalfYear = () => isSameYear() && isSame('half-year');\n  // const isSameQuater = () => isSameYear() && isSame('quarter');\n\n\n  var isSameMonth = function () {\n    return isSameYear() && isSame('month');\n  };\n\n  var isSameDay = function () {\n    return isSameMonth() && isSame('day');\n  }; // const isSameHalfDay = () => isSameDay() && isSame('half-day');\n\n\n  var isSameHour = function () {\n    return isSameDay() && isSame('hour');\n  };\n\n  var isSameMinute = function () {\n    return isSameHour() && isSame('minute');\n  };\n\n  var isSameSecond = function () {\n    return isSameMinute() && isSame('second');\n  };\n\n  var isSameMilliSecond = function () {\n    return isSameSecond() && isSame('millisecond');\n  };\n\n  switch (unit) {\n    case 'year':\n      return isSameYear();\n\n    case 'month':\n      return isSameMonth();\n\n    case 'day':\n      return isSameDay();\n\n    case 'hour':\n      return isSameHour();\n\n    case 'minute':\n      return isSameMinute();\n\n    case 'second':\n      return isSameSecond();\n\n    case 'millisecond':\n      return isSameMilliSecond();\n  }\n} // const primaryUnitGetters = {\n//     year: fullYearGetterName(),\n//     month: monthGetterName(),\n//     day: dateGetterName(),\n//     hour: hoursGetterName(),\n//     minute: minutesGetterName(),\n//     second: secondsGetterName(),\n//     millisecond: millisecondsGetterName()\n// };\n// const primaryUnitUTCGetters = {\n//     year: fullYearGetterName(true),\n//     month: monthGetterName(true),\n//     day: dateGetterName(true),\n//     hour: hoursGetterName(true),\n//     minute: minutesGetterName(true),\n//     second: secondsGetterName(true),\n//     millisecond: millisecondsGetterName(true)\n// };\n// function moveTick(date: Date, unitName: TimeUnit, step: number, isUTC: boolean) {\n//     step = step || 1;\n//     switch (getPrimaryTimeUnit(unitName)) {\n//         case 'year':\n//             date[fullYearSetterName(isUTC)](date[fullYearGetterName(isUTC)]() + step);\n//             break;\n//         case 'month':\n//             date[monthSetterName(isUTC)](date[monthGetterName(isUTC)]() + step);\n//             break;\n//         case 'day':\n//             date[dateSetterName(isUTC)](date[dateGetterName(isUTC)]() + step);\n//             break;\n//         case 'hour':\n//             date[hoursSetterName(isUTC)](date[hoursGetterName(isUTC)]() + step);\n//             break;\n//         case 'minute':\n//             date[minutesSetterName(isUTC)](date[minutesGetterName(isUTC)]() + step);\n//             break;\n//         case 'second':\n//             date[secondsSetterName(isUTC)](date[secondsGetterName(isUTC)]() + step);\n//             break;\n//         case 'millisecond':\n//             date[millisecondsSetterName(isUTC)](date[millisecondsGetterName(isUTC)]() + step);\n//             break;\n//     }\n//     return date.getTime();\n// }\n// const DATE_INTERVALS = [[8, 7.5], [4, 3.5], [2, 1.5]];\n// const MONTH_INTERVALS = [[6, 5.5], [3, 2.5], [2, 1.5]];\n// const MINUTES_SECONDS_INTERVALS = [[30, 30], [20, 20], [15, 15], [10, 10], [5, 5], [2, 2]];\n\n\nfunction getDateInterval(approxInterval, daysInMonth) {\n  approxInterval /= ONE_DAY;\n  return approxInterval > 16 ? 16 // Math.floor(daysInMonth / 2) + 1  // In this case we only want one tick between two months.\n  : approxInterval > 7.5 ? 7 // TODO week 7 or day 8?\n  : approxInterval > 3.5 ? 4 : approxInterval > 1.5 ? 2 : 1;\n}\n\nfunction getMonthInterval(approxInterval) {\n  var APPROX_ONE_MONTH = 30 * ONE_DAY;\n  approxInterval /= APPROX_ONE_MONTH;\n  return approxInterval > 6 ? 6 : approxInterval > 3 ? 3 : approxInterval > 2 ? 2 : 1;\n}\n\nfunction getHourInterval(approxInterval) {\n  approxInterval /= ONE_HOUR;\n  return approxInterval > 12 ? 12 : approxInterval > 6 ? 6 : approxInterval > 3.5 ? 4 : approxInterval > 2 ? 2 : 1;\n}\n\nfunction getMinutesAndSecondsInterval(approxInterval, isMinutes) {\n  approxInterval /= isMinutes ? ONE_MINUTE : ONE_SECOND;\n  return approxInterval > 30 ? 30 : approxInterval > 20 ? 20 : approxInterval > 15 ? 15 : approxInterval > 10 ? 10 : approxInterval > 5 ? 5 : approxInterval > 2 ? 2 : 1;\n}\n\nfunction getMillisecondsInterval(approxInterval) {\n  return numberUtil.nice(approxInterval, true);\n}\n\nfunction getFirstTimestampOfUnit(date, unitName, isUTC) {\n  var outDate = new Date(date);\n\n  switch (getPrimaryTimeUnit(unitName)) {\n    case 'year':\n    case 'month':\n      outDate[monthSetterName(isUTC)](0);\n\n    case 'day':\n      outDate[dateSetterName(isUTC)](1);\n\n    case 'hour':\n      outDate[hoursSetterName(isUTC)](0);\n\n    case 'minute':\n      outDate[minutesSetterName(isUTC)](0);\n\n    case 'second':\n      outDate[secondsSetterName(isUTC)](0);\n      outDate[millisecondsSetterName(isUTC)](0);\n  }\n\n  return outDate.getTime();\n}\n\nfunction getIntervalTicks(bottomUnitName, approxInterval, isUTC, extent) {\n  var safeLimit = 10000;\n  var unitNames = timeUnits;\n  var iter = 0;\n\n  function addTicksInSpan(interval, minTimestamp, maxTimestamp, getMethodName, setMethodName, isDate, out) {\n    var date = new Date(minTimestamp);\n    var dateTime = minTimestamp;\n    var d = date[getMethodName](); // if (isDate) {\n    //     d -= 1; // Starts with 0;   PENDING\n    // }\n\n    while (dateTime < maxTimestamp && dateTime <= extent[1]) {\n      out.push({\n        value: dateTime\n      });\n      d += interval;\n      date[setMethodName](d);\n      dateTime = date.getTime();\n    } // This extra tick is for calcuating ticks of next level. Will not been added to the final result\n\n\n    out.push({\n      value: dateTime,\n      notAdd: true\n    });\n  }\n\n  function addLevelTicks(unitName, lastLevelTicks, levelTicks) {\n    var newAddedTicks = [];\n    var isFirstLevel = !lastLevelTicks.length;\n\n    if (isUnitValueSame(getPrimaryTimeUnit(unitName), extent[0], extent[1], isUTC)) {\n      return;\n    }\n\n    if (isFirstLevel) {\n      lastLevelTicks = [{\n        // TODO Optimize. Not include so may ticks.\n        value: getFirstTimestampOfUnit(new Date(extent[0]), unitName, isUTC)\n      }, {\n        value: extent[1]\n      }];\n    }\n\n    for (var i = 0; i < lastLevelTicks.length - 1; i++) {\n      var startTick = lastLevelTicks[i].value;\n      var endTick = lastLevelTicks[i + 1].value;\n\n      if (startTick === endTick) {\n        continue;\n      }\n\n      var interval = void 0;\n      var getterName = void 0;\n      var setterName = void 0;\n      var isDate = false;\n\n      switch (unitName) {\n        case 'year':\n          interval = Math.max(1, Math.round(approxInterval / ONE_DAY / 365));\n          getterName = fullYearGetterName(isUTC);\n          setterName = fullYearSetterName(isUTC);\n          break;\n\n        case 'half-year':\n        case 'quarter':\n        case 'month':\n          interval = getMonthInterval(approxInterval);\n          getterName = monthGetterName(isUTC);\n          setterName = monthSetterName(isUTC);\n          break;\n\n        case 'week': // PENDING If week is added. Ignore day.\n\n        case 'half-week':\n        case 'day':\n          interval = getDateInterval(approxInterval, 31); // Use 32 days and let interval been 16\n\n          getterName = dateGetterName(isUTC);\n          setterName = dateSetterName(isUTC);\n          isDate = true;\n          break;\n\n        case 'half-day':\n        case 'quarter-day':\n        case 'hour':\n          interval = getHourInterval(approxInterval);\n          getterName = hoursGetterName(isUTC);\n          setterName = hoursSetterName(isUTC);\n          break;\n\n        case 'minute':\n          interval = getMinutesAndSecondsInterval(approxInterval, true);\n          getterName = minutesGetterName(isUTC);\n          setterName = minutesSetterName(isUTC);\n          break;\n\n        case 'second':\n          interval = getMinutesAndSecondsInterval(approxInterval, false);\n          getterName = secondsGetterName(isUTC);\n          setterName = secondsSetterName(isUTC);\n          break;\n\n        case 'millisecond':\n          interval = getMillisecondsInterval(approxInterval);\n          getterName = millisecondsGetterName(isUTC);\n          setterName = millisecondsSetterName(isUTC);\n          break;\n      }\n\n      addTicksInSpan(interval, startTick, endTick, getterName, setterName, isDate, newAddedTicks);\n\n      if (unitName === 'year' && levelTicks.length > 1 && i === 0) {\n        // Add nearest years to the left extent.\n        levelTicks.unshift({\n          value: levelTicks[0].value - interval\n        });\n      }\n    }\n\n    for (var i = 0; i < newAddedTicks.length; i++) {\n      levelTicks.push(newAddedTicks[i]);\n    } // newAddedTicks.length && console.log(unitName, newAddedTicks);\n\n\n    return newAddedTicks;\n  }\n\n  var levelsTicks = [];\n  var currentLevelTicks = [];\n  var tickCount = 0;\n  var lastLevelTickCount = 0;\n\n  for (var i = 0; i < unitNames.length && iter++ < safeLimit; ++i) {\n    var primaryTimeUnit = getPrimaryTimeUnit(unitNames[i]);\n\n    if (!isPrimaryTimeUnit(unitNames[i])) {\n      // TODO\n      continue;\n    }\n\n    addLevelTicks(unitNames[i], levelsTicks[levelsTicks.length - 1] || [], currentLevelTicks);\n    var nextPrimaryTimeUnit = unitNames[i + 1] ? getPrimaryTimeUnit(unitNames[i + 1]) : null;\n\n    if (primaryTimeUnit !== nextPrimaryTimeUnit) {\n      if (currentLevelTicks.length) {\n        lastLevelTickCount = tickCount; // Remove the duplicate so the tick count can be precisely.\n\n        currentLevelTicks.sort(function (a, b) {\n          return a.value - b.value;\n        });\n        var levelTicksRemoveDuplicated = [];\n\n        for (var i_1 = 0; i_1 < currentLevelTicks.length; ++i_1) {\n          var tickValue = currentLevelTicks[i_1].value;\n\n          if (i_1 === 0 || currentLevelTicks[i_1 - 1].value !== tickValue) {\n            levelTicksRemoveDuplicated.push(currentLevelTicks[i_1]);\n\n            if (tickValue >= extent[0] && tickValue <= extent[1]) {\n              tickCount++;\n            }\n          }\n        }\n\n        var targetTickNum = (extent[1] - extent[0]) / approxInterval; // Added too much in this level and not too less in last level\n\n        if (tickCount > targetTickNum * 1.5 && lastLevelTickCount > targetTickNum / 1.5) {\n          break;\n        } // Only treat primary time unit as one level.\n\n\n        levelsTicks.push(levelTicksRemoveDuplicated);\n\n        if (tickCount > targetTickNum || bottomUnitName === unitNames[i]) {\n          break;\n        }\n      } // Reset if next unitName is primary\n\n\n      currentLevelTicks = [];\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (iter >= safeLimit) {\n      warn('Exceed safe limit.');\n    }\n  }\n\n  var levelsTicksInExtent = filter(map(levelsTicks, function (levelTicks) {\n    return filter(levelTicks, function (tick) {\n      return tick.value >= extent[0] && tick.value <= extent[1] && !tick.notAdd;\n    });\n  }), function (levelTicks) {\n    return levelTicks.length > 0;\n  });\n  var ticks = [];\n  var maxLevel = levelsTicksInExtent.length - 1;\n\n  for (var i = 0; i < levelsTicksInExtent.length; ++i) {\n    var levelTicks = levelsTicksInExtent[i];\n\n    for (var k = 0; k < levelTicks.length; ++k) {\n      ticks.push({\n        value: levelTicks[k].value,\n        level: maxLevel - i\n      });\n    }\n  }\n\n  ticks.sort(function (a, b) {\n    return a.value - b.value;\n  }); // Remove duplicates\n\n  var result = [];\n\n  for (var i = 0; i < ticks.length; ++i) {\n    if (i === 0 || ticks[i].value !== ticks[i - 1].value) {\n      result.push(ticks[i]);\n    }\n  }\n\n  return result;\n}\n\nScale.registerClass(TimeScale);\nexport default TimeScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getPrecision, round, nice, quantityExponent } from '../util/number.js';\nexport function isValueNice(val) {\n  var exp10 = Math.pow(10, quantityExponent(Math.abs(val)));\n  var f = Math.abs(val / exp10);\n  return f === 0 || f === 1 || f === 2 || f === 3 || f === 5;\n}\nexport function isIntervalOrLogScale(scale) {\n  return scale.type === 'interval' || scale.type === 'log';\n}\n/**\n * @param extent Both extent[0] and extent[1] should be valid number.\n *               Should be extent[0] < extent[1].\n * @param splitNumber splitNumber should be >= 1.\n */\n\nexport function intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval) {\n  var result = {};\n  var span = extent[1] - extent[0];\n  var interval = result.interval = nice(span / splitNumber, true);\n\n  if (minInterval != null && interval < minInterval) {\n    interval = result.interval = minInterval;\n  }\n\n  if (maxInterval != null && interval > maxInterval) {\n    interval = result.interval = maxInterval;\n  } // Tow more digital for tick.\n\n\n  var precision = result.intervalPrecision = getIntervalPrecision(interval); // Niced extent inside original extent\n\n  var niceTickExtent = result.niceTickExtent = [round(Math.ceil(extent[0] / interval) * interval, precision), round(Math.floor(extent[1] / interval) * interval, precision)];\n  fixExtent(niceTickExtent, extent);\n  return result;\n}\nexport function increaseInterval(interval) {\n  var exp10 = Math.pow(10, quantityExponent(interval)); // Increase interval\n\n  var f = interval / exp10;\n\n  if (!f) {\n    f = 1;\n  } else if (f === 2) {\n    f = 3;\n  } else if (f === 3) {\n    f = 5;\n  } else {\n    // f is 1 or 5\n    f *= 2;\n  }\n\n  return round(f * exp10);\n}\n/**\n * @return interval precision\n */\n\nexport function getIntervalPrecision(interval) {\n  // Tow more digital for tick.\n  return getPrecision(interval) + 2;\n}\n\nfunction clamp(niceTickExtent, idx, extent) {\n  niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent[1]), extent[0]);\n} // In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.\n\n\nexport function fixExtent(niceTickExtent, extent) {\n  !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent[0]);\n  !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent[1]);\n  clamp(niceTickExtent, 0, extent);\n  clamp(niceTickExtent, 1, extent);\n\n  if (niceTickExtent[0] > niceTickExtent[1]) {\n    niceTickExtent[0] = niceTickExtent[1];\n  }\n}\nexport function contain(val, extent) {\n  return val >= extent[0] && val <= extent[1];\n}\nexport function normalize(val, extent) {\n  if (extent[1] === extent[0]) {\n    return 0.5;\n  }\n\n  return (val - extent[0]) / (extent[1] - extent[0]);\n}\nexport function scale(val, extent) {\n  return val * (extent[1] - extent[0]) + extent[0];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar contrastColor = '#B9B8CE';\nvar backgroundColor = '#100C2A';\n\nvar axisCommon = function () {\n  return {\n    axisLine: {\n      lineStyle: {\n        color: contrastColor\n      }\n    },\n    splitLine: {\n      lineStyle: {\n        color: '#484753'\n      }\n    },\n    splitArea: {\n      areaStyle: {\n        color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0.05)']\n      }\n    },\n    minorSplitLine: {\n      lineStyle: {\n        color: '#20203B'\n      }\n    }\n  };\n};\n\nvar colorPalette = ['#4992ff', '#7cffb2', '#fddd60', '#ff6e76', '#58d9f9', '#05c091', '#ff8a45', '#8d48e3', '#dd79ff'];\nvar theme = {\n  darkMode: true,\n  color: colorPalette,\n  backgroundColor: backgroundColor,\n  axisPointer: {\n    lineStyle: {\n      color: '#817f91'\n    },\n    crossStyle: {\n      color: '#817f91'\n    },\n    label: {\n      // TODO Contrast of label backgorundColor\n      color: '#fff'\n    }\n  },\n  legend: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  textStyle: {\n    color: contrastColor\n  },\n  title: {\n    textStyle: {\n      color: '#EEF1FA'\n    },\n    subtextStyle: {\n      color: '#B9B8CE'\n    }\n  },\n  toolbox: {\n    iconStyle: {\n      borderColor: contrastColor\n    }\n  },\n  dataZoom: {\n    borderColor: '#71708A',\n    textStyle: {\n      color: contrastColor\n    },\n    brushStyle: {\n      color: 'rgba(135,163,206,0.3)'\n    },\n    handleStyle: {\n      color: '#353450',\n      borderColor: '#C5CBE3'\n    },\n    moveHandleStyle: {\n      color: '#B0B6C3',\n      opacity: 0.3\n    },\n    fillerColor: 'rgba(135,163,206,0.2)',\n    emphasis: {\n      handleStyle: {\n        borderColor: '#91B7F2',\n        color: '#4D587D'\n      },\n      moveHandleStyle: {\n        color: '#636D9A',\n        opacity: 0.7\n      }\n    },\n    dataBackground: {\n      lineStyle: {\n        color: '#71708A',\n        width: 1\n      },\n      areaStyle: {\n        color: '#71708A'\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: '#87A3CE'\n      },\n      areaStyle: {\n        color: '#87A3CE'\n      }\n    }\n  },\n  visualMap: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  timeline: {\n    lineStyle: {\n      color: contrastColor\n    },\n    label: {\n      color: contrastColor\n    },\n    controlStyle: {\n      color: contrastColor,\n      borderColor: contrastColor\n    }\n  },\n  calendar: {\n    itemStyle: {\n      color: backgroundColor\n    },\n    dayLabel: {\n      color: contrastColor\n    },\n    monthLabel: {\n      color: contrastColor\n    },\n    yearLabel: {\n      color: contrastColor\n    }\n  },\n  timeAxis: axisCommon(),\n  logAxis: axisCommon(),\n  valueAxis: axisCommon(),\n  categoryAxis: axisCommon(),\n  line: {\n    symbol: 'circle'\n  },\n  graph: {\n    color: colorPalette\n  },\n  gauge: {\n    title: {\n      color: contrastColor\n    },\n    axisLine: {\n      lineStyle: {\n        color: [[1, 'rgba(207,212,219,0.2)']]\n      }\n    },\n    axisLabel: {\n      color: contrastColor\n    },\n    detail: {\n      color: '#EEF1FA'\n    }\n  },\n  candlestick: {\n    itemStyle: {\n      color: '#f64e56',\n      color0: '#54ea92',\n      borderColor: '#f64e56',\n      borderColor0: '#54ea92' // borderColor: '#ca2824',\n      // borderColor0: '#09a443'\n\n    }\n  }\n};\ntheme.categoryAxis.splitLine.show = false;\nexport default theme;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar colorAll = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF'];\nexport default {\n  color: colorAll,\n  colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], colorAll]\n};"],"names":["createLegacyDataSelectAction","seriesType","ecRegisterAction","getSeriesIndices","ecModel","payload","seriesIndices","eachComponent","mainType","subType","query","seriesModel","push","seriesIndex","each","eventsMap","api","extend","dispatchAction","type","handleSeriesLegacySelectEvents","eventPostfix","ecIns","legacyEventName","isSilent","selectedMap","option","selected","i","length","data","getData","dataIndex","queryDataIndex","fromActionPayload","trigger","seriesId","id","name","isArray","getName","isString","handleLegacySelectEvents","messageCenter","on","params","getModel","isFromClick","fromAction","getTextRect","text","font","align","verticalAlign","padding","rich","truncate","lineHeight","textEl","Text","style","overflow","getBoundingRect","PI","Math","defaultLoading","opts","zrUtil","textColor","fontSize","fontWeight","fontStyle","fontFamily","maskColor","showSpinner","color","spinnerRadius","lineWidth","zlevel","group","graphic","mask","fill","z","add","arc","textContent","labelRect","textConfig","position","distance","shape","startAngle","endAngle","r","stroke","lineCap","animateShape","when","start","delay","resize","textWidth","width","cx","getWidth","cy","getHeight","setShape","x","y","height","inner","makeInner","ComponentModel","_super","parentModel","_this","call","this","uid","componentUtil","__extends","prototype","init","mergeDefaultAndTheme","layoutMode","layout","inputPositionParams","themeModel","getTheme","get","getDefaultOption","mergeOption","optionUpdated","newCptOption","isInit","ctor","constructor","isExtendedClass","defaultOption","fields","optList","clz","opt","superClass","getReferringComponents","indexKey","idKey","queryReferringComponents","index","getBoxLayoutParams","boxLayoutModel","left","top","right","bottom","getZLevelKey","setZLevel","protoInitialize","proto","componentIndex","Model","getDependencies","componentType","deps","getClassesByMainType","concat","dependencies","parseClassType","main","unshift","mountExtend","enableClassManagement","platform","navigator","reCreateSeriesIndices","assertSeriesInitialized","initBase","decalColor","darkMode","colorBy","gradientColor","aria","decal","decals","dashArrayX","dashArrayY","symbolSize","rotation","symbol","textStyle","match","blendMode","stateAnimation","duration","easing","animation","animationDuration","animationDurationUpdate","animationEasing","animationEasingUpdate","animationThreshold","progressiveThreshold","progressive","hoverLayerThreshold","useUTC","OPTION_INNER_KEY","OPTION_INNER_VALUE","GlobalModel","apply","arguments","theme","locale","optionManager","_theme","_locale","_optionManager","setOption","optionPreprocessorFuncs","innerOpt","normalizeSetOptionInput","_resetOption","resetOption","optionChanged","baseOption","mountOption","process","restoreData","_mergeOption","timelineOption","getTimelineOption","mediaOptions","getMediaOption","mediaOption","newOption","componentsMap","_componentsMap","componentsCount","_componentsCount","newCmptTypes","newCmptTypeMap","createHashMap","replaceMergeMainTypeMap","visitComponent","newCmptOptionList","concatInternalOptions","modelUtil","oldCmptList","mergeMode","mappingResult","set","tooltipExists","optionsByMainType","cmptsByMainType","cmptsCountByMainType","resultItem","componentModel","existing","newCmptOption","isSeriesType","ComponentModelClass","keyInfo","extraOpt","brandNew","__requireNewView","resetSourceDefaulter","componentOption","clone","merge","val","mainTypeInReplaceMerge","_seriesIndices","getOption","optInMainType","realLen","metNonInner","getLocaleModel","setUpdatePayload","_payload","getUpdatePayload","getComponent","idx","list","cmpt","queryComponents","condition","result","cmpts","queryByIdOrName","filter","filterBySubType","findComponents","queryCond","getQueryCond","doFilter","q","indexAttr","idAttr","nameAttr","res","cb","context","isFunction","ctxForAll_1","cbForAll_1","isObject","getSeriesByName","nameStr","oneSeries","getSeriesByIndex","getSeriesByType","getSeries","getSeriesCount","eachSeries","rawSeriesIndex","series","eachRawSeries","eachSeriesByType","eachRawSeriesByType","isSeriesFiltered","_seriesIndicesMap","getCurrentSeriesIndices","slice","filterSeries","newSeriesIndices","seriesRawIdx","componentTypes","components","component","isNotTargetSeries","internalField","airaOption","enabled","mergeTheme","globalDefault","name_1","seriesName","notMergeColorLayer","colorLayer","themeItem","attr","idOrName","keyMap_1","idOrNameItem","idName","idName_1","hasOwnProperty","replaceMerge","mixin","PaletteMixin","AREA_STYLE_KEY_MAP","getAreaStyle","makeStyleMapper","AreaStyleMixin","excludes","includes","PATH_COLOR","textStyleParams","tmpText","ZRText","TextStyleMixin","getTextColor","isEmphasis","getShallow","getFont","useStyle","update","rest","_i","path","ignoreParent","_doGet","parsePath","key","hasPath","pathFinal","obj","resolveParentPath","isEmpty","Ctor","split","isAnimationEnabled","env","pathArr","enableClassExtend","enableClassCheck","LineStyleMixin","ItemStyleMixin","QUERY_REG","OptionManager","_timelineOptions","_mediaList","_currentMediaIndices","_api","rawOption","normalizeToArray","isTypedArray","setAsPrimitive","dataset","source","optionBackup","_optionBackup","newParsedOption","parseRawOption","_newBaseOption","timelineOptions","mediaList","mediaDefault","isRecreate","_mediaDefault","timelineModel","getCurrentIndex","ecWidth","ecHeight","indices","len","applyMediaQuery","indicesEquals","map","isNew","declaredBaseOption","timelineOnRoot","timeline","timelineOptionsOnRoot","options","mediaOnRoot","media","hasMedia","hasTimeline","doPreprocess","preProcess","singleMedia","realMap","aspectratio","applicable","value","matched","operator","realAttr","toLowerCase","compare","real","expect","indices1","indices2","join","getSelectionKey","getId","SERIES_UNIVERSAL_TRANSITION_PROP","SeriesModel","_selectedDataIndicesMap","dataTask","createTask","count","dataTaskCount","reset","dataTaskReset","model","sourceManager","SourceManager","prepareSource","getInitialData","wrapData","dataBeforeProcessed","autoSeriesName","_initSelectedMapFromData","fetchLayoutMode","getLayoutParams","themeSubType","fillDataTextStyle","mergeLayoutParam","newSeriesOption","dirty","props","label","appendData","getRawData","dataType","task","getCurrentTask","getLinkedData","getAllData","mainData","getLinkedDataAll","setData","outputData","getEncode","encode","getSourceManager","getSource","getColorBy","isColorBySeries","getBaseAxis","coordSys","coordinateSystem","formatTooltip","multipleSeries","defaultSeriesFormatTooltip","ssr","animationEnabled","getColorFromPalette","scope","requestColorNum","coordDimToDataDim","coordDim","mapDimensionsAll","getProgressive","getProgressiveThreshold","select","innerDataIndices","_innerSelect","unselect","selectedMode","nameOrId","toggleSelect","tmpArr","isSelected","getSelectedDataIndices","getIndices","selectedDataIndicesMap","nameOrIds","dataIndices","getItemModel","isUniversalTransitionEnabled","universalTransitionOpt","universalTransition","_a","_b","getRawIndex","lastDataIndex","hasItemOption","rawItem","getRawDataItem","registerClass","ignoreStyleOnData","hasSymbolVisual","defaultSymbol","visualStyleAccessPath","visualDrawType","getSeriesAutoName","dataDims","nameArr","dataDim","dimInfo","getDimensionInfo","displayName","cloneShallow","dataTaskProgress","param","end","CHANGABLE_METHODS","DOWNSAMPLE_METHODS","methodName","wrapMethod","onDataChange","newList","setOutputEnd","scheduler","pipeline","getPipeline","currentTask","agentStubMap","DataFormatMixin","internalOptionCreatorMap","registerInternalOptionCreator","creator","assert","internalOptionCreator","internalOptions","DIMENSION_LABEL_REG","getDataParams","rawValue","getRawValue","rawDataIndex","itemOpt","getItemVisual","borderColor","isSeries","userOutput","componentSubType","dimensionNames","fullDimensions","$vars","getFormattedLabel","status","labelDimIndex","formatter","extendParams","interpolatedValue","itemModel","dimensionIndex","str","formatTpl","replace","origin","dimStr","dimLoose","charAt","retrieveRawValue","dimIndex","getDimensionIndex","normalizeTooltipFormatResult","markupText","markupFragment","frag","ITEM_STYLE_KEY_MAP","getItemStyle","LINE_STYLE_KEY_MAP","getLineStyle","properties","propName","innerColor","innerDecal","requestNum","defaultPalette","layeredPalette","getFromPalette","clearColorPalette","clearPalette","getDecalFromPalette","defaultDecals","getNearestPalette","palettes","paletteNum","that","scopeFields","paletteIdx","paletteNameMap","palette","pickedPaletteItem","CoordSysInfo","coordSysName","coordSysDims","axisMap","categoryAxisMap","getCoordSysInfoBySeries","fetch","fetchers","cartesian2d","xAxisModel","SINGLE_REFERRING","models","yAxisModel","isCategory","firstCategoryDimIndex","singleAxis","singleAxisModel","polar","polarModel","radiusAxisModel","findAxisModel","angleAxisModel","geo","parallel","parallelModel","dimensions","parallelAxisIndex","axisIndex","axisModel","axisDim","POSSIBLE_STYLES","compatEC2ItemStyle","itemStyleOpt","itemStyle","styleName","normalItemStyleOpt","normal","emphasisItemStyleOpt","emphasis","convertNormalEmphasis","optType","useExtend","normalOpt","emphasisOpt","focus","blurScope","removeEC3NormalStatus","compatTextStyle","labelOptSingle","textPropName","compatEC3CommonStyles","processSeries","seriesOpt","markPoint","markLine","markArea","nodes","edgeData","links","edges","categories","mpData","mlData","breadcrumb","levels","leaves","toArr","o","toObj","globalCompatStyle","isTheme","axes","axisName","axisOpt","axisPointer","parallelOpt","parallelAxisDefault","calendar","calendarOpt","radar","radarOpt","nameGap","axisNameGap","geoOpt","regions","regionObj","timelineOpt","item","toolbox","toolboxOpt","feature","featureOpt","tooltip","overwrite","compatLayoutProperties","LAYOUT_PROPERTIES","prop","COMPATITABLE_COMPONENTS","BAR_ITEM_STYLE_MAP","compatBarItemStyle","oldName","newName","compatPieLabel","alignTo","margin","edgeDistance","compatSunburstState","downplay","blur","compatGraphFocus","focusNodeAdjacency","traverseTree","children","globalBackwardCompat","compatStyle","clipOverflow","clip","clockWise","clockwise","hoverOffset","scaleSize","pointerColor","backgroundStyle","highlightPolicy","mapType","mapLocation","defaults","hoverAnimation","scale","dataRange","visualMap","componentName","dataFilter","legendModels","filterSelf","samplers","average","frame","sum","isNaN","NaN","max","Infinity","isFinite","min","nearest","indexSampler","round","dataSample","sampling","baseAxis","valueAxis","getOtherAxis","extent","getExtent","dpr","getDevicePixelRatio","size","abs","rate","lttbDownSample","mapDimension","dim","sampler","downSample","dataStack","stackInfoMap","stack","stackInfoList","stackInfo","stackResultDimension","getCalculationInfo","stackedOverDimension","stackedDimension","stackedByDimension","isStackedByIndex","setCalculationInfo","calculateStack","targetStackInfo","idxInStack","resultVal","resultNaN","dims","targetData","stackStrategy","modify","v0","v1","byValue","stackedDataRawIndex","stackedOver","j","rawIndexOf","getByRawIndex","addSafe","negativeDataFilter","valueDim","curValue","isNumber","install","registers","registerPainter","CanvasPainter","SVGPainter","roundNumber","numberUtil","IntervalScale","_interval","_intervalPrecision","parse","contain","helper","_extent","normalize","setExtent","thisExtent","parseFloat","unionExtent","other","getInterval","setInterval","interval","_niceExtent","getTicks","expandToNicedExtent","niceTickExtent","intervalPrecision","ticks","safeLimit","tick","lastNiceTick","getMinorTicks","splitNumber","minorTicks","nextTick","prevTick","minorTicksGroup","minorInterval","minorTick","getLabel","precision","dataNum","formatUtil","calcNiceTicks","minInterval","maxInterval","span","reverse","calcNiceExtent","expandSize","fixMax","fixMin","floor","ceil","setNiceExtent","Scale","scaleProto","intervalScaleProto","roundingErrorFix","mathFloor","mathCeil","mathPow","pow","mathLog","log","LogScale","base","_originalScale","originalScale","originalExtent","powVal","_fixMin","fixRoundingError","_fixMax","unionExtentFromData","getApproximateExtent","approxTickNum","err","niceExtent","scaleHelper","originalVal","OrdinalScale","setting","ordinalMeta","getSetting","OrdinalMeta","_ordinalMeta","getOrdinal","rank","_getTickNumber","getRawOrdinalNumber","setSortInfo","info","infoOrdinalNumbers","ordinalNumbers","ordinalsByTick","_ordinalNumbersByTick","ticksByOrdinal","_ticksByOrdinalNumber","tickNum","allCategoryLen","ordinalNumber","unusedOrdinal","ordinal","ticksByOrdinalNumber","tickNumber","ordinalNumbersByTick","isBlank","cateogry","isInExtentRange","getOrdinalMeta","_setting","_isBlank","setBlank","clazzUtil","bisect","a","lo","hi","mid","TimeScale","settings","format","fullLeveledFormatter","getDefaultFormatPrecisionOfInterval","getPrimaryTimeUnit","_minLevelUnit","labelFormatter","isUTC","lang","leveledFormat","level","innerTicks","getIntervalTicks","_approxInterval","ONE_DAY","d","Date","getFullYear","getMonth","getDate","scaleIntervalsLen","scaleIntervals","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_YEAR","isUnitValueSame","unit","valueA","valueB","dateA","dateB","isSame","getUnitValue","isSameYear","isSameMonth","isSameDay","isSameHour","isSameMinute","isSameSecond","isSameMilliSecond","getDateInterval","approxInterval","daysInMonth","getMonthInterval","APPROX_ONE_MONTH","getHourInterval","getMinutesAndSecondsInterval","isMinutes","getMillisecondsInterval","getFirstTimestampOfUnit","date","unitName","outDate","monthSetterName","dateSetterName","hoursSetterName","minutesSetterName","secondsSetterName","millisecondsSetterName","getTime","bottomUnitName","unitNames","timeUnits","iter","addTicksInSpan","minTimestamp","maxTimestamp","getMethodName","setMethodName","isDate","out","dateTime","notAdd","addLevelTicks","lastLevelTicks","levelTicks","newAddedTicks","isFirstLevel","startTick","endTick","getterName","setterName","fullYearGetterName","fullYearSetterName","monthGetterName","dateGetterName","hoursGetterName","minutesGetterName","secondsGetterName","millisecondsGetterName","levelsTicks","currentLevelTicks","tickCount","lastLevelTickCount","primaryTimeUnit","isPrimaryTimeUnit","nextPrimaryTimeUnit","sort","b","levelTicksRemoveDuplicated","i_1","tickValue","targetTickNum","levelsTicksInExtent","maxLevel","k","isIntervalOrLogScale","intervalScaleNiceTicks","nice","getIntervalPrecision","fixExtent","increaseInterval","exp10","quantityExponent","f","getPrecision","clamp","contrastColor","backgroundColor","axisCommon","axisLine","lineStyle","splitLine","splitArea","areaStyle","minorSplitLine","colorPalette","crossStyle","legend","title","subtextStyle","iconStyle","dataZoom","brushStyle","handleStyle","moveHandleStyle","opacity","fillerColor","dataBackground","selectedDataBackground","controlStyle","dayLabel","monthLabel","yearLabel","timeAxis","logAxis","categoryAxis","line","graph","gauge","axisLabel","detail","candlestick","color0","borderColor0","show","colorAll"],"sourceRoot":""}