{"version":3,"file":"js/chunk-vendors-bc050c32-legacy.fc212d21.js","mappings":"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","sources":["webpack://databoard/./node_modules/echarts/lib/chart/bar/BaseBarSeries.js","webpack://databoard/./node_modules/echarts/lib/chart/bar/BarSeries.js","webpack://databoard/./node_modules/echarts/lib/chart/bar/BarView.js","webpack://databoard/./node_modules/echarts/lib/chart/bar/install.js","webpack://databoard/./node_modules/echarts/lib/chart/bar/PictorialBarView.js","webpack://databoard/./node_modules/echarts/lib/chart/bar/PictorialBarSeries.js","webpack://databoard/./node_modules/echarts/lib/chart/bar/installPictorialBar.js","webpack://databoard/./node_modules/echarts/lib/animation/morphTransitionHelper.js","webpack://databoard/./node_modules/echarts/lib/animation/universalTransition.js","webpack://databoard/./node_modules/echarts/index.js","webpack://databoard/./node_modules/echarts/lib/action/roamHelper.js","webpack://databoard/./node_modules/echarts/lib/animation/basicTransition.js","webpack://databoard/./node_modules/echarts/lib/animation/customGraphicKeyframeAnimation.js","webpack://databoard/./node_modules/echarts/lib/animation/customGraphicTransition.js","webpack://databoard/./node_modules/deepmerge/dist/cjs.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport createSeriesData from '../helper/createSeriesData.js';\nimport { each } from 'zrender/lib/core/util.js';\n\nvar BaseBarSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(BaseBarSeriesModel, _super);\n\n  function BaseBarSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = BaseBarSeriesModel.type;\n    return _this;\n  }\n\n  BaseBarSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: true\n    });\n  };\n\n  BaseBarSeriesModel.prototype.getMarkerPosition = function (value, dims, startingAtTick) {\n    var coordSys = this.coordinateSystem;\n\n    if (coordSys && coordSys.clampData) {\n      // PENDING if clamp ?\n      var clampData_1 = coordSys.clampData(value);\n      var pt_1 = coordSys.dataToPoint(clampData_1);\n\n      if (startingAtTick) {\n        each(coordSys.getAxes(), function (axis, idx) {\n          // If axis type is category, use tick coords instead\n          if (axis.type === 'category' && dims != null) {\n            var tickCoords = axis.getTicksCoords();\n            var targetTickId = clampData_1[idx]; // The index of rightmost tick of markArea is 1 larger than x1/y1 index\n\n            var isEnd = dims[idx] === 'x1' || dims[idx] === 'y1';\n\n            if (isEnd) {\n              targetTickId += 1;\n            } // The only contains one tick, tickCoords is\n            // like [{coord: 0, tickValue: 0}, {coord: 0}]\n            // to the length should always be larger than 1\n\n\n            if (tickCoords.length < 2) {\n              return;\n            } else if (tickCoords.length === 2) {\n              // The left value and right value of the axis are\n              // the same. coord is 0 in both items. Use the max\n              // value of the axis as the coord\n              pt_1[idx] = axis.toGlobalCoord(axis.getExtent()[isEnd ? 1 : 0]);\n              return;\n            }\n\n            var leftCoord = void 0;\n            var coord = void 0;\n            var stepTickValue = 1;\n\n            for (var i = 0; i < tickCoords.length; i++) {\n              var tickCoord = tickCoords[i].coord; // The last item of tickCoords doesn't contain\n              // tickValue\n\n              var tickValue = i === tickCoords.length - 1 ? tickCoords[i - 1].tickValue + stepTickValue : tickCoords[i].tickValue;\n\n              if (tickValue === targetTickId) {\n                coord = tickCoord;\n                break;\n              } else if (tickValue < targetTickId) {\n                leftCoord = tickCoord;\n              } else if (leftCoord != null && tickValue > targetTickId) {\n                coord = (tickCoord + leftCoord) / 2;\n                break;\n              }\n\n              if (i === 1) {\n                // Here we assume the step of category axes is\n                // the same\n                stepTickValue = tickValue - tickCoords[0].tickValue;\n              }\n            }\n\n            if (coord == null) {\n              if (!leftCoord) {\n                // targetTickId is smaller than all tick ids in the\n                // visible area, use the leftmost tick coord\n                coord = tickCoords[0].coord;\n              } else if (leftCoord) {\n                // targetTickId is larger than all tick ids in the\n                // visible area, use the rightmost tick coord\n                coord = tickCoords[tickCoords.length - 1].coord;\n              }\n            }\n\n            pt_1[idx] = axis.toGlobalCoord(coord);\n          }\n        });\n      } else {\n        var data = this.getData();\n        var offset = data.getLayout('offset');\n        var size = data.getLayout('size');\n        var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n        pt_1[offsetIndex] += offset + size / 2;\n      }\n\n      return pt_1;\n    }\n\n    return [NaN, NaN];\n  };\n\n  BaseBarSeriesModel.type = 'series.__base_bar__';\n  BaseBarSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // stack: null\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    barMinHeight: 0,\n    barMinAngle: 0,\n    // cursor: null,\n    large: false,\n    largeThreshold: 400,\n    progressive: 3e3,\n    progressiveChunkMode: 'mod'\n  };\n  return BaseBarSeriesModel;\n}(SeriesModel);\n\nSeriesModel.registerClass(BaseBarSeriesModel);\nexport default BaseBarSeriesModel;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseBarSeriesModel from './BaseBarSeries.js';\nimport createSeriesData from '../helper/createSeriesData.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar BarSeriesModel = /** @class */\nfunction (_super) {\n  __extends(BarSeriesModel, _super);\n  function BarSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = BarSeriesModel.type;\n    return _this;\n  }\n  BarSeriesModel.prototype.getInitialData = function () {\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: true,\n      createInvertedIndices: !!this.get('realtimeSort', true) || null\n    });\n  };\n  /**\n   * @override\n   */\n\n  BarSeriesModel.prototype.getProgressive = function () {\n    // Do not support progressive in normal mode.\n    return this.get('large') ? this.get('progressive') : false;\n  };\n  /**\n   * @override\n   */\n\n  BarSeriesModel.prototype.getProgressiveThreshold = function () {\n    // Do not support progressive in normal mode.\n    var progressiveThreshold = this.get('progressiveThreshold');\n    var largeThreshold = this.get('largeThreshold');\n    if (largeThreshold > progressiveThreshold) {\n      progressiveThreshold = largeThreshold;\n    }\n    return progressiveThreshold;\n  };\n  BarSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    return selectors.rect(data.getItemLayout(dataIndex));\n  };\n  BarSeriesModel.type = 'series.bar';\n  BarSeriesModel.dependencies = ['grid', 'polar'];\n  BarSeriesModel.defaultOption = inheritDefaultOption(BaseBarSeriesModel.defaultOption, {\n    // If clipped\n    // Only available on cartesian2d\n    clip: true,\n    roundCap: false,\n    showBackground: false,\n    backgroundStyle: {\n      color: 'rgba(180, 180, 180, 0.2)',\n      borderColor: null,\n      borderWidth: 0,\n      borderType: 'solid',\n      borderRadius: 0,\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      opacity: 1\n    },\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    },\n    realtimeSort: false\n  });\n  return BarSeriesModel;\n}(BaseBarSeriesModel);\nexport default BarSeriesModel;","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.fill.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Path from 'zrender/lib/graphic/Path.js';\nimport Group from 'zrender/lib/graphic/Group.js';\nimport { extend, each, map } from 'zrender/lib/core/util.js';\nimport { Rect, Sector, updateProps, initProps, removeElementWithFadeOut, traverseElements } from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport { setLabelStyle, getLabelStatesModels, setLabelValueAnimation, labelInner } from '../../label/labelStyle.js';\nimport { throttle } from '../../util/throttle.js';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys.js';\nimport Sausage from '../../util/shape/sausage.js';\nimport ChartView from '../../view/Chart.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { getDefaultLabel, getDefaultInterpolatedLabel } from '../helper/labelHelper.js';\nimport { warn } from '../../util/log.js';\nimport { createSectorCalculateTextPosition, setSectorTextRotation } from '../../label/sectorLabel.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nimport { getSectorCornerRadius } from '../helper/sectorHelper.js';\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nfunction getClipArea(coord, data) {\n  var coordSysClipArea = coord.getArea && coord.getArea();\n  if (isCoordinateSystemType(coord, 'cartesian2d')) {\n    var baseAxis = coord.getBaseAxis(); // When boundaryGap is false or using time axis. bar may exceed the grid.\n    // We should not clip this part.\n    // See test/bar2.html\n\n    if (baseAxis.type !== 'category' || !baseAxis.onBand) {\n      var expandWidth = data.getLayout('bandWidth');\n      if (baseAxis.isHorizontal()) {\n        coordSysClipArea.x -= expandWidth;\n        coordSysClipArea.width += expandWidth * 2;\n      } else {\n        coordSysClipArea.y -= expandWidth;\n        coordSysClipArea.height += expandWidth * 2;\n      }\n    }\n  }\n  return coordSysClipArea;\n}\nvar BarView = /** @class */\nfunction (_super) {\n  __extends(BarView, _super);\n  function BarView() {\n    var _this = _super.call(this) || this;\n    _this.type = BarView.type;\n    _this._isFirstFrame = true;\n    return _this;\n  }\n  BarView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    this._model = seriesModel;\n    this._removeOnRenderedListener(api);\n    this._updateDrawMode(seriesModel);\n    var coordinateSystemType = seriesModel.get('coordinateSystem');\n    if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n      // Clear previously rendered progressive elements.\n      this._progressiveEls = null;\n      this._isLargeDraw ? this._renderLarge(seriesModel, ecModel, api) : this._renderNormal(seriesModel, ecModel, api, payload);\n    } else if (process.env.NODE_ENV !== 'production') {\n      warn('Only cartesian2d and polar supported for bar.');\n    }\n  };\n  BarView.prototype.incrementalPrepareRender = function (seriesModel) {\n    this._clear();\n    this._updateDrawMode(seriesModel); // incremental also need to clip, otherwise might be overlow.\n    // But must not set clip in each frame, otherwise all of the children will be marked redraw.\n\n    this._updateLargeClip(seriesModel);\n  };\n  BarView.prototype.incrementalRender = function (params, seriesModel) {\n    // Reset\n    this._progressiveEls = []; // Do not support progressive in normal mode.\n\n    this._incrementalRenderLarge(params, seriesModel);\n  };\n  BarView.prototype.eachRendered = function (cb) {\n    traverseElements(this._progressiveEls || this.group, cb);\n  };\n  BarView.prototype._updateDrawMode = function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n    if (this._isLargeDraw == null || isLargeDraw !== this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n      this._clear();\n    }\n  };\n  BarView.prototype._renderNormal = function (seriesModel, ecModel, api, payload) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coord = seriesModel.coordinateSystem;\n    var baseAxis = coord.getBaseAxis();\n    var isHorizontalOrRadial;\n    if (coord.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n    } else if (coord.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n    }\n    var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n    var realtimeSortCfg = shouldRealtimeSort(seriesModel, coord);\n    if (realtimeSortCfg) {\n      this._enableRealtimeSort(realtimeSortCfg, data, api);\n    }\n    var needsClip = seriesModel.get('clip', true) || realtimeSortCfg;\n    var coordSysClipArea = getClipArea(coord, data); // If there is clipPath created in large mode. Remove it.\n\n    group.removeClipPath(); // We don't use clipPath in normal mode because we needs a perfect animation\n    // And don't want the label are clipped.\n\n    var roundCap = seriesModel.get('roundCap', true);\n    var drawBackground = seriesModel.get('showBackground', true);\n    var backgroundModel = seriesModel.getModel('backgroundStyle');\n    var barBorderRadius = backgroundModel.get('borderRadius') || 0;\n    var bgEls = [];\n    var oldBgEls = this._backgroundEls;\n    var isInitSort = payload && payload.isInitSort;\n    var isChangeOrder = payload && payload.type === 'changeAxisOrder';\n    function createBackground(dataIndex) {\n      var bgLayout = getLayout[coord.type](data, dataIndex);\n      var bgEl = createBackgroundEl(coord, isHorizontalOrRadial, bgLayout);\n      bgEl.useStyle(backgroundModel.getItemStyle()); // Only cartesian2d support borderRadius.\n\n      if (coord.type === 'cartesian2d') {\n        bgEl.setShape('r', barBorderRadius);\n      } else {\n        bgEl.setShape('cornerRadius', barBorderRadius);\n      }\n      bgEls[dataIndex] = bgEl;\n      return bgEl;\n    }\n    ;\n    data.diff(oldData).add(function (dataIndex) {\n      var itemModel = data.getItemModel(dataIndex);\n      var layout = getLayout[coord.type](data, dataIndex, itemModel);\n      if (drawBackground) {\n        createBackground(dataIndex);\n      } // If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in \"axisProxy\".\n\n      if (!data.hasValue(dataIndex) || !isValidLayout[coord.type](layout)) {\n        return;\n      }\n      var isClipped = false;\n      if (needsClip) {\n        // Clip will modify the layout params.\n        // And return a boolean to determine if the shape are fully clipped.\n        isClipped = clip[coord.type](coordSysClipArea, layout);\n      }\n      var el = elementCreator[coord.type](seriesModel, data, dataIndex, layout, isHorizontalOrRadial, animationModel, baseAxis.model, false, roundCap);\n      if (realtimeSortCfg) {\n        /**\n         * Force label animation because even if the element is\n         * ignored because it's clipped, it may not be clipped after\n         * changing order. Then, if not using forceLabelAnimation,\n         * the label animation was never started, in which case,\n         * the label will be the final value and doesn't have label\n         * animation.\n         */\n        el.forceLabelAnimation = true;\n      }\n      updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n      if (isInitSort) {\n        el.attr({\n          shape: layout\n        });\n      } else if (realtimeSortCfg) {\n        updateRealtimeAnimation(realtimeSortCfg, animationModel, el, layout, dataIndex, isHorizontalOrRadial, false, false);\n      } else {\n        initProps(el, {\n          shape: layout\n        }, seriesModel, dataIndex);\n      }\n      data.setItemGraphicEl(dataIndex, el);\n      group.add(el);\n      el.ignore = isClipped;\n    }).update(function (newIndex, oldIndex) {\n      var itemModel = data.getItemModel(newIndex);\n      var layout = getLayout[coord.type](data, newIndex, itemModel);\n      if (drawBackground) {\n        var bgEl = void 0;\n        if (oldBgEls.length === 0) {\n          bgEl = createBackground(oldIndex);\n        } else {\n          bgEl = oldBgEls[oldIndex];\n          bgEl.useStyle(backgroundModel.getItemStyle()); // Only cartesian2d support borderRadius.\n\n          if (coord.type === 'cartesian2d') {\n            bgEl.setShape('r', barBorderRadius);\n          } else {\n            bgEl.setShape('cornerRadius', barBorderRadius);\n          }\n          bgEls[newIndex] = bgEl;\n        }\n        var bgLayout = getLayout[coord.type](data, newIndex);\n        var shape = createBackgroundShape(isHorizontalOrRadial, bgLayout, coord);\n        updateProps(bgEl, {\n          shape: shape\n        }, animationModel, newIndex);\n      }\n      var el = oldData.getItemGraphicEl(oldIndex);\n      if (!data.hasValue(newIndex) || !isValidLayout[coord.type](layout)) {\n        group.remove(el);\n        return;\n      }\n      var isClipped = false;\n      if (needsClip) {\n        isClipped = clip[coord.type](coordSysClipArea, layout);\n        if (isClipped) {\n          group.remove(el);\n        }\n      }\n      if (!el) {\n        el = elementCreator[coord.type](seriesModel, data, newIndex, layout, isHorizontalOrRadial, animationModel, baseAxis.model, !!el, roundCap);\n      } else {\n        saveOldStyle(el);\n      }\n      if (realtimeSortCfg) {\n        el.forceLabelAnimation = true;\n      }\n      if (isChangeOrder) {\n        var textEl = el.getTextContent();\n        if (textEl) {\n          var labelInnerStore = labelInner(textEl);\n          if (labelInnerStore.prevValue != null) {\n            /**\n             * Set preValue to be value so that no new label\n             * should be started, otherwise, it will take a full\n             * `animationDurationUpdate` time to finish the\n             * animation, which is not expected.\n             */\n            labelInnerStore.prevValue = labelInnerStore.value;\n          }\n        }\n      } // Not change anything if only order changed.\n      // Especially not change label.\n      else {\n        updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n      }\n      if (isInitSort) {\n        el.attr({\n          shape: layout\n        });\n      } else if (realtimeSortCfg) {\n        updateRealtimeAnimation(realtimeSortCfg, animationModel, el, layout, newIndex, isHorizontalOrRadial, true, isChangeOrder);\n      } else {\n        updateProps(el, {\n          shape: layout\n        }, seriesModel, newIndex, null);\n      }\n      data.setItemGraphicEl(newIndex, el);\n      el.ignore = isClipped;\n      group.add(el);\n    }).remove(function (dataIndex) {\n      var el = oldData.getItemGraphicEl(dataIndex);\n      el && removeElementWithFadeOut(el, seriesModel, dataIndex);\n    }).execute();\n    var bgGroup = this._backgroundGroup || (this._backgroundGroup = new Group());\n    bgGroup.removeAll();\n    for (var i = 0; i < bgEls.length; ++i) {\n      bgGroup.add(bgEls[i]);\n    }\n    group.add(bgGroup);\n    this._backgroundEls = bgEls;\n    this._data = data;\n  };\n  BarView.prototype._renderLarge = function (seriesModel, ecModel, api) {\n    this._clear();\n    createLarge(seriesModel, this.group);\n    this._updateLargeClip(seriesModel);\n  };\n  BarView.prototype._incrementalRenderLarge = function (params, seriesModel) {\n    this._removeBackground();\n    createLarge(seriesModel, this.group, this._progressiveEls, true);\n  };\n  BarView.prototype._updateLargeClip = function (seriesModel) {\n    // Use clipPath in large mode.\n    var clipPath = seriesModel.get('clip', true) && createClipPath(seriesModel.coordinateSystem, false, seriesModel);\n    var group = this.group;\n    if (clipPath) {\n      group.setClipPath(clipPath);\n    } else {\n      group.removeClipPath();\n    }\n  };\n  BarView.prototype._enableRealtimeSort = function (realtimeSortCfg, data, api) {\n    var _this = this; // If no data in the first frame, wait for data to initSort\n\n    if (!data.count()) {\n      return;\n    }\n    var baseAxis = realtimeSortCfg.baseAxis;\n    if (this._isFirstFrame) {\n      this._dispatchInitSort(data, realtimeSortCfg, api);\n      this._isFirstFrame = false;\n    } else {\n      var orderMapping_1 = function orderMapping_1(idx) {\n        var el = data.getItemGraphicEl(idx);\n        var shape = el && el.shape;\n        return shape &&\n        // The result should be consistent with the initial sort by data value.\n        // Do not support the case that both positive and negative exist.\n        Math.abs(baseAxis.isHorizontal() ? shape.height : shape.width) // If data is NaN, shape.xxx may be NaN, so use || 0 here in case\n        || 0;\n      };\n      this._onRendered = function () {\n        _this._updateSortWithinSameData(data, orderMapping_1, baseAxis, api);\n      };\n      api.getZr().on('rendered', this._onRendered);\n    }\n  };\n  BarView.prototype._dataSort = function (data, baseAxis, orderMapping) {\n    var info = [];\n    data.each(data.mapDimension(baseAxis.dim), function (ordinalNumber, dataIdx) {\n      var mappedValue = orderMapping(dataIdx);\n      mappedValue = mappedValue == null ? NaN : mappedValue;\n      info.push({\n        dataIndex: dataIdx,\n        mappedValue: mappedValue,\n        ordinalNumber: ordinalNumber\n      });\n    });\n    info.sort(function (a, b) {\n      // If NaN, it will be treated as min val.\n      return b.mappedValue - a.mappedValue;\n    });\n    return {\n      ordinalNumbers: map(info, function (item) {\n        return item.ordinalNumber;\n      })\n    };\n  };\n  BarView.prototype._isOrderChangedWithinSameData = function (data, orderMapping, baseAxis) {\n    var scale = baseAxis.scale;\n    var ordinalDataDim = data.mapDimension(baseAxis.dim);\n    var lastValue = Number.MAX_VALUE;\n    for (var tickNum = 0, len = scale.getOrdinalMeta().categories.length; tickNum < len; ++tickNum) {\n      var rawIdx = data.rawIndexOf(ordinalDataDim, scale.getRawOrdinalNumber(tickNum));\n      var value = rawIdx < 0 // If some tick have no bar, the tick will be treated as min.\n      ? Number.MIN_VALUE // PENDING: if dataZoom on baseAxis exits, is it a performance issue?\n      : orderMapping(data.indexOfRawIndex(rawIdx));\n      if (value > lastValue) {\n        return true;\n      }\n      lastValue = value;\n    }\n    return false;\n  };\n  /*\n   * Consider the case when A and B changed order, whose representing\n   * bars are both out of sight, we don't wish to trigger reorder action\n   * as long as the order in the view doesn't change.\n   */\n\n  BarView.prototype._isOrderDifferentInView = function (orderInfo, baseAxis) {\n    var scale = baseAxis.scale;\n    var extent = scale.getExtent();\n    var tickNum = Math.max(0, extent[0]);\n    var tickMax = Math.min(extent[1], scale.getOrdinalMeta().categories.length - 1);\n    for (; tickNum <= tickMax; ++tickNum) {\n      if (orderInfo.ordinalNumbers[tickNum] !== scale.getRawOrdinalNumber(tickNum)) {\n        return true;\n      }\n    }\n  };\n  BarView.prototype._updateSortWithinSameData = function (data, orderMapping, baseAxis, api) {\n    if (!this._isOrderChangedWithinSameData(data, orderMapping, baseAxis)) {\n      return;\n    }\n    var sortInfo = this._dataSort(data, baseAxis, orderMapping);\n    if (this._isOrderDifferentInView(sortInfo, baseAxis)) {\n      this._removeOnRenderedListener(api);\n      api.dispatchAction({\n        type: 'changeAxisOrder',\n        componentType: baseAxis.dim + 'Axis',\n        axisId: baseAxis.index,\n        sortInfo: sortInfo\n      });\n    }\n  };\n  BarView.prototype._dispatchInitSort = function (data, realtimeSortCfg, api) {\n    var baseAxis = realtimeSortCfg.baseAxis;\n    var sortResult = this._dataSort(data, baseAxis, function (dataIdx) {\n      return data.get(data.mapDimension(realtimeSortCfg.otherAxis.dim), dataIdx);\n    });\n    api.dispatchAction({\n      type: 'changeAxisOrder',\n      componentType: baseAxis.dim + 'Axis',\n      isInitSort: true,\n      axisId: baseAxis.index,\n      sortInfo: sortResult\n    });\n  };\n  BarView.prototype.remove = function (ecModel, api) {\n    this._clear(this._model);\n    this._removeOnRenderedListener(api);\n  };\n  BarView.prototype.dispose = function (ecModel, api) {\n    this._removeOnRenderedListener(api);\n  };\n  BarView.prototype._removeOnRenderedListener = function (api) {\n    if (this._onRendered) {\n      api.getZr().off('rendered', this._onRendered);\n      this._onRendered = null;\n    }\n  };\n  BarView.prototype._clear = function (model) {\n    var group = this.group;\n    var data = this._data;\n    if (model && model.isAnimationEnabled() && data && !this._isLargeDraw) {\n      this._removeBackground();\n      this._backgroundEls = [];\n      data.eachItemGraphicEl(function (el) {\n        removeElementWithFadeOut(el, model, getECData(el).dataIndex);\n      });\n    } else {\n      group.removeAll();\n    }\n    this._data = null;\n    this._isFirstFrame = true;\n  };\n  BarView.prototype._removeBackground = function () {\n    this.group.remove(this._backgroundGroup);\n    this._backgroundGroup = null;\n  };\n  BarView.type = 'bar';\n  return BarView;\n}(ChartView);\nvar clip = {\n  cartesian2d: function cartesian2d(coordSysBoundingRect, layout) {\n    var signWidth = layout.width < 0 ? -1 : 1;\n    var signHeight = layout.height < 0 ? -1 : 1; // Needs positive width and height\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n    var coordSysX2 = coordSysBoundingRect.x + coordSysBoundingRect.width;\n    var coordSysY2 = coordSysBoundingRect.y + coordSysBoundingRect.height;\n    var x = mathMax(layout.x, coordSysBoundingRect.x);\n    var x2 = mathMin(layout.x + layout.width, coordSysX2);\n    var y = mathMax(layout.y, coordSysBoundingRect.y);\n    var y2 = mathMin(layout.y + layout.height, coordSysY2);\n    var xClipped = x2 < x;\n    var yClipped = y2 < y; // When xClipped or yClipped, the element will be marked as `ignore`.\n    // But we should also place the element at the edge of the coord sys bounding rect.\n    // Because if data changed and the bar shows again, its transition animation\n    // will begin at this place.\n\n    layout.x = xClipped && x > coordSysX2 ? x2 : x;\n    layout.y = yClipped && y > coordSysY2 ? y2 : y;\n    layout.width = xClipped ? 0 : x2 - x;\n    layout.height = yClipped ? 0 : y2 - y; // Reverse back\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n    return xClipped || yClipped;\n  },\n  polar: function polar(coordSysClipArea, layout) {\n    var signR = layout.r0 <= layout.r ? 1 : -1; // Make sure r is larger than r0\n\n    if (signR < 0) {\n      var tmp = layout.r;\n      layout.r = layout.r0;\n      layout.r0 = tmp;\n    }\n    var r = mathMin(layout.r, coordSysClipArea.r);\n    var r0 = mathMax(layout.r0, coordSysClipArea.r0);\n    layout.r = r;\n    layout.r0 = r0;\n    var clipped = r - r0 < 0; // Reverse back\n\n    if (signR < 0) {\n      var tmp = layout.r;\n      layout.r = layout.r0;\n      layout.r0 = tmp;\n    }\n    return clipped;\n  }\n};\nvar elementCreator = {\n  cartesian2d: function cartesian2d(seriesModel, data, newIndex, layout, isHorizontal, animationModel, axisModel, isUpdate, roundCap) {\n    var rect = new Rect({\n      shape: extend({}, layout),\n      z2: 1\n    });\n    rect.__dataIndex = newIndex;\n    rect.name = 'item';\n    if (animationModel) {\n      var rectShape = rect.shape;\n      var animateProperty = isHorizontal ? 'height' : 'width';\n      rectShape[animateProperty] = 0;\n    }\n    return rect;\n  },\n  polar: function polar(seriesModel, data, newIndex, layout, isRadial, animationModel, axisModel, isUpdate, roundCap) {\n    var ShapeClass = !isRadial && roundCap ? Sausage : Sector;\n    var sector = new ShapeClass({\n      shape: layout,\n      z2: 1\n    });\n    sector.name = 'item';\n    var positionMap = createPolarPositionMapping(isRadial);\n    sector.calculateTextPosition = createSectorCalculateTextPosition(positionMap, {\n      isRoundCap: ShapeClass === Sausage\n    }); // Animation\n\n    if (animationModel) {\n      var sectorShape = sector.shape;\n      var animateProperty = isRadial ? 'r' : 'endAngle';\n      var animateTarget = {};\n      sectorShape[animateProperty] = isRadial ? layout.r0 : layout.startAngle;\n      animateTarget[animateProperty] = layout[animateProperty];\n      (isUpdate ? updateProps : initProps)(sector, {\n        shape: animateTarget // __value: typeof dataValue === 'string' ? parseInt(dataValue, 10) : dataValue\n      }, animationModel);\n    }\n    return sector;\n  }\n};\nfunction shouldRealtimeSort(seriesModel, coordSys) {\n  var realtimeSortOption = seriesModel.get('realtimeSort', true);\n  var baseAxis = coordSys.getBaseAxis();\n  if (process.env.NODE_ENV !== 'production') {\n    if (realtimeSortOption) {\n      if (baseAxis.type !== 'category') {\n        warn('`realtimeSort` will not work because this bar series is not based on a category axis.');\n      }\n      if (coordSys.type !== 'cartesian2d') {\n        warn('`realtimeSort` will not work because this bar series is not on cartesian2d.');\n      }\n    }\n  }\n  if (realtimeSortOption && baseAxis.type === 'category' && coordSys.type === 'cartesian2d') {\n    return {\n      baseAxis: baseAxis,\n      otherAxis: coordSys.getOtherAxis(baseAxis)\n    };\n  }\n}\nfunction updateRealtimeAnimation(realtimeSortCfg, seriesAnimationModel, el, layout, newIndex, isHorizontal, isUpdate, isChangeOrder) {\n  var seriesTarget;\n  var axisTarget;\n  if (isHorizontal) {\n    axisTarget = {\n      x: layout.x,\n      width: layout.width\n    };\n    seriesTarget = {\n      y: layout.y,\n      height: layout.height\n    };\n  } else {\n    axisTarget = {\n      y: layout.y,\n      height: layout.height\n    };\n    seriesTarget = {\n      x: layout.x,\n      width: layout.width\n    };\n  }\n  if (!isChangeOrder) {\n    // Keep the original growth animation if only axis order changed.\n    // Not start a new animation.\n    (isUpdate ? updateProps : initProps)(el, {\n      shape: seriesTarget\n    }, seriesAnimationModel, newIndex, null);\n  }\n  var axisAnimationModel = seriesAnimationModel ? realtimeSortCfg.baseAxis.model : null;\n  (isUpdate ? updateProps : initProps)(el, {\n    shape: axisTarget\n  }, axisAnimationModel, newIndex);\n}\nfunction checkPropertiesNotValid(obj, props) {\n  for (var i = 0; i < props.length; i++) {\n    if (!isFinite(obj[props[i]])) {\n      return true;\n    }\n  }\n  return false;\n}\nvar rectPropties = ['x', 'y', 'width', 'height'];\nvar polarPropties = ['cx', 'cy', 'r', 'startAngle', 'endAngle'];\nvar isValidLayout = {\n  cartesian2d: function cartesian2d(layout) {\n    return !checkPropertiesNotValid(layout, rectPropties);\n  },\n  polar: function polar(layout) {\n    return !checkPropertiesNotValid(layout, polarPropties);\n  }\n};\nvar getLayout = {\n  // itemModel is only used to get borderWidth, which is not needed\n  // when calculating bar background layout.\n  cartesian2d: function cartesian2d(data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    var fixedLineWidth = itemModel ? getLineWidth(itemModel, layout) : 0; // fix layout with lineWidth\n\n    var signX = layout.width > 0 ? 1 : -1;\n    var signY = layout.height > 0 ? 1 : -1;\n    return {\n      x: layout.x + signX * fixedLineWidth / 2,\n      y: layout.y + signY * fixedLineWidth / 2,\n      width: layout.width - signX * fixedLineWidth,\n      height: layout.height - signY * fixedLineWidth\n    };\n  },\n  polar: function polar(data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    return {\n      cx: layout.cx,\n      cy: layout.cy,\n      r0: layout.r0,\n      r: layout.r,\n      startAngle: layout.startAngle,\n      endAngle: layout.endAngle,\n      clockwise: layout.clockwise\n    };\n  }\n};\nfunction isZeroOnPolar(layout) {\n  return layout.startAngle != null && layout.endAngle != null && layout.startAngle === layout.endAngle;\n}\nfunction createPolarPositionMapping(isRadial) {\n  return function (isRadial) {\n    var arcOrAngle = isRadial ? 'Arc' : 'Angle';\n    return function (position) {\n      switch (position) {\n        case 'start':\n        case 'insideStart':\n        case 'end':\n        case 'insideEnd':\n          return position + arcOrAngle;\n        default:\n          return position;\n      }\n    };\n  }(isRadial);\n}\nfunction updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, isPolar) {\n  var style = data.getItemVisual(dataIndex, 'style');\n  if (!isPolar) {\n    var borderRadius = itemModel.get(['itemStyle', 'borderRadius']) || 0;\n    el.setShape('r', borderRadius);\n  } else if (!seriesModel.get('roundCap')) {\n    var sectorShape = el.shape;\n    var cornerRadius = getSectorCornerRadius(itemModel.getModel('itemStyle'), sectorShape, true);\n    extend(sectorShape, cornerRadius);\n    el.setShape(sectorShape);\n  }\n  el.useStyle(style);\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && el.attr('cursor', cursorStyle);\n  var labelPositionOutside = isPolar ? isHorizontalOrRadial ? layout.r >= layout.r0 ? 'endArc' : 'startArc' : layout.endAngle >= layout.startAngle ? 'endAngle' : 'startAngle' : isHorizontalOrRadial ? layout.height >= 0 ? 'bottom' : 'top' : layout.width >= 0 ? 'right' : 'left';\n  var labelStatesModels = getLabelStatesModels(itemModel);\n  setLabelStyle(el, labelStatesModels, {\n    labelFetcher: seriesModel,\n    labelDataIndex: dataIndex,\n    defaultText: getDefaultLabel(seriesModel.getData(), dataIndex),\n    inheritColor: style.fill,\n    defaultOpacity: style.opacity,\n    defaultOutsidePosition: labelPositionOutside\n  });\n  var label = el.getTextContent();\n  if (isPolar && label) {\n    var position = itemModel.get(['label', 'position']);\n    el.textConfig.inside = position === 'middle' ? true : null;\n    setSectorTextRotation(el, position === 'outside' ? labelPositionOutside : position, createPolarPositionMapping(isHorizontalOrRadial), itemModel.get(['label', 'rotate']));\n  }\n  setLabelValueAnimation(label, labelStatesModels, seriesModel.getRawValue(dataIndex), function (value) {\n    return getDefaultInterpolatedLabel(data, value);\n  });\n  var emphasisModel = itemModel.getModel(['emphasis']);\n  toggleHoverEmphasis(el, emphasisModel.get('focus'), emphasisModel.get('blurScope'), emphasisModel.get('disabled'));\n  setStatesStylesFromModel(el, itemModel);\n  if (isZeroOnPolar(layout)) {\n    el.style.fill = 'none';\n    el.style.stroke = 'none';\n    each(el.states, function (state) {\n      if (state.style) {\n        state.style.fill = state.style.stroke = 'none';\n      }\n    });\n  }\n} // In case width or height are too small.\n\nfunction getLineWidth(itemModel, rawLayout) {\n  // Has no border.\n  var borderColor = itemModel.get(['itemStyle', 'borderColor']);\n  if (!borderColor || borderColor === 'none') {\n    return 0;\n  }\n  var lineWidth = itemModel.get(['itemStyle', 'borderWidth']) || 0; // width or height may be NaN for empty data\n\n  var width = isNaN(rawLayout.width) ? Number.MAX_VALUE : Math.abs(rawLayout.width);\n  var height = isNaN(rawLayout.height) ? Number.MAX_VALUE : Math.abs(rawLayout.height);\n  return Math.min(lineWidth, width, height);\n}\nvar LagePathShape = /** @class */\nfunction () {\n  function LagePathShape() {}\n  return LagePathShape;\n}();\nvar LargePath = /** @class */\nfunction (_super) {\n  __extends(LargePath, _super);\n  function LargePath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'largeBar';\n    return _this;\n  }\n  LargePath.prototype.getDefaultShape = function () {\n    return new LagePathShape();\n  };\n  LargePath.prototype.buildPath = function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n    var baseDimIdx = this.baseDimIdx;\n    var valueDimIdx = 1 - this.baseDimIdx;\n    var startPoint = [];\n    var size = [];\n    var barWidth = this.barWidth;\n    for (var i = 0; i < points.length; i += 3) {\n      size[baseDimIdx] = barWidth;\n      size[valueDimIdx] = points[i + 2];\n      startPoint[baseDimIdx] = points[i + baseDimIdx];\n      startPoint[valueDimIdx] = points[i + valueDimIdx];\n      ctx.rect(startPoint[0], startPoint[1], size[0], size[1]);\n    }\n  };\n  return LargePath;\n}(Path);\nfunction createLarge(seriesModel, group, progressiveEls, incremental) {\n  // TODO support polar\n  var data = seriesModel.getData();\n  var baseDimIdx = data.getLayout('valueAxisHorizontal') ? 1 : 0;\n  var largeDataIndices = data.getLayout('largeDataIndices');\n  var barWidth = data.getLayout('size');\n  var backgroundModel = seriesModel.getModel('backgroundStyle');\n  var bgPoints = data.getLayout('largeBackgroundPoints');\n  if (bgPoints) {\n    var bgEl = new LargePath({\n      shape: {\n        points: bgPoints\n      },\n      incremental: !!incremental,\n      silent: true,\n      z2: 0\n    });\n    bgEl.baseDimIdx = baseDimIdx;\n    bgEl.largeDataIndices = largeDataIndices;\n    bgEl.barWidth = barWidth;\n    bgEl.useStyle(backgroundModel.getItemStyle());\n    group.add(bgEl);\n    progressiveEls && progressiveEls.push(bgEl);\n  }\n  var el = new LargePath({\n    shape: {\n      points: data.getLayout('largePoints')\n    },\n    incremental: !!incremental,\n    ignoreCoarsePointer: true,\n    z2: 1\n  });\n  el.baseDimIdx = baseDimIdx;\n  el.largeDataIndices = largeDataIndices;\n  el.barWidth = barWidth;\n  group.add(el);\n  el.useStyle(data.getVisual('style')); // Enable tooltip and user mouse/touch event handlers.\n\n  getECData(el).seriesIndex = seriesModel.seriesIndex;\n  if (!seriesModel.get('silent')) {\n    el.on('mousedown', largePathUpdateDataIndex);\n    el.on('mousemove', largePathUpdateDataIndex);\n  }\n  progressiveEls && progressiveEls.push(el);\n} // Use throttle to avoid frequently traverse to find dataIndex.\n\nvar largePathUpdateDataIndex = throttle(function (event) {\n  var largePath = this;\n  var dataIndex = largePathFindDataIndex(largePath, event.offsetX, event.offsetY);\n  getECData(largePath).dataIndex = dataIndex >= 0 ? dataIndex : null;\n}, 30, false);\nfunction largePathFindDataIndex(largePath, x, y) {\n  var baseDimIdx = largePath.baseDimIdx;\n  var valueDimIdx = 1 - baseDimIdx;\n  var points = largePath.shape.points;\n  var largeDataIndices = largePath.largeDataIndices;\n  var startPoint = [];\n  var size = [];\n  var barWidth = largePath.barWidth;\n  for (var i = 0, len = points.length / 3; i < len; i++) {\n    var ii = i * 3;\n    size[baseDimIdx] = barWidth;\n    size[valueDimIdx] = points[ii + 2];\n    startPoint[baseDimIdx] = points[ii + baseDimIdx];\n    startPoint[valueDimIdx] = points[ii + valueDimIdx];\n    if (size[valueDimIdx] < 0) {\n      startPoint[valueDimIdx] += size[valueDimIdx];\n      size[valueDimIdx] = -size[valueDimIdx];\n    }\n    if (x >= startPoint[0] && x <= startPoint[0] + size[0] && y >= startPoint[1] && y <= startPoint[1] + size[1]) {\n      return largeDataIndices[i];\n    }\n  }\n  return -1;\n}\nfunction createBackgroundShape(isHorizontalOrRadial, layout, coord) {\n  if (isCoordinateSystemType(coord, 'cartesian2d')) {\n    var rectShape = layout;\n    var coordLayout = coord.getArea();\n    return {\n      x: isHorizontalOrRadial ? rectShape.x : coordLayout.x,\n      y: isHorizontalOrRadial ? coordLayout.y : rectShape.y,\n      width: isHorizontalOrRadial ? rectShape.width : coordLayout.width,\n      height: isHorizontalOrRadial ? coordLayout.height : rectShape.height\n    };\n  } else {\n    var coordLayout = coord.getArea();\n    var sectorShape = layout;\n    return {\n      cx: coordLayout.cx,\n      cy: coordLayout.cy,\n      r0: isHorizontalOrRadial ? coordLayout.r0 : sectorShape.r0,\n      r: isHorizontalOrRadial ? coordLayout.r : sectorShape.r,\n      startAngle: isHorizontalOrRadial ? sectorShape.startAngle : 0,\n      endAngle: isHorizontalOrRadial ? sectorShape.endAngle : Math.PI * 2\n    };\n  }\n}\nfunction createBackgroundEl(coord, isHorizontalOrRadial, layout) {\n  var ElementClz = coord.type === 'polar' ? Sector : Rect;\n  return new ElementClz({\n    shape: createBackgroundShape(isHorizontalOrRadial, layout, coord),\n    silent: true,\n    z2: 0\n  });\n}\nexport default BarView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { layout, createProgressiveLayout } from '../../layout/barGrid.js';\nimport dataSample from '../../processor/dataSample.js';\nimport BarSeries from './BarSeries.js';\nimport BarView from './BarView.js';\nexport function install(registers) {\n  registers.registerChartView(BarView);\n  registers.registerSeriesModel(BarSeries);\n  registers.registerLayout(registers.PRIORITY.VISUAL.LAYOUT, zrUtil.curry(layout, 'bar')); // Do layout after other overall layout, which can prepare some information.\n\n  registers.registerLayout(registers.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, createProgressiveLayout('bar')); // Down sample after filter\n\n  registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, dataSample('bar'));\n  /**\n   * @payload\n   * @property {string} [componentType=series]\n   * @property {number} [dx]\n   * @property {number} [dy]\n   * @property {number} [zoom]\n   * @property {number} [originX]\n   * @property {number} [originY]\n   */\n\n  registers.registerAction({\n    type: 'changeAxisOrder',\n    event: 'changeAxisOrder',\n    update: 'update'\n  }, function (payload, ecModel) {\n    var componentType = payload.componentType || 'series';\n    ecModel.eachComponent({\n      mainType: componentType,\n      query: payload\n    }, function (componentModel) {\n      if (payload.sortInfo) {\n        componentModel.axis.setCategorySortInfo(payload.sortInfo);\n      }\n    });\n  });\n}","import \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.fill.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis } from '../../util/states.js';\nimport { createSymbol, normalizeSymbolOffset } from '../../util/symbol.js';\nimport { parsePercent, isNumeric } from '../../util/number.js';\nimport ChartView from '../../view/Chart.js';\nimport { getDefaultLabel } from '../helper/labelHelper.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { getECData } from '../../util/innerStore.js';\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'borderWidth']; // index: +isHorizontal\n\nvar LAYOUT_ATTRS = [{\n  xy: 'x',\n  wh: 'width',\n  index: 0,\n  posDesc: ['left', 'right']\n}, {\n  xy: 'y',\n  wh: 'height',\n  index: 1,\n  posDesc: ['top', 'bottom']\n}];\nvar pathForLineWidth = new graphic.Circle();\nvar PictorialBarView = /** @class */\nfunction (_super) {\n  __extends(PictorialBarView, _super);\n  function PictorialBarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PictorialBarView.type;\n    return _this;\n  }\n  PictorialBarView.prototype.render = function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var isHorizontal = baseAxis.isHorizontal();\n    var coordSysRect = cartesian.master.getRect();\n    var opt = {\n      ecSize: {\n        width: api.getWidth(),\n        height: api.getHeight()\n      },\n      seriesModel: seriesModel,\n      coordSys: cartesian,\n      coordSysExtent: [[coordSysRect.x, coordSysRect.x + coordSysRect.width], [coordSysRect.y, coordSysRect.y + coordSysRect.height]],\n      isHorizontal: isHorizontal,\n      valueDim: LAYOUT_ATTRS[+isHorizontal],\n      categoryDim: LAYOUT_ATTRS[1 - +isHorizontal]\n    };\n    data.diff(oldData).add(function (dataIndex) {\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n      var itemModel = getItemModel(data, dataIndex);\n      var symbolMeta = getSymbolMeta(data, dataIndex, itemModel, opt);\n      var bar = createBar(data, opt, symbolMeta);\n      data.setItemGraphicEl(dataIndex, bar);\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).update(function (newIndex, oldIndex) {\n      var bar = oldData.getItemGraphicEl(oldIndex);\n      if (!data.hasValue(newIndex)) {\n        group.remove(bar);\n        return;\n      }\n      var itemModel = getItemModel(data, newIndex);\n      var symbolMeta = getSymbolMeta(data, newIndex, itemModel, opt);\n      var pictorialShapeStr = getShapeStr(data, symbolMeta);\n      if (bar && pictorialShapeStr !== bar.__pictorialShapeStr) {\n        group.remove(bar);\n        data.setItemGraphicEl(newIndex, null);\n        bar = null;\n      }\n      if (bar) {\n        updateBar(bar, opt, symbolMeta);\n      } else {\n        bar = createBar(data, opt, symbolMeta, true);\n      }\n      data.setItemGraphicEl(newIndex, bar);\n      bar.__pictorialSymbolMeta = symbolMeta; // Add back\n\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).remove(function (dataIndex) {\n      var bar = oldData.getItemGraphicEl(dataIndex);\n      bar && removeBar(oldData, dataIndex, bar.__pictorialSymbolMeta.animationModel, bar);\n    }).execute();\n    this._data = data;\n    return this.group;\n  };\n  PictorialBarView.prototype.remove = function (ecModel, api) {\n    var group = this.group;\n    var data = this._data;\n    if (ecModel.get('animation')) {\n      if (data) {\n        data.eachItemGraphicEl(function (bar) {\n          removeBar(data, getECData(bar).dataIndex, ecModel, bar);\n        });\n      }\n    } else {\n      group.removeAll();\n    }\n  };\n  PictorialBarView.type = 'pictorialBar';\n  return PictorialBarView;\n}(ChartView); // Set or calculate default value about symbol, and calculate layout info.\n\nfunction getSymbolMeta(data, dataIndex, itemModel, opt) {\n  var layout = data.getItemLayout(dataIndex);\n  var symbolRepeat = itemModel.get('symbolRepeat');\n  var symbolClip = itemModel.get('symbolClip');\n  var symbolPosition = itemModel.get('symbolPosition') || 'start';\n  var symbolRotate = itemModel.get('symbolRotate');\n  var rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  var symbolPatternSize = itemModel.get('symbolPatternSize') || 2;\n  var isAnimationEnabled = itemModel.isAnimationEnabled();\n  var symbolMeta = {\n    dataIndex: dataIndex,\n    layout: layout,\n    itemModel: itemModel,\n    symbolType: data.getItemVisual(dataIndex, 'symbol') || 'circle',\n    style: data.getItemVisual(dataIndex, 'style'),\n    symbolClip: symbolClip,\n    symbolRepeat: symbolRepeat,\n    symbolRepeatDirection: itemModel.get('symbolRepeatDirection'),\n    symbolPatternSize: symbolPatternSize,\n    rotation: rotation,\n    animationModel: isAnimationEnabled ? itemModel : null,\n    hoverScale: isAnimationEnabled && itemModel.get(['emphasis', 'scale']),\n    z2: itemModel.getShallow('z', true) || 0\n  };\n  prepareBarLength(itemModel, symbolRepeat, layout, opt, symbolMeta);\n  prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, symbolMeta.boundingLength, symbolMeta.pxSign, symbolPatternSize, opt, symbolMeta);\n  prepareLineWidth(itemModel, symbolMeta.symbolScale, rotation, opt, symbolMeta);\n  var symbolSize = symbolMeta.symbolSize;\n  var symbolOffset = normalizeSymbolOffset(itemModel.get('symbolOffset'), symbolSize);\n  prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, symbolMeta.valueLineWidth, symbolMeta.boundingLength, symbolMeta.repeatCutLength, opt, symbolMeta);\n  return symbolMeta;\n} // bar length can be negative.\n\nfunction prepareBarLength(itemModel, symbolRepeat, layout, opt, outputSymbolMeta) {\n  var valueDim = opt.valueDim;\n  var symbolBoundingData = itemModel.get('symbolBoundingData');\n  var valueAxis = opt.coordSys.getOtherAxis(opt.coordSys.getBaseAxis());\n  var zeroPx = valueAxis.toGlobalCoord(valueAxis.dataToCoord(0));\n  var pxSignIdx = 1 - +(layout[valueDim.wh] <= 0);\n  var boundingLength;\n  if (zrUtil.isArray(symbolBoundingData)) {\n    var symbolBoundingExtent = [convertToCoordOnAxis(valueAxis, symbolBoundingData[0]) - zeroPx, convertToCoordOnAxis(valueAxis, symbolBoundingData[1]) - zeroPx];\n    symbolBoundingExtent[1] < symbolBoundingExtent[0] && symbolBoundingExtent.reverse();\n    boundingLength = symbolBoundingExtent[pxSignIdx];\n  } else if (symbolBoundingData != null) {\n    boundingLength = convertToCoordOnAxis(valueAxis, symbolBoundingData) - zeroPx;\n  } else if (symbolRepeat) {\n    boundingLength = opt.coordSysExtent[valueDim.index][pxSignIdx] - zeroPx;\n  } else {\n    boundingLength = layout[valueDim.wh];\n  }\n  outputSymbolMeta.boundingLength = boundingLength;\n  if (symbolRepeat) {\n    outputSymbolMeta.repeatCutLength = layout[valueDim.wh];\n  } // if 'pxSign' means sign of pixel,  it can't be zero, or symbolScale will be zero\n  // and when borderWidth be settled, the actual linewidth will be NaN\n\n  outputSymbolMeta.pxSign = boundingLength > 0 ? 1 : -1;\n}\nfunction convertToCoordOnAxis(axis, value) {\n  return axis.toGlobalCoord(axis.dataToCoord(axis.scale.parse(value)));\n} // Support ['100%', '100%']\n\nfunction prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, boundingLength, pxSign, symbolPatternSize, opt, outputSymbolMeta) {\n  var valueDim = opt.valueDim;\n  var categoryDim = opt.categoryDim;\n  var categorySize = Math.abs(layout[categoryDim.wh]);\n  var symbolSize = data.getItemVisual(dataIndex, 'symbolSize');\n  var parsedSymbolSize;\n  if (zrUtil.isArray(symbolSize)) {\n    parsedSymbolSize = symbolSize.slice();\n  } else {\n    if (symbolSize == null) {\n      // will parse to number below\n      parsedSymbolSize = ['100%', '100%'];\n    } else {\n      parsedSymbolSize = [symbolSize, symbolSize];\n    }\n  } // Note: percentage symbolSize (like '100%') do not consider lineWidth, because it is\n  // to complicated to calculate real percent value if considering scaled lineWidth.\n  // So the actual size will bigger than layout size if lineWidth is bigger than zero,\n  // which can be tolerated in pictorial chart.\n\n  parsedSymbolSize[categoryDim.index] = parsePercent(parsedSymbolSize[categoryDim.index], categorySize);\n  parsedSymbolSize[valueDim.index] = parsePercent(parsedSymbolSize[valueDim.index], symbolRepeat ? categorySize : Math.abs(boundingLength));\n  outputSymbolMeta.symbolSize = parsedSymbolSize; // If x or y is less than zero, show reversed shape.\n\n  var symbolScale = outputSymbolMeta.symbolScale = [parsedSymbolSize[0] / symbolPatternSize, parsedSymbolSize[1] / symbolPatternSize]; // Follow convention, 'right' and 'top' is the normal scale.\n\n  symbolScale[valueDim.index] *= (opt.isHorizontal ? -1 : 1) * pxSign;\n}\nfunction prepareLineWidth(itemModel, symbolScale, rotation, opt, outputSymbolMeta) {\n  // In symbols are drawn with scale, so do not need to care about the case that width\n  // or height are too small. But symbol use strokeNoScale, where acture lineWidth should\n  // be calculated.\n  var valueLineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0;\n  if (valueLineWidth) {\n    pathForLineWidth.attr({\n      scaleX: symbolScale[0],\n      scaleY: symbolScale[1],\n      rotation: rotation\n    });\n    pathForLineWidth.updateTransform();\n    valueLineWidth /= pathForLineWidth.getLineScale();\n    valueLineWidth *= symbolScale[opt.valueDim.index];\n  }\n  outputSymbolMeta.valueLineWidth = valueLineWidth || 0;\n}\nfunction prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, valueLineWidth, boundingLength, repeatCutLength, opt, outputSymbolMeta) {\n  var categoryDim = opt.categoryDim;\n  var valueDim = opt.valueDim;\n  var pxSign = outputSymbolMeta.pxSign;\n  var unitLength = Math.max(symbolSize[valueDim.index] + valueLineWidth, 0);\n  var pathLen = unitLength; // Note: rotation will not effect the layout of symbols, because user may\n  // want symbols to rotate on its center, which should not be translated\n  // when rotating.\n\n  if (symbolRepeat) {\n    var absBoundingLength = Math.abs(boundingLength);\n    var symbolMargin = zrUtil.retrieve(itemModel.get('symbolMargin'), '15%') + '';\n    var hasEndGap = false;\n    if (symbolMargin.lastIndexOf('!') === symbolMargin.length - 1) {\n      hasEndGap = true;\n      symbolMargin = symbolMargin.slice(0, symbolMargin.length - 1);\n    }\n    var symbolMarginNumeric = parsePercent(symbolMargin, symbolSize[valueDim.index]);\n    var uLenWithMargin = Math.max(unitLength + symbolMarginNumeric * 2, 0); // When symbol margin is less than 0, margin at both ends will be subtracted\n    // to ensure that all of the symbols will not be overflow the given area.\n\n    var endFix = hasEndGap ? 0 : symbolMarginNumeric * 2; // Both final repeatTimes and final symbolMarginNumeric area calculated based on\n    // boundingLength.\n\n    var repeatSpecified = isNumeric(symbolRepeat);\n    var repeatTimes = repeatSpecified ? symbolRepeat : toIntTimes((absBoundingLength + endFix) / uLenWithMargin); // Adjust calculate margin, to ensure each symbol is displayed\n    // entirely in the given layout area.\n\n    var mDiff = absBoundingLength - repeatTimes * unitLength;\n    symbolMarginNumeric = mDiff / 2 / (hasEndGap ? repeatTimes : Math.max(repeatTimes - 1, 1));\n    uLenWithMargin = unitLength + symbolMarginNumeric * 2;\n    endFix = hasEndGap ? 0 : symbolMarginNumeric * 2; // Update repeatTimes when not all symbol will be shown.\n\n    if (!repeatSpecified && symbolRepeat !== 'fixed') {\n      repeatTimes = repeatCutLength ? toIntTimes((Math.abs(repeatCutLength) + endFix) / uLenWithMargin) : 0;\n    }\n    pathLen = repeatTimes * uLenWithMargin - endFix;\n    outputSymbolMeta.repeatTimes = repeatTimes;\n    outputSymbolMeta.symbolMargin = symbolMarginNumeric;\n  }\n  var sizeFix = pxSign * (pathLen / 2);\n  var pathPosition = outputSymbolMeta.pathPosition = [];\n  pathPosition[categoryDim.index] = layout[categoryDim.wh] / 2;\n  pathPosition[valueDim.index] = symbolPosition === 'start' ? sizeFix : symbolPosition === 'end' ? boundingLength - sizeFix : boundingLength / 2; // 'center'\n\n  if (symbolOffset) {\n    pathPosition[0] += symbolOffset[0];\n    pathPosition[1] += symbolOffset[1];\n  }\n  var bundlePosition = outputSymbolMeta.bundlePosition = [];\n  bundlePosition[categoryDim.index] = layout[categoryDim.xy];\n  bundlePosition[valueDim.index] = layout[valueDim.xy];\n  var barRectShape = outputSymbolMeta.barRectShape = zrUtil.extend({}, layout);\n  barRectShape[valueDim.wh] = pxSign * Math.max(Math.abs(layout[valueDim.wh]), Math.abs(pathPosition[valueDim.index] + sizeFix));\n  barRectShape[categoryDim.wh] = layout[categoryDim.wh];\n  var clipShape = outputSymbolMeta.clipShape = {}; // Consider that symbol may be overflow layout rect.\n\n  clipShape[categoryDim.xy] = -layout[categoryDim.xy];\n  clipShape[categoryDim.wh] = opt.ecSize[categoryDim.wh];\n  clipShape[valueDim.xy] = 0;\n  clipShape[valueDim.wh] = layout[valueDim.wh];\n}\nfunction createPath(symbolMeta) {\n  var symbolPatternSize = symbolMeta.symbolPatternSize;\n  var path = createSymbol(\n  // Consider texture img, make a big size.\n  symbolMeta.symbolType, -symbolPatternSize / 2, -symbolPatternSize / 2, symbolPatternSize, symbolPatternSize);\n  path.attr({\n    culling: true\n  });\n  path.type !== 'image' && path.setStyle({\n    strokeNoScale: true\n  });\n  return path;\n}\nfunction createOrUpdateRepeatSymbols(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var symbolSize = symbolMeta.symbolSize;\n  var valueLineWidth = symbolMeta.valueLineWidth;\n  var pathPosition = symbolMeta.pathPosition;\n  var valueDim = opt.valueDim;\n  var repeatTimes = symbolMeta.repeatTimes || 0;\n  var index = 0;\n  var unit = symbolSize[opt.valueDim.index] + valueLineWidth + symbolMeta.symbolMargin * 2;\n  eachPath(bar, function (path) {\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n    if (index < repeatTimes) {\n      updateAttr(path, null, makeTarget(index), symbolMeta, isUpdate);\n    } else {\n      updateAttr(path, null, {\n        scaleX: 0,\n        scaleY: 0\n      }, symbolMeta, isUpdate, function () {\n        bundle.remove(path);\n      });\n    } // updateHoverAnimation(path, symbolMeta);\n\n    index++;\n  });\n  for (; index < repeatTimes; index++) {\n    var path = createPath(symbolMeta);\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n    bundle.add(path);\n    var target = makeTarget(index);\n    updateAttr(path, {\n      x: target.x,\n      y: target.y,\n      scaleX: 0,\n      scaleY: 0\n    }, {\n      scaleX: target.scaleX,\n      scaleY: target.scaleY,\n      rotation: target.rotation\n    }, symbolMeta, isUpdate);\n  }\n  function makeTarget(index) {\n    var position = pathPosition.slice(); // (start && pxSign > 0) || (end && pxSign < 0): i = repeatTimes - index\n    // Otherwise: i = index;\n\n    var pxSign = symbolMeta.pxSign;\n    var i = index;\n    if (symbolMeta.symbolRepeatDirection === 'start' ? pxSign > 0 : pxSign < 0) {\n      i = repeatTimes - 1 - index;\n    }\n    position[valueDim.index] = unit * (i - repeatTimes / 2 + 0.5) + pathPosition[valueDim.index];\n    return {\n      x: position[0],\n      y: position[1],\n      scaleX: symbolMeta.symbolScale[0],\n      scaleY: symbolMeta.symbolScale[1],\n      rotation: symbolMeta.rotation\n    };\n  }\n}\nfunction createOrUpdateSingleSymbol(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var mainPath = bar.__pictorialMainPath;\n  if (!mainPath) {\n    mainPath = bar.__pictorialMainPath = createPath(symbolMeta);\n    bundle.add(mainPath);\n    updateAttr(mainPath, {\n      x: symbolMeta.pathPosition[0],\n      y: symbolMeta.pathPosition[1],\n      scaleX: 0,\n      scaleY: 0,\n      rotation: symbolMeta.rotation\n    }, {\n      scaleX: symbolMeta.symbolScale[0],\n      scaleY: symbolMeta.symbolScale[1]\n    }, symbolMeta, isUpdate);\n  } else {\n    updateAttr(mainPath, null, {\n      x: symbolMeta.pathPosition[0],\n      y: symbolMeta.pathPosition[1],\n      scaleX: symbolMeta.symbolScale[0],\n      scaleY: symbolMeta.symbolScale[1],\n      rotation: symbolMeta.rotation\n    }, symbolMeta, isUpdate);\n  }\n} // bar rect is used for label.\n\nfunction createOrUpdateBarRect(bar, symbolMeta, isUpdate) {\n  var rectShape = zrUtil.extend({}, symbolMeta.barRectShape);\n  var barRect = bar.__pictorialBarRect;\n  if (!barRect) {\n    barRect = bar.__pictorialBarRect = new graphic.Rect({\n      z2: 2,\n      shape: rectShape,\n      silent: true,\n      style: {\n        stroke: 'transparent',\n        fill: 'transparent',\n        lineWidth: 0\n      }\n    });\n    barRect.disableMorphing = true;\n    bar.add(barRect);\n  } else {\n    updateAttr(barRect, null, {\n      shape: rectShape\n    }, symbolMeta, isUpdate);\n  }\n}\nfunction createOrUpdateClip(bar, opt, symbolMeta, isUpdate) {\n  // If not clip, symbol will be remove and rebuilt.\n  if (symbolMeta.symbolClip) {\n    var clipPath = bar.__pictorialClipPath;\n    var clipShape = zrUtil.extend({}, symbolMeta.clipShape);\n    var valueDim = opt.valueDim;\n    var animationModel = symbolMeta.animationModel;\n    var dataIndex = symbolMeta.dataIndex;\n    if (clipPath) {\n      graphic.updateProps(clipPath, {\n        shape: clipShape\n      }, animationModel, dataIndex);\n    } else {\n      clipShape[valueDim.wh] = 0;\n      clipPath = new graphic.Rect({\n        shape: clipShape\n      });\n      bar.__pictorialBundle.setClipPath(clipPath);\n      bar.__pictorialClipPath = clipPath;\n      var target = {};\n      target[valueDim.wh] = symbolMeta.clipShape[valueDim.wh];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](clipPath, {\n        shape: target\n      }, animationModel, dataIndex);\n    }\n  }\n}\nfunction getItemModel(data, dataIndex) {\n  var itemModel = data.getItemModel(dataIndex);\n  itemModel.getAnimationDelayParams = getAnimationDelayParams;\n  itemModel.isAnimationEnabled = isAnimationEnabled;\n  return itemModel;\n}\nfunction getAnimationDelayParams(path) {\n  // The order is the same as the z-order, see `symbolRepeatDiretion`.\n  return {\n    index: path.__pictorialAnimationIndex,\n    count: path.__pictorialRepeatTimes\n  };\n}\nfunction isAnimationEnabled() {\n  // `animation` prop can be set on itemModel in pictorial bar chart.\n  return this.parentModel.isAnimationEnabled() && !!this.getShallow('animation');\n}\nfunction createBar(data, opt, symbolMeta, isUpdate) {\n  // bar is the main element for each data.\n  var bar = new graphic.Group(); // bundle is used for location and clip.\n\n  var bundle = new graphic.Group();\n  bar.add(bundle);\n  bar.__pictorialBundle = bundle;\n  bundle.x = symbolMeta.bundlePosition[0];\n  bundle.y = symbolMeta.bundlePosition[1];\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta);\n  }\n  createOrUpdateBarRect(bar, symbolMeta, isUpdate);\n  createOrUpdateClip(bar, opt, symbolMeta, isUpdate);\n  bar.__pictorialShapeStr = getShapeStr(data, symbolMeta);\n  bar.__pictorialSymbolMeta = symbolMeta;\n  return bar;\n}\nfunction updateBar(bar, opt, symbolMeta) {\n  var animationModel = symbolMeta.animationModel;\n  var dataIndex = symbolMeta.dataIndex;\n  var bundle = bar.__pictorialBundle;\n  graphic.updateProps(bundle, {\n    x: symbolMeta.bundlePosition[0],\n    y: symbolMeta.bundlePosition[1]\n  }, animationModel, dataIndex);\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta, true);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta, true);\n  }\n  createOrUpdateBarRect(bar, symbolMeta, true);\n  createOrUpdateClip(bar, opt, symbolMeta, true);\n}\nfunction removeBar(data, dataIndex, animationModel, bar) {\n  // Not show text when animating\n  var labelRect = bar.__pictorialBarRect;\n  labelRect && labelRect.removeTextContent();\n  var paths = [];\n  eachPath(bar, function (path) {\n    paths.push(path);\n  });\n  bar.__pictorialMainPath && paths.push(bar.__pictorialMainPath); // I do not find proper remove animation for clip yet.\n\n  bar.__pictorialClipPath && (animationModel = null);\n  zrUtil.each(paths, function (path) {\n    graphic.removeElement(path, {\n      scaleX: 0,\n      scaleY: 0\n    }, animationModel, dataIndex, function () {\n      bar.parent && bar.parent.remove(bar);\n    });\n  });\n  data.setItemGraphicEl(dataIndex, null);\n}\nfunction getShapeStr(data, symbolMeta) {\n  return [data.getItemVisual(symbolMeta.dataIndex, 'symbol') || 'none', !!symbolMeta.symbolRepeat, !!symbolMeta.symbolClip].join(':');\n}\nfunction eachPath(bar, cb, context) {\n  // Do not use Group#eachChild, because it do not support remove.\n  zrUtil.each(bar.__pictorialBundle.children(), function (el) {\n    el !== bar.__pictorialBarRect && cb.call(context, el);\n  });\n}\nfunction updateAttr(el, immediateAttrs, animationAttrs, symbolMeta, isUpdate, cb) {\n  immediateAttrs && el.attr(immediateAttrs); // when symbolCip used, only clip path has init animation, otherwise it would be weird effect.\n\n  if (symbolMeta.symbolClip && !isUpdate) {\n    animationAttrs && el.attr(animationAttrs);\n  } else {\n    animationAttrs && graphic[isUpdate ? 'updateProps' : 'initProps'](el, animationAttrs, symbolMeta.animationModel, symbolMeta.dataIndex, cb);\n  }\n}\nfunction updateCommon(bar, opt, symbolMeta) {\n  var dataIndex = symbolMeta.dataIndex;\n  var itemModel = symbolMeta.itemModel; // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var emphasisModel = itemModel.getModel('emphasis');\n  var emphasisStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n  var blurStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n  var selectStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  var focus = emphasisModel.get('focus');\n  var blurScope = emphasisModel.get('blurScope');\n  var hoverScale = emphasisModel.get('scale');\n  eachPath(bar, function (path) {\n    if (path instanceof ZRImage) {\n      var pathStyle = path.style;\n      path.useStyle(zrUtil.extend({\n        // TODO other properties like dx, dy ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, symbolMeta.style));\n    } else {\n      path.useStyle(symbolMeta.style);\n    }\n    var emphasisState = path.ensureState('emphasis');\n    emphasisState.style = emphasisStyle;\n    if (hoverScale) {\n      // NOTE: Must after scale is set after updateAttr\n      emphasisState.scaleX = path.scaleX * 1.1;\n      emphasisState.scaleY = path.scaleY * 1.1;\n    }\n    path.ensureState('blur').style = blurStyle;\n    path.ensureState('select').style = selectStyle;\n    cursorStyle && (path.cursor = cursorStyle);\n    path.z2 = symbolMeta.z2;\n  });\n  var barPositionOutside = opt.valueDim.posDesc[+(symbolMeta.boundingLength > 0)];\n  var barRect = bar.__pictorialBarRect;\n  setLabelStyle(barRect, getLabelStatesModels(itemModel), {\n    labelFetcher: opt.seriesModel,\n    labelDataIndex: dataIndex,\n    defaultText: getDefaultLabel(opt.seriesModel.getData(), dataIndex),\n    inheritColor: symbolMeta.style.fill,\n    defaultOpacity: symbolMeta.style.opacity,\n    defaultOutsidePosition: barPositionOutside\n  });\n  toggleHoverEmphasis(bar, focus, blurScope, emphasisModel.get('disabled'));\n}\nfunction toIntTimes(times) {\n  var roundedTimes = Math.round(times); // Escapse accurate error\n\n  return Math.abs(times - roundedTimes) < 1e-4 ? roundedTimes : Math.ceil(times);\n}\nexport default PictorialBarView;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BaseBarSeriesModel from './BaseBarSeries.js';\nimport { inheritDefaultOption } from '../../util/component.js';\nvar PictorialBarSeriesModel = /** @class */\nfunction (_super) {\n  __extends(PictorialBarSeriesModel, _super);\n  function PictorialBarSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = PictorialBarSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    _this.defaultSymbol = 'roundRect';\n    return _this;\n  }\n  PictorialBarSeriesModel.prototype.getInitialData = function (option) {\n    // Disable stack.\n    option.stack = null;\n    return _super.prototype.getInitialData.apply(this, arguments);\n  };\n  PictorialBarSeriesModel.type = 'series.pictorialBar';\n  PictorialBarSeriesModel.dependencies = ['grid'];\n  PictorialBarSeriesModel.defaultOption = inheritDefaultOption(BaseBarSeriesModel.defaultOption, {\n    symbol: 'circle',\n    symbolSize: null,\n    symbolRotate: null,\n    symbolPosition: null,\n    symbolOffset: null,\n    symbolMargin: null,\n    symbolRepeat: false,\n    symbolRepeatDirection: 'end',\n    symbolClip: false,\n    symbolBoundingData: null,\n    symbolPatternSize: 400,\n    barGap: '-100%',\n    // z can be set in data item, which is z2 actually.\n    // Disable progressive\n    progressive: 0,\n    emphasis: {\n      // By default pictorialBar do not hover scale. Hover scale is not suitable\n      // for the case that both has foreground and background.\n      scale: false\n    },\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    }\n  });\n  return PictorialBarSeriesModel;\n}(BaseBarSeriesModel);\nexport default PictorialBarSeriesModel;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport PictorialBarView from './PictorialBarView.js';\nimport PictorialBarSeriesModel from './PictorialBarSeries.js';\nimport { createProgressiveLayout, layout } from '../../layout/barGrid.js';\nimport { curry } from 'zrender/lib/core/util.js';\nexport function install(registers) {\n  registers.registerChartView(PictorialBarView);\n  registers.registerSeriesModel(PictorialBarSeriesModel);\n  registers.registerLayout(registers.PRIORITY.VISUAL.LAYOUT, curry(layout, 'pictorialBar')); // Do layout after other overall layout, which can prepare some information.\n\n  registers.registerLayout(registers.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, createProgressiveLayout('pictorialBar'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { separateMorph, combineMorph, morphPath, isCombineMorphing } from 'zrender/lib/tool/morphPath.js';\nimport { Path } from '../util/graphic.js';\nimport { defaults, isArray } from 'zrender/lib/core/util.js';\nimport { getAnimationConfig } from './basicTransition.js';\nimport { clonePath } from 'zrender/lib/tool/path.js';\n\nfunction isMultiple(elements) {\n  return isArray(elements[0]);\n}\n\nfunction prepareMorphBatches(one, many) {\n  var batches = [];\n  var batchCount = one.length;\n\n  for (var i = 0; i < batchCount; i++) {\n    batches.push({\n      one: one[i],\n      many: []\n    });\n  }\n\n  for (var i = 0; i < many.length; i++) {\n    var len = many[i].length;\n    var k = void 0;\n\n    for (k = 0; k < len; k++) {\n      batches[k % batchCount].many.push(many[i][k]);\n    }\n  }\n\n  var off = 0; // If one has more paths than each one of many. average them.\n\n  for (var i = batchCount - 1; i >= 0; i--) {\n    if (!batches[i].many.length) {\n      var moveFrom = batches[off].many;\n\n      if (moveFrom.length <= 1) {\n        // Not enough\n        // Start from the first one.\n        if (off) {\n          off = 0;\n        } else {\n          return batches;\n        }\n      }\n\n      var len = moveFrom.length;\n      var mid = Math.ceil(len / 2);\n      batches[i].many = moveFrom.slice(mid, len);\n      batches[off].many = moveFrom.slice(0, mid);\n      off++;\n    }\n  }\n\n  return batches;\n}\n\nvar pathDividers = {\n  clone: function (params) {\n    var ret = []; // Fitting the alpha\n\n    var approxOpacity = 1 - Math.pow(1 - params.path.style.opacity, 1 / params.count);\n\n    for (var i = 0; i < params.count; i++) {\n      var cloned = clonePath(params.path);\n      cloned.setStyle('opacity', approxOpacity);\n      ret.push(cloned);\n    }\n\n    return ret;\n  },\n  // Use the default divider\n  split: null\n};\nexport function applyMorphAnimation(from, to, divideShape, seriesModel, dataIndex, animateOtherProps) {\n  if (!from.length || !to.length) {\n    return;\n  }\n\n  var updateAnimationCfg = getAnimationConfig('update', seriesModel, dataIndex);\n\n  if (!(updateAnimationCfg && updateAnimationCfg.duration > 0)) {\n    return;\n  }\n\n  var animationDelay = seriesModel.getModel('universalTransition').get('delay');\n  var animationCfg = Object.assign({\n    // Need to setToFinal so the further calculation based on the style can be correct.\n    // Like emphasis color.\n    setToFinal: true\n  }, updateAnimationCfg);\n  var many;\n  var one;\n\n  if (isMultiple(from)) {\n    // manyToOne\n    many = from;\n    one = to;\n  }\n\n  if (isMultiple(to)) {\n    // oneToMany\n    many = to;\n    one = from;\n  }\n\n  function morphOneBatch(batch, fromIsMany, animateIndex, animateCount, forceManyOne) {\n    var batchMany = batch.many;\n    var batchOne = batch.one;\n\n    if (batchMany.length === 1 && !forceManyOne) {\n      // Is one to one\n      var batchFrom = fromIsMany ? batchMany[0] : batchOne;\n      var batchTo = fromIsMany ? batchOne : batchMany[0];\n\n      if (isCombineMorphing(batchFrom)) {\n        // Keep doing combine animation.\n        morphOneBatch({\n          many: [batchFrom],\n          one: batchTo\n        }, true, animateIndex, animateCount, true);\n      } else {\n        var individualAnimationCfg = animationDelay ? defaults({\n          delay: animationDelay(animateIndex, animateCount)\n        }, animationCfg) : animationCfg;\n        morphPath(batchFrom, batchTo, individualAnimationCfg);\n        animateOtherProps(batchFrom, batchTo, batchFrom, batchTo, individualAnimationCfg);\n      }\n    } else {\n      var separateAnimationCfg = defaults({\n        dividePath: pathDividers[divideShape],\n        individualDelay: animationDelay && function (idx, count, fromPath, toPath) {\n          return animationDelay(idx + animateIndex, animateCount);\n        }\n      }, animationCfg);\n\n      var _a = fromIsMany ? combineMorph(batchMany, batchOne, separateAnimationCfg) : separateMorph(batchOne, batchMany, separateAnimationCfg),\n          fromIndividuals = _a.fromIndividuals,\n          toIndividuals = _a.toIndividuals;\n\n      var count = fromIndividuals.length;\n\n      for (var k = 0; k < count; k++) {\n        var individualAnimationCfg = animationDelay ? defaults({\n          delay: animationDelay(k, count)\n        }, animationCfg) : animationCfg;\n        animateOtherProps(fromIndividuals[k], toIndividuals[k], fromIsMany ? batchMany[k] : batch.one, fromIsMany ? batch.one : batchMany[k], individualAnimationCfg);\n      }\n    }\n  }\n\n  var fromIsMany = many ? many === from // Is one to one. If the path number not match. also needs do merge and separate morphing.\n  : from.length > to.length;\n  var morphBatches = many ? prepareMorphBatches(one, many) : prepareMorphBatches(fromIsMany ? to : from, [fromIsMany ? from : to]);\n  var animateCount = 0;\n\n  for (var i = 0; i < morphBatches.length; i++) {\n    animateCount += morphBatches[i].many.length;\n  }\n\n  var animateIndex = 0;\n\n  for (var i = 0; i < morphBatches.length; i++) {\n    morphOneBatch(morphBatches[i], fromIsMany, animateIndex, animateCount);\n    animateIndex += morphBatches[i].many.length;\n  }\n}\nexport function getPathList(elements) {\n  if (!elements) {\n    return [];\n  }\n\n  if (isArray(elements)) {\n    var pathList_1 = [];\n\n    for (var i = 0; i < elements.length; i++) {\n      pathList_1.push(getPathList(elements[i]));\n    }\n\n    return pathList_1;\n  }\n\n  var pathList = [];\n  elements.traverse(function (el) {\n    if (el instanceof Path && !el.disableMorphing && !el.invisible && !el.ignore) {\n      pathList.push(el);\n    }\n  });\n  return pathList;\n}","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Universal transitions that can animate between any shapes(series) and any properties in any amounts.\nimport { SERIES_UNIVERSAL_TRANSITION_PROP } from '../model/Series.js';\nimport { createHashMap, each, map, filter, isArray, extend } from 'zrender/lib/core/util.js';\nimport { applyMorphAnimation, getPathList } from './morphTransitionHelper.js';\nimport Path from 'zrender/lib/graphic/Path.js';\nimport { initProps } from '../util/graphic.js';\nimport DataDiffer from '../data/DataDiffer.js';\nimport { makeInner, normalizeToArray } from '../util/model.js';\nimport { warn } from '../util/log.js';\nimport { getAnimationConfig, getOldStyle } from './basicTransition.js';\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\nvar DATA_COUNT_THRESHOLD = 1e4;\n;\nvar getUniversalTransitionGlobalStore = makeInner();\nfunction getGroupIdDimension(data) {\n  var dimensions = data.dimensions;\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimInfo = data.getDimensionInfo(dimensions[i]);\n    if (dimInfo && dimInfo.otherDims.itemGroupId === 0) {\n      return dimensions[i];\n    }\n  }\n}\nfunction flattenDataDiffItems(list) {\n  var items = [];\n  each(list, function (seriesInfo) {\n    var data = seriesInfo.data;\n    if (data.count() > DATA_COUNT_THRESHOLD) {\n      if (process.env.NODE_ENV !== 'production') {\n        warn('Universal transition is disabled on large data > 10k.');\n      }\n      return;\n    }\n    var indices = data.getIndices();\n    var groupDim = getGroupIdDimension(data);\n    for (var dataIndex = 0; dataIndex < indices.length; dataIndex++) {\n      items.push({\n        dataGroupId: seriesInfo.dataGroupId,\n        data: data,\n        dim: seriesInfo.dim || groupDim,\n        divide: seriesInfo.divide,\n        dataIndex: dataIndex\n      });\n    }\n  });\n  return items;\n}\nfunction fadeInElement(newEl, newSeries, newIndex) {\n  newEl.traverse(function (el) {\n    if (el instanceof Path) {\n      // TODO use fade in animation for target element.\n      initProps(el, {\n        style: {\n          opacity: 0\n        }\n      }, newSeries, {\n        dataIndex: newIndex,\n        isFrom: true\n      });\n    }\n  });\n}\nfunction removeEl(el) {\n  if (el.parent) {\n    // Bake parent transform to element.\n    // So it can still have proper transform to transition after it's removed.\n    var computedTransform = el.getComputedTransform();\n    el.setLocalTransform(computedTransform);\n    el.parent.remove(el);\n  }\n}\nfunction stopAnimation(el) {\n  el.stopAnimation();\n  if (el.isGroup) {\n    el.traverse(function (child) {\n      child.stopAnimation();\n    });\n  }\n}\nfunction animateElementStyles(el, dataIndex, seriesModel) {\n  var animationConfig = getAnimationConfig('update', seriesModel, dataIndex);\n  animationConfig && el.traverse(function (child) {\n    if (child instanceof Displayable) {\n      var oldStyle = getOldStyle(child);\n      if (oldStyle) {\n        child.animateFrom({\n          style: oldStyle\n        }, animationConfig);\n      }\n    }\n  });\n}\nfunction isAllIdSame(oldDiffItems, newDiffItems) {\n  var len = oldDiffItems.length;\n  if (len !== newDiffItems.length) {\n    return false;\n  }\n  for (var i = 0; i < len; i++) {\n    var oldItem = oldDiffItems[i];\n    var newItem = newDiffItems[i];\n    if (oldItem.data.getId(oldItem.dataIndex) !== newItem.data.getId(newItem.dataIndex)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction transitionBetween(oldList, newList, api) {\n  var oldDiffItems = flattenDataDiffItems(oldList);\n  var newDiffItems = flattenDataDiffItems(newList);\n  function updateMorphingPathProps(from, to, rawFrom, rawTo, animationCfg) {\n    if (rawFrom || from) {\n      to.animateFrom({\n        style: rawFrom && rawFrom !== from ?\n        // dividingMethod like clone may override the style(opacity)\n        // So extend it to raw style.\n        extend(extend({}, rawFrom.style), from.style) : from.style\n      }, animationCfg);\n    }\n  }\n  function findKeyDim(items) {\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].dim) {\n        return items[i].dim;\n      }\n    }\n  }\n  var oldKeyDim = findKeyDim(oldDiffItems);\n  var newKeyDim = findKeyDim(newDiffItems);\n  var hasMorphAnimation = false;\n  function createKeyGetter(isOld, onlyGetId) {\n    return function (diffItem) {\n      var data = diffItem.data;\n      var dataIndex = diffItem.dataIndex; // TODO if specified dim\n\n      if (onlyGetId) {\n        return data.getId(dataIndex);\n      } // Use group id as transition key by default.\n      // So we can achieve multiple to multiple animation like drilldown / up naturally.\n      // If group id not exits. Use id instead. If so, only one to one transition will be applied.\n\n      var dataGroupId = diffItem.dataGroupId; // If specified key dimension(itemGroupId by default). Use this same dimension from other data.\n      // PENDING: If only use key dimension of newData.\n\n      var keyDim = isOld ? oldKeyDim || newKeyDim : newKeyDim || oldKeyDim;\n      var dimInfo = keyDim && data.getDimensionInfo(keyDim);\n      var dimOrdinalMeta = dimInfo && dimInfo.ordinalMeta;\n      if (dimInfo) {\n        // Get from encode.itemGroupId.\n        var key = data.get(dimInfo.name, dataIndex);\n        if (dimOrdinalMeta) {\n          return dimOrdinalMeta.categories[key] || key + '';\n        }\n        return key + '';\n      } // Get groupId from raw item. { groupId: '' }\n\n      var itemVal = data.getRawDataItem(dataIndex);\n      if (itemVal && itemVal.groupId) {\n        return itemVal.groupId + '';\n      }\n      return dataGroupId || data.getId(dataIndex);\n    };\n  } // Use id if it's very likely to be an one to one animation\n  // It's more robust than groupId\n  // TODO Check if key dimension is specified.\n\n  var useId = isAllIdSame(oldDiffItems, newDiffItems);\n  var isElementStillInChart = {};\n  if (!useId) {\n    // We may have different diff strategy with basicTransition if we use other dimension as key.\n    // If so, we can't simply check if oldEl is same with newEl. We need a map to check if oldEl is still being used in the new chart.\n    // We can't use the elements that already being morphed. Let it keep it's original basic transition.\n    for (var i = 0; i < newDiffItems.length; i++) {\n      var newItem = newDiffItems[i];\n      var el = newItem.data.getItemGraphicEl(newItem.dataIndex);\n      if (el) {\n        isElementStillInChart[el.id] = true;\n      }\n    }\n  }\n  function updateOneToOne(newIndex, oldIndex) {\n    var oldItem = oldDiffItems[oldIndex];\n    var newItem = newDiffItems[newIndex];\n    var newSeries = newItem.data.hostModel; // TODO Mark this elements is morphed and don't morph them anymore\n\n    var oldEl = oldItem.data.getItemGraphicEl(oldItem.dataIndex);\n    var newEl = newItem.data.getItemGraphicEl(newItem.dataIndex); // Can't handle same elements.\n\n    if (oldEl === newEl) {\n      newEl && animateElementStyles(newEl, newItem.dataIndex, newSeries);\n      return;\n    }\n    if (\n    // We can't use the elements that already being morphed\n    oldEl && isElementStillInChart[oldEl.id]) {\n      return;\n    }\n    if (newEl) {\n      // TODO: If keep animating the group in case\n      // some of the elements don't want to be morphed.\n      // TODO Label?\n      stopAnimation(newEl);\n      if (oldEl) {\n        stopAnimation(oldEl); // If old element is doing leaving animation. stop it and remove it immediately.\n\n        removeEl(oldEl);\n        hasMorphAnimation = true;\n        applyMorphAnimation(getPathList(oldEl), getPathList(newEl), newItem.divide, newSeries, newIndex, updateMorphingPathProps);\n      } else {\n        fadeInElement(newEl, newSeries, newIndex);\n      }\n    } // else keep oldEl leaving animation.\n  }\n\n  new DataDiffer(oldDiffItems, newDiffItems, createKeyGetter(true, useId), createKeyGetter(false, useId), null, 'multiple').update(updateOneToOne).updateManyToOne(function (newIndex, oldIndices) {\n    var newItem = newDiffItems[newIndex];\n    var newData = newItem.data;\n    var newSeries = newData.hostModel;\n    var newEl = newData.getItemGraphicEl(newItem.dataIndex);\n    var oldElsList = filter(map(oldIndices, function (idx) {\n      return oldDiffItems[idx].data.getItemGraphicEl(oldDiffItems[idx].dataIndex);\n    }), function (oldEl) {\n      return oldEl && oldEl !== newEl && !isElementStillInChart[oldEl.id];\n    });\n    if (newEl) {\n      stopAnimation(newEl);\n      if (oldElsList.length) {\n        // If old element is doing leaving animation. stop it and remove it immediately.\n        each(oldElsList, function (oldEl) {\n          stopAnimation(oldEl);\n          removeEl(oldEl);\n        });\n        hasMorphAnimation = true;\n        applyMorphAnimation(getPathList(oldElsList), getPathList(newEl), newItem.divide, newSeries, newIndex, updateMorphingPathProps);\n      } else {\n        fadeInElement(newEl, newSeries, newItem.dataIndex);\n      }\n    } // else keep oldEl leaving animation.\n  }).updateOneToMany(function (newIndices, oldIndex) {\n    var oldItem = oldDiffItems[oldIndex];\n    var oldEl = oldItem.data.getItemGraphicEl(oldItem.dataIndex); // We can't use the elements that already being morphed\n\n    if (oldEl && isElementStillInChart[oldEl.id]) {\n      return;\n    }\n    var newElsList = filter(map(newIndices, function (idx) {\n      return newDiffItems[idx].data.getItemGraphicEl(newDiffItems[idx].dataIndex);\n    }), function (el) {\n      return el && el !== oldEl;\n    });\n    var newSeris = newDiffItems[newIndices[0]].data.hostModel;\n    if (newElsList.length) {\n      each(newElsList, function (newEl) {\n        return stopAnimation(newEl);\n      });\n      if (oldEl) {\n        stopAnimation(oldEl); // If old element is doing leaving animation. stop it and remove it immediately.\n\n        removeEl(oldEl);\n        hasMorphAnimation = true;\n        applyMorphAnimation(getPathList(oldEl), getPathList(newElsList), oldItem.divide,\n        // Use divide on old.\n        newSeris, newIndices[0], updateMorphingPathProps);\n      } else {\n        each(newElsList, function (newEl) {\n          return fadeInElement(newEl, newSeris, newIndices[0]);\n        });\n      }\n    } // else keep oldEl leaving animation.\n  }).updateManyToMany(function (newIndices, oldIndices) {\n    // If two data are same and both have groupId.\n    // Normally they should be diff by id.\n    new DataDiffer(oldIndices, newIndices, function (rawIdx) {\n      return oldDiffItems[rawIdx].data.getId(oldDiffItems[rawIdx].dataIndex);\n    }, function (rawIdx) {\n      return newDiffItems[rawIdx].data.getId(newDiffItems[rawIdx].dataIndex);\n    }).update(function (newIndex, oldIndex) {\n      // Use the original index\n      updateOneToOne(newIndices[newIndex], oldIndices[oldIndex]);\n    }).execute();\n  }).execute();\n  if (hasMorphAnimation) {\n    each(newList, function (_a) {\n      var data = _a.data;\n      var seriesModel = data.hostModel;\n      var view = seriesModel && api.getViewOfSeriesModel(seriesModel);\n      var animationCfg = getAnimationConfig('update', seriesModel, 0); // use 0 index.\n\n      if (view && seriesModel.isAnimationEnabled() && animationCfg && animationCfg.duration > 0) {\n        view.group.traverse(function (el) {\n          if (el instanceof Path && !el.animators.length) {\n            // We can't accept there still exists element that has no animation\n            // if universalTransition is enabled\n            el.animateFrom({\n              style: {\n                opacity: 0\n              }\n            }, animationCfg);\n          }\n        });\n      }\n    });\n  }\n}\nfunction getSeriesTransitionKey(series) {\n  var seriesKey = series.getModel('universalTransition').get('seriesKey');\n  if (!seriesKey) {\n    // Use series id by default.\n    return series.id;\n  }\n  return seriesKey;\n}\nfunction convertArraySeriesKeyToString(seriesKey) {\n  if (isArray(seriesKey)) {\n    // Order independent.\n    return seriesKey.sort().join(',');\n  }\n  return seriesKey;\n}\nfunction getDivideShapeFromData(data) {\n  if (data.hostModel) {\n    return data.hostModel.getModel('universalTransition').get('divideShape');\n  }\n}\nfunction findTransitionSeriesBatches(globalStore, params) {\n  var updateBatches = createHashMap();\n  var oldDataMap = createHashMap(); // Map that only store key in array seriesKey.\n  // Which is used to query the old data when transition from one to multiple series.\n\n  var oldDataMapForSplit = createHashMap();\n  each(globalStore.oldSeries, function (series, idx) {\n    var oldDataGroupId = globalStore.oldDataGroupIds[idx];\n    var oldData = globalStore.oldData[idx];\n    var transitionKey = getSeriesTransitionKey(series);\n    var transitionKeyStr = convertArraySeriesKeyToString(transitionKey);\n    oldDataMap.set(transitionKeyStr, {\n      dataGroupId: oldDataGroupId,\n      data: oldData\n    });\n    if (isArray(transitionKey)) {\n      // Same key can't in different array seriesKey.\n      each(transitionKey, function (key) {\n        oldDataMapForSplit.set(key, {\n          key: transitionKeyStr,\n          dataGroupId: oldDataGroupId,\n          data: oldData\n        });\n      });\n    }\n  });\n  function checkTransitionSeriesKeyDuplicated(transitionKeyStr) {\n    if (updateBatches.get(transitionKeyStr)) {\n      warn(\"Duplicated seriesKey in universalTransition \" + transitionKeyStr);\n    }\n  }\n  each(params.updatedSeries, function (series) {\n    if (series.isUniversalTransitionEnabled() && series.isAnimationEnabled()) {\n      var newDataGroupId = series.get('dataGroupId');\n      var newData = series.getData();\n      var transitionKey = getSeriesTransitionKey(series);\n      var transitionKeyStr = convertArraySeriesKeyToString(transitionKey); // Only transition between series with same id.\n\n      var oldData = oldDataMap.get(transitionKeyStr); // string transition key is the best match.\n\n      if (oldData) {\n        if (process.env.NODE_ENV !== 'production') {\n          checkTransitionSeriesKeyDuplicated(transitionKeyStr);\n        } // TODO check if data is same?\n\n        updateBatches.set(transitionKeyStr, {\n          oldSeries: [{\n            dataGroupId: oldData.dataGroupId,\n            divide: getDivideShapeFromData(oldData.data),\n            data: oldData.data\n          }],\n          newSeries: [{\n            dataGroupId: newDataGroupId,\n            divide: getDivideShapeFromData(newData),\n            data: newData\n          }]\n        });\n      } else {\n        // Transition from multiple series.\n        if (isArray(transitionKey)) {\n          if (process.env.NODE_ENV !== 'production') {\n            checkTransitionSeriesKeyDuplicated(transitionKeyStr);\n          }\n          var oldSeries_1 = [];\n          each(transitionKey, function (key) {\n            var oldData = oldDataMap.get(key);\n            if (oldData.data) {\n              oldSeries_1.push({\n                dataGroupId: oldData.dataGroupId,\n                divide: getDivideShapeFromData(oldData.data),\n                data: oldData.data\n              });\n            }\n          });\n          if (oldSeries_1.length) {\n            updateBatches.set(transitionKeyStr, {\n              oldSeries: oldSeries_1,\n              newSeries: [{\n                dataGroupId: newDataGroupId,\n                data: newData,\n                divide: getDivideShapeFromData(newData)\n              }]\n            });\n          }\n        } else {\n          // Try transition to multiple series.\n          var oldData_1 = oldDataMapForSplit.get(transitionKey);\n          if (oldData_1) {\n            var batch = updateBatches.get(oldData_1.key);\n            if (!batch) {\n              batch = {\n                oldSeries: [{\n                  dataGroupId: oldData_1.dataGroupId,\n                  data: oldData_1.data,\n                  divide: getDivideShapeFromData(oldData_1.data)\n                }],\n                newSeries: []\n              };\n              updateBatches.set(oldData_1.key, batch);\n            }\n            batch.newSeries.push({\n              dataGroupId: newDataGroupId,\n              data: newData,\n              divide: getDivideShapeFromData(newData)\n            });\n          }\n        }\n      }\n    }\n  });\n  return updateBatches;\n}\nfunction querySeries(series, finder) {\n  for (var i = 0; i < series.length; i++) {\n    var found = finder.seriesIndex != null && finder.seriesIndex === series[i].seriesIndex || finder.seriesId != null && finder.seriesId === series[i].id;\n    if (found) {\n      return i;\n    }\n  }\n}\nfunction transitionSeriesFromOpt(transitionOpt, globalStore, params, api) {\n  var from = [];\n  var to = [];\n  each(normalizeToArray(transitionOpt.from), function (finder) {\n    var idx = querySeries(globalStore.oldSeries, finder);\n    if (idx >= 0) {\n      from.push({\n        dataGroupId: globalStore.oldDataGroupIds[idx],\n        data: globalStore.oldData[idx],\n        // TODO can specify divideShape in transition.\n        divide: getDivideShapeFromData(globalStore.oldData[idx]),\n        dim: finder.dimension\n      });\n    }\n  });\n  each(normalizeToArray(transitionOpt.to), function (finder) {\n    var idx = querySeries(params.updatedSeries, finder);\n    if (idx >= 0) {\n      var data = params.updatedSeries[idx].getData();\n      to.push({\n        dataGroupId: globalStore.oldDataGroupIds[idx],\n        data: data,\n        divide: getDivideShapeFromData(data),\n        dim: finder.dimension\n      });\n    }\n  });\n  if (from.length > 0 && to.length > 0) {\n    transitionBetween(from, to, api);\n  }\n}\nexport function installUniversalTransition(registers) {\n  registers.registerUpdateLifecycle('series:beforeupdate', function (ecMOdel, api, params) {\n    each(normalizeToArray(params.seriesTransition), function (transOpt) {\n      each(normalizeToArray(transOpt.to), function (finder) {\n        var series = params.updatedSeries;\n        for (var i = 0; i < series.length; i++) {\n          if (finder.seriesIndex != null && finder.seriesIndex === series[i].seriesIndex || finder.seriesId != null && finder.seriesId === series[i].id) {\n            series[i][SERIES_UNIVERSAL_TRANSITION_PROP] = true;\n          }\n        }\n      });\n    });\n  });\n  registers.registerUpdateLifecycle('series:transition', function (ecModel, api, params) {\n    // TODO api provide an namespace that can save stuff per instance\n    var globalStore = getUniversalTransitionGlobalStore(api); // TODO multiple to multiple series.\n\n    if (globalStore.oldSeries && params.updatedSeries && params.optionChanged) {\n      // Use give transition config if its' give;\n      var transitionOpt = params.seriesTransition;\n      if (transitionOpt) {\n        each(normalizeToArray(transitionOpt), function (opt) {\n          transitionSeriesFromOpt(opt, globalStore, params, api);\n        });\n      } else {\n        // Else guess from series based on transition series key.\n        var updateBatches_1 = findTransitionSeriesBatches(globalStore, params);\n        each(updateBatches_1.keys(), function (key) {\n          var batch = updateBatches_1.get(key);\n          transitionBetween(batch.oldSeries, batch.newSeries, api);\n        });\n      } // Reset\n\n      each(params.updatedSeries, function (series) {\n        // Reset;\n        if (series[SERIES_UNIVERSAL_TRANSITION_PROP]) {\n          series[SERIES_UNIVERSAL_TRANSITION_PROP] = false;\n        }\n      });\n    } // Save all series of current update. Not only the updated one.\n\n    var allSeries = ecModel.getSeries();\n    var savedSeries = globalStore.oldSeries = [];\n    var savedDataGroupIds = globalStore.oldDataGroupIds = [];\n    var savedData = globalStore.oldData = [];\n    for (var i = 0; i < allSeries.length; i++) {\n      var data = allSeries[i].getData(); // Only save the data that can have transition.\n      // Avoid large data costing too much extra memory\n\n      if (data.count() < DATA_COUNT_THRESHOLD) {\n        savedSeries.push(allSeries[i]);\n        savedDataGroupIds.push(allSeries[i].get('dataGroupId'));\n        savedData.push(data);\n      }\n    }\n  });\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from './lib/extension.js';\nexport * from './lib/export/core.js'; // ----------------------------------------------\n// All of the modules that are allowed to be\n// imported are listed below.\n//\n// Users MUST NOT import other modules that are\n// not included in this list.\n// ----------------------------------------------\n\nimport { SVGRenderer, CanvasRenderer } from './lib/export/renderers.js';\nimport { LineChart, BarChart, PieChart, ScatterChart, RadarChart, MapChart, TreeChart, TreemapChart, GraphChart, GaugeChart, FunnelChart, ParallelChart, SankeyChart, BoxplotChart, CandlestickChart, EffectScatterChart, LinesChart, HeatmapChart, PictorialBarChart, ThemeRiverChart, SunburstChart, CustomChart } from './lib/export/charts.js';\nimport { GridComponent, PolarComponent, GeoComponent, SingleAxisComponent, ParallelComponent, CalendarComponent, GraphicComponent, ToolboxComponent, TooltipComponent, AxisPointerComponent, BrushComponent, TitleComponent, TimelineComponent, MarkPointComponent, MarkLineComponent, MarkAreaComponent, LegendComponent, DataZoomComponent, DataZoomInsideComponent, DataZoomSliderComponent, VisualMapComponent, VisualMapContinuousComponent, VisualMapPiecewiseComponent, AriaComponent, DatasetComponent, TransformComponent } from './lib/export/components.js';\nimport { UniversalTransition, LabelLayout } from './lib/export/features.js'; // -----------------\n// Render engines\n// -----------------\n// Render via Canvas.\n// echarts.init(dom, null, { renderer: 'canvas' })\n\nuse([CanvasRenderer]); // Render via SVG.\n// echarts.init(dom, null, { renderer: 'svg' })\n\nuse([SVGRenderer]); // ----------------\n// Charts (series)\n// ----------------\n// All of the series types, for example:\n// chart.setOption({\n//     series: [{\n//         type: 'line' // or 'bar', 'pie', ...\n//     }]\n// });\n\nuse([LineChart, BarChart, PieChart, ScatterChart, RadarChart, MapChart, TreeChart, TreemapChart, GraphChart, GaugeChart, FunnelChart, ParallelChart, SankeyChart, BoxplotChart, CandlestickChart, EffectScatterChart, LinesChart, HeatmapChart, PictorialBarChart, ThemeRiverChart, SunburstChart, CustomChart]); // -------------------\n// Coordinate systems\n// -------------------\n// All of the axis modules have been included in the\n// coordinate system module below, do not need to\n// make extra import.\n// `cartesian` coordinate system. For some historical\n// reasons, it is named as grid, for example:\n// chart.setOption({\n//     grid: {...},\n//     xAxis: {...},\n//     yAxis: {...},\n//     series: [{...}]\n// });\n\nuse(GridComponent); // `polar` coordinate system, for example:\n// chart.setOption({\n//     polar: {...},\n//     radiusAxis: {...},\n//     angleAxis: {...},\n//     series: [{\n//         coordinateSystem: 'polar'\n//     }]\n// });\n\nuse(PolarComponent); // `geo` coordinate system, for example:\n// chart.setOption({\n//     geo: {...},\n//     series: [{\n//         coordinateSystem: 'geo'\n//     }]\n// });\n\nuse(GeoComponent); // `singleAxis` coordinate system (notice, it is a coordinate system\n// with only one axis, work for chart like theme river), for example:\n// chart.setOption({\n//     singleAxis: {...}\n//     series: [{type: 'themeRiver', ...}]\n// });\n\nuse(SingleAxisComponent); // `parallel` coordinate system, only work for parallel series, for example:\n// chart.setOption({\n//     parallel: {...},\n//     parallelAxis: [{...}, ...],\n//     series: [{\n//         type: 'parallel'\n//     }]\n// });\n\nuse(ParallelComponent); // `calendar` coordinate system. for example,\n// chart.setOptionp({\n//     calendar: {...},\n//     series: [{\n//         coordinateSystem: 'calendar'\n//     }]\n// );\n\nuse(CalendarComponent); // ------------------\n// Other components\n// ------------------\n// `graphic` component, for example:\n// chart.setOption({\n//     graphic: {...}\n// });\n\nuse(GraphicComponent); // `toolbox` component, for example:\n// chart.setOption({\n//     toolbox: {...}\n// });\n\nuse(ToolboxComponent); // `tooltip` component, for example:\n// chart.setOption({\n//     tooltip: {...}\n// });\n\nuse(TooltipComponent); // `axisPointer` component, for example:\n// chart.setOption({\n//     tooltip: {axisPointer: {...}, ...}\n// });\n// Or\n// chart.setOption({\n//     axisPointer: {...}\n// });\n\nuse(AxisPointerComponent); // `brush` component, for example:\n// chart.setOption({\n//     brush: {...}\n// });\n// Or\n// chart.setOption({\n//     tooltip: {feature: {brush: {...}}\n// })\n\nuse(BrushComponent); // `title` component, for example:\n// chart.setOption({\n//     title: {...}\n// });\n\nuse(TitleComponent); // `timeline` component, for example:\n// chart.setOption({\n//     timeline: {...}\n// });\n\nuse(TimelineComponent); // `markPoint` component, for example:\n// chart.setOption({\n//     series: [{markPoint: {...}}]\n// });\n\nuse(MarkPointComponent); // `markLine` component, for example:\n// chart.setOption({\n//     series: [{markLine: {...}}]\n// });\n\nuse(MarkLineComponent); // `markArea` component, for example:\n// chart.setOption({\n//     series: [{markArea: {...}}]\n// });\n\nuse(MarkAreaComponent); // `legend` component not scrollable. for example:\n// chart.setOption({\n//     legend: {...}\n// });\n\nuse(LegendComponent); // `dataZoom` component including both `dataZoomInside` and `dataZoomSlider`.\n\nuse(DataZoomComponent); // `dataZoom` component providing drag, pinch, wheel behaviors\n// inside coodinate system, for example:\n// chart.setOption({\n//     dataZoom: {type: 'inside'}\n// });\n\nuse(DataZoomInsideComponent); // `dataZoom` component providing a slider bar, for example:\n// chart.setOption({\n//     dataZoom: {type: 'slider'}\n// });\n\nuse(DataZoomSliderComponent); // `visualMap` component including both `visualMapContinuous` and `visualMapPiecewise`.\n\nuse(VisualMapComponent); // `visualMap` component providing continuous bar, for example:\n// chart.setOption({\n//     visualMap: {type: 'continuous'}\n// });\n\nuse(VisualMapContinuousComponent); // `visualMap` component providing pieces bar, for example:\n// chart.setOption({\n//     visualMap: {type: 'piecewise'}\n// });\n\nuse(VisualMapPiecewiseComponent); // `aria` component providing aria, for example:\n// chart.setOption({\n//     aria: {...}\n// });\n\nuse(AriaComponent); // dataset transform\n// chart.setOption({\n//     dataset: {\n//          transform: []\n//     }\n// });\n\nuse(TransformComponent);\nuse(DatasetComponent); // universal transition\n// chart.setOption({\n//     series: {\n//         universalTransition: { enabled: true }\n//     }\n// })\n\nuse(UniversalTransition); // label layout\n// chart.setOption({\n//     series: {\n//         labelLayout: { hideOverlap: true }\n//     }\n// })\n\nuse(LabelLayout);","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction getCenterCoord(view, point) {\n  // Use projected coord as center because it's linear.\n  return view.pointToProjected ? view.pointToProjected(point) : view.pointToData(point);\n}\nexport function updateCenterAndZoom(view, payload, zoomLimit, api) {\n  var previousZoom = view.getZoom();\n  var center = view.getCenter();\n  var zoom = payload.zoom;\n  var point = view.projectedToPoint ? view.projectedToPoint(center) : view.dataToPoint(center);\n  if (payload.dx != null && payload.dy != null) {\n    point[0] -= payload.dx;\n    point[1] -= payload.dy;\n    view.setCenter(getCenterCoord(view, point), api);\n  }\n  if (zoom != null) {\n    if (zoomLimit) {\n      var zoomMin = zoomLimit.min || 0;\n      var zoomMax = zoomLimit.max || Infinity;\n      zoom = Math.max(Math.min(previousZoom * zoom, zoomMax), zoomMin) / previousZoom;\n    } // Zoom on given point(originX, originY)\n\n    view.scaleX *= zoom;\n    view.scaleY *= zoom;\n    var fixX = (payload.originX - view.x) * (zoom - 1);\n    var fixY = (payload.originY - view.y) * (zoom - 1);\n    view.x -= fixX;\n    view.y -= fixY;\n    view.updateTransform(); // Get the new center\n\n    view.setCenter(getCenterCoord(view, point), api);\n    view.setZoom(zoom * previousZoom);\n  }\n  return {\n    center: view.getCenter(),\n    zoom: view.getZoom()\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isFunction, isObject, retrieve2 } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../util/model.js'; // Stored properties for further transition.\n\nexport var transitionStore = makeInner();\n/**\n * Return null if animation is disabled.\n */\n\nexport function getAnimationConfig(animationType, animatableModel, dataIndex, // Extra opts can override the option in animatable model.\nextraOpts, // TODO It's only for pictorial bar now.\nextraDelayParams) {\n  var animationPayload; // Check if there is global animation configuration from dataZoom/resize can override the config in option.\n  // If animation is enabled. Will use this animation config in payload.\n  // If animation is disabled. Just ignore it.\n\n  if (animatableModel && animatableModel.ecModel) {\n    var updatePayload = animatableModel.ecModel.getUpdatePayload();\n    animationPayload = updatePayload && updatePayload.animation;\n  }\n\n  var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\n  var isUpdate = animationType === 'update';\n\n  if (animationEnabled) {\n    var duration = void 0;\n    var easing = void 0;\n    var delay = void 0;\n\n    if (extraOpts) {\n      duration = retrieve2(extraOpts.duration, 200);\n      easing = retrieve2(extraOpts.easing, 'cubicOut');\n      delay = 0;\n    } else {\n      duration = animatableModel.getShallow(isUpdate ? 'animationDurationUpdate' : 'animationDuration');\n      easing = animatableModel.getShallow(isUpdate ? 'animationEasingUpdate' : 'animationEasing');\n      delay = animatableModel.getShallow(isUpdate ? 'animationDelayUpdate' : 'animationDelay');\n    } // animation from payload has highest priority.\n\n\n    if (animationPayload) {\n      animationPayload.duration != null && (duration = animationPayload.duration);\n      animationPayload.easing != null && (easing = animationPayload.easing);\n      animationPayload.delay != null && (delay = animationPayload.delay);\n    }\n\n    if (isFunction(delay)) {\n      delay = delay(dataIndex, extraDelayParams);\n    }\n\n    if (isFunction(duration)) {\n      duration = duration(dataIndex);\n    }\n\n    var config = {\n      duration: duration || 0,\n      delay: delay,\n      easing: easing\n    };\n    return config;\n  } else {\n    return null;\n  }\n}\n\nfunction animateOrSetProps(animationType, el, props, animatableModel, dataIndex, cb, during) {\n  var isFrom = false;\n  var removeOpt;\n\n  if (isFunction(dataIndex)) {\n    during = cb;\n    cb = dataIndex;\n    dataIndex = null;\n  } else if (isObject(dataIndex)) {\n    cb = dataIndex.cb;\n    during = dataIndex.during;\n    isFrom = dataIndex.isFrom;\n    removeOpt = dataIndex.removeOpt;\n    dataIndex = dataIndex.dataIndex;\n  }\n\n  var isRemove = animationType === 'leave';\n\n  if (!isRemove) {\n    // Must stop the remove animation.\n    el.stopAnimation('leave');\n  }\n\n  var animationConfig = getAnimationConfig(animationType, animatableModel, dataIndex, isRemove ? removeOpt || {} : null, animatableModel && animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);\n\n  if (animationConfig && animationConfig.duration > 0) {\n    var duration = animationConfig.duration;\n    var animationDelay = animationConfig.delay;\n    var animationEasing = animationConfig.easing;\n    var animateConfig = {\n      duration: duration,\n      delay: animationDelay || 0,\n      easing: animationEasing,\n      done: cb,\n      force: !!cb || !!during,\n      // Set to final state in update/init animation.\n      // So the post processing based on the path shape can be done correctly.\n      setToFinal: !isRemove,\n      scope: animationType,\n      during: during\n    };\n    isFrom ? el.animateFrom(props, animateConfig) : el.animateTo(props, animateConfig);\n  } else {\n    el.stopAnimation(); // If `isFrom`, the props is the \"from\" props.\n\n    !isFrom && el.attr(props); // Call during at least once.\n\n    during && during(1);\n    cb && cb();\n  }\n}\n/**\n * Update graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n * @example\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\n *     // Or\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, function () { console.log('Animation done!'); });\n */\n\n\nfunction updateProps(el, props, // TODO: TYPE AnimatableModel\nanimatableModel, dataIndex, cb, during) {\n  animateOrSetProps('update', el, props, animatableModel, dataIndex, cb, during);\n}\n\nexport { updateProps };\n/**\n * Init graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n */\n\nexport function initProps(el, props, animatableModel, dataIndex, cb, during) {\n  animateOrSetProps('enter', el, props, animatableModel, dataIndex, cb, during);\n}\n/**\n * If element is removed.\n * It can determine if element is having remove animation.\n */\n\nexport function isElementRemoved(el) {\n  if (!el.__zr) {\n    return true;\n  }\n\n  for (var i = 0; i < el.animators.length; i++) {\n    var animator = el.animators[i];\n\n    if (animator.scope === 'leave') {\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n * Remove graphic element\n */\n\nexport function removeElement(el, props, animatableModel, dataIndex, cb, during) {\n  // Don't do remove animation twice.\n  if (isElementRemoved(el)) {\n    return;\n  }\n\n  animateOrSetProps('leave', el, props, animatableModel, dataIndex, cb, during);\n}\n\nfunction fadeOutDisplayable(el, animatableModel, dataIndex, done) {\n  el.removeTextContent();\n  el.removeTextGuideLine();\n  removeElement(el, {\n    style: {\n      opacity: 0\n    }\n  }, animatableModel, dataIndex, done);\n}\n\nexport function removeElementWithFadeOut(el, animatableModel, dataIndex) {\n  function doRemove() {\n    el.parent && el.parent.remove(el);\n  } // Hide label and labelLine first\n  // TODO Also use fade out animation?\n\n\n  if (!el.isGroup) {\n    fadeOutDisplayable(el, animatableModel, dataIndex, doRemove);\n  } else {\n    el.traverse(function (disp) {\n      if (!disp.isGroup) {\n        // Can invoke doRemove multiple times.\n        fadeOutDisplayable(disp, animatableModel, dataIndex, doRemove);\n      }\n    });\n  }\n}\n/**\n * Save old style for style transition in universalTransition module.\n * It's used when element will be reused in each render.\n * For chart like map, heatmap, which will always create new element.\n * We don't need to save this because universalTransition can get old style from the old element\n */\n\nexport function saveOldStyle(el) {\n  transitionStore(el).oldStyle = el.style;\n}\nexport function getOldStyle(el) {\n  return transitionStore(el).oldStyle;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { keys, filter, each, isArray, indexOf } from 'zrender/lib/core/util.js';\nimport { ELEMENT_ANIMATABLE_PROPS } from './customGraphicTransition.js';\nimport { getAnimationConfig } from './basicTransition.js';\nimport { warn } from '../util/log.js';\nimport { makeInner } from '../util/model.js';\nvar getStateToRestore = makeInner();\nvar KEYFRAME_EXCLUDE_KEYS = ['percent', 'easing', 'shape', 'style', 'extra'];\n/**\n * Stop previous keyframe animation and restore the attributes.\n * Avoid new keyframe animation starts with wrong internal state when the percent: 0 is not set.\n */\n\nexport function stopPreviousKeyframeAnimationAndRestore(el) {\n  // Stop previous keyframe animation.\n  el.stopAnimation('keyframe'); // Restore\n\n  el.attr(getStateToRestore(el));\n}\nexport function applyKeyframeAnimation(el, animationOpts, animatableModel) {\n  if (!animatableModel.isAnimationEnabled() || !animationOpts) {\n    return;\n  }\n\n  if (isArray(animationOpts)) {\n    each(animationOpts, function (singleAnimationOpts) {\n      applyKeyframeAnimation(el, singleAnimationOpts, animatableModel);\n    });\n    return;\n  }\n\n  var keyframes = animationOpts.keyframes;\n  var duration = animationOpts.duration;\n\n  if (animatableModel && duration == null) {\n    // Default to use duration of config.\n    // NOTE: animation config from payload will be ignored because they are mainly for transitions.\n    var config = getAnimationConfig('enter', animatableModel, 0);\n    duration = config && config.duration;\n  }\n\n  if (!keyframes || !duration) {\n    return;\n  }\n\n  var stateToRestore = getStateToRestore(el);\n  each(ELEMENT_ANIMATABLE_PROPS, function (targetPropName) {\n    if (targetPropName && !el[targetPropName]) {\n      return;\n    }\n\n    var animator;\n    var endFrameIsSet = false; // Sort keyframes by percent.\n\n    keyframes.sort(function (a, b) {\n      return a.percent - b.percent;\n    });\n    each(keyframes, function (kf) {\n      // Stop current animation.\n      var animators = el.animators;\n      var kfValues = targetPropName ? kf[targetPropName] : kf;\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (kf.percent >= 1) {\n          endFrameIsSet = true;\n        }\n      }\n\n      if (!kfValues) {\n        return;\n      }\n\n      var propKeys = keys(kfValues);\n\n      if (!targetPropName) {\n        // PENDING performance?\n        propKeys = filter(propKeys, function (key) {\n          return indexOf(KEYFRAME_EXCLUDE_KEYS, key) < 0;\n        });\n      }\n\n      if (!propKeys.length) {\n        return;\n      }\n\n      if (!animator) {\n        animator = el.animate(targetPropName, animationOpts.loop, true);\n        animator.scope = 'keyframe';\n      }\n\n      for (var i = 0; i < animators.length; i++) {\n        // Stop all other animation that is not keyframe.\n        if (animators[i] !== animator && animators[i].targetName === animator.targetName) {\n          animators[i].stopTracks(propKeys);\n        }\n      }\n\n      targetPropName && (stateToRestore[targetPropName] = stateToRestore[targetPropName] || {});\n      var savedTarget = targetPropName ? stateToRestore[targetPropName] : stateToRestore;\n      each(propKeys, function (key) {\n        // Save original value.\n        savedTarget[key] = ((targetPropName ? el[targetPropName] : el) || {})[key];\n      });\n      animator.whenWithKeys(duration * kf.percent, kfValues, propKeys, kf.easing);\n    });\n\n    if (!animator) {\n      return;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!endFrameIsSet) {\n        warn('End frame with percent: 1 is missing in the keyframeAnimation.', true);\n      }\n    }\n\n    animator.delay(animationOpts.delay || 0).duration(duration).start(animationOpts.easing);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner, normalizeToArray } from '../util/model.js';\nimport { assert, bind, each, eqNaN, extend, hasOwn, indexOf, isArrayLike, keys, reduce } from 'zrender/lib/core/util.js';\nimport { cloneValue } from 'zrender/lib/animation/Animator.js';\nimport Displayable from 'zrender/lib/graphic/Displayable.js';\nimport { getAnimationConfig } from './basicTransition.js';\nimport { Path } from '../util/graphic.js';\nimport { warn } from '../util/log.js';\nimport { TRANSFORMABLE_PROPS } from 'zrender/lib/core/Transformable.js';\nvar LEGACY_TRANSFORM_PROPS_MAP = {\n  position: ['x', 'y'],\n  scale: ['scaleX', 'scaleY'],\n  origin: ['originX', 'originY']\n};\nvar LEGACY_TRANSFORM_PROPS = keys(LEGACY_TRANSFORM_PROPS_MAP);\nvar TRANSFORM_PROPS_MAP = reduce(TRANSFORMABLE_PROPS, function (obj, key) {\n  obj[key] = 1;\n  return obj;\n}, {});\nvar transformPropNamesStr = TRANSFORMABLE_PROPS.join(', '); // '' means root\n\nexport var ELEMENT_ANIMATABLE_PROPS = ['', 'style', 'shape', 'extra'];\n;\nvar transitionInnerStore = makeInner();\n;\n\nfunction getElementAnimationConfig(animationType, el, elOption, parentModel, dataIndex) {\n  var animationProp = animationType + \"Animation\";\n  var config = getAnimationConfig(animationType, parentModel, dataIndex) || {};\n  var userDuring = transitionInnerStore(el).userDuring; // Only set when duration is > 0 and it's need to be animated.\n\n  if (config.duration > 0) {\n    // For simplicity, if during not specified, the previous during will not work any more.\n    config.during = userDuring ? bind(duringCall, {\n      el: el,\n      userDuring: userDuring\n    }) : null;\n    config.setToFinal = true;\n    config.scope = animationType;\n  }\n\n  extend(config, elOption[animationProp]);\n  return config;\n}\n\nexport function applyUpdateTransition(el, elOption, animatableModel, opts) {\n  opts = opts || {};\n  var dataIndex = opts.dataIndex,\n      isInit = opts.isInit,\n      clearStyle = opts.clearStyle;\n  var hasAnimation = animatableModel.isAnimationEnabled(); // Save the meta info for further morphing. Like apply on the sub morphing elements.\n\n  var store = transitionInnerStore(el);\n  var styleOpt = elOption.style;\n  store.userDuring = elOption.during;\n  var transFromProps = {};\n  var propsToSet = {};\n  prepareTransformAllPropsFinal(el, elOption, propsToSet);\n  prepareShapeOrExtraAllPropsFinal('shape', elOption, propsToSet);\n  prepareShapeOrExtraAllPropsFinal('extra', elOption, propsToSet);\n\n  if (!isInit && hasAnimation) {\n    prepareTransformTransitionFrom(el, elOption, transFromProps);\n    prepareShapeOrExtraTransitionFrom('shape', el, elOption, transFromProps);\n    prepareShapeOrExtraTransitionFrom('extra', el, elOption, transFromProps);\n    prepareStyleTransitionFrom(el, elOption, styleOpt, transFromProps);\n  }\n\n  propsToSet.style = styleOpt;\n  applyPropsDirectly(el, propsToSet, clearStyle);\n  applyMiscProps(el, elOption);\n\n  if (hasAnimation) {\n    if (isInit) {\n      var enterFromProps_1 = {};\n      each(ELEMENT_ANIMATABLE_PROPS, function (propName) {\n        var prop = propName ? elOption[propName] : elOption;\n\n        if (prop && prop.enterFrom) {\n          if (propName) {\n            enterFromProps_1[propName] = enterFromProps_1[propName] || {};\n          }\n\n          extend(propName ? enterFromProps_1[propName] : enterFromProps_1, prop.enterFrom);\n        }\n      });\n      var config = getElementAnimationConfig('enter', el, elOption, animatableModel, dataIndex);\n\n      if (config.duration > 0) {\n        el.animateFrom(enterFromProps_1, config);\n      }\n    } else {\n      applyPropsTransition(el, elOption, dataIndex || 0, animatableModel, transFromProps);\n    }\n  } // Store leave to be used in leave transition.\n\n\n  updateLeaveTo(el, elOption);\n  styleOpt ? el.dirty() : el.markRedraw();\n}\nexport function updateLeaveTo(el, elOption) {\n  // Try merge to previous set leaveTo\n  var leaveToProps = transitionInnerStore(el).leaveToProps;\n\n  for (var i = 0; i < ELEMENT_ANIMATABLE_PROPS.length; i++) {\n    var propName = ELEMENT_ANIMATABLE_PROPS[i];\n    var prop = propName ? elOption[propName] : elOption;\n\n    if (prop && prop.leaveTo) {\n      if (!leaveToProps) {\n        leaveToProps = transitionInnerStore(el).leaveToProps = {};\n      }\n\n      if (propName) {\n        leaveToProps[propName] = leaveToProps[propName] || {};\n      }\n\n      extend(propName ? leaveToProps[propName] : leaveToProps, prop.leaveTo);\n    }\n  }\n}\nexport function applyLeaveTransition(el, elOption, animatableModel, onRemove) {\n  if (el) {\n    var parent_1 = el.parent;\n    var leaveToProps = transitionInnerStore(el).leaveToProps;\n\n    if (leaveToProps) {\n      // TODO TODO use leave after leaveAnimation in series is introduced\n      // TODO Data index?\n      var config = getElementAnimationConfig('update', el, elOption, animatableModel, 0);\n\n      config.done = function () {\n        parent_1.remove(el);\n        onRemove && onRemove();\n      };\n\n      el.animateTo(leaveToProps, config);\n    } else {\n      parent_1.remove(el);\n      onRemove && onRemove();\n    }\n  }\n}\nexport function isTransitionAll(transition) {\n  return transition === 'all';\n}\n\nfunction applyPropsDirectly(el, // Can be null/undefined\nallPropsFinal, clearStyle) {\n  var styleOpt = allPropsFinal.style;\n\n  if (!el.isGroup && styleOpt) {\n    if (clearStyle) {\n      el.useStyle({}); // When style object changed, how to trade the existing animation?\n      // It is probably complicated and not needed to cover all the cases.\n      // But still need consider the case:\n      // (1) When using init animation on `style.opacity`, and before the animation\n      //     ended users triggers an update by mousewhel. At that time the init\n      //     animation should better be continued rather than terminated.\n      //     So after `useStyle` called, we should change the animation target manually\n      //     to continue the effect of the init animation.\n      // (2) PENDING: If the previous animation targeted at a `val1`, and currently we need\n      //     to update the value to `val2` and no animation declared, should be terminate\n      //     the previous animation or just modify the target of the animation?\n      //     Therotically That will happen not only on `style` but also on `shape` and\n      //     `transfrom` props. But we haven't handle this case at present yet.\n      // (3) PENDING: Is it proper to visit `animators` and `targetName`?\n\n      var animators = el.animators;\n\n      for (var i = 0; i < animators.length; i++) {\n        var animator = animators[i]; // targetName is the \"topKey\".\n\n        if (animator.targetName === 'style') {\n          animator.changeTarget(el.style);\n        }\n      }\n    }\n\n    el.setStyle(styleOpt);\n  }\n\n  if (allPropsFinal) {\n    // Not set style here.\n    allPropsFinal.style = null; // Set el to the final state firstly.\n\n    allPropsFinal && el.attr(allPropsFinal);\n    allPropsFinal.style = styleOpt;\n  }\n}\n\nfunction applyPropsTransition(el, elOption, dataIndex, model, // Can be null/undefined\ntransFromProps) {\n  if (transFromProps) {\n    var config = getElementAnimationConfig('update', el, elOption, model, dataIndex);\n\n    if (config.duration > 0) {\n      el.animateFrom(transFromProps, config);\n    }\n  }\n}\n\nfunction applyMiscProps(el, elOption) {\n  // Merge by default.\n  hasOwn(elOption, 'silent') && (el.silent = elOption.silent);\n  hasOwn(elOption, 'ignore') && (el.ignore = elOption.ignore);\n\n  if (el instanceof Displayable) {\n    hasOwn(elOption, 'invisible') && (el.invisible = elOption.invisible);\n  }\n\n  if (el instanceof Path) {\n    hasOwn(elOption, 'autoBatch') && (el.autoBatch = elOption.autoBatch);\n  }\n} // Use it to avoid it be exposed to user.\n\n\nvar tmpDuringScope = {};\nvar transitionDuringAPI = {\n  // Usually other props do not need to be changed in animation during.\n  setTransform: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(hasOwn(TRANSFORM_PROPS_MAP, key), 'Only ' + transformPropNamesStr + ' available in `setTransform`.');\n    }\n\n    tmpDuringScope.el[key] = val;\n    return this;\n  },\n  getTransform: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(hasOwn(TRANSFORM_PROPS_MAP, key), 'Only ' + transformPropNamesStr + ' available in `getTransform`.');\n    }\n\n    return tmpDuringScope.el[key];\n  },\n  setShape: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var el = tmpDuringScope.el;\n    var shape = el.shape || (el.shape = {});\n    shape[key] = val;\n    el.dirtyShape && el.dirtyShape();\n    return this;\n  },\n  getShape: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var shape = tmpDuringScope.el.shape;\n\n    if (shape) {\n      return shape[key];\n    }\n  },\n  setStyle: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var el = tmpDuringScope.el;\n    var style = el.style;\n\n    if (style) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (eqNaN(val)) {\n          warn('style.' + key + ' must not be assigned with NaN.');\n        }\n      }\n\n      style[key] = val;\n      el.dirtyStyle && el.dirtyStyle();\n    }\n\n    return this;\n  },\n  getStyle: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var style = tmpDuringScope.el.style;\n\n    if (style) {\n      return style[key];\n    }\n  },\n  setExtra: function (key, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var extra = tmpDuringScope.el.extra || (tmpDuringScope.el.extra = {});\n    extra[key] = val;\n    return this;\n  },\n  getExtra: function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      assertNotReserved(key);\n    }\n\n    var extra = tmpDuringScope.el.extra;\n\n    if (extra) {\n      return extra[key];\n    }\n  }\n};\n\nfunction assertNotReserved(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (key === 'transition' || key === 'enterFrom' || key === 'leaveTo') {\n      throw new Error('key must not be \"' + key + '\"');\n    }\n  }\n}\n\nfunction duringCall() {\n  // Do not provide \"percent\" until some requirements come.\n  // Because consider thies case:\n  // enterFrom: {x: 100, y: 30}, transition: 'x'.\n  // And enter duration is different from update duration.\n  // Thus it might be confused about the meaning of \"percent\" in during callback.\n  var scope = this;\n  var el = scope.el;\n\n  if (!el) {\n    return;\n  } // If el is remove from zr by reason like legend, during still need to called,\n  // because el will be added back to zr and the prop value should not be incorrect.\n\n\n  var latestUserDuring = transitionInnerStore(el).userDuring;\n  var scopeUserDuring = scope.userDuring; // Ensured a during is only called once in each animation frame.\n  // If a during is called multiple times in one frame, maybe some users' calculation logic\n  // might be wrong (not sure whether this usage exists).\n  // The case of a during might be called twice can be: by default there is a animator for\n  // 'x', 'y' when init. Before the init animation finished, call `setOption` to start\n  // another animators for 'style'/'shape'/'extra'.\n\n  if (latestUserDuring !== scopeUserDuring) {\n    // release\n    scope.el = scope.userDuring = null;\n    return;\n  }\n\n  tmpDuringScope.el = el; // Give no `this` to user in \"during\" calling.\n\n  scopeUserDuring(transitionDuringAPI); // FIXME: if in future meet the case that some prop will be both modified in `during` and `state`,\n  // consider the issue that the prop might be incorrect when return to \"normal\" state.\n}\n\nfunction prepareShapeOrExtraTransitionFrom(mainAttr, fromEl, elOption, transFromProps) {\n  var attrOpt = elOption[mainAttr];\n\n  if (!attrOpt) {\n    return;\n  }\n\n  var elPropsInAttr = fromEl[mainAttr];\n  var transFromPropsInAttr;\n\n  if (elPropsInAttr) {\n    var transition = elOption.transition;\n    var attrTransition = attrOpt.transition;\n\n    if (attrTransition) {\n      !transFromPropsInAttr && (transFromPropsInAttr = transFromProps[mainAttr] = {});\n\n      if (isTransitionAll(attrTransition)) {\n        extend(transFromPropsInAttr, elPropsInAttr);\n      } else {\n        var transitionKeys = normalizeToArray(attrTransition);\n\n        for (var i = 0; i < transitionKeys.length; i++) {\n          var key = transitionKeys[i];\n          var elVal = elPropsInAttr[key];\n          transFromPropsInAttr[key] = elVal;\n        }\n      }\n    } else if (isTransitionAll(transition) || indexOf(transition, mainAttr) >= 0) {\n      !transFromPropsInAttr && (transFromPropsInAttr = transFromProps[mainAttr] = {});\n      var elPropsInAttrKeys = keys(elPropsInAttr);\n\n      for (var i = 0; i < elPropsInAttrKeys.length; i++) {\n        var key = elPropsInAttrKeys[i];\n        var elVal = elPropsInAttr[key];\n\n        if (isNonStyleTransitionEnabled(attrOpt[key], elVal)) {\n          transFromPropsInAttr[key] = elVal;\n        }\n      }\n    }\n  }\n}\n\nfunction prepareShapeOrExtraAllPropsFinal(mainAttr, elOption, allProps) {\n  var attrOpt = elOption[mainAttr];\n\n  if (!attrOpt) {\n    return;\n  }\n\n  var allPropsInAttr = allProps[mainAttr] = {};\n  var keysInAttr = keys(attrOpt);\n\n  for (var i = 0; i < keysInAttr.length; i++) {\n    var key = keysInAttr[i]; // To avoid share one object with different element, and\n    // to avoid user modify the object inexpectedly, have to clone.\n\n    allPropsInAttr[key] = cloneValue(attrOpt[key]);\n  }\n}\n\nfunction prepareTransformTransitionFrom(el, elOption, transFromProps) {\n  var transition = elOption.transition;\n  var transitionKeys = isTransitionAll(transition) ? TRANSFORMABLE_PROPS : normalizeToArray(transition || []);\n\n  for (var i = 0; i < transitionKeys.length; i++) {\n    var key = transitionKeys[i];\n\n    if (key === 'style' || key === 'shape' || key === 'extra') {\n      continue;\n    }\n\n    var elVal = el[key];\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkTransformPropRefer(key, 'el.transition');\n    } // Do not clone, animator will perform that clone.\n\n\n    transFromProps[key] = elVal;\n  }\n}\n\nfunction prepareTransformAllPropsFinal(el, elOption, allProps) {\n  for (var i = 0; i < LEGACY_TRANSFORM_PROPS.length; i++) {\n    var legacyName = LEGACY_TRANSFORM_PROPS[i];\n    var xyName = LEGACY_TRANSFORM_PROPS_MAP[legacyName];\n    var legacyArr = elOption[legacyName];\n\n    if (legacyArr) {\n      allProps[xyName[0]] = legacyArr[0];\n      allProps[xyName[1]] = legacyArr[1];\n    }\n  }\n\n  for (var i = 0; i < TRANSFORMABLE_PROPS.length; i++) {\n    var key = TRANSFORMABLE_PROPS[i];\n\n    if (elOption[key] != null) {\n      allProps[key] = elOption[key];\n    }\n  }\n}\n\nfunction prepareStyleTransitionFrom(fromEl, elOption, styleOpt, transFromProps) {\n  if (!styleOpt) {\n    return;\n  }\n\n  var fromElStyle = fromEl.style;\n  var transFromStyleProps;\n\n  if (fromElStyle) {\n    var styleTransition = styleOpt.transition;\n    var elTransition = elOption.transition;\n\n    if (styleTransition && !isTransitionAll(styleTransition)) {\n      var transitionKeys = normalizeToArray(styleTransition);\n      !transFromStyleProps && (transFromStyleProps = transFromProps.style = {});\n\n      for (var i = 0; i < transitionKeys.length; i++) {\n        var key = transitionKeys[i];\n        var elVal = fromElStyle[key]; // Do not clone, see `checkNonStyleTansitionRefer`.\n\n        transFromStyleProps[key] = elVal;\n      }\n    } else if (fromEl.getAnimationStyleProps && (isTransitionAll(elTransition) || isTransitionAll(styleTransition) || indexOf(elTransition, 'style') >= 0)) {\n      var animationProps = fromEl.getAnimationStyleProps();\n      var animationStyleProps = animationProps ? animationProps.style : null;\n\n      if (animationStyleProps) {\n        !transFromStyleProps && (transFromStyleProps = transFromProps.style = {});\n        var styleKeys = keys(styleOpt);\n\n        for (var i = 0; i < styleKeys.length; i++) {\n          var key = styleKeys[i];\n\n          if (animationStyleProps[key]) {\n            var elVal = fromElStyle[key];\n            transFromStyleProps[key] = elVal;\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction isNonStyleTransitionEnabled(optVal, elVal) {\n  // The same as `checkNonStyleTansitionRefer`.\n  return !isArrayLike(optVal) ? optVal != null && isFinite(optVal) : optVal !== elVal;\n}\n\nvar checkTransformPropRefer;\n\nif (process.env.NODE_ENV !== 'production') {\n  checkTransformPropRefer = function (key, usedIn) {\n    if (!hasOwn(TRANSFORM_PROPS_MAP, key)) {\n      warn('Prop `' + key + '` is not a permitted in `' + usedIn + '`. ' + 'Only `' + keys(TRANSFORM_PROPS_MAP).join('`, `') + '` are permitted.');\n    }\n  };\n}","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n    return Array.isArray(val) ? [] : {}\n}\n\nfunction cloneIfNecessary(value, optionsArgument) {\n    var clone = optionsArgument && optionsArgument.clone === true;\n    return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n}\n\nfunction defaultArrayMerge(target, source, optionsArgument) {\n    var destination = target.slice();\n    source.forEach(function(e, i) {\n        if (typeof destination[i] === 'undefined') {\n            destination[i] = cloneIfNecessary(e, optionsArgument);\n        } else if (isMergeableObject(e)) {\n            destination[i] = deepmerge(target[i], e, optionsArgument);\n        } else if (target.indexOf(e) === -1) {\n            destination.push(cloneIfNecessary(e, optionsArgument));\n        }\n    });\n    return destination\n}\n\nfunction mergeObject(target, source, optionsArgument) {\n    var destination = {};\n    if (isMergeableObject(target)) {\n        Object.keys(target).forEach(function(key) {\n            destination[key] = cloneIfNecessary(target[key], optionsArgument);\n        });\n    }\n    Object.keys(source).forEach(function(key) {\n        if (!isMergeableObject(source[key]) || !target[key]) {\n            destination[key] = cloneIfNecessary(source[key], optionsArgument);\n        } else {\n            destination[key] = deepmerge(target[key], source[key], optionsArgument);\n        }\n    });\n    return destination\n}\n\nfunction deepmerge(target, source, optionsArgument) {\n    var sourceIsArray = Array.isArray(source);\n    var targetIsArray = Array.isArray(target);\n    var options = optionsArgument || { arrayMerge: defaultArrayMerge };\n    var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n    if (!sourceAndTargetTypesMatch) {\n        return cloneIfNecessary(source, optionsArgument)\n    } else if (sourceIsArray) {\n        var arrayMerge = options.arrayMerge || defaultArrayMerge;\n        return arrayMerge(target, source, optionsArgument)\n    } else {\n        return mergeObject(target, source, optionsArgument)\n    }\n}\n\ndeepmerge.all = function deepmergeAll(array, optionsArgument) {\n    if (!Array.isArray(array) || array.length < 2) {\n        throw new Error('first argument should be an array with at least two elements')\n    }\n\n    // we are sure there are at least 2 values, so it is safe to have no initial value\n    return array.reduce(function(prev, next) {\n        return deepmerge(prev, next, optionsArgument)\n    })\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n"],"names":["BaseBarSeriesModel","_super","_this","apply","this","arguments","type","__extends","prototype","getInitialData","option","ecModel","createSeriesData","useEncodeDefaulter","getMarkerPosition","value","dims","startingAtTick","coordSys","coordinateSystem","clampData","clampData_1","pt_1","dataToPoint","each","getAxes","axis","idx","tickCoords","getTicksCoords","targetTickId","isEnd","length","toGlobalCoord","getExtent","leftCoord","coord","stepTickValue","i","tickCoord","tickValue","data","getData","offset","getLayout","size","offsetIndex","getBaseAxis","isHorizontal","NaN","defaultOption","z","legendHoverLink","barMinHeight","barMinAngle","large","largeThreshold","progressive","progressiveChunkMode","SeriesModel","BarSeriesModel","createInvertedIndices","get","getProgressive","getProgressiveThreshold","progressiveThreshold","brushSelector","dataIndex","selectors","rect","getItemLayout","dependencies","BaseBarSeries","clip","roundCap","showBackground","backgroundStyle","color","borderColor","borderWidth","borderType","borderRadius","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","opacity","select","itemStyle","realtimeSort","mathMax","Math","max","mathMin","min","getClipArea","coordSysClipArea","getArea","baseAxis","onBand","expandWidth","x","width","y","height","BarView","call","_isFirstFrame","render","seriesModel","api","payload","_model","_removeOnRenderedListener","_updateDrawMode","coordinateSystemType","_progressiveEls","_isLargeDraw","_renderLarge","_renderNormal","incrementalPrepareRender","_clear","_updateLargeClip","incrementalRender","params","_incrementalRenderLarge","eachRendered","cb","traverseElements","group","isLargeDraw","pipelineContext","isHorizontalOrRadial","oldData","_data","dim","animationModel","isAnimationEnabled","realtimeSortCfg","shouldRealtimeSort","_enableRealtimeSort","needsClip","removeClipPath","drawBackground","backgroundModel","getModel","barBorderRadius","bgEls","oldBgEls","_backgroundEls","isInitSort","isChangeOrder","createBackground","bgLayout","bgEl","createBackgroundEl","useStyle","getItemStyle","setShape","diff","add","itemModel","getItemModel","layout","hasValue","isValidLayout","isClipped","el","elementCreator","model","forceLabelAnimation","updateStyle","attr","shape","updateRealtimeAnimation","setItemGraphicEl","ignore","update","newIndex","oldIndex","createBackgroundShape","getItemGraphicEl","remove","textEl","getTextContent","labelInnerStore","prevValue","execute","bgGroup","_backgroundGroup","Group","removeAll","createLarge","_removeBackground","clipPath","setClipPath","count","_dispatchInitSort","orderMapping_1","abs","_onRendered","_updateSortWithinSameData","getZr","on","_dataSort","orderMapping","info","mapDimension","ordinalNumber","dataIdx","mappedValue","push","sort","a","b","ordinalNumbers","map","item","_isOrderChangedWithinSameData","scale","ordinalDataDim","lastValue","Number","MAX_VALUE","tickNum","len","getOrdinalMeta","categories","rawIdx","rawIndexOf","getRawOrdinalNumber","MIN_VALUE","indexOfRawIndex","_isOrderDifferentInView","orderInfo","extent","tickMax","sortInfo","dispatchAction","componentType","axisId","index","sortResult","otherAxis","dispose","off","eachItemGraphicEl","Chart","cartesian2d","coordSysBoundingRect","signWidth","signHeight","coordSysX2","coordSysY2","x2","y2","xClipped","yClipped","polar","signR","r0","r","tmp","clipped","axisModel","isUpdate","Rect","extend","z2","__dataIndex","name","rectShape","animateProperty","isRadial","ShapeClass","Sector","sector","positionMap","createPolarPositionMapping","calculateTextPosition","isRoundCap","sectorShape","animateTarget","startAngle","realtimeSortOption","getOtherAxis","seriesAnimationModel","seriesTarget","axisTarget","axisAnimationModel","checkPropertiesNotValid","obj","props","isFinite","rectPropties","polarPropties","fixedLineWidth","getLineWidth","signX","signY","cx","cy","endAngle","clockwise","isZeroOnPolar","arcOrAngle","position","isPolar","style","getItemVisual","cornerRadius","cursorStyle","getShallow","labelPositionOutside","labelStatesModels","labelFetcher","labelDataIndex","defaultText","inheritColor","fill","defaultOpacity","defaultOutsidePosition","label","textConfig","inside","getRawValue","emphasisModel","stroke","states","state","rawLayout","lineWidth","isNaN","LagePathShape","LargePath","opts","getDefaultShape","buildPath","ctx","points","baseDimIdx","valueDimIdx","startPoint","barWidth","Path","progressiveEls","incremental","largeDataIndices","bgPoints","silent","ignoreCoarsePointer","getVisual","seriesIndex","largePathUpdateDataIndex","throttle","event","largePath","largePathFindDataIndex","offsetX","offsetY","ii","coordLayout","PI","ElementClz","registers","registerChartView","registerSeriesModel","BarSeries","registerLayout","PRIORITY","VISUAL","LAYOUT","PROGRESSIVE_LAYOUT","registerProcessor","PROCESSOR","STATISTIC","dataSample","registerAction","eachComponent","mainType","query","componentModel","setCategorySortInfo","BAR_BORDER_WIDTH_QUERY","LAYOUT_ATTRS","xy","wh","posDesc","pathForLineWidth","PictorialBarView","cartesian","coordSysRect","master","getRect","opt","ecSize","getWidth","getHeight","coordSysExtent","valueDim","categoryDim","symbolMeta","getSymbolMeta","bar","createBar","updateCommon","pictorialShapeStr","getShapeStr","__pictorialShapeStr","updateBar","__pictorialSymbolMeta","removeBar","symbolRepeat","symbolClip","symbolPosition","symbolRotate","rotation","symbolPatternSize","symbolType","symbolRepeatDirection","hoverScale","prepareBarLength","prepareSymbolSize","boundingLength","pxSign","prepareLineWidth","symbolScale","symbolSize","symbolOffset","prepareLayoutInfo","valueLineWidth","repeatCutLength","outputSymbolMeta","symbolBoundingData","valueAxis","zeroPx","dataToCoord","pxSignIdx","symbolBoundingExtent","convertToCoordOnAxis","reverse","parse","parsedSymbolSize","categorySize","slice","scaleX","scaleY","updateTransform","getLineScale","unitLength","pathLen","absBoundingLength","symbolMargin","hasEndGap","lastIndexOf","symbolMarginNumeric","uLenWithMargin","endFix","repeatSpecified","repeatTimes","toIntTimes","mDiff","sizeFix","pathPosition","bundlePosition","barRectShape","clipShape","createPath","path","culling","setStyle","strokeNoScale","createOrUpdateRepeatSymbols","bundle","__pictorialBundle","unit","eachPath","__pictorialAnimationIndex","__pictorialRepeatTimes","updateAttr","makeTarget","target","createOrUpdateSingleSymbol","mainPath","__pictorialMainPath","createOrUpdateBarRect","barRect","__pictorialBarRect","disableMorphing","createOrUpdateClip","__pictorialClipPath","graphic","getAnimationDelayParams","parentModel","labelRect","removeTextContent","paths","parent","join","context","children","immediateAttrs","animationAttrs","emphasisStyle","blurStyle","selectStyle","focus","blurScope","pathStyle","image","emphasisState","ensureState","cursor","barPositionOutside","times","roundedTimes","round","ceil","PictorialBarSeriesModel","hasSymbolVisual","defaultSymbol","stack","symbol","barGap","emphasis","PictorialBarSeries","curry","isMultiple","elements","isArray","prepareMorphBatches","one","many","batches","batchCount","k","moveFrom","mid","pathDividers","clone","ret","approxOpacity","pow","cloned","clonePath","split","applyMorphAnimation","from","to","divideShape","animateOtherProps","updateAnimationCfg","getAnimationConfig","duration","animationDelay","animationCfg","Object","assign","setToFinal","fromIsMany","morphBatches","animateCount","animateIndex","morphOneBatch","batch","forceManyOne","batchMany","batchOne","separateAnimationCfg","defaults","dividePath","individualDelay","fromPath","toPath","_a","combineMorph","separateMorph","fromIndividuals","toIndividuals","individualAnimationCfg","delay","batchFrom","batchTo","isCombineMorphing","morphPath","getPathList","pathList_1","pathList","traverse","invisible","DATA_COUNT_THRESHOLD","getUniversalTransitionGlobalStore","getGroupIdDimension","dimensions","dimInfo","getDimensionInfo","otherDims","itemGroupId","flattenDataDiffItems","list","items","seriesInfo","indices","getIndices","groupDim","dataGroupId","divide","fadeInElement","newEl","newSeries","isFrom","removeEl","computedTransform","getComputedTransform","setLocalTransform","stopAnimation","isGroup","child","animateElementStyles","animationConfig","Displayable","oldStyle","animateFrom","isAllIdSame","oldDiffItems","newDiffItems","oldItem","newItem","getId","transitionBetween","oldList","newList","updateMorphingPathProps","rawFrom","rawTo","findKeyDim","oldKeyDim","newKeyDim","hasMorphAnimation","createKeyGetter","isOld","onlyGetId","diffItem","keyDim","dimOrdinalMeta","ordinalMeta","key","itemVal","getRawDataItem","groupId","useId","isElementStillInChart","id","updateOneToOne","hostModel","oldEl","DataDiffer","updateManyToOne","oldIndices","newData","oldElsList","filter","updateOneToMany","newIndices","newElsList","newSeris","updateManyToMany","view","getViewOfSeriesModel","animators","getSeriesTransitionKey","series","seriesKey","convertArraySeriesKeyToString","getDivideShapeFromData","findTransitionSeriesBatches","globalStore","updateBatches","createHashMap","oldDataMap","oldDataMapForSplit","oldSeries","oldDataGroupId","oldDataGroupIds","transitionKey","transitionKeyStr","set","updatedSeries","isUniversalTransitionEnabled","newDataGroupId","oldSeries_1","oldData_1","querySeries","finder","found","seriesId","transitionSeriesFromOpt","transitionOpt","dimension","installUniversalTransition","registerUpdateLifecycle","ecMOdel","seriesTransition","transOpt","optionChanged","updateBatches_1","keys","allSeries","getSeries","savedSeries","savedDataGroupIds","savedData","getCenterCoord","point","pointToProjected","pointToData","updateCenterAndZoom","zoomLimit","previousZoom","getZoom","center","getCenter","zoom","projectedToPoint","dx","dy","setCenter","zoomMin","zoomMax","Infinity","fixX","originX","fixY","originY","setZoom","transitionStore","makeInner","animationType","animatableModel","extraOpts","extraDelayParams","animationPayload","updatePayload","getUpdatePayload","animation","animationEnabled","easing","retrieve2","isFunction","config","animateOrSetProps","during","removeOpt","isObject","isRemove","animationEasing","animateConfig","done","force","scope","animateTo","updateProps","initProps","isElementRemoved","__zr","animator","removeElement","fadeOutDisplayable","removeTextGuideLine","removeElementWithFadeOut","doRemove","disp","saveOldStyle","getOldStyle","getStateToRestore","KEYFRAME_EXCLUDE_KEYS","stopPreviousKeyframeAnimationAndRestore","applyKeyframeAnimation","animationOpts","singleAnimationOpts","keyframes","stateToRestore","ELEMENT_ANIMATABLE_PROPS","targetPropName","percent","kf","kfValues","propKeys","indexOf","animate","loop","targetName","stopTracks","savedTarget","whenWithKeys","start","LEGACY_TRANSFORM_PROPS_MAP","origin","LEGACY_TRANSFORM_PROPS","reduce","TRANSFORMABLE_PROPS","transitionInnerStore","getElementAnimationConfig","elOption","animationProp","userDuring","bind","duringCall","applyUpdateTransition","isInit","clearStyle","hasAnimation","store","styleOpt","transFromProps","propsToSet","prepareTransformAllPropsFinal","prepareShapeOrExtraAllPropsFinal","prepareTransformTransitionFrom","prepareShapeOrExtraTransitionFrom","prepareStyleTransitionFrom","applyPropsDirectly","applyMiscProps","enterFromProps_1","propName","prop","enterFrom","applyPropsTransition","updateLeaveTo","dirty","markRedraw","leaveToProps","leaveTo","applyLeaveTransition","onRemove","parent_1","isTransitionAll","transition","allPropsFinal","changeTarget","hasOwn","autoBatch","tmpDuringScope","transitionDuringAPI","setTransform","val","getTransform","dirtyShape","getShape","dirtyStyle","getStyle","setExtra","extra","getExtra","latestUserDuring","scopeUserDuring","mainAttr","fromEl","attrOpt","transFromPropsInAttr","elPropsInAttr","attrTransition","transitionKeys","normalizeToArray","elVal","elPropsInAttrKeys","isNonStyleTransitionEnabled","allProps","allPropsInAttr","keysInAttr","cloneValue","process","legacyName","xyName","legacyArr","transFromStyleProps","fromElStyle","styleTransition","elTransition","getAnimationStyleProps","animationProps","animationStyleProps","styleKeys","optVal","isArrayLike","isMergeableObject","isNonNullObject","isSpecial","stringValue","toString","isReactElement","canUseSymbol","Symbol","for","REACT_ELEMENT_TYPE","$$typeof","emptyTarget","Array","cloneIfNecessary","optionsArgument","deepmerge","defaultArrayMerge","source","destination","forEach","e","mergeObject","sourceIsArray","targetIsArray","options","arrayMerge","sourceAndTargetTypesMatch","all","array","Error","prev","next","deepmerge_1","module","exports"],"sourceRoot":""}