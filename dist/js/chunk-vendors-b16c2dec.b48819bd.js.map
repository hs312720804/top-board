{"version":3,"file":"js/chunk-vendors-b16c2dec.b48819bd.js","mappings":"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","sources":["webpack://databoard/./node_modules/echarts/lib/chart/gauge/PointerPath.js","webpack://databoard/./node_modules/echarts/lib/chart/gauge/GaugeView.js","webpack://databoard/./node_modules/echarts/lib/chart/gauge/GaugeSeries.js","webpack://databoard/./node_modules/echarts/lib/chart/gauge/install.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/categoryFilter.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/categoryVisual.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/edgeVisual.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/simpleLayoutHelper.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/simpleLayout.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/graphHelper.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/circularLayoutHelper.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/circularLayout.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/forceHelper.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/forceLayout.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/createView.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/adjustEdge.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/GraphView.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/GraphSeries.js","webpack://databoard/./node_modules/echarts/lib/chart/graph/install.js","webpack://databoard/./node_modules/echarts/lib/chart/heatmap/HeatmapLayer.js","webpack://databoard/./node_modules/echarts/lib/chart/heatmap/HeatmapView.js","webpack://databoard/./node_modules/echarts/lib/chart/heatmap/HeatmapSeries.js","webpack://databoard/./node_modules/echarts/lib/chart/heatmap/install.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Path from 'zrender/lib/graphic/Path.js';\n\nvar PointerShape =\n/** @class */\nfunction () {\n  function PointerShape() {\n    this.angle = 0;\n    this.width = 10;\n    this.r = 10;\n    this.x = 0;\n    this.y = 0;\n  }\n\n  return PointerShape;\n}();\n\nvar PointerPath =\n/** @class */\nfunction (_super) {\n  __extends(PointerPath, _super);\n\n  function PointerPath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'pointer';\n    return _this;\n  }\n\n  PointerPath.prototype.getDefaultShape = function () {\n    return new PointerShape();\n  };\n\n  PointerPath.prototype.buildPath = function (ctx, shape) {\n    var mathCos = Math.cos;\n    var mathSin = Math.sin;\n    var r = shape.r;\n    var width = shape.width;\n    var angle = shape.angle;\n    var x = shape.x - mathCos(angle) * width * (width >= r / 3 ? 1 : 2);\n    var y = shape.y - mathSin(angle) * width * (width >= r / 3 ? 1 : 2);\n    angle = shape.angle - Math.PI / 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(shape.x + mathCos(angle) * width, shape.y + mathSin(angle) * width);\n    ctx.lineTo(shape.x + mathCos(shape.angle) * r, shape.y + mathSin(shape.angle) * r);\n    ctx.lineTo(shape.x - mathCos(angle) * width, shape.y - mathSin(angle) * width);\n    ctx.lineTo(x, y);\n  };\n\n  return PointerPath;\n}(Path);\n\nexport default PointerPath;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport PointerPath from './PointerPath.js';\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel, toggleHoverEmphasis } from '../../util/states.js';\nimport { createTextStyle, setLabelValueAnimation, animateLabelValue } from '../../label/labelStyle.js';\nimport ChartView from '../../view/Chart.js';\nimport { parsePercent, round, linearMap } from '../../util/number.js';\nimport Sausage from '../../util/shape/sausage.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { extend, isFunction, isString, isNumber, each } from 'zrender/lib/core/util.js';\nimport { setCommonECData } from '../../util/innerStore.js';\nimport { normalizeArcAngles } from 'zrender/lib/core/PathProxy.js';\n\nfunction parsePosition(seriesModel, api) {\n  var center = seriesModel.get('center');\n  var width = api.getWidth();\n  var height = api.getHeight();\n  var size = Math.min(width, height);\n  var cx = parsePercent(center[0], api.getWidth());\n  var cy = parsePercent(center[1], api.getHeight());\n  var r = parsePercent(seriesModel.get('radius'), size / 2);\n  return {\n    cx: cx,\n    cy: cy,\n    r: r\n  };\n}\n\nfunction formatLabel(value, labelFormatter) {\n  var label = value == null ? '' : value + '';\n\n  if (labelFormatter) {\n    if (isString(labelFormatter)) {\n      label = labelFormatter.replace('{value}', label);\n    } else if (isFunction(labelFormatter)) {\n      label = labelFormatter(value);\n    }\n  }\n\n  return label;\n}\n\nvar GaugeView =\n/** @class */\nfunction (_super) {\n  __extends(GaugeView, _super);\n\n  function GaugeView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = GaugeView.type;\n    return _this;\n  }\n\n  GaugeView.prototype.render = function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n    var colorList = seriesModel.get(['axisLine', 'lineStyle', 'color']);\n    var posInfo = parsePosition(seriesModel, api);\n\n    this._renderMain(seriesModel, ecModel, api, colorList, posInfo);\n\n    this._data = seriesModel.getData();\n  };\n\n  GaugeView.prototype.dispose = function () {};\n\n  GaugeView.prototype._renderMain = function (seriesModel, ecModel, api, colorList, posInfo) {\n    var group = this.group;\n    var clockwise = seriesModel.get('clockwise');\n    var startAngle = -seriesModel.get('startAngle') / 180 * Math.PI;\n    var endAngle = -seriesModel.get('endAngle') / 180 * Math.PI;\n    var axisLineModel = seriesModel.getModel('axisLine');\n    var roundCap = axisLineModel.get('roundCap');\n    var MainPath = roundCap ? Sausage : graphic.Sector;\n    var showAxis = axisLineModel.get('show');\n    var lineStyleModel = axisLineModel.getModel('lineStyle');\n    var axisLineWidth = lineStyleModel.get('width');\n    var angles = [startAngle, endAngle];\n    normalizeArcAngles(angles, !clockwise);\n    startAngle = angles[0];\n    endAngle = angles[1];\n    var angleRangeSpan = endAngle - startAngle;\n    var prevEndAngle = startAngle;\n    var sectors = [];\n\n    for (var i = 0; showAxis && i < colorList.length; i++) {\n      // Clamp\n      var percent = Math.min(Math.max(colorList[i][0], 0), 1);\n      endAngle = startAngle + angleRangeSpan * percent;\n      var sector = new MainPath({\n        shape: {\n          startAngle: prevEndAngle,\n          endAngle: endAngle,\n          cx: posInfo.cx,\n          cy: posInfo.cy,\n          clockwise: clockwise,\n          r0: posInfo.r - axisLineWidth,\n          r: posInfo.r\n        },\n        silent: true\n      });\n      sector.setStyle({\n        fill: colorList[i][1]\n      });\n      sector.setStyle(lineStyleModel.getLineStyle( // Because we use sector to simulate arc\n      // so the properties for stroking are useless\n      ['color', 'width']));\n      sectors.push(sector);\n      prevEndAngle = endAngle;\n    }\n\n    sectors.reverse();\n    each(sectors, function (sector) {\n      return group.add(sector);\n    });\n\n    var getColor = function (percent) {\n      // Less than 0\n      if (percent <= 0) {\n        return colorList[0][1];\n      }\n\n      var i;\n\n      for (i = 0; i < colorList.length; i++) {\n        if (colorList[i][0] >= percent && (i === 0 ? 0 : colorList[i - 1][0]) < percent) {\n          return colorList[i][1];\n        }\n      } // More than 1\n\n\n      return colorList[i - 1][1];\n    };\n\n    this._renderTicks(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise, axisLineWidth);\n\n    this._renderTitleAndDetail(seriesModel, ecModel, api, getColor, posInfo);\n\n    this._renderAnchor(seriesModel, posInfo);\n\n    this._renderPointer(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise, axisLineWidth);\n  };\n\n  GaugeView.prototype._renderTicks = function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise, axisLineWidth) {\n    var group = this.group;\n    var cx = posInfo.cx;\n    var cy = posInfo.cy;\n    var r = posInfo.r;\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var splitLineModel = seriesModel.getModel('splitLine');\n    var tickModel = seriesModel.getModel('axisTick');\n    var labelModel = seriesModel.getModel('axisLabel');\n    var splitNumber = seriesModel.get('splitNumber');\n    var subSplitNumber = tickModel.get('splitNumber');\n    var splitLineLen = parsePercent(splitLineModel.get('length'), r);\n    var tickLen = parsePercent(tickModel.get('length'), r);\n    var angle = startAngle;\n    var step = (endAngle - startAngle) / splitNumber;\n    var subStep = step / subSplitNumber;\n    var splitLineStyle = splitLineModel.getModel('lineStyle').getLineStyle();\n    var tickLineStyle = tickModel.getModel('lineStyle').getLineStyle();\n    var splitLineDistance = splitLineModel.get('distance');\n    var unitX;\n    var unitY;\n\n    for (var i = 0; i <= splitNumber; i++) {\n      unitX = Math.cos(angle);\n      unitY = Math.sin(angle); // Split line\n\n      if (splitLineModel.get('show')) {\n        var distance = splitLineDistance ? splitLineDistance + axisLineWidth : axisLineWidth;\n        var splitLine = new graphic.Line({\n          shape: {\n            x1: unitX * (r - distance) + cx,\n            y1: unitY * (r - distance) + cy,\n            x2: unitX * (r - splitLineLen - distance) + cx,\n            y2: unitY * (r - splitLineLen - distance) + cy\n          },\n          style: splitLineStyle,\n          silent: true\n        });\n\n        if (splitLineStyle.stroke === 'auto') {\n          splitLine.setStyle({\n            stroke: getColor(i / splitNumber)\n          });\n        }\n\n        group.add(splitLine);\n      } // Label\n\n\n      if (labelModel.get('show')) {\n        var distance = labelModel.get('distance') + splitLineDistance;\n        var label = formatLabel(round(i / splitNumber * (maxVal - minVal) + minVal), labelModel.get('formatter'));\n        var autoColor = getColor(i / splitNumber);\n        var textStyleX = unitX * (r - splitLineLen - distance) + cx;\n        var textStyleY = unitY * (r - splitLineLen - distance) + cy;\n        var rotateType = labelModel.get('rotate');\n        var rotate = 0;\n\n        if (rotateType === 'radial') {\n          rotate = -angle + 2 * Math.PI;\n\n          if (rotate > Math.PI / 2) {\n            rotate += Math.PI;\n          }\n        } else if (rotateType === 'tangential') {\n          rotate = -angle - Math.PI / 2;\n        } else if (isNumber(rotateType)) {\n          rotate = rotateType * Math.PI / 180;\n        }\n\n        if (rotate === 0) {\n          group.add(new graphic.Text({\n            style: createTextStyle(labelModel, {\n              text: label,\n              x: textStyleX,\n              y: textStyleY,\n              verticalAlign: unitY < -0.8 ? 'top' : unitY > 0.8 ? 'bottom' : 'middle',\n              align: unitX < -0.4 ? 'left' : unitX > 0.4 ? 'right' : 'center'\n            }, {\n              inheritColor: autoColor\n            }),\n            silent: true\n          }));\n        } else {\n          group.add(new graphic.Text({\n            style: createTextStyle(labelModel, {\n              text: label,\n              x: textStyleX,\n              y: textStyleY,\n              verticalAlign: 'middle',\n              align: 'center'\n            }, {\n              inheritColor: autoColor\n            }),\n            silent: true,\n            originX: textStyleX,\n            originY: textStyleY,\n            rotation: rotate\n          }));\n        }\n      } // Axis tick\n\n\n      if (tickModel.get('show') && i !== splitNumber) {\n        var distance = tickModel.get('distance');\n        distance = distance ? distance + axisLineWidth : axisLineWidth;\n\n        for (var j = 0; j <= subSplitNumber; j++) {\n          unitX = Math.cos(angle);\n          unitY = Math.sin(angle);\n          var tickLine = new graphic.Line({\n            shape: {\n              x1: unitX * (r - distance) + cx,\n              y1: unitY * (r - distance) + cy,\n              x2: unitX * (r - tickLen - distance) + cx,\n              y2: unitY * (r - tickLen - distance) + cy\n            },\n            silent: true,\n            style: tickLineStyle\n          });\n\n          if (tickLineStyle.stroke === 'auto') {\n            tickLine.setStyle({\n              stroke: getColor((i + j / subSplitNumber) / splitNumber)\n            });\n          }\n\n          group.add(tickLine);\n          angle += subStep;\n        }\n\n        angle -= subStep;\n      } else {\n        angle += step;\n      }\n    }\n  };\n\n  GaugeView.prototype._renderPointer = function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise, axisLineWidth) {\n    var group = this.group;\n    var oldData = this._data;\n    var oldProgressData = this._progressEls;\n    var progressList = [];\n    var showPointer = seriesModel.get(['pointer', 'show']);\n    var progressModel = seriesModel.getModel('progress');\n    var showProgress = progressModel.get('show');\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var valueExtent = [minVal, maxVal];\n    var angleExtent = [startAngle, endAngle];\n\n    function createPointer(idx, angle) {\n      var itemModel = data.getItemModel(idx);\n      var pointerModel = itemModel.getModel('pointer');\n      var pointerWidth = parsePercent(pointerModel.get('width'), posInfo.r);\n      var pointerLength = parsePercent(pointerModel.get('length'), posInfo.r);\n      var pointerStr = seriesModel.get(['pointer', 'icon']);\n      var pointerOffset = pointerModel.get('offsetCenter');\n      var pointerOffsetX = parsePercent(pointerOffset[0], posInfo.r);\n      var pointerOffsetY = parsePercent(pointerOffset[1], posInfo.r);\n      var pointerKeepAspect = pointerModel.get('keepAspect');\n      var pointer; // not exist icon type will be set 'rect'\n\n      if (pointerStr) {\n        pointer = createSymbol(pointerStr, pointerOffsetX - pointerWidth / 2, pointerOffsetY - pointerLength, pointerWidth, pointerLength, null, pointerKeepAspect);\n      } else {\n        pointer = new PointerPath({\n          shape: {\n            angle: -Math.PI / 2,\n            width: pointerWidth,\n            r: pointerLength,\n            x: pointerOffsetX,\n            y: pointerOffsetY\n          }\n        });\n      }\n\n      pointer.rotation = -(angle + Math.PI / 2);\n      pointer.x = posInfo.cx;\n      pointer.y = posInfo.cy;\n      return pointer;\n    }\n\n    function createProgress(idx, endAngle) {\n      var roundCap = progressModel.get('roundCap');\n      var ProgressPath = roundCap ? Sausage : graphic.Sector;\n      var isOverlap = progressModel.get('overlap');\n      var progressWidth = isOverlap ? progressModel.get('width') : axisLineWidth / data.count();\n      var r0 = isOverlap ? posInfo.r - progressWidth : posInfo.r - (idx + 1) * progressWidth;\n      var r = isOverlap ? posInfo.r : posInfo.r - idx * progressWidth;\n      var progress = new ProgressPath({\n        shape: {\n          startAngle: startAngle,\n          endAngle: endAngle,\n          cx: posInfo.cx,\n          cy: posInfo.cy,\n          clockwise: clockwise,\n          r0: r0,\n          r: r\n        }\n      });\n      isOverlap && (progress.z2 = maxVal - data.get(valueDim, idx) % maxVal);\n      return progress;\n    }\n\n    if (showProgress || showPointer) {\n      data.diff(oldData).add(function (idx) {\n        var val = data.get(valueDim, idx);\n\n        if (showPointer) {\n          var pointer = createPointer(idx, startAngle); // TODO hide pointer on NaN value?\n\n          graphic.initProps(pointer, {\n            rotation: -((isNaN(+val) ? angleExtent[0] : linearMap(val, valueExtent, angleExtent, true)) + Math.PI / 2)\n          }, seriesModel);\n          group.add(pointer);\n          data.setItemGraphicEl(idx, pointer);\n        }\n\n        if (showProgress) {\n          var progress = createProgress(idx, startAngle);\n          var isClip = progressModel.get('clip');\n          graphic.initProps(progress, {\n            shape: {\n              endAngle: linearMap(val, valueExtent, angleExtent, isClip)\n            }\n          }, seriesModel);\n          group.add(progress); // Add data index and series index for indexing the data by element\n          // Useful in tooltip\n\n          setCommonECData(seriesModel.seriesIndex, data.dataType, idx, progress);\n          progressList[idx] = progress;\n        }\n      }).update(function (newIdx, oldIdx) {\n        var val = data.get(valueDim, newIdx);\n\n        if (showPointer) {\n          var previousPointer = oldData.getItemGraphicEl(oldIdx);\n          var previousRotate = previousPointer ? previousPointer.rotation : startAngle;\n          var pointer = createPointer(newIdx, previousRotate);\n          pointer.rotation = previousRotate;\n          graphic.updateProps(pointer, {\n            rotation: -((isNaN(+val) ? angleExtent[0] : linearMap(val, valueExtent, angleExtent, true)) + Math.PI / 2)\n          }, seriesModel);\n          group.add(pointer);\n          data.setItemGraphicEl(newIdx, pointer);\n        }\n\n        if (showProgress) {\n          var previousProgress = oldProgressData[oldIdx];\n          var previousEndAngle = previousProgress ? previousProgress.shape.endAngle : startAngle;\n          var progress = createProgress(newIdx, previousEndAngle);\n          var isClip = progressModel.get('clip');\n          graphic.updateProps(progress, {\n            shape: {\n              endAngle: linearMap(val, valueExtent, angleExtent, isClip)\n            }\n          }, seriesModel);\n          group.add(progress); // Add data index and series index for indexing the data by element\n          // Useful in tooltip\n\n          setCommonECData(seriesModel.seriesIndex, data.dataType, newIdx, progress);\n          progressList[newIdx] = progress;\n        }\n      }).execute();\n      data.each(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        var emphasisModel = itemModel.getModel('emphasis');\n        var focus = emphasisModel.get('focus');\n        var blurScope = emphasisModel.get('blurScope');\n        var emphasisDisabled = emphasisModel.get('disabled');\n\n        if (showPointer) {\n          var pointer = data.getItemGraphicEl(idx);\n          var symbolStyle = data.getItemVisual(idx, 'style');\n          var visualColor = symbolStyle.fill;\n\n          if (pointer instanceof ZRImage) {\n            var pathStyle = pointer.style;\n            pointer.useStyle(extend({\n              image: pathStyle.image,\n              x: pathStyle.x,\n              y: pathStyle.y,\n              width: pathStyle.width,\n              height: pathStyle.height\n            }, symbolStyle));\n          } else {\n            pointer.useStyle(symbolStyle);\n            pointer.type !== 'pointer' && pointer.setColor(visualColor);\n          }\n\n          pointer.setStyle(itemModel.getModel(['pointer', 'itemStyle']).getItemStyle());\n\n          if (pointer.style.fill === 'auto') {\n            pointer.setStyle('fill', getColor(linearMap(data.get(valueDim, idx), valueExtent, [0, 1], true)));\n          }\n\n          pointer.z2EmphasisLift = 0;\n          setStatesStylesFromModel(pointer, itemModel);\n          toggleHoverEmphasis(pointer, focus, blurScope, emphasisDisabled);\n        }\n\n        if (showProgress) {\n          var progress = progressList[idx];\n          progress.useStyle(data.getItemVisual(idx, 'style'));\n          progress.setStyle(itemModel.getModel(['progress', 'itemStyle']).getItemStyle());\n          progress.z2EmphasisLift = 0;\n          setStatesStylesFromModel(progress, itemModel);\n          toggleHoverEmphasis(progress, focus, blurScope, emphasisDisabled);\n        }\n      });\n      this._progressEls = progressList;\n    }\n  };\n\n  GaugeView.prototype._renderAnchor = function (seriesModel, posInfo) {\n    var anchorModel = seriesModel.getModel('anchor');\n    var showAnchor = anchorModel.get('show');\n\n    if (showAnchor) {\n      var anchorSize = anchorModel.get('size');\n      var anchorType = anchorModel.get('icon');\n      var offsetCenter = anchorModel.get('offsetCenter');\n      var anchorKeepAspect = anchorModel.get('keepAspect');\n      var anchor = createSymbol(anchorType, posInfo.cx - anchorSize / 2 + parsePercent(offsetCenter[0], posInfo.r), posInfo.cy - anchorSize / 2 + parsePercent(offsetCenter[1], posInfo.r), anchorSize, anchorSize, null, anchorKeepAspect);\n      anchor.z2 = anchorModel.get('showAbove') ? 1 : 0;\n      anchor.setStyle(anchorModel.getModel('itemStyle').getItemStyle());\n      this.group.add(anchor);\n    }\n  };\n\n  GaugeView.prototype._renderTitleAndDetail = function (seriesModel, ecModel, api, getColor, posInfo) {\n    var _this = this;\n\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var contentGroup = new graphic.Group();\n    var newTitleEls = [];\n    var newDetailEls = [];\n    var hasAnimation = seriesModel.isAnimationEnabled();\n    var showPointerAbove = seriesModel.get(['pointer', 'showAbove']);\n    data.diff(this._data).add(function (idx) {\n      newTitleEls[idx] = new graphic.Text({\n        silent: true\n      });\n      newDetailEls[idx] = new graphic.Text({\n        silent: true\n      });\n    }).update(function (idx, oldIdx) {\n      newTitleEls[idx] = _this._titleEls[oldIdx];\n      newDetailEls[idx] = _this._detailEls[oldIdx];\n    }).execute();\n    data.each(function (idx) {\n      var itemModel = data.getItemModel(idx);\n      var value = data.get(valueDim, idx);\n      var itemGroup = new graphic.Group();\n      var autoColor = getColor(linearMap(value, [minVal, maxVal], [0, 1], true));\n      var itemTitleModel = itemModel.getModel('title');\n\n      if (itemTitleModel.get('show')) {\n        var titleOffsetCenter = itemTitleModel.get('offsetCenter');\n        var titleX = posInfo.cx + parsePercent(titleOffsetCenter[0], posInfo.r);\n        var titleY = posInfo.cy + parsePercent(titleOffsetCenter[1], posInfo.r);\n        var labelEl = newTitleEls[idx];\n        labelEl.attr({\n          z2: showPointerAbove ? 0 : 2,\n          style: createTextStyle(itemTitleModel, {\n            x: titleX,\n            y: titleY,\n            text: data.getName(idx),\n            align: 'center',\n            verticalAlign: 'middle'\n          }, {\n            inheritColor: autoColor\n          })\n        });\n        itemGroup.add(labelEl);\n      }\n\n      var itemDetailModel = itemModel.getModel('detail');\n\n      if (itemDetailModel.get('show')) {\n        var detailOffsetCenter = itemDetailModel.get('offsetCenter');\n        var detailX = posInfo.cx + parsePercent(detailOffsetCenter[0], posInfo.r);\n        var detailY = posInfo.cy + parsePercent(detailOffsetCenter[1], posInfo.r);\n        var width = parsePercent(itemDetailModel.get('width'), posInfo.r);\n        var height = parsePercent(itemDetailModel.get('height'), posInfo.r);\n        var detailColor = seriesModel.get(['progress', 'show']) ? data.getItemVisual(idx, 'style').fill : autoColor;\n        var labelEl = newDetailEls[idx];\n        var formatter_1 = itemDetailModel.get('formatter');\n        labelEl.attr({\n          z2: showPointerAbove ? 0 : 2,\n          style: createTextStyle(itemDetailModel, {\n            x: detailX,\n            y: detailY,\n            text: formatLabel(value, formatter_1),\n            width: isNaN(width) ? null : width,\n            height: isNaN(height) ? null : height,\n            align: 'center',\n            verticalAlign: 'middle'\n          }, {\n            inheritColor: detailColor\n          })\n        });\n        setLabelValueAnimation(labelEl, {\n          normal: itemDetailModel\n        }, value, function (value) {\n          return formatLabel(value, formatter_1);\n        });\n        hasAnimation && animateLabelValue(labelEl, idx, data, seriesModel, {\n          getFormattedLabel: function (labelDataIndex, status, dataType, labelDimIndex, fmt, extendParams) {\n            return formatLabel(extendParams ? extendParams.interpolatedValue : value, formatter_1);\n          }\n        });\n        itemGroup.add(labelEl);\n      }\n\n      contentGroup.add(itemGroup);\n    });\n    this.group.add(contentGroup);\n    this._titleEls = newTitleEls;\n    this._detailEls = newDetailEls;\n  };\n\n  GaugeView.type = 'gauge';\n  return GaugeView;\n}(ChartView);\n\nexport default GaugeView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesDataSimply from '../helper/createSeriesDataSimply.js';\nimport SeriesModel from '../../model/Series.js';\n\nvar GaugeSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(GaugeSeriesModel, _super);\n\n  function GaugeSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = GaugeSeriesModel.type;\n    _this.visualStyleAccessPath = 'itemStyle';\n    return _this;\n  }\n\n  GaugeSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesDataSimply(this, ['value']);\n  };\n\n  GaugeSeriesModel.type = 'series.gauge';\n  GaugeSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    colorBy: 'data',\n    // 默认全局居中\n    center: ['50%', '50%'],\n    legendHoverLink: true,\n    radius: '75%',\n    startAngle: 225,\n    endAngle: -45,\n    clockwise: true,\n    // 最小值\n    min: 0,\n    // 最大值\n    max: 100,\n    // 分割段数，默认为10\n    splitNumber: 10,\n    // 坐标轴线\n    axisLine: {\n      // 默认显示，属性show控制显示与否\n      show: true,\n      roundCap: false,\n      lineStyle: {\n        color: [[1, '#E6EBF8']],\n        width: 10\n      }\n    },\n    // 坐标轴线\n    progress: {\n      // 默认显示，属性show控制显示与否\n      show: false,\n      overlap: true,\n      width: 10,\n      roundCap: false,\n      clip: true\n    },\n    // 分隔线\n    splitLine: {\n      // 默认显示，属性show控制显示与否\n      show: true,\n      // 属性length控制线长\n      length: 10,\n      distance: 10,\n      // 属性lineStyle（详见lineStyle）控制线条样式\n      lineStyle: {\n        color: '#63677A',\n        width: 3,\n        type: 'solid'\n      }\n    },\n    // 坐标轴小标记\n    axisTick: {\n      // 属性show控制显示与否，默认不显示\n      show: true,\n      // 每份split细分多少段\n      splitNumber: 5,\n      // 属性length控制线长\n      length: 6,\n      distance: 10,\n      // 属性lineStyle控制线条样式\n      lineStyle: {\n        color: '#63677A',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    axisLabel: {\n      show: true,\n      distance: 15,\n      // formatter: null,\n      color: '#464646',\n      fontSize: 12,\n      rotate: 0\n    },\n    pointer: {\n      icon: null,\n      offsetCenter: [0, 0],\n      show: true,\n      showAbove: true,\n      length: '60%',\n      width: 6,\n      keepAspect: false\n    },\n    anchor: {\n      show: false,\n      showAbove: false,\n      size: 6,\n      icon: 'circle',\n      offsetCenter: [0, 0],\n      keepAspect: false,\n      itemStyle: {\n        color: '#fff',\n        borderWidth: 0,\n        borderColor: '#5470c6'\n      }\n    },\n    title: {\n      show: true,\n      // x, y，单位px\n      offsetCenter: [0, '20%'],\n      // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n      color: '#464646',\n      fontSize: 16,\n      valueAnimation: false\n    },\n    detail: {\n      show: true,\n      backgroundColor: 'rgba(0,0,0,0)',\n      borderWidth: 0,\n      borderColor: '#ccc',\n      width: 100,\n      height: null,\n      padding: [5, 10],\n      // x, y，单位px\n      offsetCenter: [0, '40%'],\n      // formatter: null,\n      // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n      color: '#464646',\n      fontSize: 30,\n      fontWeight: 'bold',\n      lineHeight: 30,\n      valueAnimation: false\n    }\n  };\n  return GaugeSeriesModel;\n}(SeriesModel);\n\nexport default GaugeSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport GaugeView from './GaugeView.js';\nimport GaugeSeriesModel from './GaugeSeries.js';\nexport function install(registers) {\n  registers.registerChartView(GaugeView);\n  registers.registerSeriesModel(GaugeSeriesModel);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isNumber } from 'zrender/lib/core/util.js';\nexport default function categoryFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (!legendModels || !legendModels.length) {\n    return;\n  }\n\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var categoriesData = graphSeries.getCategoriesData();\n    var graph = graphSeries.getGraph();\n    var data = graph.data;\n    var categoryNames = categoriesData.mapArray(categoriesData.getName);\n    data.filterSelf(function (idx) {\n      var model = data.getItemModel(idx);\n      var category = model.getShallow('category');\n\n      if (category != null) {\n        if (isNumber(category)) {\n          category = categoryNames[category];\n        } // If in any legend component the status is not selected.\n\n\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(category)) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, isString } from 'zrender/lib/core/util.js';\nexport default function categoryVisual(ecModel) {\n  var paletteScope = {};\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var categoriesData = seriesModel.getCategoriesData();\n    var data = seriesModel.getData();\n    var categoryNameIdxMap = {};\n    categoriesData.each(function (idx) {\n      var name = categoriesData.getName(idx); // Add prefix to avoid conflict with Object.prototype.\n\n      categoryNameIdxMap['ec-' + name] = idx;\n      var itemModel = categoriesData.getItemModel(idx);\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n\n      if (!style.fill) {\n        // Get color from palette.\n        style.fill = seriesModel.getColorFromPalette(name, paletteScope);\n      }\n\n      categoriesData.setItemVisual(idx, 'style', style);\n      var symbolVisualList = ['symbol', 'symbolSize', 'symbolKeepAspect'];\n\n      for (var i = 0; i < symbolVisualList.length; i++) {\n        var symbolVisual = itemModel.getShallow(symbolVisualList[i], true);\n\n        if (symbolVisual != null) {\n          categoriesData.setItemVisual(idx, symbolVisualList[i], symbolVisual);\n        }\n      }\n    }); // Assign category color to visual\n\n    if (categoriesData.count()) {\n      data.each(function (idx) {\n        var model = data.getItemModel(idx);\n        var categoryIdx = model.getShallow('category');\n\n        if (categoryIdx != null) {\n          if (isString(categoryIdx)) {\n            categoryIdx = categoryNameIdxMap['ec-' + categoryIdx];\n          }\n\n          var categoryStyle = categoriesData.getItemVisual(categoryIdx, 'style');\n          var style = data.ensureUniqueItemVisual(idx, 'style');\n          extend(style, categoryStyle);\n          var visualList = ['symbol', 'symbolSize', 'symbolKeepAspect'];\n\n          for (var i = 0; i < visualList.length; i++) {\n            data.setItemVisual(idx, visualList[i], categoriesData.getItemVisual(categoryIdx, visualList[i]));\n          }\n        }\n      });\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util.js';\n\nfunction normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n\n  return a;\n}\n\nexport default function graphEdgeVisual(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var edgeData = seriesModel.getEdgeData();\n    var symbolType = normalize(seriesModel.get('edgeSymbol'));\n    var symbolSize = normalize(seriesModel.get('edgeSymbolSize')); // const colorQuery = ['lineStyle', 'color'] as const;\n    // const opacityQuery = ['lineStyle', 'opacity'] as const;\n\n    edgeData.setVisual('fromSymbol', symbolType && symbolType[0]);\n    edgeData.setVisual('toSymbol', symbolType && symbolType[1]);\n    edgeData.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    edgeData.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n    edgeData.setVisual('style', seriesModel.getModel('lineStyle').getLineStyle());\n    edgeData.each(function (idx) {\n      var itemModel = edgeData.getItemModel(idx);\n      var edge = graph.getEdgeByIndex(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true)); // Edge visual must after node visual\n\n      var style = itemModel.getModel('lineStyle').getLineStyle();\n      var existsStyle = edgeData.ensureUniqueItemVisual(idx, 'style');\n      extend(existsStyle, style);\n\n      switch (existsStyle.stroke) {\n        case 'source':\n          {\n            var nodeStyle = edge.node1.getVisual('style');\n            existsStyle.stroke = nodeStyle && nodeStyle.fill;\n            break;\n          }\n\n        case 'target':\n          {\n            var nodeStyle = edge.node2.getVisual('style');\n            existsStyle.stroke = nodeStyle && nodeStyle.fill;\n            break;\n          }\n      }\n\n      symbolType[0] && edge.setVisual('fromSymbol', symbolType[0]);\n      symbolType[1] && edge.setVisual('toSymbol', symbolType[1]);\n      symbolSize[0] && edge.setVisual('fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && edge.setVisual('toSymbolSize', symbolSize[1]);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper.js';\nexport function simpleLayout(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n\n  var graph = seriesModel.getGraph();\n  graph.eachNode(function (node) {\n    var model = node.getModel();\n    node.setLayout([+model.get('x'), +model.get('y')]);\n  });\n  simpleLayoutEdge(graph, seriesModel);\n}\nexport function simpleLayoutEdge(graph, seriesModel) {\n  graph.eachEdge(function (edge, index) {\n    var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), -getCurvenessForEdge(edge, seriesModel, index, true), 0);\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var points = [p1, p2];\n\n    if (+curveness) {\n      points.push([(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * curveness]);\n    }\n\n    edge.setLayout(points);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each } from 'zrender/lib/core/util.js';\nimport { simpleLayout, simpleLayoutEdge } from './simpleLayoutHelper.js';\nexport default function graphSimpleLayout(ecModel, api) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var layout = seriesModel.get('layout');\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.type !== 'view') {\n      var data_1 = seriesModel.getData();\n      var dimensions_1 = [];\n      each(coordSys.dimensions, function (coordDim) {\n        dimensions_1 = dimensions_1.concat(data_1.mapDimensionsAll(coordDim));\n      });\n\n      for (var dataIndex = 0; dataIndex < data_1.count(); dataIndex++) {\n        var value = [];\n        var hasValue = false;\n\n        for (var i = 0; i < dimensions_1.length; i++) {\n          var val = data_1.get(dimensions_1[i], dataIndex);\n\n          if (!isNaN(val)) {\n            hasValue = true;\n          }\n\n          value.push(val);\n        }\n\n        if (hasValue) {\n          data_1.setItemLayout(dataIndex, coordSys.dataToPoint(value));\n        } else {\n          // Also {Array.<number>}, not undefined to avoid if...else... statement\n          data_1.setItemLayout(dataIndex, [NaN, NaN]);\n        }\n      }\n\n      simpleLayoutEdge(data_1.graph, seriesModel);\n    } else if (!layout || layout === 'none') {\n      simpleLayout(seriesModel);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function getNodeGlobalScale(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys.type !== 'view') {\n    return 1;\n  }\n\n  var nodeScaleRatio = seriesModel.option.nodeScaleRatio;\n  var groupZoom = coordSys.scaleX; // Scale node when zoom changes\n\n  var roamZoom = coordSys.getZoom();\n  var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n  return nodeScale / groupZoom;\n}\nexport function getSymbolSize(node) {\n  var symbolSize = node.getVisual('symbolSize');\n\n  if (symbolSize instanceof Array) {\n    symbolSize = (symbolSize[0] + symbolSize[1]) / 2;\n  }\n\n  return +symbolSize;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport { getSymbolSize, getNodeGlobalScale } from './graphHelper.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper.js';\nvar PI = Math.PI;\nvar _symbolRadiansHalf = [];\n/**\n * `basedOn` can be:\n * 'value':\n *     This layout is not accurate and have same bad case. For example,\n *     if the min value is very smaller than the max value, the nodes\n *     with the min value probably overlap even though there is enough\n *     space to layout them. So we only use this approach in the as the\n *     init layout of the force layout.\n *     FIXME\n *     Probably we do not need this method any more but use\n *     `basedOn: 'symbolSize'` in force layout if\n *     delay its init operations to GraphView.\n * 'symbolSize':\n *     This approach work only if all of the symbol size calculated.\n *     That is, the progressive rendering is not applied to graph.\n *     FIXME\n *     If progressive rendering is applied to graph some day,\n *     probably we have to use `basedOn: 'value'`.\n */\n\nexport function circularLayout(seriesModel, basedOn, draggingNode, pointer) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n\n  var rect = coordSys.getBoundingRect();\n  var nodeData = seriesModel.getData();\n  var graph = nodeData.graph;\n  var cx = rect.width / 2 + rect.x;\n  var cy = rect.height / 2 + rect.y;\n  var r = Math.min(rect.width, rect.height) / 2;\n  var count = nodeData.count();\n  nodeData.setLayout({\n    cx: cx,\n    cy: cy\n  });\n\n  if (!count) {\n    return;\n  }\n\n  if (draggingNode) {\n    var _a = coordSys.pointToData(pointer),\n        tempX = _a[0],\n        tempY = _a[1];\n\n    var v = [tempX - cx, tempY - cy];\n    vec2.normalize(v, v);\n    vec2.scale(v, v, r);\n    draggingNode.setLayout([cx + v[0], cy + v[1]], true);\n    var circularRotateLabel = seriesModel.get(['circular', 'rotateLabel']);\n    rotateNodeLabel(draggingNode, circularRotateLabel, cx, cy);\n  }\n\n  _layoutNodesBasedOn[basedOn](seriesModel, graph, nodeData, r, cx, cy, count);\n\n  graph.eachEdge(function (edge, index) {\n    var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), getCurvenessForEdge(edge, seriesModel, index), 0);\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var cp1;\n    var x12 = (p1[0] + p2[0]) / 2;\n    var y12 = (p1[1] + p2[1]) / 2;\n\n    if (+curveness) {\n      curveness *= 3;\n      cp1 = [cx * curveness + x12 * (1 - curveness), cy * curveness + y12 * (1 - curveness)];\n    }\n\n    edge.setLayout([p1, p2, cp1]);\n  });\n}\nvar _layoutNodesBasedOn = {\n  value: function (seriesModel, graph, nodeData, r, cx, cy, count) {\n    var angle = 0;\n    var sum = nodeData.getSum('value');\n    var unitAngle = Math.PI * 2 / (sum || count);\n    graph.eachNode(function (node) {\n      var value = node.getValue('value');\n      var radianHalf = unitAngle * (sum ? value : 1) / 2;\n      angle += radianHalf;\n      node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n      angle += radianHalf;\n    });\n  },\n  symbolSize: function (seriesModel, graph, nodeData, r, cx, cy, count) {\n    var sumRadian = 0;\n    _symbolRadiansHalf.length = count;\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    graph.eachNode(function (node) {\n      var symbolSize = getSymbolSize(node); // Normally this case will not happen, but we still add\n      // some the defensive code (2px is an arbitrary value).\n\n      isNaN(symbolSize) && (symbolSize = 2);\n      symbolSize < 0 && (symbolSize = 0);\n      symbolSize *= nodeScale;\n      var symbolRadianHalf = Math.asin(symbolSize / 2 / r); // when `symbolSize / 2` is bigger than `r`.\n\n      isNaN(symbolRadianHalf) && (symbolRadianHalf = PI / 2);\n      _symbolRadiansHalf[node.dataIndex] = symbolRadianHalf;\n      sumRadian += symbolRadianHalf * 2;\n    });\n    var halfRemainRadian = (2 * PI - sumRadian) / count / 2;\n    var angle = 0;\n    graph.eachNode(function (node) {\n      var radianHalf = halfRemainRadian + _symbolRadiansHalf[node.dataIndex];\n      angle += radianHalf; // init circular layout for\n      // 1. layout undefined node\n      // 2. not fixed node\n\n      (!node.getLayout() || !node.getLayout().fixed) && node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n      angle += radianHalf;\n    });\n  }\n};\nexport function rotateNodeLabel(node, circularRotateLabel, cx, cy) {\n  var el = node.getGraphicEl(); // need to check if el exists. '-' value may not create node element.\n\n  if (!el) {\n    return;\n  }\n\n  var nodeModel = node.getModel();\n  var labelRotate = nodeModel.get(['label', 'rotate']) || 0;\n  var symbolPath = el.getSymbolPath();\n\n  if (circularRotateLabel) {\n    var pos = node.getLayout();\n    var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n\n    if (rad < 0) {\n      rad = Math.PI * 2 + rad;\n    }\n\n    var isLeft = pos[0] < cx;\n\n    if (isLeft) {\n      rad = rad - Math.PI;\n    }\n\n    var textPosition = isLeft ? 'left' : 'right';\n    symbolPath.setTextConfig({\n      rotation: -rad,\n      position: textPosition,\n      origin: 'center'\n    });\n    var emphasisState = symbolPath.ensureState('emphasis');\n    zrUtil.extend(emphasisState.textConfig || (emphasisState.textConfig = {}), {\n      position: textPosition\n    });\n  } else {\n    symbolPath.setTextConfig({\n      rotation: labelRotate *= Math.PI / 180\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { circularLayout } from './circularLayoutHelper.js';\nexport default function graphCircularLayout(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    if (seriesModel.get('layout') === 'circular') {\n      circularLayout(seriesModel, 'symbolSize');\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* A third-party license is embedded for some of the code in this file:\n* Some formulas were originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment of the method \"step\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nimport * as vec2 from 'zrender/lib/core/vector.js';\nvar scaleAndAdd = vec2.scaleAndAdd; // function adjacentNode(n, e) {\n//     return e.n1 === n ? e.n2 : e.n1;\n// }\n\nexport function forceLayout(inNodes, inEdges, opts) {\n  var nodes = inNodes;\n  var edges = inEdges;\n  var rect = opts.rect;\n  var width = rect.width;\n  var height = rect.height;\n  var center = [rect.x + width / 2, rect.y + height / 2]; // let scale = opts.scale || 1;\n\n  var gravity = opts.gravity == null ? 0.1 : opts.gravity; // for (let i = 0; i < edges.length; i++) {\n  //     let e = edges[i];\n  //     let n1 = e.n1;\n  //     let n2 = e.n2;\n  //     n1.edges = n1.edges || [];\n  //     n2.edges = n2.edges || [];\n  //     n1.edges.push(e);\n  //     n2.edges.push(e);\n  // }\n  // Init position\n\n  for (var i = 0; i < nodes.length; i++) {\n    var n = nodes[i];\n\n    if (!n.p) {\n      n.p = vec2.create(width * (Math.random() - 0.5) + center[0], height * (Math.random() - 0.5) + center[1]);\n    }\n\n    n.pp = vec2.clone(n.p);\n    n.edges = null;\n  } // Formula in 'Graph Drawing by Force-directed Placement'\n  // let k = scale * Math.sqrt(width * height / nodes.length);\n  // let k2 = k * k;\n\n\n  var initialFriction = opts.friction == null ? 0.6 : opts.friction;\n  var friction = initialFriction;\n  var beforeStepCallback;\n  var afterStepCallback;\n  return {\n    warmUp: function () {\n      friction = initialFriction * 0.8;\n    },\n    setFixed: function (idx) {\n      nodes[idx].fixed = true;\n    },\n    setUnfixed: function (idx) {\n      nodes[idx].fixed = false;\n    },\n\n    /**\n     * Before step hook\n     */\n    beforeStep: function (cb) {\n      beforeStepCallback = cb;\n    },\n\n    /**\n     * After step hook\n     */\n    afterStep: function (cb) {\n      afterStepCallback = cb;\n    },\n\n    /**\n     * Some formulas were originally copied from \"d3.js\"\n     * https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/layout/force.js\n     * with some modifications made for this project.\n     * See the license statement at the head of this file.\n     */\n    step: function (cb) {\n      beforeStepCallback && beforeStepCallback(nodes, edges);\n      var v12 = [];\n      var nLen = nodes.length;\n\n      for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n\n        if (e.ignoreForceLayout) {\n          continue;\n        }\n\n        var n1 = e.n1;\n        var n2 = e.n2;\n        vec2.sub(v12, n2.p, n1.p);\n        var d = vec2.len(v12) - e.d;\n        var w = n2.w / (n1.w + n2.w);\n\n        if (isNaN(w)) {\n          w = 0;\n        }\n\n        vec2.normalize(v12, v12);\n        !n1.fixed && scaleAndAdd(n1.p, n1.p, v12, w * d * friction);\n        !n2.fixed && scaleAndAdd(n2.p, n2.p, v12, -(1 - w) * d * friction);\n      } // Gravity\n\n\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n\n        if (!n.fixed) {\n          vec2.sub(v12, center, n.p); // let d = vec2.len(v12);\n          // vec2.scale(v12, v12, 1 / d);\n          // let gravityFactor = gravity;\n\n          scaleAndAdd(n.p, n.p, v12, gravity * friction);\n        }\n      } // Repulsive\n      // PENDING\n\n\n      for (var i = 0; i < nLen; i++) {\n        var n1 = nodes[i];\n\n        for (var j = i + 1; j < nLen; j++) {\n          var n2 = nodes[j];\n          vec2.sub(v12, n2.p, n1.p);\n          var d = vec2.len(v12);\n\n          if (d === 0) {\n            // Random repulse\n            vec2.set(v12, Math.random() - 0.5, Math.random() - 0.5);\n            d = 1;\n          }\n\n          var repFact = (n1.rep + n2.rep) / d / d;\n          !n1.fixed && scaleAndAdd(n1.pp, n1.pp, v12, repFact);\n          !n2.fixed && scaleAndAdd(n2.pp, n2.pp, v12, -repFact);\n        }\n      }\n\n      var v = [];\n\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n\n        if (!n.fixed) {\n          vec2.sub(v, n.p, n.pp);\n          scaleAndAdd(n.p, n.p, v, friction);\n          vec2.copy(n.pp, n.p);\n        }\n      }\n\n      friction = friction * 0.992;\n      var finished = friction < 0.01;\n      afterStepCallback && afterStepCallback(nodes, edges, finished);\n      cb && cb(finished);\n    }\n  };\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { forceLayout } from './forceHelper.js';\nimport { simpleLayout } from './simpleLayoutHelper.js';\nimport { circularLayout } from './circularLayoutHelper.js';\nimport { linearMap } from '../../util/number.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper.js';\nexport default function graphForceLayout(ecModel) {\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var coordSys = graphSeries.coordinateSystem;\n\n    if (coordSys && coordSys.type !== 'view') {\n      return;\n    }\n\n    if (graphSeries.get('layout') === 'force') {\n      var preservedPoints_1 = graphSeries.preservedPoints || {};\n      var graph_1 = graphSeries.getGraph();\n      var nodeData_1 = graph_1.data;\n      var edgeData = graph_1.edgeData;\n      var forceModel = graphSeries.getModel('force');\n      var initLayout = forceModel.get('initLayout');\n\n      if (graphSeries.preservedPoints) {\n        nodeData_1.each(function (idx) {\n          var id = nodeData_1.getId(idx);\n          nodeData_1.setItemLayout(idx, preservedPoints_1[id] || [NaN, NaN]);\n        });\n      } else if (!initLayout || initLayout === 'none') {\n        simpleLayout(graphSeries);\n      } else if (initLayout === 'circular') {\n        circularLayout(graphSeries, 'value');\n      }\n\n      var nodeDataExtent_1 = nodeData_1.getDataExtent('value');\n      var edgeDataExtent_1 = edgeData.getDataExtent('value'); // let edgeDataExtent = edgeData.getDataExtent('value');\n\n      var repulsion = forceModel.get('repulsion');\n      var edgeLength = forceModel.get('edgeLength');\n      var repulsionArr_1 = zrUtil.isArray(repulsion) ? repulsion : [repulsion, repulsion];\n      var edgeLengthArr_1 = zrUtil.isArray(edgeLength) ? edgeLength : [edgeLength, edgeLength]; // Larger value has smaller length\n\n      edgeLengthArr_1 = [edgeLengthArr_1[1], edgeLengthArr_1[0]];\n      var nodes_1 = nodeData_1.mapArray('value', function (value, idx) {\n        var point = nodeData_1.getItemLayout(idx);\n        var rep = linearMap(value, nodeDataExtent_1, repulsionArr_1);\n\n        if (isNaN(rep)) {\n          rep = (repulsionArr_1[0] + repulsionArr_1[1]) / 2;\n        }\n\n        return {\n          w: rep,\n          rep: rep,\n          fixed: nodeData_1.getItemModel(idx).get('fixed'),\n          p: !point || isNaN(point[0]) || isNaN(point[1]) ? null : point\n        };\n      });\n      var edges = edgeData.mapArray('value', function (value, idx) {\n        var edge = graph_1.getEdgeByIndex(idx);\n        var d = linearMap(value, edgeDataExtent_1, edgeLengthArr_1);\n\n        if (isNaN(d)) {\n          d = (edgeLengthArr_1[0] + edgeLengthArr_1[1]) / 2;\n        }\n\n        var edgeModel = edge.getModel();\n        var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), -getCurvenessForEdge(edge, graphSeries, idx, true), 0);\n        return {\n          n1: nodes_1[edge.node1.dataIndex],\n          n2: nodes_1[edge.node2.dataIndex],\n          d: d,\n          curveness: curveness,\n          ignoreForceLayout: edgeModel.get('ignoreForceLayout')\n        };\n      }); // let coordSys = graphSeries.coordinateSystem;\n\n      var rect = coordSys.getBoundingRect();\n      var forceInstance = forceLayout(nodes_1, edges, {\n        rect: rect,\n        gravity: forceModel.get('gravity'),\n        friction: forceModel.get('friction')\n      });\n      forceInstance.beforeStep(function (nodes, edges) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (nodes[i].fixed) {\n            // Write back to layout instance\n            vec2.copy(nodes[i].p, graph_1.getNodeByIndex(i).getLayout());\n          }\n        }\n      });\n      forceInstance.afterStep(function (nodes, edges, stopped) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (!nodes[i].fixed) {\n            graph_1.getNodeByIndex(i).setLayout(nodes[i].p);\n          }\n\n          preservedPoints_1[nodeData_1.getId(i)] = nodes[i].p;\n        }\n\n        for (var i = 0, l = edges.length; i < l; i++) {\n          var e = edges[i];\n          var edge = graph_1.getEdgeByIndex(i);\n          var p1 = e.n1.p;\n          var p2 = e.n2.p;\n          var points = edge.getLayout();\n          points = points ? points.slice() : [];\n          points[0] = points[0] || [];\n          points[1] = points[1] || [];\n          vec2.copy(points[0], p1);\n          vec2.copy(points[1], p2);\n\n          if (+e.curveness) {\n            points[2] = [(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * e.curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * e.curveness];\n          }\n\n          edge.setLayout(points);\n        }\n      });\n      graphSeries.forceLayout = forceInstance;\n      graphSeries.preservedPoints = preservedPoints_1; // Step to get the layout\n\n      forceInstance.step();\n    } else {\n      // Remove prev injected forceLayout instance\n      graphSeries.forceLayout = null;\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME Where to create the simple view coordinate system\nimport View from '../../coord/View.js';\nimport { getLayoutRect } from '../../util/layout.js';\nimport * as bbox from 'zrender/lib/core/bbox.js';\nimport { extend } from 'zrender/lib/core/util.js';\n\nfunction getViewRect(seriesModel, api, aspect) {\n  var option = extend(seriesModel.getBoxLayoutParams(), {\n    aspect: aspect\n  });\n  return getLayoutRect(option, {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nexport default function createViewCoordSys(ecModel, api) {\n  var viewList = [];\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var coordSysType = seriesModel.get('coordinateSystem');\n\n    if (!coordSysType || coordSysType === 'view') {\n      var data_1 = seriesModel.getData();\n      var positions = data_1.mapArray(function (idx) {\n        var itemModel = data_1.getItemModel(idx);\n        return [+itemModel.get('x'), +itemModel.get('y')];\n      });\n      var min = [];\n      var max = [];\n      bbox.fromPoints(positions, min, max); // If width or height is 0\n\n      if (max[0] - min[0] === 0) {\n        max[0] += 1;\n        min[0] -= 1;\n      }\n\n      if (max[1] - min[1] === 0) {\n        max[1] += 1;\n        min[1] -= 1;\n      }\n\n      var aspect = (max[0] - min[0]) / (max[1] - min[1]); // FIXME If get view rect after data processed?\n\n      var viewRect = getViewRect(seriesModel, api, aspect); // Position may be NaN, use view rect instead\n\n      if (isNaN(aspect)) {\n        min = [viewRect.x, viewRect.y];\n        max = [viewRect.x + viewRect.width, viewRect.y + viewRect.height];\n      }\n\n      var bbWidth = max[0] - min[0];\n      var bbHeight = max[1] - min[1];\n      var viewWidth = viewRect.width;\n      var viewHeight = viewRect.height;\n      var viewCoordSys = seriesModel.coordinateSystem = new View();\n      viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n      viewCoordSys.setBoundingRect(min[0], min[1], bbWidth, bbHeight);\n      viewCoordSys.setViewRect(viewRect.x, viewRect.y, viewWidth, viewHeight); // Update roam info\n\n      viewCoordSys.setCenter(seriesModel.get('center'), api);\n      viewCoordSys.setZoom(seriesModel.get('zoom'));\n      viewList.push(viewCoordSys);\n    }\n  });\n  return viewList;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as curveTool from 'zrender/lib/core/curve.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport { getSymbolSize } from './graphHelper.js';\nvar v1 = [];\nvar v2 = [];\nvar v3 = [];\nvar quadraticAt = curveTool.quadraticAt;\nvar v2DistSquare = vec2.distSquare;\nvar mathAbs = Math.abs;\n\nfunction intersectCurveCircle(curvePoints, center, radius) {\n  var p0 = curvePoints[0];\n  var p1 = curvePoints[1];\n  var p2 = curvePoints[2];\n  var d = Infinity;\n  var t;\n  var radiusSquare = radius * radius;\n  var interval = 0.1;\n\n  for (var _t = 0.1; _t <= 0.9; _t += 0.1) {\n    v1[0] = quadraticAt(p0[0], p1[0], p2[0], _t);\n    v1[1] = quadraticAt(p0[1], p1[1], p2[1], _t);\n    var diff = mathAbs(v2DistSquare(v1, center) - radiusSquare);\n\n    if (diff < d) {\n      d = diff;\n      t = _t;\n    }\n  } // Assume the segment is monotone，Find root through Bisection method\n  // At most 32 iteration\n\n\n  for (var i = 0; i < 32; i++) {\n    // let prev = t - interval;\n    var next = t + interval; // v1[0] = quadraticAt(p0[0], p1[0], p2[0], prev);\n    // v1[1] = quadraticAt(p0[1], p1[1], p2[1], prev);\n\n    v2[0] = quadraticAt(p0[0], p1[0], p2[0], t);\n    v2[1] = quadraticAt(p0[1], p1[1], p2[1], t);\n    v3[0] = quadraticAt(p0[0], p1[0], p2[0], next);\n    v3[1] = quadraticAt(p0[1], p1[1], p2[1], next);\n    var diff = v2DistSquare(v2, center) - radiusSquare;\n\n    if (mathAbs(diff) < 1e-2) {\n      break;\n    } // let prevDiff = v2DistSquare(v1, center) - radiusSquare;\n\n\n    var nextDiff = v2DistSquare(v3, center) - radiusSquare;\n    interval /= 2;\n\n    if (diff < 0) {\n      if (nextDiff >= 0) {\n        t = t + interval;\n      } else {\n        t = t - interval;\n      }\n    } else {\n      if (nextDiff >= 0) {\n        t = t - interval;\n      } else {\n        t = t + interval;\n      }\n    }\n  }\n\n  return t;\n} // Adjust edge to avoid\n\n\nexport default function adjustEdge(graph, scale) {\n  var tmp0 = [];\n  var quadraticSubdivide = curveTool.quadraticSubdivide;\n  var pts = [[], [], []];\n  var pts2 = [[], []];\n  var v = [];\n  scale /= 2;\n  graph.eachEdge(function (edge, idx) {\n    var linePoints = edge.getLayout();\n    var fromSymbol = edge.getVisual('fromSymbol');\n    var toSymbol = edge.getVisual('toSymbol');\n\n    if (!linePoints.__original) {\n      linePoints.__original = [vec2.clone(linePoints[0]), vec2.clone(linePoints[1])];\n\n      if (linePoints[2]) {\n        linePoints.__original.push(vec2.clone(linePoints[2]));\n      }\n    }\n\n    var originalPoints = linePoints.__original; // Quadratic curve\n\n    if (linePoints[2] != null) {\n      vec2.copy(pts[0], originalPoints[0]);\n      vec2.copy(pts[1], originalPoints[2]);\n      vec2.copy(pts[2], originalPoints[1]);\n\n      if (fromSymbol && fromSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node1);\n        var t = intersectCurveCircle(pts, originalPoints[0], symbolSize * scale); // Subdivide and get the second\n\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[0][0] = tmp0[3];\n        pts[1][0] = tmp0[4];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[0][1] = tmp0[3];\n        pts[1][1] = tmp0[4];\n      }\n\n      if (toSymbol && toSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node2);\n        var t = intersectCurveCircle(pts, originalPoints[1], symbolSize * scale); // Subdivide and get the first\n\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[1][0] = tmp0[1];\n        pts[2][0] = tmp0[2];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[1][1] = tmp0[1];\n        pts[2][1] = tmp0[2];\n      } // Copy back to layout\n\n\n      vec2.copy(linePoints[0], pts[0]);\n      vec2.copy(linePoints[1], pts[2]);\n      vec2.copy(linePoints[2], pts[1]);\n    } // Line\n    else {\n        vec2.copy(pts2[0], originalPoints[0]);\n        vec2.copy(pts2[1], originalPoints[1]);\n        vec2.sub(v, pts2[1], pts2[0]);\n        vec2.normalize(v, v);\n\n        if (fromSymbol && fromSymbol !== 'none') {\n          var symbolSize = getSymbolSize(edge.node1);\n          vec2.scaleAndAdd(pts2[0], pts2[0], v, symbolSize * scale);\n        }\n\n        if (toSymbol && toSymbol !== 'none') {\n          var symbolSize = getSymbolSize(edge.node2);\n          vec2.scaleAndAdd(pts2[1], pts2[1], v, -symbolSize * scale);\n        }\n\n        vec2.copy(linePoints[0], pts2[0]);\n        vec2.copy(linePoints[1], pts2[1]);\n      }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport LineDraw from '../helper/LineDraw.js';\nimport RoamController from '../../component/helper/RoamController.js';\nimport * as roamHelper from '../../component/helper/roamHelper.js';\nimport { onIrrelevantElement } from '../../component/helper/cursorHelper.js';\nimport * as graphic from '../../util/graphic.js';\nimport adjustEdge from './adjustEdge.js';\nimport { getNodeGlobalScale } from './graphHelper.js';\nimport ChartView from '../../view/Chart.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { simpleLayoutEdge } from './simpleLayoutHelper.js';\nimport { circularLayout, rotateNodeLabel } from './circularLayoutHelper.js';\n\nfunction isViewCoordSys(coordSys) {\n  return coordSys.type === 'view';\n}\n\nvar GraphView =\n/** @class */\nfunction (_super) {\n  __extends(GraphView, _super);\n\n  function GraphView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = GraphView.type;\n    return _this;\n  }\n\n  GraphView.prototype.init = function (ecModel, api) {\n    var symbolDraw = new SymbolDraw();\n    var lineDraw = new LineDraw();\n    var group = this.group;\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: group\n    };\n    group.add(symbolDraw.group);\n    group.add(lineDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineDraw = lineDraw;\n    this._firstRender = true;\n  };\n\n  GraphView.prototype.render = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var coordSys = seriesModel.coordinateSystem;\n    this._model = seriesModel;\n    var symbolDraw = this._symbolDraw;\n    var lineDraw = this._lineDraw;\n    var group = this.group;\n\n    if (isViewCoordSys(coordSys)) {\n      var groupNewProp = {\n        x: coordSys.x,\n        y: coordSys.y,\n        scaleX: coordSys.scaleX,\n        scaleY: coordSys.scaleY\n      };\n\n      if (this._firstRender) {\n        group.attr(groupNewProp);\n      } else {\n        graphic.updateProps(group, groupNewProp, seriesModel);\n      }\n    } // Fix edge contact point with node\n\n\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    var data = seriesModel.getData();\n    symbolDraw.updateData(data);\n    var edgeData = seriesModel.getEdgeData(); // TODO: TYPE\n\n    lineDraw.updateData(edgeData);\n\n    this._updateNodeAndLinkScale();\n\n    this._updateController(seriesModel, ecModel, api);\n\n    clearTimeout(this._layoutTimeout);\n    var forceLayout = seriesModel.forceLayout;\n    var layoutAnimation = seriesModel.get(['force', 'layoutAnimation']);\n\n    if (forceLayout) {\n      this._startForceLayoutIteration(forceLayout, layoutAnimation);\n    }\n\n    var layout = seriesModel.get('layout');\n    data.graph.eachNode(function (node) {\n      var idx = node.dataIndex;\n      var el = node.getGraphicEl();\n      var itemModel = node.getModel();\n\n      if (!el) {\n        return;\n      } // Update draggable\n\n\n      el.off('drag').off('dragend');\n      var draggable = itemModel.get('draggable');\n\n      if (draggable) {\n        el.on('drag', function (e) {\n          switch (layout) {\n            case 'force':\n              forceLayout.warmUp();\n              !_this._layouting && _this._startForceLayoutIteration(forceLayout, layoutAnimation);\n              forceLayout.setFixed(idx); // Write position back to layout\n\n              data.setItemLayout(idx, [el.x, el.y]);\n              break;\n\n            case 'circular':\n              data.setItemLayout(idx, [el.x, el.y]); // mark node fixed\n\n              node.setLayout({\n                fixed: true\n              }, true); // recalculate circular layout\n\n              circularLayout(seriesModel, 'symbolSize', node, [e.offsetX, e.offsetY]);\n\n              _this.updateLayout(seriesModel);\n\n              break;\n\n            case 'none':\n            default:\n              data.setItemLayout(idx, [el.x, el.y]); // update edge\n\n              simpleLayoutEdge(seriesModel.getGraph(), seriesModel);\n\n              _this.updateLayout(seriesModel);\n\n              break;\n          }\n        }).on('dragend', function () {\n          if (forceLayout) {\n            forceLayout.setUnfixed(idx);\n          }\n        });\n      }\n\n      el.setDraggable(draggable, !!itemModel.get('cursor'));\n      var focus = itemModel.get(['emphasis', 'focus']);\n\n      if (focus === 'adjacency') {\n        getECData(el).focus = node.getAdjacentDataIndices();\n      }\n    });\n    data.graph.eachEdge(function (edge) {\n      var el = edge.getGraphicEl();\n      var focus = edge.getModel().get(['emphasis', 'focus']);\n\n      if (!el) {\n        return;\n      }\n\n      if (focus === 'adjacency') {\n        getECData(el).focus = {\n          edge: [edge.dataIndex],\n          node: [edge.node1.dataIndex, edge.node2.dataIndex]\n        };\n      }\n    });\n    var circularRotateLabel = seriesModel.get('layout') === 'circular' && seriesModel.get(['circular', 'rotateLabel']);\n    var cx = data.getLayout('cx');\n    var cy = data.getLayout('cy');\n    data.graph.eachNode(function (node) {\n      rotateNodeLabel(node, circularRotateLabel, cx, cy);\n    });\n    this._firstRender = false;\n  };\n\n  GraphView.prototype.dispose = function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = null;\n  };\n\n  GraphView.prototype._startForceLayoutIteration = function (forceLayout, layoutAnimation) {\n    var self = this;\n\n    (function step() {\n      forceLayout.step(function (stopped) {\n        self.updateLayout(self._model);\n        (self._layouting = !stopped) && (layoutAnimation ? self._layoutTimeout = setTimeout(step, 16) : step());\n      });\n    })();\n  };\n\n  GraphView.prototype._updateController = function (seriesModel, ecModel, api) {\n    var _this = this;\n\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !onIrrelevantElement(e, api, seriesModel);\n    });\n\n    if (!isViewCoordSys(seriesModel.coordinateSystem)) {\n      controller.disable();\n      return;\n    }\n\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }).on('zoom', function (e) {\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n\n      _this._updateNodeAndLinkScale();\n\n      adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n\n      _this._lineDraw.updateLayout(); // Only update label layout on zoom\n\n\n      api.updateLabelLayout();\n    });\n  };\n\n  GraphView.prototype._updateNodeAndLinkScale = function () {\n    var seriesModel = this._model;\n    var data = seriesModel.getData();\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    data.eachItemGraphicEl(function (el, idx) {\n      el && el.setSymbolScale(nodeScale);\n    });\n  };\n\n  GraphView.prototype.updateLayout = function (seriesModel) {\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n\n    this._symbolDraw.updateLayout();\n\n    this._lineDraw.updateLayout();\n  };\n\n  GraphView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove();\n    this._lineDraw && this._lineDraw.remove();\n  };\n\n  GraphView.type = 'graph';\n  return GraphView;\n}(ChartView);\n\nexport default GraphView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesData from '../../data/SeriesData.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { defaultEmphasis } from '../../util/model.js';\nimport Model from '../../model/Model.js';\nimport createGraphFromNodeEdge from '../helper/createGraphFromNodeEdge.js';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider.js';\nimport SeriesModel from '../../model/Series.js';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup.js';\nimport { defaultSeriesFormatTooltip } from '../../component/tooltip/seriesFormatTooltip.js';\nimport { initCurvenessList, createEdgeMapForCurveness } from '../helper/multipleGraphEdgeHelper.js';\n\nvar GraphSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(GraphSeriesModel, _super);\n\n  function GraphSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = GraphSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n\n  GraphSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments);\n\n    var self = this;\n\n    function getCategoriesData() {\n      return self._categoriesData;\n    } // Provide data for legend select\n\n\n    this.legendVisualProvider = new LegendVisualProvider(getCategoriesData, getCategoriesData);\n    this.fillDataTextStyle(option.edges || option.links);\n\n    this._updateCategoriesData();\n  };\n\n  GraphSeriesModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n\n    this.fillDataTextStyle(option.edges || option.links);\n\n    this._updateCategoriesData();\n  };\n\n  GraphSeriesModel.prototype.mergeDefaultAndTheme = function (option) {\n    _super.prototype.mergeDefaultAndTheme.apply(this, arguments);\n\n    defaultEmphasis(option, 'edgeLabel', ['show']);\n  };\n\n  GraphSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    var edges = option.edges || option.links || [];\n    var nodes = option.data || option.nodes || [];\n    var self = this;\n\n    if (nodes && edges) {\n      // auto curveness\n      initCurvenessList(this);\n      var graph = createGraphFromNodeEdge(nodes, edges, this, true, beforeLink);\n      zrUtil.each(graph.edges, function (edge) {\n        createEdgeMapForCurveness(edge.node1, edge.node2, this, edge.dataIndex);\n      }, this);\n      return graph.data;\n    }\n\n    function beforeLink(nodeData, edgeData) {\n      // Overwrite nodeData.getItemModel to\n      nodeData.wrapMethod('getItemModel', function (model) {\n        var categoriesModels = self._categoriesModels;\n        var categoryIdx = model.getShallow('category');\n        var categoryModel = categoriesModels[categoryIdx];\n\n        if (categoryModel) {\n          categoryModel.parentModel = model.parentModel;\n          model.parentModel = categoryModel;\n        }\n\n        return model;\n      }); // TODO Inherit resolveParentPath by default in Model#getModel?\n\n      var oldGetModel = Model.prototype.getModel;\n\n      function newGetModel(path, parentModel) {\n        var model = oldGetModel.call(this, path, parentModel);\n        model.resolveParentPath = resolveParentPath;\n        return model;\n      }\n\n      edgeData.wrapMethod('getItemModel', function (model) {\n        model.resolveParentPath = resolveParentPath;\n        model.getModel = newGetModel;\n        return model;\n      });\n\n      function resolveParentPath(pathArr) {\n        if (pathArr && (pathArr[0] === 'label' || pathArr[1] === 'label')) {\n          var newPathArr = pathArr.slice();\n\n          if (pathArr[0] === 'label') {\n            newPathArr[0] = 'edgeLabel';\n          } else if (pathArr[1] === 'label') {\n            newPathArr[1] = 'edgeLabel';\n          }\n\n          return newPathArr;\n        }\n\n        return pathArr;\n      }\n    }\n  };\n\n  GraphSeriesModel.prototype.getGraph = function () {\n    return this.getData().graph;\n  };\n\n  GraphSeriesModel.prototype.getEdgeData = function () {\n    return this.getGraph().edgeData;\n  };\n\n  GraphSeriesModel.prototype.getCategoriesData = function () {\n    return this._categoriesData;\n  };\n\n  GraphSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    if (dataType === 'edge') {\n      var nodeData = this.getData();\n      var params = this.getDataParams(dataIndex, dataType);\n      var edge = nodeData.graph.getEdgeByIndex(dataIndex);\n      var sourceName = nodeData.getName(edge.node1.dataIndex);\n      var targetName = nodeData.getName(edge.node2.dataIndex);\n      var nameArr = [];\n      sourceName != null && nameArr.push(sourceName);\n      targetName != null && nameArr.push(targetName);\n      return createTooltipMarkup('nameValue', {\n        name: nameArr.join(' > '),\n        value: params.value,\n        noValue: params.value == null\n      });\n    } // dataType === 'node' or empty\n\n\n    var nodeMarkup = defaultSeriesFormatTooltip({\n      series: this,\n      dataIndex: dataIndex,\n      multipleSeries: multipleSeries\n    });\n    return nodeMarkup;\n  };\n\n  GraphSeriesModel.prototype._updateCategoriesData = function () {\n    var categories = zrUtil.map(this.option.categories || [], function (category) {\n      // Data must has value\n      return category.value != null ? category : zrUtil.extend({\n        value: 0\n      }, category);\n    });\n    var categoriesData = new SeriesData(['value'], this);\n    categoriesData.initData(categories);\n    this._categoriesData = categoriesData;\n    this._categoriesModels = categoriesData.mapArray(function (idx) {\n      return categoriesData.getItemModel(idx);\n    });\n  };\n\n  GraphSeriesModel.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n\n  GraphSeriesModel.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n\n  GraphSeriesModel.prototype.isAnimationEnabled = function () {\n    return _super.prototype.isAnimationEnabled.call(this) // Not enable animation when do force layout\n    && !(this.get('layout') === 'force' && this.get(['force', 'layoutAnimation']));\n  };\n\n  GraphSeriesModel.type = 'series.graph';\n  GraphSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'];\n  GraphSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    // Default option for all coordinate systems\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // geoIndex: 0,\n    legendHoverLink: true,\n    layout: null,\n    // Configuration of circular layout\n    circular: {\n      rotateLabel: false\n    },\n    // Configuration of force directed layout\n    force: {\n      initLayout: null,\n      // Node repulsion. Can be an array to represent range.\n      repulsion: [0, 50],\n      gravity: 0.1,\n      // Initial friction\n      friction: 0.6,\n      // Edge length. Can be an array to represent range.\n      edgeLength: 30,\n      layoutAnimation: true\n    },\n    left: 'center',\n    top: 'center',\n    // right: null,\n    // bottom: null,\n    // width: '80%',\n    // height: '80%',\n    symbol: 'circle',\n    symbolSize: 10,\n    edgeSymbol: ['none', 'none'],\n    edgeSymbolSize: 10,\n    edgeLabel: {\n      position: 'middle',\n      distance: 5\n    },\n    draggable: false,\n    roam: false,\n    // Default on center of graph\n    center: null,\n    zoom: 1,\n    // Symbol size scale ratio in roam\n    nodeScaleRatio: 0.6,\n    // cursor: null,\n    // categories: [],\n    // data: []\n    // Or\n    // nodes: []\n    //\n    // links: []\n    // Or\n    // edges: []\n    label: {\n      show: false,\n      formatter: '{b}'\n    },\n    itemStyle: {},\n    lineStyle: {\n      color: '#aaa',\n      width: 1,\n      opacity: 0.5\n    },\n    emphasis: {\n      scale: true,\n      label: {\n        show: true\n      }\n    },\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    }\n  };\n  return GraphSeriesModel;\n}(SeriesModel);\n\nexport default GraphSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport categoryFilter from './categoryFilter.js';\nimport categoryVisual from './categoryVisual.js';\nimport edgeVisual from './edgeVisual.js';\nimport simpleLayout from './simpleLayout.js';\nimport circularLayout from './circularLayout.js';\nimport forceLayout from './forceLayout.js';\nimport createView from './createView.js';\nimport View from '../../coord/View.js';\nimport GraphView from './GraphView.js';\nimport GraphSeriesModel from './GraphSeries.js';\nimport { updateCenterAndZoom } from '../../action/roamHelper.js';\nimport { noop } from 'zrender/lib/core/util.js';\nvar actionInfo = {\n  type: 'graphRoam',\n  event: 'graphRoam',\n  update: 'none'\n};\nexport function install(registers) {\n  registers.registerChartView(GraphView);\n  registers.registerSeriesModel(GraphSeriesModel);\n  registers.registerProcessor(categoryFilter);\n  registers.registerVisual(categoryVisual);\n  registers.registerVisual(edgeVisual);\n  registers.registerLayout(simpleLayout);\n  registers.registerLayout(registers.PRIORITY.VISUAL.POST_CHART_LAYOUT, circularLayout);\n  registers.registerLayout(forceLayout);\n  registers.registerCoordinateSystem('graphView', {\n    dimensions: View.dimensions,\n    create: createView\n  }); // Register legacy focus actions\n\n  registers.registerAction({\n    type: 'focusNodeAdjacency',\n    event: 'focusNodeAdjacency',\n    update: 'series:focusNodeAdjacency'\n  }, noop);\n  registers.registerAction({\n    type: 'unfocusNodeAdjacency',\n    event: 'unfocusNodeAdjacency',\n    update: 'series:unfocusNodeAdjacency'\n  }, noop); // Register roam action.\n\n  registers.registerAction(actionInfo, function (payload, ecModel, api) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      query: payload\n    }, function (seriesModel) {\n      var coordSys = seriesModel.coordinateSystem;\n      var res = updateCenterAndZoom(coordSys, payload, undefined, api);\n      seriesModel.setCenter && seriesModel.setCenter(res.center);\n      seriesModel.setZoom && seriesModel.setZoom(res.zoom);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Uint8ClampedArray */\nimport { platformApi } from 'zrender/lib/core/platform.js';\nvar GRADIENT_LEVELS = 256;\n\nvar HeatmapLayer =\n/** @class */\nfunction () {\n  function HeatmapLayer() {\n    this.blurSize = 30;\n    this.pointSize = 20;\n    this.maxOpacity = 1;\n    this.minOpacity = 0;\n    this._gradientPixels = {\n      inRange: null,\n      outOfRange: null\n    };\n    var canvas = platformApi.createCanvas();\n    this.canvas = canvas;\n  }\n  /**\n   * Renders Heatmap and returns the rendered canvas\n   * @param data array of data, each has x, y, value\n   * @param width canvas width\n   * @param height canvas height\n   */\n\n\n  HeatmapLayer.prototype.update = function (data, width, height, normalize, colorFunc, isInRange) {\n    var brush = this._getBrush();\n\n    var gradientInRange = this._getGradient(colorFunc, 'inRange');\n\n    var gradientOutOfRange = this._getGradient(colorFunc, 'outOfRange');\n\n    var r = this.pointSize + this.blurSize;\n    var canvas = this.canvas;\n    var ctx = canvas.getContext('2d');\n    var len = data.length;\n    canvas.width = width;\n    canvas.height = height;\n\n    for (var i = 0; i < len; ++i) {\n      var p = data[i];\n      var x = p[0];\n      var y = p[1];\n      var value = p[2]; // calculate alpha using value\n\n      var alpha = normalize(value); // draw with the circle brush with alpha\n\n      ctx.globalAlpha = alpha;\n      ctx.drawImage(brush, x - r, y - r);\n    }\n\n    if (!canvas.width || !canvas.height) {\n      // Avoid \"Uncaught DOMException: Failed to execute 'getImageData' on\n      // 'CanvasRenderingContext2D': The source height is 0.\"\n      return canvas;\n    } // colorize the canvas using alpha value and set with gradient\n\n\n    var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    var pixels = imageData.data;\n    var offset = 0;\n    var pixelLen = pixels.length;\n    var minOpacity = this.minOpacity;\n    var maxOpacity = this.maxOpacity;\n    var diffOpacity = maxOpacity - minOpacity;\n\n    while (offset < pixelLen) {\n      var alpha = pixels[offset + 3] / 256;\n      var gradientOffset = Math.floor(alpha * (GRADIENT_LEVELS - 1)) * 4; // Simple optimize to ignore the empty data\n\n      if (alpha > 0) {\n        var gradient = isInRange(alpha) ? gradientInRange : gradientOutOfRange; // Any alpha > 0 will be mapped to [minOpacity, maxOpacity]\n\n        alpha > 0 && (alpha = alpha * diffOpacity + minOpacity);\n        pixels[offset++] = gradient[gradientOffset];\n        pixels[offset++] = gradient[gradientOffset + 1];\n        pixels[offset++] = gradient[gradientOffset + 2];\n        pixels[offset++] = gradient[gradientOffset + 3] * alpha * 256;\n      } else {\n        offset += 4;\n      }\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n    return canvas;\n  };\n  /**\n   * get canvas of a black circle brush used for canvas to draw later\n   */\n\n\n  HeatmapLayer.prototype._getBrush = function () {\n    var brushCanvas = this._brushCanvas || (this._brushCanvas = platformApi.createCanvas()); // set brush size\n\n    var r = this.pointSize + this.blurSize;\n    var d = r * 2;\n    brushCanvas.width = d;\n    brushCanvas.height = d;\n    var ctx = brushCanvas.getContext('2d');\n    ctx.clearRect(0, 0, d, d); // in order to render shadow without the distinct circle,\n    // draw the distinct circle in an invisible place,\n    // and use shadowOffset to draw shadow in the center of the canvas\n\n    ctx.shadowOffsetX = d;\n    ctx.shadowBlur = this.blurSize; // draw the shadow in black, and use alpha and shadow blur to generate\n    // color in color map\n\n    ctx.shadowColor = '#000'; // draw circle in the left to the canvas\n\n    ctx.beginPath();\n    ctx.arc(-r, r, this.pointSize, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n    return brushCanvas;\n  };\n  /**\n   * get gradient color map\n   * @private\n   */\n\n\n  HeatmapLayer.prototype._getGradient = function (colorFunc, state) {\n    var gradientPixels = this._gradientPixels;\n    var pixelsSingleState = gradientPixels[state] || (gradientPixels[state] = new Uint8ClampedArray(256 * 4));\n    var color = [0, 0, 0, 0];\n    var off = 0;\n\n    for (var i = 0; i < 256; i++) {\n      colorFunc[state](i / 255, true, color);\n      pixelsSingleState[off++] = color[0];\n      pixelsSingleState[off++] = color[1];\n      pixelsSingleState[off++] = color[2];\n      pixelsSingleState[off++] = color[3];\n    }\n\n    return pixelsSingleState;\n  };\n\n  return HeatmapLayer;\n}();\n\nexport default HeatmapLayer;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis } from '../../util/states.js';\nimport HeatmapLayer from './HeatmapLayer.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ChartView from '../../view/Chart.js';\nimport { isCoordinateSystemType } from '../../coord/CoordinateSystem.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\n\nfunction getIsInPiecewiseRange(dataExtent, pieceList, selected) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  pieceList = zrUtil.map(pieceList, function (piece) {\n    return {\n      interval: [(piece.interval[0] - dataExtent[0]) / dataSpan, (piece.interval[1] - dataExtent[0]) / dataSpan]\n    };\n  });\n  var len = pieceList.length;\n  var lastIndex = 0;\n  return function (val) {\n    var i; // Try to find in the location of the last found\n\n    for (i = lastIndex; i < len; i++) {\n      var interval = pieceList[i].interval;\n\n      if (interval[0] <= val && val <= interval[1]) {\n        lastIndex = i;\n        break;\n      }\n    }\n\n    if (i === len) {\n      // Not found, back interation\n      for (i = lastIndex - 1; i >= 0; i--) {\n        var interval = pieceList[i].interval;\n\n        if (interval[0] <= val && val <= interval[1]) {\n          lastIndex = i;\n          break;\n        }\n      }\n    }\n\n    return i >= 0 && i < len && selected[i];\n  };\n}\n\nfunction getIsInContinuousRange(dataExtent, range) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  range = [(range[0] - dataExtent[0]) / dataSpan, (range[1] - dataExtent[0]) / dataSpan];\n  return function (val) {\n    return val >= range[0] && val <= range[1];\n  };\n}\n\nfunction isGeoCoordSys(coordSys) {\n  var dimensions = coordSys.dimensions; // Not use coordSys.type === 'geo' because coordSys maybe extended\n\n  return dimensions[0] === 'lng' && dimensions[1] === 'lat';\n}\n\nvar HeatmapView =\n/** @class */\nfunction (_super) {\n  __extends(HeatmapView, _super);\n\n  function HeatmapView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = HeatmapView.type;\n    return _this;\n  }\n\n  HeatmapView.prototype.render = function (seriesModel, ecModel, api) {\n    var visualMapOfThisSeries;\n    ecModel.eachComponent('visualMap', function (visualMap) {\n      visualMap.eachTargetSeries(function (targetSeries) {\n        if (targetSeries === seriesModel) {\n          visualMapOfThisSeries = visualMap;\n        }\n      });\n    });\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!visualMapOfThisSeries) {\n        throw new Error('Heatmap must use with visualMap');\n      }\n    } // Clear previously rendered progressive elements.\n\n\n    this._progressiveEls = null;\n    this.group.removeAll();\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys.type === 'cartesian2d' || coordSys.type === 'calendar') {\n      this._renderOnCartesianAndCalendar(seriesModel, api, 0, seriesModel.getData().count());\n    } else if (isGeoCoordSys(coordSys)) {\n      this._renderOnGeo(coordSys, seriesModel, visualMapOfThisSeries, api);\n    }\n  };\n\n  HeatmapView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n  };\n\n  HeatmapView.prototype.incrementalRender = function (params, seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys) {\n      // geo does not support incremental rendering?\n      if (isGeoCoordSys(coordSys)) {\n        this.render(seriesModel, ecModel, api);\n      } else {\n        this._progressiveEls = [];\n\n        this._renderOnCartesianAndCalendar(seriesModel, api, params.start, params.end, true);\n      }\n    }\n  };\n\n  HeatmapView.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n\n  HeatmapView.prototype._renderOnCartesianAndCalendar = function (seriesModel, api, start, end, incremental) {\n    var coordSys = seriesModel.coordinateSystem;\n    var isCartesian2d = isCoordinateSystemType(coordSys, 'cartesian2d');\n    var width;\n    var height;\n    var xAxisExtent;\n    var yAxisExtent;\n\n    if (isCartesian2d) {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (!(xAxis.type === 'category' && yAxis.type === 'category')) {\n          throw new Error('Heatmap on cartesian must have two category axes');\n        }\n\n        if (!(xAxis.onBand && yAxis.onBand)) {\n          throw new Error('Heatmap on cartesian must have two axes with boundaryGap true');\n        }\n      } // add 0.5px to avoid the gaps\n\n\n      width = xAxis.getBandWidth() + .5;\n      height = yAxis.getBandWidth() + .5;\n      xAxisExtent = xAxis.scale.getExtent();\n      yAxisExtent = yAxis.scale.getExtent();\n    }\n\n    var group = this.group;\n    var data = seriesModel.getData();\n    var emphasisStyle = seriesModel.getModel(['emphasis', 'itemStyle']).getItemStyle();\n    var blurStyle = seriesModel.getModel(['blur', 'itemStyle']).getItemStyle();\n    var selectStyle = seriesModel.getModel(['select', 'itemStyle']).getItemStyle();\n    var borderRadius = seriesModel.get(['itemStyle', 'borderRadius']);\n    var labelStatesModels = getLabelStatesModels(seriesModel);\n    var emphasisModel = seriesModel.getModel('emphasis');\n    var focus = emphasisModel.get('focus');\n    var blurScope = emphasisModel.get('blurScope');\n    var emphasisDisabled = emphasisModel.get('disabled');\n    var dataDims = isCartesian2d ? [data.mapDimension('x'), data.mapDimension('y'), data.mapDimension('value')] : [data.mapDimension('time'), data.mapDimension('value')];\n\n    for (var idx = start; idx < end; idx++) {\n      var rect = void 0;\n      var style = data.getItemVisual(idx, 'style');\n\n      if (isCartesian2d) {\n        var dataDimX = data.get(dataDims[0], idx);\n        var dataDimY = data.get(dataDims[1], idx); // Ignore empty data and out of extent data\n\n        if (isNaN(data.get(dataDims[2], idx)) || isNaN(dataDimX) || isNaN(dataDimY) || dataDimX < xAxisExtent[0] || dataDimX > xAxisExtent[1] || dataDimY < yAxisExtent[0] || dataDimY > yAxisExtent[1]) {\n          continue;\n        }\n\n        var point = coordSys.dataToPoint([dataDimX, dataDimY]);\n        rect = new graphic.Rect({\n          shape: {\n            x: point[0] - width / 2,\n            y: point[1] - height / 2,\n            width: width,\n            height: height\n          },\n          style: style\n        });\n      } else {\n        // Ignore empty data\n        if (isNaN(data.get(dataDims[1], idx))) {\n          continue;\n        }\n\n        rect = new graphic.Rect({\n          z2: 1,\n          shape: coordSys.dataToRect([data.get(dataDims[0], idx)]).contentShape,\n          style: style\n        });\n      } // Optimization for large dataset\n\n\n      if (data.hasItemOption) {\n        var itemModel = data.getItemModel(idx);\n        var emphasisModel_1 = itemModel.getModel('emphasis');\n        emphasisStyle = emphasisModel_1.getModel('itemStyle').getItemStyle();\n        blurStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n        selectStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle(); // Each item value struct in the data would be firstly\n        // {\n        //     itemStyle: { borderRadius: [30, 30] },\n        //     value: [2022, 02, 22]\n        // }\n\n        borderRadius = itemModel.get(['itemStyle', 'borderRadius']);\n        focus = emphasisModel_1.get('focus');\n        blurScope = emphasisModel_1.get('blurScope');\n        emphasisDisabled = emphasisModel_1.get('disabled');\n        labelStatesModels = getLabelStatesModels(itemModel);\n      }\n\n      rect.shape.r = borderRadius;\n      var rawValue = seriesModel.getRawValue(idx);\n      var defaultText = '-';\n\n      if (rawValue && rawValue[2] != null) {\n        defaultText = rawValue[2] + '';\n      }\n\n      setLabelStyle(rect, labelStatesModels, {\n        labelFetcher: seriesModel,\n        labelDataIndex: idx,\n        defaultOpacity: style.opacity,\n        defaultText: defaultText\n      });\n      rect.ensureState('emphasis').style = emphasisStyle;\n      rect.ensureState('blur').style = blurStyle;\n      rect.ensureState('select').style = selectStyle;\n      toggleHoverEmphasis(rect, focus, blurScope, emphasisDisabled);\n      rect.incremental = incremental; // PENDING\n\n      if (incremental) {\n        // Rect must use hover layer if it's incremental.\n        rect.states.emphasis.hoverLayer = true;\n      }\n\n      group.add(rect);\n      data.setItemGraphicEl(idx, rect);\n\n      if (this._progressiveEls) {\n        this._progressiveEls.push(rect);\n      }\n    }\n  };\n\n  HeatmapView.prototype._renderOnGeo = function (geo, seriesModel, visualMapModel, api) {\n    var inRangeVisuals = visualMapModel.targetVisuals.inRange;\n    var outOfRangeVisuals = visualMapModel.targetVisuals.outOfRange; // if (!visualMapping) {\n    //     throw new Error('Data range must have color visuals');\n    // }\n\n    var data = seriesModel.getData();\n    var hmLayer = this._hmLayer || this._hmLayer || new HeatmapLayer();\n    hmLayer.blurSize = seriesModel.get('blurSize');\n    hmLayer.pointSize = seriesModel.get('pointSize');\n    hmLayer.minOpacity = seriesModel.get('minOpacity');\n    hmLayer.maxOpacity = seriesModel.get('maxOpacity');\n    var rect = geo.getViewRect().clone();\n    var roamTransform = geo.getRoamTransform();\n    rect.applyTransform(roamTransform); // Clamp on viewport\n\n    var x = Math.max(rect.x, 0);\n    var y = Math.max(rect.y, 0);\n    var x2 = Math.min(rect.width + rect.x, api.getWidth());\n    var y2 = Math.min(rect.height + rect.y, api.getHeight());\n    var width = x2 - x;\n    var height = y2 - y;\n    var dims = [data.mapDimension('lng'), data.mapDimension('lat'), data.mapDimension('value')];\n    var points = data.mapArray(dims, function (lng, lat, value) {\n      var pt = geo.dataToPoint([lng, lat]);\n      pt[0] -= x;\n      pt[1] -= y;\n      pt.push(value);\n      return pt;\n    });\n    var dataExtent = visualMapModel.getExtent();\n    var isInRange = visualMapModel.type === 'visualMap.continuous' ? getIsInContinuousRange(dataExtent, visualMapModel.option.range) : getIsInPiecewiseRange(dataExtent, visualMapModel.getPieceList(), visualMapModel.option.selected);\n    hmLayer.update(points, width, height, inRangeVisuals.color.getNormalizer(), {\n      inRange: inRangeVisuals.color.getColorMapper(),\n      outOfRange: outOfRangeVisuals.color.getColorMapper()\n    }, isInRange);\n    var img = new graphic.Image({\n      style: {\n        width: width,\n        height: height,\n        x: x,\n        y: y,\n        image: hmLayer.canvas\n      },\n      silent: true\n    });\n    this.group.add(img);\n  };\n\n  HeatmapView.type = 'heatmap';\n  return HeatmapView;\n}(ChartView);\n\nexport default HeatmapView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport createSeriesData from '../helper/createSeriesData.js';\nimport CoordinateSystem from '../../core/CoordinateSystem.js';\n\nvar HeatmapSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(HeatmapSeriesModel, _super);\n\n  function HeatmapSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = HeatmapSeriesModel.type;\n    return _this;\n  }\n\n  HeatmapSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      generateCoord: 'value'\n    });\n  };\n\n  HeatmapSeriesModel.prototype.preventIncremental = function () {\n    var coordSysCreator = CoordinateSystem.get(this.get('coordinateSystem'));\n\n    if (coordSysCreator && coordSysCreator.dimensions) {\n      return coordSysCreator.dimensions[0] === 'lng' && coordSysCreator.dimensions[1] === 'lat';\n    }\n  };\n\n  HeatmapSeriesModel.type = 'series.heatmap';\n  HeatmapSeriesModel.dependencies = ['grid', 'geo', 'calendar'];\n  HeatmapSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    // zlevel: 0,\n    z: 2,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Geo coordinate system\n    geoIndex: 0,\n    blurSize: 30,\n    pointSize: 20,\n    maxOpacity: 1,\n    minOpacity: 0,\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    }\n  };\n  return HeatmapSeriesModel;\n}(SeriesModel);\n\nexport default HeatmapSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport HeatmapView from './HeatmapView.js';\nimport HeatmapSeriesModel from './HeatmapSeries.js';\nexport function install(registers) {\n  registers.registerChartView(HeatmapView);\n  registers.registerSeriesModel(HeatmapSeriesModel);\n}"],"names":["PointerShape","this","angle","width","r","x","y","PointerPath","_super","opts","_this","call","type","__extends","prototype","getDefaultShape","buildPath","ctx","shape","mathCos","Math","cos","mathSin","sin","PI","moveTo","lineTo","Path","parsePosition","seriesModel","api","center","get","getWidth","height","getHeight","size","min","cx","parsePercent","cy","formatLabel","value","labelFormatter","label","isString","replace","isFunction","GaugeView","apply","arguments","render","ecModel","group","removeAll","colorList","posInfo","_renderMain","_data","getData","dispose","clockwise","startAngle","endAngle","axisLineModel","getModel","roundCap","MainPath","Sausage","graphic","showAxis","lineStyleModel","axisLineWidth","angles","normalizeArcAngles","angleRangeSpan","prevEndAngle","sectors","i","length","percent","max","sector","r0","silent","setStyle","fill","getLineStyle","push","reverse","each","add","getColor","_renderTicks","_renderTitleAndDetail","_renderAnchor","_renderPointer","unitX","unitY","minVal","maxVal","splitLineModel","tickModel","labelModel","splitNumber","subSplitNumber","splitLineLen","tickLen","step","subStep","splitLineStyle","tickLineStyle","splitLineDistance","distance","splitLine","x1","y1","x2","y2","style","stroke","round","autoColor","textStyleX","textStyleY","rotateType","rotate","isNumber","createTextStyle","text","verticalAlign","align","inheritColor","originX","originY","rotation","j","tickLine","oldData","oldProgressData","_progressEls","progressList","showPointer","progressModel","showProgress","data","valueDim","mapDimension","valueExtent","angleExtent","createPointer","idx","pointer","itemModel","getItemModel","pointerModel","pointerWidth","pointerLength","pointerStr","pointerOffset","pointerOffsetX","pointerOffsetY","pointerKeepAspect","createSymbol","createProgress","ProgressPath","isOverlap","progressWidth","count","progress","z2","diff","val","isNaN","linearMap","setItemGraphicEl","isClip","setCommonECData","seriesIndex","dataType","update","newIdx","oldIdx","previousPointer","getItemGraphicEl","previousRotate","previousProgress","previousEndAngle","execute","emphasisModel","focus","blurScope","emphasisDisabled","symbolStyle","getItemVisual","visualColor","ZRImage","pathStyle","useStyle","extend","image","setColor","getItemStyle","z2EmphasisLift","setStatesStylesFromModel","toggleHoverEmphasis","anchorModel","showAnchor","anchorSize","anchorType","offsetCenter","anchorKeepAspect","anchor","contentGroup","newTitleEls","newDetailEls","hasAnimation","isAnimationEnabled","showPointerAbove","_titleEls","_detailEls","itemGroup","itemTitleModel","titleOffsetCenter","titleX","titleY","labelEl","attr","getName","itemDetailModel","detailOffsetCenter","detailX","detailY","detailColor","formatter_1","setLabelValueAnimation","normal","animateLabelValue","getFormattedLabel","labelDataIndex","status","labelDimIndex","fmt","extendParams","interpolatedValue","ChartView","GaugeSeriesModel","visualStyleAccessPath","getInitialData","option","createSeriesDataSimply","defaultOption","z","colorBy","legendHoverLink","radius","axisLine","show","lineStyle","color","overlap","clip","axisTick","axisLabel","fontSize","icon","showAbove","keepAspect","itemStyle","borderWidth","borderColor","title","valueAnimation","detail","backgroundColor","padding","fontWeight","lineHeight","SeriesModel","install","registers","registerChartView","registerSeriesModel","categoryFilter","legendModels","findComponents","mainType","eachSeriesByType","graphSeries","categoriesData","getCategoriesData","graph","getGraph","categoryNames","mapArray","filterSelf","model","category","getShallow","isSelected","categoryVisual","paletteScope","categoryNameIdxMap","name","getColorFromPalette","setItemVisual","symbolVisualList","symbolVisual","categoryIdx","categoryStyle","ensureUniqueItemVisual","visualList","normalize","a","Array","graphEdgeVisual","edgeData","getEdgeData","symbolType","symbolSize","setVisual","edge","getEdgeByIndex","existsStyle","nodeStyle","node1","getVisual","node2","simpleLayout","coordSys","coordinateSystem","eachNode","node","setLayout","simpleLayoutEdge","eachEdge","index","curveness","zrUtil","getCurvenessForEdge","p1","vec2","getLayout","p2","points","graphSimpleLayout","layout","data_1","dimensions_1","dimensions","coordDim","concat","mapDimensionsAll","dataIndex","hasValue","setItemLayout","dataToPoint","NaN","getNodeGlobalScale","nodeScaleRatio","groupZoom","scaleX","roamZoom","getZoom","nodeScale","getSymbolSize","_symbolRadiansHalf","circularLayout","basedOn","draggingNode","rect","getBoundingRect","nodeData","_a","pointToData","tempX","tempY","v","circularRotateLabel","rotateNodeLabel","_layoutNodesBasedOn","cp1","x12","y12","sum","getSum","unitAngle","getValue","radianHalf","sumRadian","symbolRadianHalf","asin","halfRemainRadian","fixed","el","getGraphicEl","nodeModel","labelRotate","symbolPath","getSymbolPath","pos","rad","atan2","isLeft","textPosition","setTextConfig","position","origin","emphasisState","ensureState","textConfig","graphCircularLayout","scaleAndAdd","forceLayout","inNodes","inEdges","nodes","edges","gravity","n","p","random","pp","beforeStepCallback","afterStepCallback","initialFriction","friction","warmUp","setFixed","setUnfixed","beforeStep","cb","afterStep","v12","nLen","e","ignoreForceLayout","n1","n2","d","w","repFact","rep","finished","graphForceLayout","preservedPoints_1","preservedPoints","graph_1","nodeData_1","forceModel","initLayout","id","getId","nodeDataExtent_1","getDataExtent","edgeDataExtent_1","repulsion","edgeLength","repulsionArr_1","edgeLengthArr_1","nodes_1","point","getItemLayout","edgeModel","forceInstance","l","getNodeByIndex","stopped","slice","getViewRect","aspect","getBoxLayoutParams","getLayoutRect","createViewCoordSys","viewList","coordSysType","positions","bbox","viewRect","bbWidth","bbHeight","viewWidth","viewHeight","viewCoordSys","View","zoomLimit","setBoundingRect","setViewRect","setCenter","setZoom","v1","v2","v3","quadraticAt","curveTool","v2DistSquare","mathAbs","abs","intersectCurveCircle","curvePoints","t","p0","Infinity","radiusSquare","interval","_t","next","nextDiff","adjustEdge","scale","tmp0","quadraticSubdivide","pts","pts2","linePoints","fromSymbol","toSymbol","__original","originalPoints","isViewCoordSys","GraphView","init","symbolDraw","SymbolDraw","lineDraw","LineDraw","_controller","RoamController","getZr","_controllerHost","target","_symbolDraw","_lineDraw","_firstRender","_model","groupNewProp","scaleY","updateData","_updateNodeAndLinkScale","_updateController","clearTimeout","_layoutTimeout","layoutAnimation","_startForceLayoutIteration","off","draggable","on","_layouting","offsetX","offsetY","updateLayout","setDraggable","getECData","getAdjacentDataIndices","self","setTimeout","controller","controllerHost","setPointerChecker","applyTransform","transform","contain","onIrrelevantElement","enable","zoom","roamHelper","dx","dy","dispatchAction","seriesId","updateLabelLayout","disable","eachItemGraphicEl","setSymbolScale","remove","GraphSeriesModel","hasSymbolVisual","_categoriesData","legendVisualProvider","LegendVisualProvider","fillDataTextStyle","links","_updateCategoriesData","mergeOption","mergeDefaultAndTheme","defaultEmphasis","initCurvenessList","createGraphFromNodeEdge","beforeLink","createEdgeMapForCurveness","wrapMethod","categoriesModels","_categoriesModels","categoryModel","parentModel","oldGetModel","Model","newGetModel","path","resolveParentPath","pathArr","newPathArr","formatTooltip","multipleSeries","params","getDataParams","sourceName","targetName","nameArr","createTooltipMarkup","join","noValue","nodeMarkup","defaultSeriesFormatTooltip","series","categories","SeriesData","initData","dependencies","circular","rotateLabel","force","left","top","symbol","edgeSymbol","edgeSymbolSize","edgeLabel","roam","formatter","opacity","emphasis","select","actionInfo","event","registerProcessor","registerVisual","edgeVisual","registerLayout","PRIORITY","VISUAL","POST_CHART_LAYOUT","registerCoordinateSystem","create","createView","registerAction","noop","payload","eachComponent","query","res","updateCenterAndZoom","undefined","GRADIENT_LEVELS","HeatmapLayer","blurSize","pointSize","maxOpacity","minOpacity","_gradientPixels","inRange","outOfRange","canvas","platformApi","colorFunc","isInRange","brush","_getBrush","gradientInRange","_getGradient","gradientOutOfRange","getContext","len","alpha","globalAlpha","drawImage","imageData","getImageData","pixels","offset","pixelLen","diffOpacity","gradientOffset","floor","gradient","putImageData","brushCanvas","_brushCanvas","clearRect","shadowOffsetX","shadowBlur","shadowColor","beginPath","arc","closePath","state","gradientPixels","pixelsSingleState","Uint8ClampedArray","getIsInPiecewiseRange","dataExtent","pieceList","selected","dataSpan","piece","lastIndex","getIsInContinuousRange","range","isGeoCoordSys","HeatmapView","visualMapOfThisSeries","visualMap","eachTargetSeries","targetSeries","_progressiveEls","_renderOnCartesianAndCalendar","_renderOnGeo","incrementalPrepareRender","incrementalRender","start","end","eachRendered","traverseElements","incremental","xAxisExtent","yAxisExtent","isCartesian2d","isCoordinateSystemType","xAxis","getAxis","yAxis","process","getBandWidth","getExtent","emphasisStyle","blurStyle","selectStyle","borderRadius","labelStatesModels","getLabelStatesModels","dataDims","dataDimX","dataDimY","dataToRect","contentShape","hasItemOption","emphasisModel_1","rawValue","getRawValue","defaultText","setLabelStyle","labelFetcher","defaultOpacity","states","hoverLayer","geo","visualMapModel","inRangeVisuals","targetVisuals","outOfRangeVisuals","hmLayer","_hmLayer","clone","roamTransform","getRoamTransform","dims","lng","lat","pt","getPieceList","getNormalizer","getColorMapper","img","HeatmapSeriesModel","createSeriesData","generateCoord","preventIncremental","coordSysCreator","CoordinateSystem","geoIndex"],"sourceRoot":""}