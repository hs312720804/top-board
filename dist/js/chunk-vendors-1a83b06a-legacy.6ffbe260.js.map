{"version":3,"file":"js/chunk-vendors-1a83b06a-legacy.6ffbe260.js","mappings":"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","sources":["webpack://databoard/./node_modules/echarts/lib/i18n/langEN.js","webpack://databoard/./node_modules/echarts/lib/i18n/langZH.js","webpack://databoard/./node_modules/echarts/lib/label/LabelManager.js","webpack://databoard/./node_modules/echarts/lib/label/installLabelLayout.js","webpack://databoard/./node_modules/echarts/lib/label/labelGuideHelper.js","webpack://databoard/./node_modules/echarts/lib/label/labelLayoutHelper.js","webpack://databoard/./node_modules/echarts/lib/label/labelStyle.js","webpack://databoard/./node_modules/echarts/lib/label/sectorLabel.js","webpack://databoard/./node_modules/echarts/lib/layout/barGrid.js","webpack://databoard/./node_modules/echarts/lib/layout/barPolar.js","webpack://databoard/./node_modules/echarts/lib/layout/points.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * Language: English.\n */\nexport default {\n  time: {\n    month: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    monthAbbr: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    dayOfWeek: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    dayOfWeekAbbr: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\n  },\n  legend: {\n    selector: {\n      all: 'All',\n      inverse: 'Inv'\n    }\n  },\n  toolbox: {\n    brush: {\n      title: {\n        rect: 'Box Select',\n        polygon: 'Lasso Select',\n        lineX: 'Horizontally Select',\n        lineY: 'Vertically Select',\n        keep: 'Keep Selections',\n        clear: 'Clear Selections'\n      }\n    },\n    dataView: {\n      title: 'Data View',\n      lang: ['Data View', 'Close', 'Refresh']\n    },\n    dataZoom: {\n      title: {\n        zoom: 'Zoom',\n        back: 'Zoom Reset'\n      }\n    },\n    magicType: {\n      title: {\n        line: 'Switch to Line Chart',\n        bar: 'Switch to Bar Chart',\n        stack: 'Stack',\n        tiled: 'Tile'\n      }\n    },\n    restore: {\n      title: 'Restore'\n    },\n    saveAsImage: {\n      title: 'Save as Image',\n      lang: ['Right Click to Save Image']\n    }\n  },\n  series: {\n    typeNames: {\n      pie: 'Pie chart',\n      bar: 'Bar chart',\n      line: 'Line chart',\n      scatter: 'Scatter plot',\n      effectScatter: 'Ripple scatter plot',\n      radar: 'Radar chart',\n      tree: 'Tree',\n      treemap: 'Treemap',\n      boxplot: 'Boxplot',\n      candlestick: 'Candlestick',\n      k: 'K line chart',\n      heatmap: 'Heat map',\n      map: 'Map',\n      parallel: 'Parallel coordinate map',\n      lines: 'Line graph',\n      graph: 'Relationship graph',\n      sankey: 'Sankey diagram',\n      funnel: 'Funnel chart',\n      gauge: 'Gauge',\n      pictorialBar: 'Pictorial bar',\n      themeRiver: 'Theme River Map',\n      sunburst: 'Sunburst'\n    }\n  },\n  aria: {\n    general: {\n      withTitle: 'This is a chart about \"{title}\"',\n      withoutTitle: 'This is a chart'\n    },\n    series: {\n      single: {\n        prefix: '',\n        withName: ' with type {seriesType} named {seriesName}.',\n        withoutName: ' with type {seriesType}.'\n      },\n      multiple: {\n        prefix: '. It consists of {seriesCount} series count.',\n        withName: ' The {seriesId} series is a {seriesType} representing {seriesName}.',\n        withoutName: ' The {seriesId} series is a {seriesType}.',\n        separator: {\n          middle: '',\n          end: ''\n        }\n      }\n    },\n    data: {\n      allData: 'The data is as follows: ',\n      partialData: 'The first {displayCnt} items are: ',\n      withName: 'the data for {name} is {value}',\n      withoutName: '{value}',\n      separator: {\n        middle: ', ',\n        end: '. '\n      }\n    }\n  }\n};","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport default {\n  time: {\n    month: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],\n    monthAbbr: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],\n    dayOfWeek: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'],\n    dayOfWeekAbbr: ['日', '一', '二', '三', '四', '五', '六']\n  },\n  legend: {\n    selector: {\n      all: '全选',\n      inverse: '反选'\n    }\n  },\n  toolbox: {\n    brush: {\n      title: {\n        rect: '矩形选择',\n        polygon: '圈选',\n        lineX: '横向选择',\n        lineY: '纵向选择',\n        keep: '保持选择',\n        clear: '清除选择'\n      }\n    },\n    dataView: {\n      title: '数据视图',\n      lang: ['数据视图', '关闭', '刷新']\n    },\n    dataZoom: {\n      title: {\n        zoom: '区域缩放',\n        back: '区域缩放还原'\n      }\n    },\n    magicType: {\n      title: {\n        line: '切换为折线图',\n        bar: '切换为柱状图',\n        stack: '切换为堆叠',\n        tiled: '切换为平铺'\n      }\n    },\n    restore: {\n      title: '还原'\n    },\n    saveAsImage: {\n      title: '保存为图片',\n      lang: ['右键另存为图片']\n    }\n  },\n  series: {\n    typeNames: {\n      pie: '饼图',\n      bar: '柱状图',\n      line: '折线图',\n      scatter: '散点图',\n      effectScatter: '涟漪散点图',\n      radar: '雷达图',\n      tree: '树图',\n      treemap: '矩形树图',\n      boxplot: '箱型图',\n      candlestick: 'K线图',\n      k: 'K线图',\n      heatmap: '热力图',\n      map: '地图',\n      parallel: '平行坐标图',\n      lines: '线图',\n      graph: '关系图',\n      sankey: '桑基图',\n      funnel: '漏斗图',\n      gauge: '仪表盘图',\n      pictorialBar: '象形柱图',\n      themeRiver: '主题河流图',\n      sunburst: '旭日图'\n    }\n  },\n  aria: {\n    general: {\n      withTitle: '这是一个关于“{title}”的图表。',\n      withoutTitle: '这是一个图表，'\n    },\n    series: {\n      single: {\n        prefix: '',\n        withName: '图表类型是{seriesType}，表示{seriesName}。',\n        withoutName: '图表类型是{seriesType}。'\n      },\n      multiple: {\n        prefix: '它由{seriesCount}个图表系列组成。',\n        withName: '第{seriesId}个系列是一个表示{seriesName}的{seriesType}，',\n        withoutName: '第{seriesId}个系列是一个{seriesType}，',\n        separator: {\n          middle: '；',\n          end: '。'\n        }\n      }\n    },\n    data: {\n      allData: '其数据是——',\n      partialData: '其中，前{displayCnt}项是——',\n      withName: '{name}的数据是{value}',\n      withoutName: '{value}',\n      separator: {\n        middle: '，',\n        end: ''\n      }\n    }\n  }\n};","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO: move labels out of viewport.\nimport { BoundingRect, updateProps, initProps, isElementRemoved } from '../util/graphic.js';\nimport { getECData } from '../util/innerStore.js';\nimport { parsePercent } from '../util/number.js';\nimport Transformable from 'zrender/lib/core/Transformable.js';\nimport { updateLabelLinePoints, setLabelLineStyle, getLabelLineStatesModels } from './labelGuideHelper.js';\nimport { makeInner } from '../util/model.js';\nimport { retrieve2, each, keys, isFunction, filter, indexOf } from 'zrender/lib/core/util.js';\nimport { prepareLayoutList, hideOverlap, shiftLayoutOnX, shiftLayoutOnY } from './labelLayoutHelper.js';\nimport { labelInner, animateLabelValue } from './labelStyle.js';\nfunction cloneArr(points) {\n  if (points) {\n    var newPoints = [];\n    for (var i = 0; i < points.length; i++) {\n      newPoints.push(points[i].slice());\n    }\n    return newPoints;\n  }\n}\nfunction prepareLayoutCallbackParams(labelItem, hostEl) {\n  var label = labelItem.label;\n  var labelLine = hostEl && hostEl.getTextGuideLine();\n  return {\n    dataIndex: labelItem.dataIndex,\n    dataType: labelItem.dataType,\n    seriesIndex: labelItem.seriesModel.seriesIndex,\n    text: labelItem.label.style.text,\n    rect: labelItem.hostRect,\n    labelRect: labelItem.rect,\n    // x: labelAttr.x,\n    // y: labelAttr.y,\n    align: label.style.align,\n    verticalAlign: label.style.verticalAlign,\n    labelLinePoints: cloneArr(labelLine && labelLine.shape.points)\n  };\n}\nvar LABEL_OPTION_TO_STYLE_KEYS = ['align', 'verticalAlign', 'width', 'height', 'fontSize'];\nvar dummyTransformable = new Transformable();\nvar labelLayoutInnerStore = makeInner();\nvar labelLineAnimationStore = makeInner();\nfunction extendWithKeys(target, source, keys) {\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (source[key] != null) {\n      target[key] = source[key];\n    }\n  }\n}\nvar LABEL_LAYOUT_PROPS = ['x', 'y', 'rotation'];\nvar LabelManager = /** @class */\nfunction () {\n  function LabelManager() {\n    this._labelList = [];\n    this._chartViewList = [];\n  }\n  LabelManager.prototype.clearLabels = function () {\n    this._labelList = [];\n    this._chartViewList = [];\n  };\n  /**\n   * Add label to manager\n   */\n\n  LabelManager.prototype._addLabel = function (dataIndex, dataType, seriesModel, label, layoutOption) {\n    var labelStyle = label.style;\n    var hostEl = label.__hostTarget;\n    var textConfig = hostEl.textConfig || {}; // TODO: If label is in other state.\n\n    var labelTransform = label.getComputedTransform();\n    var labelRect = label.getBoundingRect().plain();\n    BoundingRect.applyTransform(labelRect, labelRect, labelTransform);\n    if (labelTransform) {\n      dummyTransformable.setLocalTransform(labelTransform);\n    } else {\n      // Identity transform.\n      dummyTransformable.x = dummyTransformable.y = dummyTransformable.rotation = dummyTransformable.originX = dummyTransformable.originY = 0;\n      dummyTransformable.scaleX = dummyTransformable.scaleY = 1;\n    }\n    var host = label.__hostTarget;\n    var hostRect;\n    if (host) {\n      hostRect = host.getBoundingRect().plain();\n      var transform = host.getComputedTransform();\n      BoundingRect.applyTransform(hostRect, hostRect, transform);\n    }\n    var labelGuide = hostRect && host.getTextGuideLine();\n    this._labelList.push({\n      label: label,\n      labelLine: labelGuide,\n      seriesModel: seriesModel,\n      dataIndex: dataIndex,\n      dataType: dataType,\n      layoutOption: layoutOption,\n      computedLayoutOption: null,\n      rect: labelRect,\n      hostRect: hostRect,\n      // Label with lower priority will be hidden when overlapped\n      // Use rect size as default priority\n      priority: hostRect ? hostRect.width * hostRect.height : 0,\n      // Save default label attributes.\n      // For restore if developers want get back to default value in callback.\n      defaultAttr: {\n        ignore: label.ignore,\n        labelGuideIgnore: labelGuide && labelGuide.ignore,\n        x: dummyTransformable.x,\n        y: dummyTransformable.y,\n        scaleX: dummyTransformable.scaleX,\n        scaleY: dummyTransformable.scaleY,\n        rotation: dummyTransformable.rotation,\n        style: {\n          x: labelStyle.x,\n          y: labelStyle.y,\n          align: labelStyle.align,\n          verticalAlign: labelStyle.verticalAlign,\n          width: labelStyle.width,\n          height: labelStyle.height,\n          fontSize: labelStyle.fontSize\n        },\n        cursor: label.cursor,\n        attachedPos: textConfig.position,\n        attachedRot: textConfig.rotation\n      }\n    });\n  };\n  LabelManager.prototype.addLabelsOfSeries = function (chartView) {\n    var _this = this;\n    this._chartViewList.push(chartView);\n    var seriesModel = chartView.__model;\n    var layoutOption = seriesModel.get('labelLayout');\n    /**\n     * Ignore layouting if it's not specified anything.\n     */\n\n    if (!(isFunction(layoutOption) || keys(layoutOption).length)) {\n      return;\n    }\n    chartView.group.traverse(function (child) {\n      if (child.ignore) {\n        return true; // Stop traverse descendants.\n      } // Only support label being hosted on graphic elements.\n\n      var textEl = child.getTextContent();\n      var ecData = getECData(child); // Can only attach the text on the element with dataIndex\n\n      if (textEl && !textEl.disableLabelLayout) {\n        _this._addLabel(ecData.dataIndex, ecData.dataType, seriesModel, textEl, layoutOption);\n      }\n    });\n  };\n  LabelManager.prototype.updateLayoutConfig = function (api) {\n    var width = api.getWidth();\n    var height = api.getHeight();\n    function createDragHandler(el, labelLineModel) {\n      return function () {\n        updateLabelLinePoints(el, labelLineModel);\n      };\n    }\n    for (var i = 0; i < this._labelList.length; i++) {\n      var labelItem = this._labelList[i];\n      var label = labelItem.label;\n      var hostEl = label.__hostTarget;\n      var defaultLabelAttr = labelItem.defaultAttr;\n      var layoutOption = void 0; // TODO A global layout option?\n\n      if (isFunction(labelItem.layoutOption)) {\n        layoutOption = labelItem.layoutOption(prepareLayoutCallbackParams(labelItem, hostEl));\n      } else {\n        layoutOption = labelItem.layoutOption;\n      }\n      layoutOption = layoutOption || {};\n      labelItem.computedLayoutOption = layoutOption;\n      var degreeToRadian = Math.PI / 180; // TODO hostEl should always exists.\n      // Or label should not have parent because the x, y is all in global space.\n\n      if (hostEl) {\n        hostEl.setTextConfig({\n          // Force to set local false.\n          local: false,\n          // Ignore position and rotation config on the host el if x or y is changed.\n          position: layoutOption.x != null || layoutOption.y != null ? null : defaultLabelAttr.attachedPos,\n          // Ignore rotation config on the host el if rotation is changed.\n          rotation: layoutOption.rotate != null ? layoutOption.rotate * degreeToRadian : defaultLabelAttr.attachedRot,\n          offset: [layoutOption.dx || 0, layoutOption.dy || 0]\n        });\n      }\n      var needsUpdateLabelLine = false;\n      if (layoutOption.x != null) {\n        // TODO width of chart view.\n        label.x = parsePercent(layoutOption.x, width);\n        label.setStyle('x', 0); // Ignore movement in style. TODO: origin.\n\n        needsUpdateLabelLine = true;\n      } else {\n        label.x = defaultLabelAttr.x;\n        label.setStyle('x', defaultLabelAttr.style.x);\n      }\n      if (layoutOption.y != null) {\n        // TODO height of chart view.\n        label.y = parsePercent(layoutOption.y, height);\n        label.setStyle('y', 0); // Ignore movement in style.\n\n        needsUpdateLabelLine = true;\n      } else {\n        label.y = defaultLabelAttr.y;\n        label.setStyle('y', defaultLabelAttr.style.y);\n      }\n      if (layoutOption.labelLinePoints) {\n        var guideLine = hostEl.getTextGuideLine();\n        if (guideLine) {\n          guideLine.setShape({\n            points: layoutOption.labelLinePoints\n          }); // Not update\n\n          needsUpdateLabelLine = false;\n        }\n      }\n      var labelLayoutStore = labelLayoutInnerStore(label);\n      labelLayoutStore.needsUpdateLabelLine = needsUpdateLabelLine;\n      label.rotation = layoutOption.rotate != null ? layoutOption.rotate * degreeToRadian : defaultLabelAttr.rotation;\n      label.scaleX = defaultLabelAttr.scaleX;\n      label.scaleY = defaultLabelAttr.scaleY;\n      for (var k = 0; k < LABEL_OPTION_TO_STYLE_KEYS.length; k++) {\n        var key = LABEL_OPTION_TO_STYLE_KEYS[k];\n        label.setStyle(key, layoutOption[key] != null ? layoutOption[key] : defaultLabelAttr.style[key]);\n      }\n      if (layoutOption.draggable) {\n        label.draggable = true;\n        label.cursor = 'move';\n        if (hostEl) {\n          var hostModel = labelItem.seriesModel;\n          if (labelItem.dataIndex != null) {\n            var data = labelItem.seriesModel.getData(labelItem.dataType);\n            hostModel = data.getItemModel(labelItem.dataIndex);\n          }\n          label.on('drag', createDragHandler(hostEl, hostModel.getModel('labelLine')));\n        }\n      } else {\n        // TODO Other drag functions?\n        label.off('drag');\n        label.cursor = defaultLabelAttr.cursor;\n      }\n    }\n  };\n  LabelManager.prototype.layout = function (api) {\n    var width = api.getWidth();\n    var height = api.getHeight();\n    var labelList = prepareLayoutList(this._labelList);\n    var labelsNeedsAdjustOnX = filter(labelList, function (item) {\n      return item.layoutOption.moveOverlap === 'shiftX';\n    });\n    var labelsNeedsAdjustOnY = filter(labelList, function (item) {\n      return item.layoutOption.moveOverlap === 'shiftY';\n    });\n    shiftLayoutOnX(labelsNeedsAdjustOnX, 0, width);\n    shiftLayoutOnY(labelsNeedsAdjustOnY, 0, height);\n    var labelsNeedsHideOverlap = filter(labelList, function (item) {\n      return item.layoutOption.hideOverlap;\n    });\n    hideOverlap(labelsNeedsHideOverlap);\n  };\n  /**\n   * Process all labels. Not only labels with layoutOption.\n   */\n\n  LabelManager.prototype.processLabelsOverall = function () {\n    var _this = this;\n    each(this._chartViewList, function (chartView) {\n      var seriesModel = chartView.__model;\n      var ignoreLabelLineUpdate = chartView.ignoreLabelLineUpdate;\n      var animationEnabled = seriesModel.isAnimationEnabled();\n      chartView.group.traverse(function (child) {\n        if (child.ignore && !child.forceLabelAnimation) {\n          return true; // Stop traverse descendants.\n        }\n\n        var needsUpdateLabelLine = !ignoreLabelLineUpdate;\n        var label = child.getTextContent();\n        if (!needsUpdateLabelLine && label) {\n          needsUpdateLabelLine = labelLayoutInnerStore(label).needsUpdateLabelLine;\n        }\n        if (needsUpdateLabelLine) {\n          _this._updateLabelLine(child, seriesModel);\n        }\n        if (animationEnabled) {\n          _this._animateLabels(child, seriesModel);\n        }\n      });\n    });\n  };\n  LabelManager.prototype._updateLabelLine = function (el, seriesModel) {\n    // Only support label being hosted on graphic elements.\n    var textEl = el.getTextContent(); // Update label line style.\n\n    var ecData = getECData(el);\n    var dataIndex = ecData.dataIndex; // Only support labelLine on the labels represent data.\n\n    if (textEl && dataIndex != null) {\n      var data = seriesModel.getData(ecData.dataType);\n      var itemModel = data.getItemModel(dataIndex);\n      var defaultStyle = {};\n      var visualStyle = data.getItemVisual(dataIndex, 'style');\n      var visualType = data.getVisual('drawType'); // Default to be same with main color\n\n      defaultStyle.stroke = visualStyle[visualType];\n      var labelLineModel = itemModel.getModel('labelLine');\n      setLabelLineStyle(el, getLabelLineStatesModels(itemModel), defaultStyle);\n      updateLabelLinePoints(el, labelLineModel);\n    }\n  };\n  LabelManager.prototype._animateLabels = function (el, seriesModel) {\n    var textEl = el.getTextContent();\n    var guideLine = el.getTextGuideLine(); // Animate\n\n    if (textEl // `forceLabelAnimation` has the highest priority\n    && (el.forceLabelAnimation || !textEl.ignore && !textEl.invisible && !el.disableLabelAnimation && !isElementRemoved(el))) {\n      var layoutStore = labelLayoutInnerStore(textEl);\n      var oldLayout = layoutStore.oldLayout;\n      var ecData = getECData(el);\n      var dataIndex = ecData.dataIndex;\n      var newProps = {\n        x: textEl.x,\n        y: textEl.y,\n        rotation: textEl.rotation\n      };\n      var data = seriesModel.getData(ecData.dataType);\n      if (!oldLayout) {\n        textEl.attr(newProps); // Disable fade in animation if value animation is enabled.\n\n        if (!labelInner(textEl).valueAnimation) {\n          var oldOpacity = retrieve2(textEl.style.opacity, 1); // Fade in animation\n\n          textEl.style.opacity = 0;\n          initProps(textEl, {\n            style: {\n              opacity: oldOpacity\n            }\n          }, seriesModel, dataIndex);\n        }\n      } else {\n        textEl.attr(oldLayout); // Make sure the animation from is in the right status.\n\n        var prevStates = el.prevStates;\n        if (prevStates) {\n          if (indexOf(prevStates, 'select') >= 0) {\n            textEl.attr(layoutStore.oldLayoutSelect);\n          }\n          if (indexOf(prevStates, 'emphasis') >= 0) {\n            textEl.attr(layoutStore.oldLayoutEmphasis);\n          }\n        }\n        updateProps(textEl, newProps, seriesModel, dataIndex);\n      }\n      layoutStore.oldLayout = newProps;\n      if (textEl.states.select) {\n        var layoutSelect = layoutStore.oldLayoutSelect = {};\n        extendWithKeys(layoutSelect, newProps, LABEL_LAYOUT_PROPS);\n        extendWithKeys(layoutSelect, textEl.states.select, LABEL_LAYOUT_PROPS);\n      }\n      if (textEl.states.emphasis) {\n        var layoutEmphasis = layoutStore.oldLayoutEmphasis = {};\n        extendWithKeys(layoutEmphasis, newProps, LABEL_LAYOUT_PROPS);\n        extendWithKeys(layoutEmphasis, textEl.states.emphasis, LABEL_LAYOUT_PROPS);\n      }\n      animateLabelValue(textEl, dataIndex, data, seriesModel, seriesModel);\n    }\n    if (guideLine && !guideLine.ignore && !guideLine.invisible) {\n      var layoutStore = labelLineAnimationStore(guideLine);\n      var oldLayout = layoutStore.oldLayout;\n      var newLayout = {\n        points: guideLine.shape.points\n      };\n      if (!oldLayout) {\n        guideLine.setShape(newLayout);\n        guideLine.style.strokePercent = 0;\n        initProps(guideLine, {\n          style: {\n            strokePercent: 1\n          }\n        }, seriesModel);\n      } else {\n        guideLine.attr({\n          shape: oldLayout\n        });\n        updateProps(guideLine, {\n          shape: newLayout\n        }, seriesModel);\n      }\n      layoutStore.oldLayout = newLayout;\n    }\n  };\n  return LabelManager;\n}();\nexport default LabelManager;","import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner } from '../util/model.js';\nimport LabelManager from './LabelManager.js';\nvar getLabelManager = makeInner();\nexport function installLabelLayout(registers) {\n  registers.registerUpdateLifecycle('series:beforeupdate', function (ecModel, api, params) {\n    // TODO api provide an namespace that can save stuff per instance\n    var labelManager = getLabelManager(api).labelManager;\n    if (!labelManager) {\n      labelManager = getLabelManager(api).labelManager = new LabelManager();\n    }\n    labelManager.clearLabels();\n  });\n  registers.registerUpdateLifecycle('series:layoutlabels', function (ecModel, api, params) {\n    var labelManager = getLabelManager(api).labelManager;\n    params.updatedSeries.forEach(function (series) {\n      labelManager.addLabelsOfSeries(api.getViewOfSeriesModel(series));\n    });\n    labelManager.updateLayoutConfig(api);\n    labelManager.layout(api);\n    labelManager.processLabelsOverall();\n  });\n}","import \"core-js/modules/es.string.anchor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.sub.js\";\nimport \"core-js/modules/es.array.fill.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { Point, Path, Polyline } from '../util/graphic.js';\nimport PathProxy from 'zrender/lib/core/PathProxy.js';\nimport { normalizeRadian } from 'zrender/lib/contain/util.js';\nimport { cubicProjectPoint, quadraticProjectPoint } from 'zrender/lib/core/curve.js';\nimport { defaults, retrieve2 } from 'zrender/lib/core/util.js';\nimport { invert } from 'zrender/lib/core/matrix.js';\nimport * as vector from 'zrender/lib/core/vector.js';\nimport { DISPLAY_STATES, SPECIAL_STATES } from '../util/states.js';\nvar PI2 = Math.PI * 2;\nvar CMD = PathProxy.CMD;\nvar DEFAULT_SEARCH_SPACE = ['top', 'right', 'bottom', 'left'];\nfunction getCandidateAnchor(pos, distance, rect, outPt, outDir) {\n  var width = rect.width;\n  var height = rect.height;\n  switch (pos) {\n    case 'top':\n      outPt.set(rect.x + width / 2, rect.y - distance);\n      outDir.set(0, -1);\n      break;\n    case 'bottom':\n      outPt.set(rect.x + width / 2, rect.y + height + distance);\n      outDir.set(0, 1);\n      break;\n    case 'left':\n      outPt.set(rect.x - distance, rect.y + height / 2);\n      outDir.set(-1, 0);\n      break;\n    case 'right':\n      outPt.set(rect.x + width + distance, rect.y + height / 2);\n      outDir.set(1, 0);\n      break;\n  }\n}\nfunction projectPointToArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y, out) {\n  x -= cx;\n  y -= cy;\n  var d = Math.sqrt(x * x + y * y);\n  x /= d;\n  y /= d; // Intersect point.\n\n  var ox = x * r + cx;\n  var oy = y * r + cy;\n  if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n    // Is a circle\n    out[0] = ox;\n    out[1] = oy;\n    return d - r;\n  }\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n  var angle = Math.atan2(y, x);\n  if (angle < 0) {\n    angle += PI2;\n  }\n  if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {\n    // Project point is on the arc.\n    out[0] = ox;\n    out[1] = oy;\n    return d - r;\n  }\n  var x1 = r * Math.cos(startAngle) + cx;\n  var y1 = r * Math.sin(startAngle) + cy;\n  var x2 = r * Math.cos(endAngle) + cx;\n  var y2 = r * Math.sin(endAngle) + cy;\n  var d1 = (x1 - x) * (x1 - x) + (y1 - y) * (y1 - y);\n  var d2 = (x2 - x) * (x2 - x) + (y2 - y) * (y2 - y);\n  if (d1 < d2) {\n    out[0] = x1;\n    out[1] = y1;\n    return Math.sqrt(d1);\n  } else {\n    out[0] = x2;\n    out[1] = y2;\n    return Math.sqrt(d2);\n  }\n}\nfunction projectPointToLine(x1, y1, x2, y2, x, y, out, limitToEnds) {\n  var dx = x - x1;\n  var dy = y - y1;\n  var dx1 = x2 - x1;\n  var dy1 = y2 - y1;\n  var lineLen = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n  dx1 /= lineLen;\n  dy1 /= lineLen; // dot product\n\n  var projectedLen = dx * dx1 + dy * dy1;\n  var t = projectedLen / lineLen;\n  if (limitToEnds) {\n    t = Math.min(Math.max(t, 0), 1);\n  }\n  t *= lineLen;\n  var ox = out[0] = x1 + t * dx1;\n  var oy = out[1] = y1 + t * dy1;\n  return Math.sqrt((ox - x) * (ox - x) + (oy - y) * (oy - y));\n}\nfunction projectPointToRect(x1, y1, width, height, x, y, out) {\n  if (width < 0) {\n    x1 = x1 + width;\n    width = -width;\n  }\n  if (height < 0) {\n    y1 = y1 + height;\n    height = -height;\n  }\n  var x2 = x1 + width;\n  var y2 = y1 + height;\n  var ox = out[0] = Math.min(Math.max(x, x1), x2);\n  var oy = out[1] = Math.min(Math.max(y, y1), y2);\n  return Math.sqrt((ox - x) * (ox - x) + (oy - y) * (oy - y));\n}\nvar tmpPt = [];\nfunction nearestPointOnRect(pt, rect, out) {\n  var dist = projectPointToRect(rect.x, rect.y, rect.width, rect.height, pt.x, pt.y, tmpPt);\n  out.set(tmpPt[0], tmpPt[1]);\n  return dist;\n}\n/**\n * Calculate min distance corresponding point.\n * This method won't evaluate if point is in the path.\n */\n\nfunction nearestPointOnPath(pt, path, out) {\n  var xi = 0;\n  var yi = 0;\n  var x0 = 0;\n  var y0 = 0;\n  var x1;\n  var y1;\n  var minDist = Infinity;\n  var data = path.data;\n  var x = pt.x;\n  var y = pt.y;\n  for (var i = 0; i < data.length;) {\n    var cmd = data[i++];\n    if (i === 1) {\n      xi = data[i];\n      yi = data[i + 1];\n      x0 = xi;\n      y0 = yi;\n    }\n    var d = minDist;\n    switch (cmd) {\n      case CMD.M:\n        // moveTo 命令重新创建一个新的 subpath, 并且更新新的起点\n        // 在 closePath 的时候使用\n        x0 = data[i++];\n        y0 = data[i++];\n        xi = x0;\n        yi = y0;\n        break;\n      case CMD.L:\n        d = projectPointToLine(xi, yi, data[i], data[i + 1], x, y, tmpPt, true);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n      case CMD.C:\n        d = cubicProjectPoint(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y, tmpPt);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n      case CMD.Q:\n        d = quadraticProjectPoint(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y, tmpPt);\n        xi = data[i++];\n        yi = data[i++];\n        break;\n      case CMD.A:\n        // TODO Arc 判断的开销比较大\n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++]; // TODO Arc 旋转\n\n        i += 1;\n        var anticlockwise = !!(1 - data[i++]);\n        x1 = Math.cos(theta) * rx + cx;\n        y1 = Math.sin(theta) * ry + cy; // 不是直接使用 arc 命令\n\n        if (i <= 1) {\n          // 第一个命令起点还未定义\n          x0 = x1;\n          y0 = y1;\n        } // zr 使用scale来模拟椭圆, 这里也对x做一定的缩放\n\n        var _x = (x - cx) * ry / rx + cx;\n        d = projectPointToArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y, tmpPt);\n        xi = Math.cos(theta + dTheta) * rx + cx;\n        yi = Math.sin(theta + dTheta) * ry + cy;\n        break;\n      case CMD.R:\n        x0 = xi = data[i++];\n        y0 = yi = data[i++];\n        var width = data[i++];\n        var height = data[i++];\n        d = projectPointToRect(x0, y0, width, height, x, y, tmpPt);\n        break;\n      case CMD.Z:\n        d = projectPointToLine(xi, yi, x0, y0, x, y, tmpPt, true);\n        xi = x0;\n        yi = y0;\n        break;\n    }\n    if (d < minDist) {\n      minDist = d;\n      out.set(tmpPt[0], tmpPt[1]);\n    }\n  }\n  return minDist;\n} // Temporal variable for intermediate usage.\n\nvar pt0 = new Point();\nvar pt1 = new Point();\nvar pt2 = new Point();\nvar dir = new Point();\nvar dir2 = new Point();\n/**\n * Calculate a proper guide line based on the label position and graphic element definition\n * @param label\n * @param labelRect\n * @param target\n * @param targetRect\n */\n\nexport function updateLabelLinePoints(target, labelLineModel) {\n  if (!target) {\n    return;\n  }\n  var labelLine = target.getTextGuideLine();\n  var label = target.getTextContent(); // Needs to create text guide in each charts.\n\n  if (!(label && labelLine)) {\n    return;\n  }\n  var labelGuideConfig = target.textGuideLineConfig || {};\n  var points = [[0, 0], [0, 0], [0, 0]];\n  var searchSpace = labelGuideConfig.candidates || DEFAULT_SEARCH_SPACE;\n  var labelRect = label.getBoundingRect().clone();\n  labelRect.applyTransform(label.getComputedTransform());\n  var minDist = Infinity;\n  var anchorPoint = labelGuideConfig.anchor;\n  var targetTransform = target.getComputedTransform();\n  var targetInversedTransform = targetTransform && invert([], targetTransform);\n  var len = labelLineModel.get('length2') || 0;\n  if (anchorPoint) {\n    pt2.copy(anchorPoint);\n  }\n  for (var i = 0; i < searchSpace.length; i++) {\n    var candidate = searchSpace[i];\n    getCandidateAnchor(candidate, 0, labelRect, pt0, dir);\n    Point.scaleAndAdd(pt1, pt0, dir, len); // Transform to target coord space.\n\n    pt1.transform(targetInversedTransform); // Note: getBoundingRect will ensure the `path` being created.\n\n    var boundingRect = target.getBoundingRect();\n    var dist = anchorPoint ? anchorPoint.distance(pt1) : target instanceof Path ? nearestPointOnPath(pt1, target.path, pt2) : nearestPointOnRect(pt1, boundingRect, pt2); // TODO pt2 is in the path\n\n    if (dist < minDist) {\n      minDist = dist; // Transform back to global space.\n\n      pt1.transform(targetTransform);\n      pt2.transform(targetTransform);\n      pt2.toArray(points[0]);\n      pt1.toArray(points[1]);\n      pt0.toArray(points[2]);\n    }\n  }\n  limitTurnAngle(points, labelLineModel.get('minTurnAngle'));\n  labelLine.setShape({\n    points: points\n  });\n} // Temporal variable for the limitTurnAngle function\n\nvar tmpArr = [];\nvar tmpProjPoint = new Point();\n/**\n * Reduce the line segment attached to the label to limit the turn angle between two segments.\n * @param linePoints\n * @param minTurnAngle Radian of minimum turn angle. 0 - 180\n */\n\nexport function limitTurnAngle(linePoints, minTurnAngle) {\n  if (!(minTurnAngle <= 180 && minTurnAngle > 0)) {\n    return;\n  }\n  minTurnAngle = minTurnAngle / 180 * Math.PI; // The line points can be\n  //      /pt1----pt2 (label)\n  //     /\n  // pt0/\n\n  pt0.fromArray(linePoints[0]);\n  pt1.fromArray(linePoints[1]);\n  pt2.fromArray(linePoints[2]);\n  Point.sub(dir, pt0, pt1);\n  Point.sub(dir2, pt2, pt1);\n  var len1 = dir.len();\n  var len2 = dir2.len();\n  if (len1 < 1e-3 || len2 < 1e-3) {\n    return;\n  }\n  dir.scale(1 / len1);\n  dir2.scale(1 / len2);\n  var angleCos = dir.dot(dir2);\n  var minTurnAngleCos = Math.cos(minTurnAngle);\n  if (minTurnAngleCos < angleCos) {\n    // Smaller than minTurnAngle\n    // Calculate project point of pt0 on pt1-pt2\n    var d = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, false);\n    tmpProjPoint.fromArray(tmpArr); // Calculate new projected length with limited minTurnAngle and get the new connect point\n\n    tmpProjPoint.scaleAndAdd(dir2, d / Math.tan(Math.PI - minTurnAngle)); // Limit the new calculated connect point between pt1 and pt2.\n\n    var t = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);\n    if (isNaN(t)) {\n      return;\n    }\n    if (t < 0) {\n      Point.copy(tmpProjPoint, pt1);\n    } else if (t > 1) {\n      Point.copy(tmpProjPoint, pt2);\n    }\n    tmpProjPoint.toArray(linePoints[1]);\n  }\n}\n/**\n * Limit the angle of line and the surface\n * @param maxSurfaceAngle Radian of minimum turn angle. 0 - 180. 0 is same direction to normal. 180 is opposite\n */\n\nexport function limitSurfaceAngle(linePoints, surfaceNormal, maxSurfaceAngle) {\n  if (!(maxSurfaceAngle <= 180 && maxSurfaceAngle > 0)) {\n    return;\n  }\n  maxSurfaceAngle = maxSurfaceAngle / 180 * Math.PI;\n  pt0.fromArray(linePoints[0]);\n  pt1.fromArray(linePoints[1]);\n  pt2.fromArray(linePoints[2]);\n  Point.sub(dir, pt1, pt0);\n  Point.sub(dir2, pt2, pt1);\n  var len1 = dir.len();\n  var len2 = dir2.len();\n  if (len1 < 1e-3 || len2 < 1e-3) {\n    return;\n  }\n  dir.scale(1 / len1);\n  dir2.scale(1 / len2);\n  var angleCos = dir.dot(surfaceNormal);\n  var maxSurfaceAngleCos = Math.cos(maxSurfaceAngle);\n  if (angleCos < maxSurfaceAngleCos) {\n    // Calculate project point of pt0 on pt1-pt2\n    var d = projectPointToLine(pt1.x, pt1.y, pt2.x, pt2.y, pt0.x, pt0.y, tmpArr, false);\n    tmpProjPoint.fromArray(tmpArr);\n    var HALF_PI = Math.PI / 2;\n    var angle2 = Math.acos(dir2.dot(surfaceNormal));\n    var newAngle = HALF_PI + angle2 - maxSurfaceAngle;\n    if (newAngle >= HALF_PI) {\n      // parallel\n      Point.copy(tmpProjPoint, pt2);\n    } else {\n      // Calculate new projected length with limited minTurnAngle and get the new connect point\n      tmpProjPoint.scaleAndAdd(dir2, d / Math.tan(Math.PI / 2 - newAngle)); // Limit the new calculated connect point between pt1 and pt2.\n\n      var t = pt2.x !== pt1.x ? (tmpProjPoint.x - pt1.x) / (pt2.x - pt1.x) : (tmpProjPoint.y - pt1.y) / (pt2.y - pt1.y);\n      if (isNaN(t)) {\n        return;\n      }\n      if (t < 0) {\n        Point.copy(tmpProjPoint, pt1);\n      } else if (t > 1) {\n        Point.copy(tmpProjPoint, pt2);\n      }\n    }\n    tmpProjPoint.toArray(linePoints[1]);\n  }\n}\nfunction setLabelLineState(labelLine, ignore, stateName, stateModel) {\n  var isNormal = stateName === 'normal';\n  var stateObj = isNormal ? labelLine : labelLine.ensureState(stateName); // Make sure display.\n\n  stateObj.ignore = ignore; // Set smooth\n\n  var smooth = stateModel.get('smooth');\n  if (smooth && smooth === true) {\n    smooth = 0.3;\n  }\n  stateObj.shape = stateObj.shape || {};\n  if (smooth > 0) {\n    stateObj.shape.smooth = smooth;\n  }\n  var styleObj = stateModel.getModel('lineStyle').getLineStyle();\n  isNormal ? labelLine.useStyle(styleObj) : stateObj.style = styleObj;\n}\nfunction buildLabelLinePath(path, shape) {\n  var smooth = shape.smooth;\n  var points = shape.points;\n  if (!points) {\n    return;\n  }\n  path.moveTo(points[0][0], points[0][1]);\n  if (smooth > 0 && points.length >= 3) {\n    var len1 = vector.dist(points[0], points[1]);\n    var len2 = vector.dist(points[1], points[2]);\n    if (!len1 || !len2) {\n      path.lineTo(points[1][0], points[1][1]);\n      path.lineTo(points[2][0], points[2][1]);\n      return;\n    }\n    var moveLen = Math.min(len1, len2) * smooth;\n    var midPoint0 = vector.lerp([], points[1], points[0], moveLen / len1);\n    var midPoint2 = vector.lerp([], points[1], points[2], moveLen / len2);\n    var midPoint1 = vector.lerp([], midPoint0, midPoint2, 0.5);\n    path.bezierCurveTo(midPoint0[0], midPoint0[1], midPoint0[0], midPoint0[1], midPoint1[0], midPoint1[1]);\n    path.bezierCurveTo(midPoint2[0], midPoint2[1], midPoint2[0], midPoint2[1], points[2][0], points[2][1]);\n  } else {\n    for (var i = 1; i < points.length; i++) {\n      path.lineTo(points[i][0], points[i][1]);\n    }\n  }\n}\n/**\n * Create a label line if necessary and set it's style.\n */\n\nexport function setLabelLineStyle(targetEl, statesModels, defaultStyle) {\n  var labelLine = targetEl.getTextGuideLine();\n  var label = targetEl.getTextContent();\n  if (!label) {\n    // Not show label line if there is no label.\n    if (labelLine) {\n      targetEl.removeTextGuideLine();\n    }\n    return;\n  }\n  var normalModel = statesModels.normal;\n  var showNormal = normalModel.get('show');\n  var labelIgnoreNormal = label.ignore;\n  for (var i = 0; i < DISPLAY_STATES.length; i++) {\n    var stateName = DISPLAY_STATES[i];\n    var stateModel = statesModels[stateName];\n    var isNormal = stateName === 'normal';\n    if (stateModel) {\n      var stateShow = stateModel.get('show');\n      var isLabelIgnored = isNormal ? labelIgnoreNormal : retrieve2(label.states[stateName] && label.states[stateName].ignore, labelIgnoreNormal);\n      if (isLabelIgnored // Not show when label is not shown in this state.\n      || !retrieve2(stateShow, showNormal) // Use normal state by default if not set.\n      ) {\n        var stateObj = isNormal ? labelLine : labelLine && labelLine.states[stateName];\n        if (stateObj) {\n          stateObj.ignore = true;\n        }\n        continue;\n      } // Create labelLine if not exists\n\n      if (!labelLine) {\n        labelLine = new Polyline();\n        targetEl.setTextGuideLine(labelLine); // Reset state of normal because it's new created.\n        // NOTE: NORMAL should always been the first!\n\n        if (!isNormal && (labelIgnoreNormal || !showNormal)) {\n          setLabelLineState(labelLine, true, 'normal', statesModels.normal);\n        } // Use same state proxy.\n\n        if (targetEl.stateProxy) {\n          labelLine.stateProxy = targetEl.stateProxy;\n        }\n      }\n      setLabelLineState(labelLine, false, stateName, stateModel);\n    }\n  }\n  if (labelLine) {\n    defaults(labelLine.style, defaultStyle); // Not fill.\n\n    labelLine.style.fill = null;\n    var showAbove = normalModel.get('showAbove');\n    var labelLineConfig = targetEl.textGuideLineConfig = targetEl.textGuideLineConfig || {};\n    labelLineConfig.showAbove = showAbove || false; // Custom the buildPath.\n\n    labelLine.buildPath = buildLabelLinePath;\n  }\n}\nexport function getLabelLineStatesModels(itemModel, labelLineName) {\n  labelLineName = labelLineName || 'labelLine';\n  var statesModels = {\n    normal: itemModel.getModel(labelLineName)\n  };\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    statesModels[stateName] = itemModel.getModel([stateName, labelLineName]);\n  }\n  return statesModels;\n}","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.sort.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { BoundingRect, OrientedBoundingRect } from '../util/graphic.js';\nexport function prepareLayoutList(input) {\n  var list = [];\n  for (var i = 0; i < input.length; i++) {\n    var rawItem = input[i];\n    if (rawItem.defaultAttr.ignore) {\n      continue;\n    }\n    var label = rawItem.label;\n    var transform = label.getComputedTransform(); // NOTE: Get bounding rect after getComputedTransform, or label may not been updated by the host el.\n\n    var localRect = label.getBoundingRect();\n    var isAxisAligned = !transform || transform[1] < 1e-5 && transform[2] < 1e-5;\n    var minMargin = label.style.margin || 0;\n    var globalRect = localRect.clone();\n    globalRect.applyTransform(transform);\n    globalRect.x -= minMargin / 2;\n    globalRect.y -= minMargin / 2;\n    globalRect.width += minMargin;\n    globalRect.height += minMargin;\n    var obb = isAxisAligned ? new OrientedBoundingRect(localRect, transform) : null;\n    list.push({\n      label: label,\n      labelLine: rawItem.labelLine,\n      rect: globalRect,\n      localRect: localRect,\n      obb: obb,\n      priority: rawItem.priority,\n      defaultAttr: rawItem.defaultAttr,\n      layoutOption: rawItem.computedLayoutOption,\n      axisAligned: isAxisAligned,\n      transform: transform\n    });\n  }\n  return list;\n}\nfunction shiftLayout(list, xyDim, sizeDim, minBound, maxBound, balanceShift) {\n  var len = list.length;\n  if (len < 2) {\n    return;\n  }\n  list.sort(function (a, b) {\n    return a.rect[xyDim] - b.rect[xyDim];\n  });\n  var lastPos = 0;\n  var delta;\n  var adjusted = false;\n  var shifts = [];\n  var totalShifts = 0;\n  for (var i = 0; i < len; i++) {\n    var item = list[i];\n    var rect = item.rect;\n    delta = rect[xyDim] - lastPos;\n    if (delta < 0) {\n      // shiftForward(i, len, -delta);\n      rect[xyDim] -= delta;\n      item.label[xyDim] -= delta;\n      adjusted = true;\n    }\n    var shift = Math.max(-delta, 0);\n    shifts.push(shift);\n    totalShifts += shift;\n    lastPos = rect[xyDim] + rect[sizeDim];\n  }\n  if (totalShifts > 0 && balanceShift) {\n    // Shift back to make the distribution more equally.\n    shiftList(-totalShifts / len, 0, len);\n  } // TODO bleedMargin?\n\n  var first = list[0];\n  var last = list[len - 1];\n  var minGap;\n  var maxGap;\n  updateMinMaxGap(); // If ends exceed two bounds, squeeze at most 80%, then take the gap of two bounds.\n\n  minGap < 0 && squeezeGaps(-minGap, 0.8);\n  maxGap < 0 && squeezeGaps(maxGap, 0.8);\n  updateMinMaxGap();\n  takeBoundsGap(minGap, maxGap, 1);\n  takeBoundsGap(maxGap, minGap, -1); // Handle bailout when there is not enough space.\n\n  updateMinMaxGap();\n  if (minGap < 0) {\n    squeezeWhenBailout(-minGap);\n  }\n  if (maxGap < 0) {\n    squeezeWhenBailout(maxGap);\n  }\n  function updateMinMaxGap() {\n    minGap = first.rect[xyDim] - minBound;\n    maxGap = maxBound - last.rect[xyDim] - last.rect[sizeDim];\n  }\n  function takeBoundsGap(gapThisBound, gapOtherBound, moveDir) {\n    if (gapThisBound < 0) {\n      // Move from other gap if can.\n      var moveFromMaxGap = Math.min(gapOtherBound, -gapThisBound);\n      if (moveFromMaxGap > 0) {\n        shiftList(moveFromMaxGap * moveDir, 0, len);\n        var remained = moveFromMaxGap + gapThisBound;\n        if (remained < 0) {\n          squeezeGaps(-remained * moveDir, 1);\n        }\n      } else {\n        squeezeGaps(-gapThisBound * moveDir, 1);\n      }\n    }\n  }\n  function shiftList(delta, start, end) {\n    if (delta !== 0) {\n      adjusted = true;\n    }\n    for (var i = start; i < end; i++) {\n      var item = list[i];\n      var rect = item.rect;\n      rect[xyDim] += delta;\n      item.label[xyDim] += delta;\n    }\n  } // Squeeze gaps if the labels exceed margin.\n\n  function squeezeGaps(delta, maxSqeezePercent) {\n    var gaps = [];\n    var totalGaps = 0;\n    for (var i = 1; i < len; i++) {\n      var prevItemRect = list[i - 1].rect;\n      var gap = Math.max(list[i].rect[xyDim] - prevItemRect[xyDim] - prevItemRect[sizeDim], 0);\n      gaps.push(gap);\n      totalGaps += gap;\n    }\n    if (!totalGaps) {\n      return;\n    }\n    var squeezePercent = Math.min(Math.abs(delta) / totalGaps, maxSqeezePercent);\n    if (delta > 0) {\n      for (var i = 0; i < len - 1; i++) {\n        // Distribute the shift delta to all gaps.\n        var movement = gaps[i] * squeezePercent; // Forward\n\n        shiftList(movement, 0, i + 1);\n      }\n    } else {\n      // Backward\n      for (var i = len - 1; i > 0; i--) {\n        // Distribute the shift delta to all gaps.\n        var movement = gaps[i - 1] * squeezePercent;\n        shiftList(-movement, i, len);\n      }\n    }\n  }\n  /**\n   * Squeeze to allow overlap if there is no more space available.\n   * Let other overlapping strategy like hideOverlap do the job instead of keep exceeding the bounds.\n   */\n\n  function squeezeWhenBailout(delta) {\n    var dir = delta < 0 ? -1 : 1;\n    delta = Math.abs(delta);\n    var moveForEachLabel = Math.ceil(delta / (len - 1));\n    for (var i = 0; i < len - 1; i++) {\n      if (dir > 0) {\n        // Forward\n        shiftList(moveForEachLabel, 0, i + 1);\n      } else {\n        // Backward\n        shiftList(-moveForEachLabel, len - i - 1, len);\n      }\n      delta -= moveForEachLabel;\n      if (delta <= 0) {\n        return;\n      }\n    }\n  }\n  return adjusted;\n}\n/**\n * Adjust labels on x direction to avoid overlap.\n */\n\nexport function shiftLayoutOnX(list, leftBound, rightBound,\n// If average the shifts on all labels and add them to 0\n// TODO: Not sure if should enable it.\n// Pros: The angle of lines will distribute more equally\n// Cons: In some layout. It may not what user wanted. like in pie. the label of last sector is usually changed unexpectedly.\nbalanceShift) {\n  return shiftLayout(list, 'x', 'width', leftBound, rightBound, balanceShift);\n}\n/**\n * Adjust labels on y direction to avoid overlap.\n */\n\nexport function shiftLayoutOnY(list, topBound, bottomBound,\n// If average the shifts on all labels and add them to 0\nbalanceShift) {\n  return shiftLayout(list, 'y', 'height', topBound, bottomBound, balanceShift);\n}\nexport function hideOverlap(labelList) {\n  var displayedLabels = []; // TODO, render overflow visible first, put in the displayedLabels.\n\n  labelList.sort(function (a, b) {\n    return b.priority - a.priority;\n  });\n  var globalRect = new BoundingRect(0, 0, 0, 0);\n  function hideEl(el) {\n    if (!el.ignore) {\n      // Show on emphasis.\n      var emphasisState = el.ensureState('emphasis');\n      if (emphasisState.ignore == null) {\n        emphasisState.ignore = false;\n      }\n    }\n    el.ignore = true;\n  }\n  for (var i = 0; i < labelList.length; i++) {\n    var labelItem = labelList[i];\n    var isAxisAligned = labelItem.axisAligned;\n    var localRect = labelItem.localRect;\n    var transform = labelItem.transform;\n    var label = labelItem.label;\n    var labelLine = labelItem.labelLine;\n    globalRect.copy(labelItem.rect); // Add a threshold because layout may be aligned precisely.\n\n    globalRect.width -= 0.1;\n    globalRect.height -= 0.1;\n    globalRect.x += 0.05;\n    globalRect.y += 0.05;\n    var obb = labelItem.obb;\n    var overlapped = false;\n    for (var j = 0; j < displayedLabels.length; j++) {\n      var existsTextCfg = displayedLabels[j]; // Fast rejection.\n\n      if (!globalRect.intersect(existsTextCfg.rect)) {\n        continue;\n      }\n      if (isAxisAligned && existsTextCfg.axisAligned) {\n        // Is overlapped\n        overlapped = true;\n        break;\n      }\n      if (!existsTextCfg.obb) {\n        // If self is not axis aligned. But other is.\n        existsTextCfg.obb = new OrientedBoundingRect(existsTextCfg.localRect, existsTextCfg.transform);\n      }\n      if (!obb) {\n        // If self is axis aligned. But other is not.\n        obb = new OrientedBoundingRect(localRect, transform);\n      }\n      if (obb.intersect(existsTextCfg.obb)) {\n        overlapped = true;\n        break;\n      }\n    } // TODO Callback to determine if this overlap should be handled?\n\n    if (overlapped) {\n      hideEl(label);\n      labelLine && hideEl(labelLine);\n    } else {\n      label.attr('ignore', labelItem.defaultAttr.ignore);\n      labelLine && labelLine.attr('ignore', labelItem.defaultAttr.labelGuideIgnore);\n      displayedLabels.push(labelItem);\n    }\n  }\n}","import \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.array.join.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport ZRText from 'zrender/lib/graphic/Text.js';\nimport { isFunction, retrieve2, extend, keys, trim } from 'zrender/lib/core/util.js';\nimport { SPECIAL_STATES, DISPLAY_STATES } from '../util/states.js';\nimport { deprecateReplaceLog } from '../util/log.js';\nimport { makeInner, interpolateRawValues } from '../util/model.js';\nimport { initProps, updateProps } from '../util/graphic.js';\nvar EMPTY_OBJ = {};\nexport function setLabelText(label, labelTexts) {\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    var text = labelTexts[stateName];\n    var state = label.ensureState(stateName);\n    state.style = state.style || {};\n    state.style.text = text;\n  }\n  var oldStates = label.currentStates.slice();\n  label.clearStates(true);\n  label.setStyle({\n    text: labelTexts.normal\n  });\n  label.useStates(oldStates, true);\n}\nfunction getLabelText(opt, stateModels, interpolatedValue) {\n  var labelFetcher = opt.labelFetcher;\n  var labelDataIndex = opt.labelDataIndex;\n  var labelDimIndex = opt.labelDimIndex;\n  var normalModel = stateModels.normal;\n  var baseText;\n  if (labelFetcher) {\n    baseText = labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex, normalModel && normalModel.get('formatter'), interpolatedValue != null ? {\n      interpolatedValue: interpolatedValue\n    } : null);\n  }\n  if (baseText == null) {\n    baseText = isFunction(opt.defaultText) ? opt.defaultText(labelDataIndex, opt, interpolatedValue) : opt.defaultText;\n  }\n  var statesText = {\n    normal: baseText\n  };\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    var stateModel = stateModels[stateName];\n    statesText[stateName] = retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, stateName, null, labelDimIndex, stateModel && stateModel.get('formatter')) : null, baseText);\n  }\n  return statesText;\n}\nfunction setLabelStyle(targetEl, labelStatesModels, opt, stateSpecified // TODO specified position?\n) {\n  opt = opt || EMPTY_OBJ;\n  var isSetOnText = targetEl instanceof ZRText;\n  var needsCreateText = false;\n  for (var i = 0; i < DISPLAY_STATES.length; i++) {\n    var stateModel = labelStatesModels[DISPLAY_STATES[i]];\n    if (stateModel && stateModel.getShallow('show')) {\n      needsCreateText = true;\n      break;\n    }\n  }\n  var textContent = isSetOnText ? targetEl : targetEl.getTextContent();\n  if (needsCreateText) {\n    if (!isSetOnText) {\n      // Reuse the previous\n      if (!textContent) {\n        textContent = new ZRText();\n        targetEl.setTextContent(textContent);\n      } // Use same state proxy\n\n      if (targetEl.stateProxy) {\n        textContent.stateProxy = targetEl.stateProxy;\n      }\n    }\n    var labelStatesTexts = getLabelText(opt, labelStatesModels);\n    var normalModel = labelStatesModels.normal;\n    var showNormal = !!normalModel.getShallow('show');\n    var normalStyle = createTextStyle(normalModel, stateSpecified && stateSpecified.normal, opt, false, !isSetOnText);\n    normalStyle.text = labelStatesTexts.normal;\n    if (!isSetOnText) {\n      // Always create new\n      targetEl.setTextConfig(createTextConfig(normalModel, opt, false));\n    }\n    for (var i = 0; i < SPECIAL_STATES.length; i++) {\n      var stateName = SPECIAL_STATES[i];\n      var stateModel = labelStatesModels[stateName];\n      if (stateModel) {\n        var stateObj = textContent.ensureState(stateName);\n        var stateShow = !!retrieve2(stateModel.getShallow('show'), showNormal);\n        if (stateShow !== showNormal) {\n          stateObj.ignore = !stateShow;\n        }\n        stateObj.style = createTextStyle(stateModel, stateSpecified && stateSpecified[stateName], opt, true, !isSetOnText);\n        stateObj.style.text = labelStatesTexts[stateName];\n        if (!isSetOnText) {\n          var targetElEmphasisState = targetEl.ensureState(stateName);\n          targetElEmphasisState.textConfig = createTextConfig(stateModel, opt, true);\n        }\n      }\n    } // PENDING: if there is many requirements that emphasis position\n    // need to be different from normal position, we might consider\n    // auto silent is those cases.\n\n    textContent.silent = !!normalModel.getShallow('silent'); // Keep x and y\n\n    if (textContent.style.x != null) {\n      normalStyle.x = textContent.style.x;\n    }\n    if (textContent.style.y != null) {\n      normalStyle.y = textContent.style.y;\n    }\n    textContent.ignore = !showNormal; // Always create new style.\n\n    textContent.useStyle(normalStyle);\n    textContent.dirty();\n    if (opt.enableTextSetter) {\n      labelInner(textContent).setLabelText = function (interpolatedValue) {\n        var labelStatesTexts = getLabelText(opt, labelStatesModels, interpolatedValue);\n        setLabelText(textContent, labelStatesTexts);\n      };\n    }\n  } else if (textContent) {\n    // Not display rich text.\n    textContent.ignore = true;\n  }\n  targetEl.dirty();\n}\nexport { setLabelStyle };\nexport function getLabelStatesModels(itemModel, labelName) {\n  labelName = labelName || 'label';\n  var statesModels = {\n    normal: itemModel.getModel(labelName)\n  };\n  for (var i = 0; i < SPECIAL_STATES.length; i++) {\n    var stateName = SPECIAL_STATES[i];\n    statesModels[stateName] = itemModel.getModel([stateName, labelName]);\n  }\n  return statesModels;\n}\n/**\n * Set basic textStyle properties.\n */\n\nexport function createTextStyle(textStyleModel, specifiedTextStyle,\n// Fixed style in the code. Can't be set by model.\nopt, isNotNormal, isAttached // If text is attached on an element. If so, auto color will handling in zrender.\n) {\n  var textStyle = {};\n  setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached);\n  specifiedTextStyle && extend(textStyle, specifiedTextStyle); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n\n  return textStyle;\n}\nexport function createTextConfig(textStyleModel, opt, isNotNormal) {\n  opt = opt || {};\n  var textConfig = {};\n  var labelPosition;\n  var labelRotate = textStyleModel.getShallow('rotate');\n  var labelDistance = retrieve2(textStyleModel.getShallow('distance'), isNotNormal ? null : 5);\n  var labelOffset = textStyleModel.getShallow('offset');\n  labelPosition = textStyleModel.getShallow('position') || (isNotNormal ? null : 'inside'); // 'outside' is not a valid zr textPostion value, but used\n  // in bar series, and magric type should be considered.\n\n  labelPosition === 'outside' && (labelPosition = opt.defaultOutsidePosition || 'top');\n  if (labelPosition != null) {\n    textConfig.position = labelPosition;\n  }\n  if (labelOffset != null) {\n    textConfig.offset = labelOffset;\n  }\n  if (labelRotate != null) {\n    labelRotate *= Math.PI / 180;\n    textConfig.rotation = labelRotate;\n  }\n  if (labelDistance != null) {\n    textConfig.distance = labelDistance;\n  } // fill and auto is determined by the color of path fill if it's not specified by developers.\n\n  textConfig.outsideFill = textStyleModel.get('color') === 'inherit' ? opt.inheritColor || null : 'auto';\n  return textConfig;\n}\n/**\n * The uniform entry of set text style, that is, retrieve style definitions\n * from `model` and set to `textStyle` object.\n *\n * Never in merge mode, but in overwrite mode, that is, all of the text style\n * properties will be set. (Consider the states of normal and emphasis and\n * default value can be adopted, merge would make the logic too complicated\n * to manage.)\n */\n\nfunction setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached) {\n  // Consider there will be abnormal when merge hover style to normal style if given default value.\n  opt = opt || EMPTY_OBJ;\n  var ecModel = textStyleModel.ecModel;\n  var globalTextStyle = ecModel && ecModel.option.textStyle; // Consider case:\n  // {\n  //     data: [{\n  //         value: 12,\n  //         label: {\n  //             rich: {\n  //                 // no 'a' here but using parent 'a'.\n  //             }\n  //         }\n  //     }],\n  //     rich: {\n  //         a: { ... }\n  //     }\n  // }\n\n  var richItemNames = getRichItemNames(textStyleModel);\n  var richResult;\n  if (richItemNames) {\n    richResult = {};\n    for (var name_1 in richItemNames) {\n      if (richItemNames.hasOwnProperty(name_1)) {\n        // Cascade is supported in rich.\n        var richTextStyle = textStyleModel.getModel(['rich', name_1]); // In rich, never `disableBox`.\n        // FIXME: consider `label: {formatter: '{a|xx}', color: 'blue', rich: {a: {}}}`,\n        // the default color `'blue'` will not be adopted if no color declared in `rich`.\n        // That might confuses users. So probably we should put `textStyleModel` as the\n        // root ancestor of the `richTextStyle`. But that would be a break change.\n\n        setTokenTextStyle(richResult[name_1] = {}, richTextStyle, globalTextStyle, opt, isNotNormal, isAttached, false, true);\n      }\n    }\n  }\n  if (richResult) {\n    textStyle.rich = richResult;\n  }\n  var overflow = textStyleModel.get('overflow');\n  if (overflow) {\n    textStyle.overflow = overflow;\n  }\n  var margin = textStyleModel.get('minMargin');\n  if (margin != null) {\n    textStyle.margin = margin;\n  }\n  setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isNotNormal, isAttached, true, false);\n} // Consider case:\n// {\n//     data: [{\n//         value: 12,\n//         label: {\n//             rich: {\n//                 // no 'a' here but using parent 'a'.\n//             }\n//         }\n//     }],\n//     rich: {\n//         a: { ... }\n//     }\n// }\n// TODO TextStyleModel\n\nfunction getRichItemNames(textStyleModel) {\n  // Use object to remove duplicated names.\n  var richItemNameMap;\n  while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n    var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n    if (rich) {\n      richItemNameMap = richItemNameMap || {};\n      var richKeys = keys(rich);\n      for (var i = 0; i < richKeys.length; i++) {\n        var richKey = richKeys[i];\n        richItemNameMap[richKey] = 1;\n      }\n    }\n    textStyleModel = textStyleModel.parentModel;\n  }\n  return richItemNameMap;\n}\nvar TEXT_PROPS_WITH_GLOBAL = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY'];\nvar TEXT_PROPS_SELF = ['align', 'lineHeight', 'width', 'height', 'tag', 'verticalAlign'];\nvar TEXT_PROPS_BOX = ['padding', 'borderWidth', 'borderRadius', 'borderDashOffset', 'backgroundColor', 'borderColor', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\nfunction setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isNotNormal, isAttached, isBlock, inRich) {\n  // In merge mode, default value should not be given.\n  globalTextStyle = !isNotNormal && globalTextStyle || EMPTY_OBJ;\n  var inheritColor = opt && opt.inheritColor;\n  var fillColor = textStyleModel.getShallow('color');\n  var strokeColor = textStyleModel.getShallow('textBorderColor');\n  var opacity = retrieve2(textStyleModel.getShallow('opacity'), globalTextStyle.opacity);\n  if (fillColor === 'inherit' || fillColor === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      if (fillColor === 'auto') {\n        deprecateReplaceLog('color: \\'auto\\'', 'color: \\'inherit\\'');\n      }\n    }\n    if (inheritColor) {\n      fillColor = inheritColor;\n    } else {\n      fillColor = null;\n    }\n  }\n  if (strokeColor === 'inherit' || strokeColor === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      if (strokeColor === 'auto') {\n        deprecateReplaceLog('color: \\'auto\\'', 'color: \\'inherit\\'');\n      }\n    }\n    if (inheritColor) {\n      strokeColor = inheritColor;\n    } else {\n      strokeColor = null;\n    }\n  }\n  if (!isAttached) {\n    // Only use default global textStyle.color if text is individual.\n    // Otherwise it will use the strategy of attached text color because text may be on a path.\n    fillColor = fillColor || globalTextStyle.color;\n    strokeColor = strokeColor || globalTextStyle.textBorderColor;\n  }\n  if (fillColor != null) {\n    textStyle.fill = fillColor;\n  }\n  if (strokeColor != null) {\n    textStyle.stroke = strokeColor;\n  }\n  var textBorderWidth = retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n  if (textBorderWidth != null) {\n    textStyle.lineWidth = textBorderWidth;\n  }\n  var textBorderType = retrieve2(textStyleModel.getShallow('textBorderType'), globalTextStyle.textBorderType);\n  if (textBorderType != null) {\n    textStyle.lineDash = textBorderType;\n  }\n  var textBorderDashOffset = retrieve2(textStyleModel.getShallow('textBorderDashOffset'), globalTextStyle.textBorderDashOffset);\n  if (textBorderDashOffset != null) {\n    textStyle.lineDashOffset = textBorderDashOffset;\n  }\n  if (!isNotNormal && opacity == null && !inRich) {\n    opacity = opt && opt.defaultOpacity;\n  }\n  if (opacity != null) {\n    textStyle.opacity = opacity;\n  } // TODO\n\n  if (!isNotNormal && !isAttached) {\n    // Set default finally.\n    if (textStyle.fill == null && opt.inheritColor) {\n      textStyle.fill = opt.inheritColor;\n    }\n  } // Do not use `getFont` here, because merge should be supported, where\n  // part of these properties may be changed in emphasis style, and the\n  // others should remain their original value got from normal style.\n\n  for (var i = 0; i < TEXT_PROPS_WITH_GLOBAL.length; i++) {\n    var key = TEXT_PROPS_WITH_GLOBAL[i];\n    var val = retrieve2(textStyleModel.getShallow(key), globalTextStyle[key]);\n    if (val != null) {\n      textStyle[key] = val;\n    }\n  }\n  for (var i = 0; i < TEXT_PROPS_SELF.length; i++) {\n    var key = TEXT_PROPS_SELF[i];\n    var val = textStyleModel.getShallow(key);\n    if (val != null) {\n      textStyle[key] = val;\n    }\n  }\n  if (textStyle.verticalAlign == null) {\n    var baseline = textStyleModel.getShallow('baseline');\n    if (baseline != null) {\n      textStyle.verticalAlign = baseline;\n    }\n  }\n  if (!isBlock || !opt.disableBox) {\n    for (var i = 0; i < TEXT_PROPS_BOX.length; i++) {\n      var key = TEXT_PROPS_BOX[i];\n      var val = textStyleModel.getShallow(key);\n      if (val != null) {\n        textStyle[key] = val;\n      }\n    }\n    var borderType = textStyleModel.getShallow('borderType');\n    if (borderType != null) {\n      textStyle.borderDash = borderType;\n    }\n    if ((textStyle.backgroundColor === 'auto' || textStyle.backgroundColor === 'inherit') && inheritColor) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (textStyle.backgroundColor === 'auto') {\n          deprecateReplaceLog('backgroundColor: \\'auto\\'', 'backgroundColor: \\'inherit\\'');\n        }\n      }\n      textStyle.backgroundColor = inheritColor;\n    }\n    if ((textStyle.borderColor === 'auto' || textStyle.borderColor === 'inherit') && inheritColor) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (textStyle.borderColor === 'auto') {\n          deprecateReplaceLog('borderColor: \\'auto\\'', 'borderColor: \\'inherit\\'');\n        }\n      }\n      textStyle.borderColor = inheritColor;\n    }\n  }\n}\nexport function getFont(opt, ecModel) {\n  var gTextStyleModel = ecModel && ecModel.getModel('textStyle');\n  return trim([\n  // FIXME in node-canvas fontWeight is before fontStyle\n  opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' '));\n}\nexport var labelInner = makeInner();\nexport function setLabelValueAnimation(label, labelStatesModels, value, getDefaultText) {\n  if (!label) {\n    return;\n  }\n  var obj = labelInner(label);\n  obj.prevValue = obj.value;\n  obj.value = value;\n  var normalLabelModel = labelStatesModels.normal;\n  obj.valueAnimation = normalLabelModel.get('valueAnimation');\n  if (obj.valueAnimation) {\n    obj.precision = normalLabelModel.get('precision');\n    obj.defaultInterpolatedText = getDefaultText;\n    obj.statesModels = labelStatesModels;\n  }\n}\nexport function animateLabelValue(textEl, dataIndex, data, animatableModel, labelFetcher) {\n  var labelInnerStore = labelInner(textEl);\n  if (!labelInnerStore.valueAnimation || labelInnerStore.prevValue === labelInnerStore.value) {\n    // Value not changed, no new label animation\n    return;\n  }\n  var defaultInterpolatedText = labelInnerStore.defaultInterpolatedText; // Consider the case that being animating, do not use the `obj.value`,\n  // Otherwise it will jump to the `obj.value` when this new animation started.\n\n  var currValue = retrieve2(labelInnerStore.interpolatedValue, labelInnerStore.prevValue);\n  var targetValue = labelInnerStore.value;\n  function during(percent) {\n    var interpolated = interpolateRawValues(data, labelInnerStore.precision, currValue, targetValue, percent);\n    labelInnerStore.interpolatedValue = percent === 1 ? null : interpolated;\n    var labelText = getLabelText({\n      labelDataIndex: dataIndex,\n      labelFetcher: labelFetcher,\n      defaultText: defaultInterpolatedText ? defaultInterpolatedText(interpolated) : interpolated + ''\n    }, labelInnerStore.statesModels, interpolated);\n    setLabelText(textEl, labelText);\n  }\n  textEl.percent = 0;\n  (labelInnerStore.prevValue == null ? initProps : updateProps)(textEl, {\n    // percent is used to prevent animation from being aborted #15916\n    percent: 1\n  }, animatableModel, dataIndex, null, during);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { calculateTextPosition } from 'zrender/lib/contain/text.js';\nimport { isArray, isNumber } from 'zrender/lib/core/util.js';\nexport function createSectorCalculateTextPosition(positionMapping, opts) {\n  opts = opts || {};\n  var isRoundCap = opts.isRoundCap;\n  return function (out, opts, boundingRect) {\n    var textPosition = opts.position;\n\n    if (!textPosition || textPosition instanceof Array) {\n      return calculateTextPosition(out, opts, boundingRect);\n    }\n\n    var mappedSectorPosition = positionMapping(textPosition);\n    var distance = opts.distance != null ? opts.distance : 5;\n    var sector = this.shape;\n    var cx = sector.cx;\n    var cy = sector.cy;\n    var r = sector.r;\n    var r0 = sector.r0;\n    var middleR = (r + r0) / 2;\n    var startAngle = sector.startAngle;\n    var endAngle = sector.endAngle;\n    var middleAngle = (startAngle + endAngle) / 2;\n    var extraDist = isRoundCap ? Math.abs(r - r0) / 2 : 0;\n    var mathCos = Math.cos;\n    var mathSin = Math.sin; // base position: top-left\n\n    var x = cx + r * mathCos(startAngle);\n    var y = cy + r * mathSin(startAngle);\n    var textAlign = 'left';\n    var textVerticalAlign = 'top';\n\n    switch (mappedSectorPosition) {\n      case 'startArc':\n        x = cx + (r0 - distance) * mathCos(middleAngle);\n        y = cy + (r0 - distance) * mathSin(middleAngle);\n        textAlign = 'center';\n        textVerticalAlign = 'top';\n        break;\n\n      case 'insideStartArc':\n        x = cx + (r0 + distance) * mathCos(middleAngle);\n        y = cy + (r0 + distance) * mathSin(middleAngle);\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        break;\n\n      case 'startAngle':\n        x = cx + middleR * mathCos(startAngle) + adjustAngleDistanceX(startAngle, distance + extraDist, false);\n        y = cy + middleR * mathSin(startAngle) + adjustAngleDistanceY(startAngle, distance + extraDist, false);\n        textAlign = 'right';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'insideStartAngle':\n        x = cx + middleR * mathCos(startAngle) + adjustAngleDistanceX(startAngle, -distance + extraDist, false);\n        y = cy + middleR * mathSin(startAngle) + adjustAngleDistanceY(startAngle, -distance + extraDist, false);\n        textAlign = 'left';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'middle':\n        x = cx + middleR * mathCos(middleAngle);\n        y = cy + middleR * mathSin(middleAngle);\n        textAlign = 'center';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'endArc':\n        x = cx + (r + distance) * mathCos(middleAngle);\n        y = cy + (r + distance) * mathSin(middleAngle);\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        break;\n\n      case 'insideEndArc':\n        x = cx + (r - distance) * mathCos(middleAngle);\n        y = cy + (r - distance) * mathSin(middleAngle);\n        textAlign = 'center';\n        textVerticalAlign = 'top';\n        break;\n\n      case 'endAngle':\n        x = cx + middleR * mathCos(endAngle) + adjustAngleDistanceX(endAngle, distance + extraDist, true);\n        y = cy + middleR * mathSin(endAngle) + adjustAngleDistanceY(endAngle, distance + extraDist, true);\n        textAlign = 'left';\n        textVerticalAlign = 'middle';\n        break;\n\n      case 'insideEndAngle':\n        x = cx + middleR * mathCos(endAngle) + adjustAngleDistanceX(endAngle, -distance + extraDist, true);\n        y = cy + middleR * mathSin(endAngle) + adjustAngleDistanceY(endAngle, -distance + extraDist, true);\n        textAlign = 'right';\n        textVerticalAlign = 'middle';\n        break;\n\n      default:\n        return calculateTextPosition(out, opts, boundingRect);\n    }\n\n    out = out || {};\n    out.x = x;\n    out.y = y;\n    out.align = textAlign;\n    out.verticalAlign = textVerticalAlign;\n    return out;\n  };\n}\nexport function setSectorTextRotation(sector, textPosition, positionMapping, rotateType) {\n  if (isNumber(rotateType)) {\n    // user-set rotation\n    sector.setTextConfig({\n      rotation: rotateType\n    });\n    return;\n  } else if (isArray(textPosition)) {\n    // user-set position, use 0 as auto rotation\n    sector.setTextConfig({\n      rotation: 0\n    });\n    return;\n  }\n\n  var shape = sector.shape;\n  var startAngle = shape.clockwise ? shape.startAngle : shape.endAngle;\n  var endAngle = shape.clockwise ? shape.endAngle : shape.startAngle;\n  var middleAngle = (startAngle + endAngle) / 2;\n  var anchorAngle;\n  var mappedSectorPosition = positionMapping(textPosition);\n\n  switch (mappedSectorPosition) {\n    case 'startArc':\n    case 'insideStartArc':\n    case 'middle':\n    case 'insideEndArc':\n    case 'endArc':\n      anchorAngle = middleAngle;\n      break;\n\n    case 'startAngle':\n    case 'insideStartAngle':\n      anchorAngle = startAngle;\n      break;\n\n    case 'endAngle':\n    case 'insideEndAngle':\n      anchorAngle = endAngle;\n      break;\n\n    default:\n      sector.setTextConfig({\n        rotation: 0\n      });\n      return;\n  }\n\n  var rotate = Math.PI * 1.5 - anchorAngle;\n  /**\n   * TODO: labels with rotate > Math.PI / 2 should be rotate another\n   * half round flipped to increase readability. However, only middle\n   * position supports this for now, because in other positions, the\n   * anchor point is not at the center of the text, so the positions\n   * after rotating is not as expected.\n   */\n\n  if (mappedSectorPosition === 'middle' && rotate > Math.PI / 2 && rotate < Math.PI * 1.5) {\n    rotate -= Math.PI;\n  }\n\n  sector.setTextConfig({\n    rotation: rotate\n  });\n}\n\nfunction adjustAngleDistanceX(angle, distance, isEnd) {\n  return distance * Math.sin(angle) * (isEnd ? -1 : 1);\n}\n\nfunction adjustAngleDistanceY(angle, distance, isEnd) {\n  return distance * Math.cos(angle) * (isEnd ? 1 : -1);\n}","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.sort.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, defaults, keys } from 'zrender/lib/core/util.js';\nimport { parsePercent } from '../util/number.js';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper.js';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner.js';\nimport { createFloat32Array } from '../util/vendor.js';\nvar STACK_PREFIX = '__ec_stack_';\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || STACK_PREFIX + seriesModel.seriesIndex;\n}\nfunction getAxisKey(axis) {\n  return axis.dim + axis.index;\n}\n/**\n * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.\n */\n\nexport function getLayoutOnAxis(opt) {\n  var params = [];\n  var baseAxis = opt.axis;\n  var axisKey = 'axis0';\n  if (baseAxis.type !== 'category') {\n    return;\n  }\n  var bandWidth = baseAxis.getBandWidth();\n  for (var i = 0; i < opt.count || 0; i++) {\n    params.push(defaults({\n      bandWidth: bandWidth,\n      axisKey: axisKey,\n      stackId: STACK_PREFIX + i\n    }, opt));\n  }\n  var widthAndOffsets = doCalBarWidthAndOffset(params);\n  var result = [];\n  for (var i = 0; i < opt.count; i++) {\n    var item = widthAndOffsets[axisKey][STACK_PREFIX + i];\n    item.offsetCenter = item.offset + item.width / 2;\n    result.push(item);\n  }\n  return result;\n}\nexport function prepareLayoutBarSeries(seriesType, ecModel) {\n  var seriesModels = [];\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for cartesian2d only\n    if (isOnCartesian(seriesModel)) {\n      seriesModels.push(seriesModel);\n    }\n  });\n  return seriesModels;\n}\n/**\n * Map from (baseAxis.dim + '_' + baseAxis.index) to min gap of two adjacent\n * values.\n * This works for time axes, value axes, and log axes.\n * For a single time axis, return value is in the form like\n * {'x_0': [1000000]}.\n * The value of 1000000 is in milliseconds.\n */\n\nfunction getValueAxesMinGaps(barSeries) {\n  /**\n   * Map from axis.index to values.\n   * For a single time axis, axisValues is in the form like\n   * {'x_0': [1495555200000, 1495641600000, 1495728000000]}.\n   * Items in axisValues[x], e.g. 1495555200000, are time values of all\n   * series.\n   */\n  var axisValues = {};\n  each(barSeries, function (seriesModel) {\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    if (baseAxis.type !== 'time' && baseAxis.type !== 'value') {\n      return;\n    }\n    var data = seriesModel.getData();\n    var key = baseAxis.dim + '_' + baseAxis.index;\n    var dimIdx = data.getDimensionIndex(data.mapDimension(baseAxis.dim));\n    var store = data.getStore();\n    for (var i = 0, cnt = store.count(); i < cnt; ++i) {\n      var value = store.get(dimIdx, i);\n      if (!axisValues[key]) {\n        // No previous data for the axis\n        axisValues[key] = [value];\n      } else {\n        // No value in previous series\n        axisValues[key].push(value);\n      } // Ignore duplicated time values in the same axis\n    }\n  });\n\n  var axisMinGaps = {};\n  for (var key in axisValues) {\n    if (axisValues.hasOwnProperty(key)) {\n      var valuesInAxis = axisValues[key];\n      if (valuesInAxis) {\n        // Sort axis values into ascending order to calculate gaps\n        valuesInAxis.sort(function (a, b) {\n          return a - b;\n        });\n        var min = null;\n        for (var j = 1; j < valuesInAxis.length; ++j) {\n          var delta = valuesInAxis[j] - valuesInAxis[j - 1];\n          if (delta > 0) {\n            // Ignore 0 delta because they are of the same axis value\n            min = min === null ? delta : Math.min(min, delta);\n          }\n        } // Set to null if only have one data\n\n        axisMinGaps[key] = min;\n      }\n    }\n  }\n  return axisMinGaps;\n}\nexport function makeColumnLayout(barSeries) {\n  var axisMinGaps = getValueAxesMinGaps(barSeries);\n  var seriesInfoList = [];\n  each(barSeries, function (seriesModel) {\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth;\n    if (baseAxis.type === 'category') {\n      bandWidth = baseAxis.getBandWidth();\n    } else if (baseAxis.type === 'value' || baseAxis.type === 'time') {\n      var key = baseAxis.dim + '_' + baseAxis.index;\n      var minGap = axisMinGaps[key];\n      var extentSpan = Math.abs(axisExtent[1] - axisExtent[0]);\n      var scale = baseAxis.scale.getExtent();\n      var scaleSpan = Math.abs(scale[1] - scale[0]);\n      bandWidth = minGap ? extentSpan / scaleSpan * minGap : extentSpan; // When there is only one data value\n    } else {\n      var data = seriesModel.getData();\n      bandWidth = Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    }\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barMinWidth = parsePercent(\n    // barMinWidth by default is 0.5 / 1 in cartesian. Because in value axis,\n    // the auto-calculated bar width might be less than 0.5 / 1.\n    seriesModel.get('barMinWidth') || (isInLargeMode(seriesModel) ? 0.5 : 1), bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n    seriesInfoList.push({\n      bandWidth: bandWidth,\n      barWidth: barWidth,\n      barMaxWidth: barMaxWidth,\n      barMinWidth: barMinWidth,\n      barGap: barGap,\n      barCategoryGap: barCategoryGap,\n      axisKey: getAxisKey(baseAxis),\n      stackId: getSeriesStackId(seriesModel)\n    });\n  });\n  return doCalBarWidthAndOffset(seriesInfoList);\n}\nfunction doCalBarWidthAndOffset(seriesInfoList) {\n  // Columns info on each category axis. Key is cartesian name\n  var columnsMap = {};\n  each(seriesInfoList, function (seriesInfo, idx) {\n    var axisKey = seriesInfo.axisKey;\n    var bandWidth = seriesInfo.bandWidth;\n    var columnsOnAxis = columnsMap[axisKey] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: null,\n      gap: '20%',\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[axisKey] = columnsOnAxis;\n    var stackId = seriesInfo.stackId;\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    }; // Caution: In a single coordinate system, these barGrid attributes\n    // will be shared by series. Consider that they have default values,\n    // only the attributes set on the last series will work.\n    // Do not change this fact unless there will be a break change.\n\n    var barWidth = seriesInfo.barWidth;\n    if (barWidth && !stacks[stackId].width) {\n      // See #6312, do not restrict width.\n      stacks[stackId].width = barWidth;\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n    var barMaxWidth = seriesInfo.barMaxWidth;\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    var barMinWidth = seriesInfo.barMinWidth;\n    barMinWidth && (stacks[stackId].minWidth = barMinWidth);\n    var barGap = seriesInfo.barGap;\n    barGap != null && (columnsOnAxis.gap = barGap);\n    var barCategoryGap = seriesInfo.barCategoryGap;\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGapPercent = columnsOnAxis.categoryGap;\n    if (categoryGapPercent == null) {\n      var columnCount = keys(stacks).length; // More columns in one group\n      // the spaces between group is smaller. Or the column will be too thin.\n\n      categoryGapPercent = Math.max(35 - columnCount * 4, 15) + '%';\n    }\n    var categoryGap = parsePercent(categoryGapPercent, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n    each(stacks, function (column) {\n      var maxWidth = column.maxWidth;\n      var minWidth = column.minWidth;\n      if (!column.width) {\n        var finalWidth = autoWidth;\n        if (maxWidth && maxWidth < finalWidth) {\n          finalWidth = Math.min(maxWidth, remainedWidth);\n        } // `minWidth` has higher priority. `minWidth` decide that whether the\n        // bar is able to be visible. So `minWidth` should not be restricted\n        // by `maxWidth` or `remainedWidth` (which is from `bandWidth`). In\n        // the extreme cases for `value` axis, bars are allowed to overlap\n        // with each other if `minWidth` specified.\n\n        if (minWidth && minWidth > finalWidth) {\n          finalWidth = minWidth;\n        }\n        if (finalWidth !== autoWidth) {\n          column.width = finalWidth;\n          remainedWidth -= finalWidth + barGapPercent * finalWidth;\n          autoWidthCount--;\n        }\n      } else {\n        // `barMinWidth/barMaxWidth` has higher priority than `barWidth`, as\n        // CSS does. Because barWidth can be a percent value, where\n        // `barMaxWidth` can be used to restrict the final width.\n        var finalWidth = column.width;\n        if (maxWidth) {\n          finalWidth = Math.min(finalWidth, maxWidth);\n        } // `minWidth` has higher priority, as described above\n\n        if (minWidth) {\n          finalWidth = Math.max(finalWidth, minWidth);\n        }\n        column.width = finalWidth;\n        remainedWidth -= finalWidth + barGapPercent * finalWidth;\n        autoWidthCount--;\n      }\n    }); // Recalculate width again\n\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n    var offset = -widthSum / 2;\n    each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        bandWidth: bandWidth,\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\nfunction retrieveColumnLayout(barWidthAndOffset, axis, seriesModel) {\n  if (barWidthAndOffset && axis) {\n    var result = barWidthAndOffset[getAxisKey(axis)];\n    if (result != null && seriesModel != null) {\n      return result[getSeriesStackId(seriesModel)];\n    }\n    return result;\n  }\n}\nexport { retrieveColumnLayout };\nexport function layout(seriesType, ecModel) {\n  var seriesModels = prepareLayoutBarSeries(seriesType, ecModel);\n  var barWidthAndOffset = makeColumnLayout(seriesModels);\n  each(seriesModels, function (seriesModel) {\n    var data = seriesModel.getData();\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    data.setLayout({\n      bandWidth: columnLayoutInfo.bandWidth,\n      offset: columnOffset,\n      size: columnWidth\n    });\n  });\n} // TODO: Do not support stack in large mode yet.\n\nexport function createProgressiveLayout(seriesType) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function reset(seriesModel) {\n      if (!isOnCartesian(seriesModel)) {\n        return;\n      }\n      var data = seriesModel.getData();\n      var cartesian = seriesModel.coordinateSystem;\n      var baseAxis = cartesian.getBaseAxis();\n      var valueAxis = cartesian.getOtherAxis(baseAxis);\n      var valueDimIdx = data.getDimensionIndex(data.mapDimension(valueAxis.dim));\n      var baseDimIdx = data.getDimensionIndex(data.mapDimension(baseAxis.dim));\n      var drawBackground = seriesModel.get('showBackground', true);\n      var valueDim = data.mapDimension(valueAxis.dim);\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n      var stacked = isDimensionStacked(data, valueDim) && !!data.getCalculationInfo('stackedOnSeries');\n      var isValueAxisH = valueAxis.isHorizontal();\n      var valueAxisStart = getValueAxisStart(baseAxis, valueAxis);\n      var isLarge = isInLargeMode(seriesModel);\n      var barMinHeight = seriesModel.get('barMinHeight') || 0;\n      var stackedDimIdx = stackResultDim && data.getDimensionIndex(stackResultDim); // Layout info.\n\n      var columnWidth = data.getLayout('size');\n      var columnOffset = data.getLayout('offset');\n      return {\n        progress: function progress(params, data) {\n          var count = params.count;\n          var largePoints = isLarge && createFloat32Array(count * 3);\n          var largeBackgroundPoints = isLarge && drawBackground && createFloat32Array(count * 3);\n          var largeDataIndices = isLarge && createFloat32Array(count);\n          var coordLayout = cartesian.master.getRect();\n          var bgSize = isValueAxisH ? coordLayout.width : coordLayout.height;\n          var dataIndex;\n          var store = data.getStore();\n          var idxOffset = 0;\n          while ((dataIndex = params.next()) != null) {\n            var value = store.get(stacked ? stackedDimIdx : valueDimIdx, dataIndex);\n            var baseValue = store.get(baseDimIdx, dataIndex);\n            var baseCoord = valueAxisStart;\n            var startValue = void 0; // Because of the barMinHeight, we can not use the value in\n            // stackResultDimension directly.\n\n            if (stacked) {\n              startValue = +value - store.get(valueDimIdx, dataIndex);\n            }\n            var x = void 0;\n            var y = void 0;\n            var width = void 0;\n            var height = void 0;\n            if (isValueAxisH) {\n              var coord = cartesian.dataToPoint([value, baseValue]);\n              if (stacked) {\n                var startCoord = cartesian.dataToPoint([startValue, baseValue]);\n                baseCoord = startCoord[0];\n              }\n              x = baseCoord;\n              y = coord[1] + columnOffset;\n              width = coord[0] - baseCoord;\n              height = columnWidth;\n              if (Math.abs(width) < barMinHeight) {\n                width = (width < 0 ? -1 : 1) * barMinHeight;\n              }\n            } else {\n              var coord = cartesian.dataToPoint([baseValue, value]);\n              if (stacked) {\n                var startCoord = cartesian.dataToPoint([baseValue, startValue]);\n                baseCoord = startCoord[1];\n              }\n              x = coord[0] + columnOffset;\n              y = baseCoord;\n              width = columnWidth;\n              height = coord[1] - baseCoord;\n              if (Math.abs(height) < barMinHeight) {\n                // Include zero to has a positive bar\n                height = (height <= 0 ? -1 : 1) * barMinHeight;\n              }\n            }\n            if (!isLarge) {\n              data.setItemLayout(dataIndex, {\n                x: x,\n                y: y,\n                width: width,\n                height: height\n              });\n            } else {\n              largePoints[idxOffset] = x;\n              largePoints[idxOffset + 1] = y;\n              largePoints[idxOffset + 2] = isValueAxisH ? width : height;\n              if (largeBackgroundPoints) {\n                largeBackgroundPoints[idxOffset] = isValueAxisH ? coordLayout.x : x;\n                largeBackgroundPoints[idxOffset + 1] = isValueAxisH ? y : coordLayout.y;\n                largeBackgroundPoints[idxOffset + 2] = bgSize;\n              }\n              largeDataIndices[dataIndex] = dataIndex;\n            }\n            idxOffset += 3;\n          }\n          if (isLarge) {\n            data.setLayout({\n              largePoints: largePoints,\n              largeDataIndices: largeDataIndices,\n              largeBackgroundPoints: largeBackgroundPoints,\n              valueAxisHorizontal: isValueAxisH\n            });\n          }\n        }\n      };\n    }\n  };\n}\nfunction isOnCartesian(seriesModel) {\n  return seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'cartesian2d';\n}\nfunction isInLargeMode(seriesModel) {\n  return seriesModel.pipelineContext && seriesModel.pipelineContext.large;\n} // See cases in `test/bar-start.html` and `#7412`, `#8747`.\n\nfunction getValueAxisStart(baseAxis, valueAxis) {\n  return valueAxis.toGlobalCoord(valueAxis.dataToCoord(valueAxis.type === 'log' ? 1 : 0));\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parsePercent } from '../util/number.js';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper.js';\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || '__ec_stack_' + seriesModel.seriesIndex;\n}\nfunction getAxisKey(polar, axis) {\n  return axis.dim + polar.model.componentIndex;\n}\nfunction barLayoutPolar(seriesType, ecModel, api) {\n  var lastStackCoords = {};\n  var barWidthAndOffset = calRadialBar(zrUtil.filter(ecModel.getSeriesByType(seriesType), function (seriesModel) {\n    return !ecModel.isSeriesFiltered(seriesModel) && seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'polar';\n  }));\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for polar only\n    if (seriesModel.coordinateSystem.type !== 'polar') {\n      return;\n    }\n    var data = seriesModel.getData();\n    var polar = seriesModel.coordinateSystem;\n    var baseAxis = polar.getBaseAxis();\n    var axisKey = getAxisKey(polar, baseAxis);\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[axisKey][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    var valueAxis = polar.getOtherAxis(baseAxis);\n    var cx = seriesModel.coordinateSystem.cx;\n    var cy = seriesModel.coordinateSystem.cy;\n    var barMinHeight = seriesModel.get('barMinHeight') || 0;\n    var barMinAngle = seriesModel.get('barMinAngle') || 0;\n    lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n    var valueDim = data.mapDimension(valueAxis.dim);\n    var baseDim = data.mapDimension(baseAxis.dim);\n    var stacked = isDimensionStacked(data, valueDim\n    /* , baseDim */);\n\n    var clampLayout = baseAxis.dim !== 'radius' || !seriesModel.get('roundCap', true);\n    var valueAxisStart = valueAxis.dataToCoord(0);\n    for (var idx = 0, len = data.count(); idx < len; idx++) {\n      var value = data.get(valueDim, idx);\n      var baseValue = data.get(baseDim, idx);\n      var sign = value >= 0 ? 'p' : 'n';\n      var baseCoord = valueAxisStart; // Because of the barMinHeight, we can not use the value in\n      // stackResultDimension directly.\n      // Only ordinal axis can be stacked.\n\n      if (stacked) {\n        if (!lastStackCoords[stackId][baseValue]) {\n          lastStackCoords[stackId][baseValue] = {\n            p: valueAxisStart,\n            n: valueAxisStart // Negative stack\n          };\n        } // Should also consider #4243\n\n        baseCoord = lastStackCoords[stackId][baseValue][sign];\n      }\n      var r0 = void 0;\n      var r = void 0;\n      var startAngle = void 0;\n      var endAngle = void 0; // radial sector\n\n      if (valueAxis.dim === 'radius') {\n        var radiusSpan = valueAxis.dataToCoord(value) - valueAxisStart;\n        var angle = baseAxis.dataToCoord(baseValue);\n        if (Math.abs(radiusSpan) < barMinHeight) {\n          radiusSpan = (radiusSpan < 0 ? -1 : 1) * barMinHeight;\n        }\n        r0 = baseCoord;\n        r = baseCoord + radiusSpan;\n        startAngle = angle - columnOffset;\n        endAngle = startAngle - columnWidth;\n        stacked && (lastStackCoords[stackId][baseValue][sign] = r);\n      } // tangential sector\n      else {\n        var angleSpan = valueAxis.dataToCoord(value, clampLayout) - valueAxisStart;\n        var radius = baseAxis.dataToCoord(baseValue);\n        if (Math.abs(angleSpan) < barMinAngle) {\n          angleSpan = (angleSpan < 0 ? -1 : 1) * barMinAngle;\n        }\n        r0 = radius + columnOffset;\n        r = r0 + columnWidth;\n        startAngle = baseCoord;\n        endAngle = baseCoord + angleSpan; // if the previous stack is at the end of the ring,\n        // add a round to differentiate it from origin\n        // let extent = angleAxis.getExtent();\n        // let stackCoord = angle;\n        // if (stackCoord === extent[0] && value > 0) {\n        //     stackCoord = extent[1];\n        // }\n        // else if (stackCoord === extent[1] && value < 0) {\n        //     stackCoord = extent[0];\n        // }\n\n        stacked && (lastStackCoords[stackId][baseValue][sign] = endAngle);\n      }\n      data.setItemLayout(idx, {\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: r,\n        // Consider that positive angle is anti-clockwise,\n        // while positive radian of sector is clockwise\n        startAngle: -startAngle * Math.PI / 180,\n        endAngle: -endAngle * Math.PI / 180,\n        /**\n         * Keep the same logic with bar in catesion: use end value to\n         * control direction. Notice that if clockwise is true (by\n         * default), the sector will always draw clockwisely, no matter\n         * whether endAngle is greater or less than startAngle.\n         */\n        clockwise: startAngle >= endAngle\n      });\n    }\n  });\n}\n/**\n * Calculate bar width and offset for radial bar charts\n */\n\nfunction calRadialBar(barSeries) {\n  // Columns info on each category axis. Key is polar name\n  var columnsMap = {};\n  zrUtil.each(barSeries, function (seriesModel, idx) {\n    var data = seriesModel.getData();\n    var polar = seriesModel.coordinateSystem;\n    var baseAxis = polar.getBaseAxis();\n    var axisKey = getAxisKey(polar, baseAxis);\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    var columnsOnAxis = columnsMap[axisKey] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: '20%',\n      gap: '30%',\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[axisKey] = columnsOnAxis;\n    var stackId = getSeriesStackId(seriesModel);\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    };\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n    if (barWidth && !stacks[stackId].width) {\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      stacks[stackId].width = barWidth;\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    barGap != null && (columnsOnAxis.gap = barGap);\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  zrUtil.each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGap = parsePercent(columnsOnAxis.categoryGap, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n    zrUtil.each(stacks, function (column, stack) {\n      var maxWidth = column.maxWidth;\n      if (maxWidth && maxWidth < autoWidth) {\n        maxWidth = Math.min(maxWidth, remainedWidth);\n        if (column.width) {\n          maxWidth = Math.min(maxWidth, column.width);\n        }\n        remainedWidth -= maxWidth;\n        column.width = maxWidth;\n        autoWidthCount--;\n      }\n    }); // Recalculate width again\n\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    zrUtil.each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n    var offset = -widthSum / 2;\n    zrUtil.each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\nexport default barLayoutPolar;","import \"core-js/modules/es.array.slice.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { map } from 'zrender/lib/core/util.js';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner.js';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper.js';\nimport { createFloat32Array } from '../util/vendor.js';\nexport default function pointsLayout(seriesType, forceStoreInTypedArray) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function reset(seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var useTypedArray = forceStoreInTypedArray || pipelineContext.large;\n      if (!coordSys) {\n        return;\n      }\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n      if (isDimensionStacked(data, dims[0])) {\n        dims[0] = stackResultDim;\n      }\n      if (isDimensionStacked(data, dims[1])) {\n        dims[1] = stackResultDim;\n      }\n      var store = data.getStore();\n      var dimIdx0 = data.getDimensionIndex(dims[0]);\n      var dimIdx1 = data.getDimensionIndex(dims[1]);\n      return dimLen && {\n        progress: function progress(params, data) {\n          var segCount = params.end - params.start;\n          var points = useTypedArray && createFloat32Array(segCount * dimLen);\n          var tmpIn = [];\n          var tmpOut = [];\n          for (var i = params.start, offset = 0; i < params.end; i++) {\n            var point = void 0;\n            if (dimLen === 1) {\n              var x = store.get(dimIdx0, i); // NOTE: Make sure the second parameter is null to use default strategy.\n\n              point = coordSys.dataToPoint(x, null, tmpOut);\n            } else {\n              tmpIn[0] = store.get(dimIdx0, i);\n              tmpIn[1] = store.get(dimIdx1, i); // Let coordinate system to handle the NaN data.\n\n              point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n            }\n            if (useTypedArray) {\n              points[offset++] = point[0];\n              points[offset++] = point[1];\n            } else {\n              data.setItemLayout(i, point.slice());\n            }\n          }\n          useTypedArray && data.setLayout('points', points);\n        }\n      };\n    }\n  };\n}\n;"],"names":["time","month","monthAbbr","dayOfWeek","dayOfWeekAbbr","legend","selector","all","inverse","toolbox","brush","title","rect","polygon","lineX","lineY","keep","clear","dataView","lang","dataZoom","zoom","back","magicType","line","bar","stack","tiled","restore","saveAsImage","series","typeNames","pie","scatter","effectScatter","radar","tree","treemap","boxplot","candlestick","k","heatmap","map","parallel","lines","graph","sankey","funnel","gauge","pictorialBar","themeRiver","sunburst","aria","general","withTitle","withoutTitle","single","prefix","withName","withoutName","multiple","separator","middle","end","data","allData","partialData","cloneArr","points","newPoints","i","length","push","slice","prepareLayoutCallbackParams","labelItem","hostEl","label","labelLine","getTextGuideLine","dataIndex","dataType","seriesIndex","seriesModel","text","style","hostRect","labelRect","align","verticalAlign","labelLinePoints","shape","LABEL_OPTION_TO_STYLE_KEYS","dummyTransformable","Transformable","labelLayoutInnerStore","labelLineAnimationStore","extendWithKeys","target","source","keys","key","LABEL_LAYOUT_PROPS","LabelManager","this","_labelList","_chartViewList","prototype","clearLabels","_addLabel","layoutOption","labelStyle","__hostTarget","textConfig","labelTransform","getComputedTransform","getBoundingRect","plain","BoundingRect","setLocalTransform","x","y","rotation","originX","originY","scaleX","scaleY","host","transform","labelGuide","computedLayoutOption","priority","width","height","defaultAttr","ignore","labelGuideIgnore","fontSize","cursor","attachedPos","position","attachedRot","addLabelsOfSeries","chartView","_this","__model","get","isFunction","group","traverse","child","textEl","getTextContent","ecData","disableLabelLayout","updateLayoutConfig","api","getWidth","getHeight","createDragHandler","el","labelLineModel","defaultLabelAttr","degreeToRadian","Math","PI","setTextConfig","local","rotate","offset","dx","dy","needsUpdateLabelLine","setStyle","guideLine","setShape","labelLayoutStore","draggable","hostModel","getData","getItemModel","on","getModel","off","layout","labelList","labelsNeedsAdjustOnX","filter","item","moveOverlap","labelsNeedsAdjustOnY","labelsNeedsHideOverlap","hideOverlap","processLabelsOverall","each","ignoreLabelLineUpdate","animationEnabled","isAnimationEnabled","forceLabelAnimation","_updateLabelLine","_animateLabels","itemModel","defaultStyle","visualStyle","getItemVisual","visualType","getVisual","stroke","invisible","disableLabelAnimation","layoutStore","oldLayout","newProps","attr","prevStates","indexOf","oldLayoutSelect","oldLayoutEmphasis","valueAnimation","oldOpacity","retrieve2","opacity","states","select","layoutSelect","emphasis","layoutEmphasis","newLayout","strokePercent","getLabelManager","installLabelLayout","registers","registerUpdateLifecycle","ecModel","params","labelManager","updatedSeries","forEach","getViewOfSeriesModel","PI2","CMD","DEFAULT_SEARCH_SPACE","getCandidateAnchor","pos","distance","outPt","outDir","set","projectPointToArc","cx","cy","r","startAngle","endAngle","anticlockwise","out","d","sqrt","ox","oy","abs","tmp","angle","atan2","x1","cos","y1","sin","x2","y2","d1","d2","projectPointToLine","limitToEnds","dx1","dy1","lineLen","projectedLen","t","min","max","projectPointToRect","tmpPt","nearestPointOnRect","pt","dist","nearestPointOnPath","path","xi","yi","x0","y0","minDist","Infinity","cmd","M","L","C","Q","A","rx","ry","theta","dTheta","_x","R","Z","pt0","pt1","pt2","dir","dir2","updateLabelLinePoints","labelGuideConfig","textGuideLineConfig","searchSpace","candidates","clone","applyTransform","anchorPoint","anchor","targetTransform","targetInversedTransform","invert","len","copy","candidate","boundingRect","toArray","limitTurnAngle","tmpArr","tmpProjPoint","linePoints","minTurnAngle","fromArray","len1","len2","scale","angleCos","dot","minTurnAngleCos","scaleAndAdd","tan","isNaN","limitSurfaceAngle","surfaceNormal","maxSurfaceAngle","maxSurfaceAngleCos","HALF_PI","angle2","acos","newAngle","setLabelLineState","stateName","stateModel","isNormal","stateObj","ensureState","smooth","styleObj","getLineStyle","useStyle","buildLabelLinePath","moveTo","lineTo","moveLen","midPoint0","midPoint2","midPoint1","bezierCurveTo","setLabelLineStyle","targetEl","statesModels","normalModel","normal","showNormal","labelIgnoreNormal","stateShow","isLabelIgnored","setTextGuideLine","stateProxy","defaults","fill","showAbove","labelLineConfig","buildPath","removeTextGuideLine","getLabelLineStatesModels","labelLineName","prepareLayoutList","input","list","rawItem","localRect","isAxisAligned","minMargin","margin","globalRect","obb","axisAligned","shiftLayout","xyDim","sizeDim","minBound","maxBound","balanceShift","sort","a","b","delta","lastPos","adjusted","shifts","totalShifts","shift","shiftList","minGap","maxGap","first","last","updateMinMaxGap","squeezeGaps","takeBoundsGap","squeezeWhenBailout","gapThisBound","gapOtherBound","moveDir","moveFromMaxGap","remained","start","maxSqeezePercent","gaps","totalGaps","prevItemRect","gap","squeezePercent","movement","moveForEachLabel","ceil","shiftLayoutOnX","leftBound","rightBound","shiftLayoutOnY","topBound","bottomBound","displayedLabels","hideEl","emphasisState","overlapped","j","existsTextCfg","intersect","EMPTY_OBJ","setLabelText","labelTexts","state","oldStates","currentStates","clearStates","useStates","getLabelText","opt","stateModels","interpolatedValue","baseText","labelFetcher","labelDataIndex","labelDimIndex","getFormattedLabel","defaultText","statesText","setLabelStyle","labelStatesModels","stateSpecified","isSetOnText","needsCreateText","getShallow","textContent","setTextContent","labelStatesTexts","normalStyle","createTextStyle","createTextConfig","targetElEmphasisState","silent","dirty","enableTextSetter","labelInner","getLabelStatesModels","labelName","textStyleModel","specifiedTextStyle","isNotNormal","isAttached","textStyle","setTextStyleCommon","extend","labelPosition","labelRotate","labelDistance","labelOffset","defaultOutsidePosition","outsideFill","inheritColor","richResult","globalTextStyle","option","richItemNames","getRichItemNames","name_1","hasOwnProperty","richTextStyle","setTokenTextStyle","rich","overflow","richItemNameMap","richKeys","richKey","parentModel","TEXT_PROPS_WITH_GLOBAL","TEXT_PROPS_SELF","TEXT_PROPS_BOX","isBlock","inRich","fillColor","strokeColor","color","textBorderColor","textBorderWidth","lineWidth","textBorderType","lineDash","textBorderDashOffset","lineDashOffset","defaultOpacity","val","baseline","disableBox","borderType","borderDash","backgroundColor","borderColor","getFont","gTextStyleModel","trim","fontStyle","fontWeight","fontFamily","join","setLabelValueAnimation","value","getDefaultText","obj","prevValue","normalLabelModel","precision","defaultInterpolatedText","animateLabelValue","animatableModel","labelInnerStore","currValue","targetValue","percent","during","interpolated","labelText","createSectorCalculateTextPosition","positionMapping","opts","isRoundCap","textPosition","Array","calculateTextPosition","mappedSectorPosition","sector","r0","middleR","middleAngle","extraDist","mathCos","mathSin","textAlign","textVerticalAlign","adjustAngleDistanceX","adjustAngleDistanceY","setSectorTextRotation","rotateType","isNumber","isArray","anchorAngle","clockwise","isEnd","STACK_PREFIX","getSeriesStackId","getAxisKey","axis","dim","index","getLayoutOnAxis","baseAxis","axisKey","type","bandWidth","getBandWidth","count","stackId","widthAndOffsets","doCalBarWidthAndOffset","result","offsetCenter","prepareLayoutBarSeries","seriesType","seriesModels","eachSeriesByType","isOnCartesian","getValueAxesMinGaps","barSeries","axisValues","cartesian","coordinateSystem","getBaseAxis","dimIdx","getDimensionIndex","mapDimension","store","getStore","cnt","axisMinGaps","valuesInAxis","makeColumnLayout","seriesInfoList","axisExtent","getExtent","extentSpan","scaleSpan","barWidth","barMaxWidth","barMinWidth","isInLargeMode","barGap","barCategoryGap","columnsMap","seriesInfo","idx","columnsOnAxis","remainedWidth","autoWidthCount","categoryGap","stacks","maxWidth","minWidth","coordSysName","categoryGapPercent","columnCount","barGapPercent","autoWidth","column","finalWidth","lastColumn","widthSum","retrieveColumnLayout","barWidthAndOffset","columnLayoutInfo","columnOffset","columnWidth","setLayout","size","createProgressiveLayout","plan","reset","valueAxis","getOtherAxis","valueDimIdx","baseDimIdx","drawBackground","valueDim","stackResultDim","getCalculationInfo","stacked","isValueAxisH","isHorizontal","valueAxisStart","getValueAxisStart","isLarge","barMinHeight","stackedDimIdx","getLayout","progress","largePoints","largeBackgroundPoints","largeDataIndices","coordLayout","master","getRect","bgSize","idxOffset","next","baseValue","baseCoord","startValue","coord","dataToPoint","startCoord","setItemLayout","valueAxisHorizontal","pipelineContext","large","toGlobalCoord","dataToCoord","polar","model","componentIndex","barLayoutPolar","lastStackCoords","calRadialBar","getSeriesByType","isSeriesFiltered","barMinAngle","baseDim","clampLayout","sign","p","n","radiusSpan","angleSpan","radius","pointsLayout","forceStoreInTypedArray","coordSys","useTypedArray","dims","dimensions","dimLen","dimIdx0","dimIdx1","segCount","tmpIn","tmpOut","point"],"sourceRoot":""}