{"version":3,"file":"js/chunk-vendors-69403744-legacy.b5f341b4.js","mappings":"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","sources":["webpack://databoard/./node_modules/echarts/lib/legacy/dataSelectAction.js","webpack://databoard/./node_modules/echarts/lib/legacy/getTextRect.js","webpack://databoard/./node_modules/echarts/lib/loading/default.js","webpack://databoard/./node_modules/echarts/lib/model/Component.js","webpack://databoard/./node_modules/echarts/lib/model/globalDefault.js","webpack://databoard/./node_modules/echarts/lib/model/Global.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/areaStyle.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/textStyle.js","webpack://databoard/./node_modules/echarts/lib/model/Model.js","webpack://databoard/./node_modules/echarts/lib/model/OptionManager.js","webpack://databoard/./node_modules/echarts/lib/model/Series.js","webpack://databoard/./node_modules/echarts/lib/model/internalComponentCreator.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/dataFormat.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/itemStyle.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/lineStyle.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/makeStyleMapper.js","webpack://databoard/./node_modules/echarts/lib/model/mixin/palette.js","webpack://databoard/./node_modules/echarts/lib/model/referHelper.js","webpack://databoard/./node_modules/echarts/lib/preprocessor/helper/compatStyle.js","webpack://databoard/./node_modules/echarts/lib/preprocessor/backwardCompat.js","webpack://databoard/./node_modules/echarts/lib/processor/dataFilter.js","webpack://databoard/./node_modules/echarts/lib/processor/dataSample.js","webpack://databoard/./node_modules/echarts/lib/processor/dataStack.js","webpack://databoard/./node_modules/echarts/lib/processor/negativeDataFilter.js","webpack://databoard/./node_modules/echarts/lib/renderer/installCanvasRenderer.js","webpack://databoard/./node_modules/echarts/lib/renderer/installSVGRenderer.js","webpack://databoard/./node_modules/echarts/lib/scale/Interval.js","webpack://databoard/./node_modules/echarts/lib/scale/Log.js","webpack://databoard/./node_modules/echarts/lib/scale/Ordinal.js","webpack://databoard/./node_modules/echarts/lib/scale/Scale.js","webpack://databoard/./node_modules/echarts/lib/scale/Time.js","webpack://databoard/./node_modules/echarts/lib/scale/helper.js","webpack://databoard/./node_modules/echarts/lib/theme/dark.js","webpack://databoard/./node_modules/echarts/lib/theme/light.js"],"sourcesContent":["import \"core-js/modules/es.array.push.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, each, isArray, isString } from 'zrender/lib/core/util.js';\nimport { deprecateReplaceLog, deprecateLog } from '../util/log.js';\nimport { queryDataIndex } from '../util/model.js'; // Legacy data selection action.\n// Includes: pieSelect, pieUnSelect, pieToggleSelect, mapSelect, mapUnSelect, mapToggleSelect\n\nexport function createLegacyDataSelectAction(seriesType, ecRegisterAction) {\n  function getSeriesIndices(ecModel, payload) {\n    var seriesIndices = [];\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: seriesType,\n      query: payload\n    }, function (seriesModel) {\n      seriesIndices.push(seriesModel.seriesIndex);\n    });\n    return seriesIndices;\n  }\n  each([[seriesType + 'ToggleSelect', 'toggleSelect'], [seriesType + 'Select', 'select'], [seriesType + 'UnSelect', 'unselect']], function (eventsMap) {\n    ecRegisterAction(eventsMap[0], function (payload, ecModel, api) {\n      payload = extend({}, payload);\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(payload.type, eventsMap[1]);\n      }\n      api.dispatchAction(extend(payload, {\n        type: eventsMap[1],\n        seriesIndex: getSeriesIndices(ecModel, payload)\n      }));\n    });\n  });\n}\nfunction handleSeriesLegacySelectEvents(type, eventPostfix, ecIns, ecModel, payload) {\n  var legacyEventName = type + eventPostfix;\n  if (!ecIns.isSilent(legacyEventName)) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateLog(\"event \" + legacyEventName + \" is deprecated.\");\n    }\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'pie'\n    }, function (seriesModel) {\n      var seriesIndex = seriesModel.seriesIndex;\n      var selectedMap = seriesModel.option.selectedMap;\n      var selected = payload.selected;\n      for (var i = 0; i < selected.length; i++) {\n        if (selected[i].seriesIndex === seriesIndex) {\n          var data = seriesModel.getData();\n          var dataIndex = queryDataIndex(data, payload.fromActionPayload);\n          ecIns.trigger(legacyEventName, {\n            type: legacyEventName,\n            seriesId: seriesModel.id,\n            name: isArray(dataIndex) ? data.getName(dataIndex[0]) : data.getName(dataIndex),\n            selected: isString(selectedMap) ? selectedMap : extend({}, selectedMap)\n          });\n        }\n      }\n    });\n  }\n}\nexport function handleLegacySelectEvents(messageCenter, ecIns, api) {\n  messageCenter.on('selectchanged', function (params) {\n    var ecModel = api.getModel();\n    if (params.isFromClick) {\n      handleSeriesLegacySelectEvents('map', 'selectchanged', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selectchanged', ecIns, ecModel, params);\n    } else if (params.fromAction === 'select') {\n      handleSeriesLegacySelectEvents('map', 'selected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selected', ecIns, ecModel, params);\n    } else if (params.fromAction === 'unselect') {\n      handleSeriesLegacySelectEvents('map', 'unselected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'unselected', ecIns, ecModel, params);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { Text } from '../util/graphic.js';\nexport function getTextRect(text, font, align, verticalAlign, padding, rich, truncate, lineHeight) {\n  var textEl = new Text({\n    style: {\n      text: text,\n      font: font,\n      align: align,\n      verticalAlign: verticalAlign,\n      padding: padding,\n      rich: rich,\n      overflow: truncate ? 'truncate' : null,\n      lineHeight: lineHeight\n    }\n  });\n  return textEl.getBoundingRect();\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../util/graphic.js';\nvar PI = Math.PI;\n/**\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} [opts]\n * @param {string} [opts.text]\n * @param {string} [opts.color]\n * @param {string} [opts.textColor]\n * @return {module:zrender/Element}\n */\n\nexport default function defaultLoading(api, opts) {\n  opts = opts || {};\n  zrUtil.defaults(opts, {\n    text: 'loading',\n    textColor: '#000',\n    fontSize: 12,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    fontFamily: 'sans-serif',\n    maskColor: 'rgba(255, 255, 255, 0.8)',\n    showSpinner: true,\n    color: '#5470c6',\n    spinnerRadius: 10,\n    lineWidth: 5,\n    zlevel: 0\n  });\n  var group = new graphic.Group();\n  var mask = new graphic.Rect({\n    style: {\n      fill: opts.maskColor\n    },\n    zlevel: opts.zlevel,\n    z: 10000\n  });\n  group.add(mask);\n  var textContent = new graphic.Text({\n    style: {\n      text: opts.text,\n      fill: opts.textColor,\n      fontSize: opts.fontSize,\n      fontWeight: opts.fontWeight,\n      fontStyle: opts.fontStyle,\n      fontFamily: opts.fontFamily\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  var labelRect = new graphic.Rect({\n    style: {\n      fill: 'none'\n    },\n    textContent: textContent,\n    textConfig: {\n      position: 'right',\n      distance: 10\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  group.add(labelRect);\n  var arc;\n\n  if (opts.showSpinner) {\n    arc = new graphic.Arc({\n      shape: {\n        startAngle: -PI / 2,\n        endAngle: -PI / 2 + 0.1,\n        r: opts.spinnerRadius\n      },\n      style: {\n        stroke: opts.color,\n        lineCap: 'round',\n        lineWidth: opts.lineWidth\n      },\n      zlevel: opts.zlevel,\n      z: 10001\n    });\n    arc.animateShape(true).when(1000, {\n      endAngle: PI * 3 / 2\n    }).start('circularInOut');\n    arc.animateShape(true).when(1000, {\n      startAngle: PI * 3 / 2\n    }).delay(300).start('circularInOut');\n    group.add(arc);\n  } // Inject resize\n\n\n  group.resize = function () {\n    var textWidth = textContent.getBoundingRect().width;\n    var r = opts.showSpinner ? opts.spinnerRadius : 0; // cx = (containerWidth - arcDiameter - textDistance - textWidth) / 2\n    // textDistance needs to be calculated when both animation and text exist\n\n    var cx = (api.getWidth() - r * 2 - (opts.showSpinner && textWidth ? 10 : 0) - textWidth) / 2 - (opts.showSpinner && textWidth ? 0 : 5 + textWidth / 2) // only show the text\n    + (opts.showSpinner ? 0 : textWidth / 2) // only show the spinner\n    + (textWidth ? 0 : r);\n    var cy = api.getHeight() / 2;\n    opts.showSpinner && arc.setShape({\n      cx: cx,\n      cy: cy\n    });\n    labelRect.setShape({\n      x: cx - r,\n      y: cy - r,\n      width: r * 2,\n      height: r * 2\n    });\n    mask.setShape({\n      x: 0,\n      y: 0,\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n\n  group.resize();\n  return group;\n}","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.unshift.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from './Model.js';\nimport * as componentUtil from '../util/component.js';\nimport { enableClassManagement, parseClassType, isExtendedClass, mountExtend } from '../util/clazz.js';\nimport { makeInner, queryReferringComponents } from '../util/model.js';\nimport * as layout from '../util/layout.js';\nvar inner = makeInner();\nvar ComponentModel = /** @class */\nfunction (_super) {\n  __extends(ComponentModel, _super);\n  function ComponentModel(option, parentModel, ecModel) {\n    var _this = _super.call(this, option, parentModel, ecModel) || this;\n    _this.uid = componentUtil.getUID('ec_cpt_model');\n    return _this;\n  }\n  ComponentModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n  ComponentModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = layout.fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n    var themeModel = ecModel.getTheme();\n    zrUtil.merge(option, themeModel.get(this.mainType));\n    zrUtil.merge(option, this.getDefaultOption());\n    if (layoutMode) {\n      layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n  ComponentModel.prototype.mergeOption = function (option, ecModel) {\n    zrUtil.merge(this.option, option, true);\n    var layoutMode = layout.fetchLayoutMode(this);\n    if (layoutMode) {\n      layout.mergeLayoutParam(this.option, option, layoutMode);\n    }\n  };\n  /**\n   * Called immediately after `init` or `mergeOption` of this instance called.\n   */\n\n  ComponentModel.prototype.optionUpdated = function (newCptOption, isInit) {};\n  /**\n   * [How to declare defaultOption]:\n   *\n   * (A) If using class declaration in typescript (since echarts 5):\n   * ```ts\n   * import {ComponentOption} from '../model/option.js';\n   * export interface XxxOption extends ComponentOption {\n   *     aaa: number\n   * }\n   * export class XxxModel extends Component {\n   *     static type = 'xxx';\n   *     static defaultOption: XxxOption = {\n   *         aaa: 123\n   *     }\n   * }\n   * Component.registerClass(XxxModel);\n   * ```\n   * ```ts\n   * import {inheritDefaultOption} from '../util/component.js';\n   * import {XxxModel, XxxOption} from './XxxModel.js';\n   * export interface XxxSubOption extends XxxOption {\n   *     bbb: number\n   * }\n   * class XxxSubModel extends XxxModel {\n   *     static defaultOption: XxxSubOption = inheritDefaultOption(XxxModel.defaultOption, {\n   *         bbb: 456\n   *     })\n   *     fn() {\n   *         let opt = this.getDefaultOption();\n   *         // opt is {aaa: 123, bbb: 456}\n   *     }\n   * }\n   * ```\n   *\n   * (B) If using class extend (previous approach in echarts 3 & 4):\n   * ```js\n   * let XxxComponent = Component.extend({\n   *     defaultOption: {\n   *         xx: 123\n   *     }\n   * })\n   * ```\n   * ```js\n   * let XxxSubComponent = XxxComponent.extend({\n   *     defaultOption: {\n   *         yy: 456\n   *     },\n   *     fn: function () {\n   *         let opt = this.getDefaultOption();\n   *         // opt is {xx: 123, yy: 456}\n   *     }\n   * })\n   * ```\n   */\n\n  ComponentModel.prototype.getDefaultOption = function () {\n    var ctor = this.constructor; // If using class declaration, it is different to travel super class\n    // in legacy env and auto merge defaultOption. So if using class\n    // declaration, defaultOption should be merged manually.\n\n    if (!isExtendedClass(ctor)) {\n      // When using ts class, defaultOption must be declared as static.\n      return ctor.defaultOption;\n    } // FIXME: remove this approach?\n\n    var fields = inner(this);\n    if (!fields.defaultOption) {\n      var optList = [];\n      var clz = ctor;\n      while (clz) {\n        var opt = clz.prototype.defaultOption;\n        opt && optList.push(opt);\n        clz = clz.superClass;\n      }\n      var defaultOption = {};\n      for (var i = optList.length - 1; i >= 0; i--) {\n        defaultOption = zrUtil.merge(defaultOption, optList[i], true);\n      }\n      fields.defaultOption = defaultOption;\n    }\n    return fields.defaultOption;\n  };\n  /**\n   * Notice: always force to input param `useDefault` in case that forget to consider it.\n   * The same behavior as `modelUtil.parseFinder`.\n   *\n   * @param useDefault In many cases like series refer axis and axis refer grid,\n   *        If axis index / axis id not specified, use the first target as default.\n   *        In other cases like dataZoom refer axis, if not specified, measn no refer.\n   */\n\n  ComponentModel.prototype.getReferringComponents = function (mainType, opt) {\n    var indexKey = mainType + 'Index';\n    var idKey = mainType + 'Id';\n    return queryReferringComponents(this.ecModel, mainType, {\n      index: this.get(indexKey, true),\n      id: this.get(idKey, true)\n    }, opt);\n  };\n  ComponentModel.prototype.getBoxLayoutParams = function () {\n    // Consider itself having box layout configs.\n    var boxLayoutModel = this;\n    return {\n      left: boxLayoutModel.get('left'),\n      top: boxLayoutModel.get('top'),\n      right: boxLayoutModel.get('right'),\n      bottom: boxLayoutModel.get('bottom'),\n      width: boxLayoutModel.get('width'),\n      height: boxLayoutModel.get('height')\n    };\n  };\n  /**\n   * Get key for zlevel.\n   * If developers don't configure zlevel. We will assign zlevel to series based on the key.\n   * For example, lines with trail effect and progressive series will in an individual zlevel.\n   */\n\n  ComponentModel.prototype.getZLevelKey = function () {\n    return '';\n  };\n  ComponentModel.prototype.setZLevel = function (zlevel) {\n    this.option.zlevel = zlevel;\n  };\n  ComponentModel.protoInitialize = function () {\n    var proto = ComponentModel.prototype;\n    proto.type = 'component';\n    proto.id = '';\n    proto.name = '';\n    proto.mainType = '';\n    proto.subType = '';\n    proto.componentIndex = 0;\n  }();\n  return ComponentModel;\n}(Model);\nmountExtend(ComponentModel, Model);\nenableClassManagement(ComponentModel);\ncomponentUtil.enableSubTypeDefaulter(ComponentModel);\ncomponentUtil.enableTopologicalTravel(ComponentModel, getDependencies);\nfunction getDependencies(componentType) {\n  var deps = [];\n  zrUtil.each(ComponentModel.getClassesByMainType(componentType), function (clz) {\n    deps = deps.concat(clz.dependencies || clz.prototype.dependencies || []);\n  }); // Ensure main type.\n\n  deps = zrUtil.map(deps, function (type) {\n    return parseClassType(type).main;\n  }); // Hack dataset for convenience.\n\n  if (componentType !== 'dataset' && zrUtil.indexOf(deps, 'dataset') <= 0) {\n    deps.unshift('dataset');\n  }\n  return deps;\n}\nexport default ComponentModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar platform = ''; // Navigator not exists in node\n\nif (typeof navigator !== 'undefined') {\n  /* global navigator */\n  platform = navigator.platform || '';\n}\n\nvar decalColor = 'rgba(0, 0, 0, 0.2)';\nexport default {\n  darkMode: 'auto',\n  // backgroundColor: 'rgba(0,0,0,0)',\n  colorBy: 'series',\n  color: ['#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc'],\n  gradientColor: ['#f6efa6', '#d88273', '#bf444c'],\n  aria: {\n    decal: {\n      decals: [{\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [2, 5],\n        symbolSize: 1,\n        rotation: Math.PI / 6\n      }, {\n        color: decalColor,\n        symbol: 'circle',\n        dashArrayX: [[8, 8], [0, 8, 8, 0]],\n        dashArrayY: [6, 0],\n        symbolSize: 0.8\n      }, {\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [4, 3],\n        rotation: -Math.PI / 4\n      }, {\n        color: decalColor,\n        dashArrayX: [[6, 6], [0, 6, 6, 0]],\n        dashArrayY: [6, 0]\n      }, {\n        color: decalColor,\n        dashArrayX: [[1, 0], [1, 6]],\n        dashArrayY: [1, 0, 6, 0],\n        rotation: Math.PI / 4\n      }, {\n        color: decalColor,\n        symbol: 'triangle',\n        dashArrayX: [[9, 9], [0, 9, 9, 0]],\n        dashArrayY: [7, 2],\n        symbolSize: 0.75\n      }]\n    }\n  },\n  // If xAxis and yAxis declared, grid is created by default.\n  // grid: {},\n  textStyle: {\n    // color: '#000',\n    // decoration: 'none',\n    // PENDING\n    fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n    // fontFamily: 'Arial, Verdana, sans-serif',\n    fontSize: 12,\n    fontStyle: 'normal',\n    fontWeight: 'normal'\n  },\n  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n  // Default is source-over\n  blendMode: null,\n  stateAnimation: {\n    duration: 300,\n    easing: 'cubicOut'\n  },\n  animation: 'auto',\n  animationDuration: 1000,\n  animationDurationUpdate: 500,\n  animationEasing: 'cubicInOut',\n  animationEasingUpdate: 'cubicInOut',\n  animationThreshold: 2000,\n  // Configuration for progressive/incremental rendering\n  progressiveThreshold: 3000,\n  progressive: 400,\n  // Threshold of if use single hover layer to optimize.\n  // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n  // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n  // which is unexpected.\n  // see example <echarts/test/heatmap-large.html>.\n  hoverLayerThreshold: 3000,\n  // See: module:echarts/scale/Time\n  useUTC: false\n};","import _typeof from \"D:/\\u9879\\u76EE\\u5730\\u5740/\\u770B\\u677F\\u9879\\u76EE/top-board/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.error.cause.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Caution: If the mechanism should be changed some day, these cases\n * should be considered:\n *\n * (1) In `merge option` mode, if using the same option to call `setOption`\n * many times, the result should be the same (try our best to ensure that).\n * (2) In `merge option` mode, if a component has no id/name specified, it\n * will be merged by index, and the result sequence of the components is\n * consistent to the original sequence.\n * (3) In `replaceMerge` mode, keep the result sequence of the components is\n * consistent to the original sequence, even though there might result in \"hole\".\n * (4) `reset` feature (in toolbox). Find detailed info in comments about\n * `mergeOption` in module:echarts/model/OptionManager.\n */\n\nimport { each, filter, isArray, isObject, isString, createHashMap, assert, clone, merge, extend, mixin, isFunction } from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../util/model.js';\nimport Model from './Model.js';\nimport ComponentModel from './Component.js';\nimport globalDefault from './globalDefault.js';\nimport { resetSourceDefaulter } from '../data/helper/sourceHelper.js';\nimport { concatInternalOptions } from './internalComponentCreator.js';\nimport { PaletteMixin } from './mixin/palette.js';\nimport { error, warn } from '../util/log.js'; // -----------------------\n// Internal method names:\n// -----------------------\n\nvar reCreateSeriesIndices;\nvar assertSeriesInitialized;\nvar initBase;\nvar OPTION_INNER_KEY = '\\0_ec_inner';\nvar OPTION_INNER_VALUE = 1;\nvar BUITIN_COMPONENTS_MAP = {\n  grid: 'GridComponent',\n  polar: 'PolarComponent',\n  geo: 'GeoComponent',\n  singleAxis: 'SingleAxisComponent',\n  parallel: 'ParallelComponent',\n  calendar: 'CalendarComponent',\n  graphic: 'GraphicComponent',\n  toolbox: 'ToolboxComponent',\n  tooltip: 'TooltipComponent',\n  axisPointer: 'AxisPointerComponent',\n  brush: 'BrushComponent',\n  title: 'TitleComponent',\n  timeline: 'TimelineComponent',\n  markPoint: 'MarkPointComponent',\n  markLine: 'MarkLineComponent',\n  markArea: 'MarkAreaComponent',\n  legend: 'LegendComponent',\n  dataZoom: 'DataZoomComponent',\n  visualMap: 'VisualMapComponent',\n  // aria: 'AriaComponent',\n  // dataset: 'DatasetComponent',\n  // Dependencies\n  xAxis: 'GridComponent',\n  yAxis: 'GridComponent',\n  angleAxis: 'PolarComponent',\n  radiusAxis: 'PolarComponent'\n};\nvar BUILTIN_CHARTS_MAP = {\n  line: 'LineChart',\n  bar: 'BarChart',\n  pie: 'PieChart',\n  scatter: 'ScatterChart',\n  radar: 'RadarChart',\n  map: 'MapChart',\n  tree: 'TreeChart',\n  treemap: 'TreemapChart',\n  graph: 'GraphChart',\n  gauge: 'GaugeChart',\n  funnel: 'FunnelChart',\n  parallel: 'ParallelChart',\n  sankey: 'SankeyChart',\n  boxplot: 'BoxplotChart',\n  candlestick: 'CandlestickChart',\n  effectScatter: 'EffectScatterChart',\n  lines: 'LinesChart',\n  heatmap: 'HeatmapChart',\n  pictorialBar: 'PictorialBarChart',\n  themeRiver: 'ThemeRiverChart',\n  sunburst: 'SunburstChart',\n  custom: 'CustomChart'\n};\nvar componetsMissingLogPrinted = {};\nfunction checkMissingComponents(option) {\n  each(option, function (componentOption, mainType) {\n    if (!ComponentModel.hasClass(mainType)) {\n      var componentImportName = BUITIN_COMPONENTS_MAP[mainType];\n      if (componentImportName && !componetsMissingLogPrinted[componentImportName]) {\n        error(\"Component \" + mainType + \" is used but not imported.\\nimport { \" + componentImportName + \" } from 'echarts/components';\\necharts.use([\" + componentImportName + \"]);\");\n        componetsMissingLogPrinted[componentImportName] = true;\n      }\n    }\n  });\n}\nvar GlobalModel = /** @class */\nfunction (_super) {\n  __extends(GlobalModel, _super);\n  function GlobalModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  GlobalModel.prototype.init = function (option, parentModel, ecModel, theme, locale, optionManager) {\n    theme = theme || {};\n    this.option = null; // Mark as not initialized.\n\n    this._theme = new Model(theme);\n    this._locale = new Model(locale);\n    this._optionManager = optionManager;\n  };\n  GlobalModel.prototype.setOption = function (option, opts, optionPreprocessorFuncs) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(option != null, 'option is null/undefined');\n      assert(option[OPTION_INNER_KEY] !== OPTION_INNER_VALUE, 'please use chart.getOption()');\n    }\n    var innerOpt = normalizeSetOptionInput(opts);\n    this._optionManager.setOption(option, optionPreprocessorFuncs, innerOpt);\n    this._resetOption(null, innerOpt);\n  };\n  /**\n   * @param type null/undefined: reset all.\n   *        'recreate': force recreate all.\n   *        'timeline': only reset timeline option\n   *        'media': only reset media query option\n   * @return Whether option changed.\n   */\n\n  GlobalModel.prototype.resetOption = function (type, opt) {\n    return this._resetOption(type, normalizeSetOptionInput(opt));\n  };\n  GlobalModel.prototype._resetOption = function (type, opt) {\n    var optionChanged = false;\n    var optionManager = this._optionManager;\n    if (!type || type === 'recreate') {\n      var baseOption = optionManager.mountOption(type === 'recreate');\n      if (process.env.NODE_ENV !== 'production') {\n        checkMissingComponents(baseOption);\n      }\n      if (!this.option || type === 'recreate') {\n        initBase(this, baseOption);\n      } else {\n        this.restoreData();\n        this._mergeOption(baseOption, opt);\n      }\n      optionChanged = true;\n    }\n    if (type === 'timeline' || type === 'media') {\n      this.restoreData();\n    } // By design, if `setOption(option2)` at the second time, and `option2` is a `ECUnitOption`,\n    // it should better not have the same props with `MediaUnit['option']`.\n    // Because either `option2` or `MediaUnit['option']` will be always merged to \"current option\"\n    // rather than original \"baseOption\". If they both override a prop, the result might be\n    // unexpected when media state changed after `setOption` called.\n    // If we really need to modify a props in each `MediaUnit['option']`, use the full version\n    // (`{baseOption, media}`) in `setOption`.\n    // For `timeline`, the case is the same.\n\n    if (!type || type === 'recreate' || type === 'timeline') {\n      var timelineOption = optionManager.getTimelineOption(this);\n      if (timelineOption) {\n        optionChanged = true;\n        this._mergeOption(timelineOption, opt);\n      }\n    }\n    if (!type || type === 'recreate' || type === 'media') {\n      var mediaOptions = optionManager.getMediaOption(this);\n      if (mediaOptions.length) {\n        each(mediaOptions, function (mediaOption) {\n          optionChanged = true;\n          this._mergeOption(mediaOption, opt);\n        }, this);\n      }\n    }\n    return optionChanged;\n  };\n  GlobalModel.prototype.mergeOption = function (option) {\n    this._mergeOption(option, null);\n  };\n  GlobalModel.prototype._mergeOption = function (newOption, opt) {\n    var option = this.option;\n    var componentsMap = this._componentsMap;\n    var componentsCount = this._componentsCount;\n    var newCmptTypes = [];\n    var newCmptTypeMap = createHashMap();\n    var replaceMergeMainTypeMap = opt && opt.replaceMergeMainTypeMap;\n    resetSourceDefaulter(this); // If no component class, merge directly.\n    // For example: color, animaiton options, etc.\n\n    each(newOption, function (componentOption, mainType) {\n      if (componentOption == null) {\n        return;\n      }\n      if (!ComponentModel.hasClass(mainType)) {\n        // globalSettingTask.dirty();\n        option[mainType] = option[mainType] == null ? clone(componentOption) : merge(option[mainType], componentOption, true);\n      } else if (mainType) {\n        newCmptTypes.push(mainType);\n        newCmptTypeMap.set(mainType, true);\n      }\n    });\n    if (replaceMergeMainTypeMap) {\n      // If there is a mainType `xxx` in `replaceMerge` but not declared in option,\n      // we trade it as it is declared in option as `{xxx: []}`. Because:\n      // (1) for normal merge, `{xxx: null/undefined}` are the same meaning as `{xxx: []}`.\n      // (2) some preprocessor may convert some of `{xxx: null/undefined}` to `{xxx: []}`.\n      replaceMergeMainTypeMap.each(function (val, mainTypeInReplaceMerge) {\n        if (ComponentModel.hasClass(mainTypeInReplaceMerge) && !newCmptTypeMap.get(mainTypeInReplaceMerge)) {\n          newCmptTypes.push(mainTypeInReplaceMerge);\n          newCmptTypeMap.set(mainTypeInReplaceMerge, true);\n        }\n      });\n    }\n    ComponentModel.topologicalTravel(newCmptTypes, ComponentModel.getAllClassMainTypes(), visitComponent, this);\n    function visitComponent(mainType) {\n      var newCmptOptionList = concatInternalOptions(this, mainType, modelUtil.normalizeToArray(newOption[mainType]));\n      var oldCmptList = componentsMap.get(mainType);\n      var mergeMode =\n      // `!oldCmptList` means init. See the comment in `mappingToExists`\n      !oldCmptList ? 'replaceAll' : replaceMergeMainTypeMap && replaceMergeMainTypeMap.get(mainType) ? 'replaceMerge' : 'normalMerge';\n      var mappingResult = modelUtil.mappingToExists(oldCmptList, newCmptOptionList, mergeMode); // Set mainType and complete subType.\n\n      modelUtil.setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel); // Empty it before the travel, in order to prevent `this._componentsMap`\n      // from being used in the `init`/`mergeOption`/`optionUpdated` of some\n      // components, which is probably incorrect logic.\n\n      option[mainType] = null;\n      componentsMap.set(mainType, null);\n      componentsCount.set(mainType, 0);\n      var optionsByMainType = [];\n      var cmptsByMainType = [];\n      var cmptsCountByMainType = 0;\n      var tooltipExists;\n      var tooltipWarningLogged;\n      each(mappingResult, function (resultItem, index) {\n        var componentModel = resultItem.existing;\n        var newCmptOption = resultItem.newOption;\n        if (!newCmptOption) {\n          if (componentModel) {\n            // Consider where is no new option and should be merged using {},\n            // see removeEdgeAndAdd in topologicalTravel and\n            // ComponentModel.getAllClassMainTypes.\n            componentModel.mergeOption({}, this);\n            componentModel.optionUpdated({}, false);\n          } // If no both `resultItem.exist` and `resultItem.option`,\n          // either it is in `replaceMerge` and not matched by any id,\n          // or it has been removed in previous `replaceMerge` and left a \"hole\" in this component index.\n        } else {\n          var isSeriesType = mainType === 'series';\n          var ComponentModelClass = ComponentModel.getClass(mainType, resultItem.keyInfo.subType, !isSeriesType // Give a more detailed warn later if series don't exists\n          );\n\n          if (!ComponentModelClass) {\n            if (process.env.NODE_ENV !== 'production') {\n              var subType = resultItem.keyInfo.subType;\n              var seriesImportName = BUILTIN_CHARTS_MAP[subType];\n              if (!componetsMissingLogPrinted[subType]) {\n                componetsMissingLogPrinted[subType] = true;\n                if (seriesImportName) {\n                  error(\"Series \" + subType + \" is used but not imported.\\nimport { \" + seriesImportName + \" } from 'echarts/charts';\\necharts.use([\" + seriesImportName + \"]);\");\n                } else {\n                  error(\"Unknown series \" + subType);\n                }\n              }\n            }\n            return;\n          } // TODO Before multiple tooltips get supported, we do this check to avoid unexpected exception.\n\n          if (mainType === 'tooltip') {\n            if (tooltipExists) {\n              if (process.env.NODE_ENV !== 'production') {\n                if (!tooltipWarningLogged) {\n                  warn('Currently only one tooltip component is allowed.');\n                  tooltipWarningLogged = true;\n                }\n              }\n              return;\n            }\n            tooltipExists = true;\n          }\n          if (componentModel && componentModel.constructor === ComponentModelClass) {\n            componentModel.name = resultItem.keyInfo.name; // componentModel.settingTask && componentModel.settingTask.dirty();\n\n            componentModel.mergeOption(newCmptOption, this);\n            componentModel.optionUpdated(newCmptOption, false);\n          } else {\n            // PENDING Global as parent ?\n            var extraOpt = extend({\n              componentIndex: index\n            }, resultItem.keyInfo);\n            componentModel = new ComponentModelClass(newCmptOption, this, this, extraOpt); // Assign `keyInfo`\n\n            extend(componentModel, extraOpt);\n            if (resultItem.brandNew) {\n              componentModel.__requireNewView = true;\n            }\n            componentModel.init(newCmptOption, this, this); // Call optionUpdated after init.\n            // newCmptOption has been used as componentModel.option\n            // and may be merged with theme and default, so pass null\n            // to avoid confusion.\n\n            componentModel.optionUpdated(null, true);\n          }\n        }\n        if (componentModel) {\n          optionsByMainType.push(componentModel.option);\n          cmptsByMainType.push(componentModel);\n          cmptsCountByMainType++;\n        } else {\n          // Always do assign to avoid elided item in array.\n          optionsByMainType.push(void 0);\n          cmptsByMainType.push(void 0);\n        }\n      }, this);\n      option[mainType] = optionsByMainType;\n      componentsMap.set(mainType, cmptsByMainType);\n      componentsCount.set(mainType, cmptsCountByMainType); // Backup series for filtering.\n\n      if (mainType === 'series') {\n        reCreateSeriesIndices(this);\n      }\n    } // If no series declared, ensure `_seriesIndices` initialized.\n\n    if (!this._seriesIndices) {\n      reCreateSeriesIndices(this);\n    }\n  };\n  /**\n   * Get option for output (cloned option and inner info removed)\n   */\n\n  GlobalModel.prototype.getOption = function () {\n    var option = clone(this.option);\n    each(option, function (optInMainType, mainType) {\n      if (ComponentModel.hasClass(mainType)) {\n        var opts = modelUtil.normalizeToArray(optInMainType); // Inner cmpts need to be removed.\n        // Inner cmpts might not be at last since ec5.0, but still\n        // compatible for users: if inner cmpt at last, splice the returned array.\n\n        var realLen = opts.length;\n        var metNonInner = false;\n        for (var i = realLen - 1; i >= 0; i--) {\n          // Remove options with inner id.\n          if (opts[i] && !modelUtil.isComponentIdInternal(opts[i])) {\n            metNonInner = true;\n          } else {\n            opts[i] = null;\n            !metNonInner && realLen--;\n          }\n        }\n        opts.length = realLen;\n        option[mainType] = opts;\n      }\n    });\n    delete option[OPTION_INNER_KEY];\n    return option;\n  };\n  GlobalModel.prototype.getTheme = function () {\n    return this._theme;\n  };\n  GlobalModel.prototype.getLocaleModel = function () {\n    return this._locale;\n  };\n  GlobalModel.prototype.setUpdatePayload = function (payload) {\n    this._payload = payload;\n  };\n  GlobalModel.prototype.getUpdatePayload = function () {\n    return this._payload;\n  };\n  /**\n   * @param idx If not specified, return the first one.\n   */\n\n  GlobalModel.prototype.getComponent = function (mainType, idx) {\n    var list = this._componentsMap.get(mainType);\n    if (list) {\n      var cmpt = list[idx || 0];\n      if (cmpt) {\n        return cmpt;\n      } else if (idx == null) {\n        for (var i = 0; i < list.length; i++) {\n          if (list[i]) {\n            return list[i];\n          }\n        }\n      }\n    }\n  };\n  /**\n   * @return Never be null/undefined.\n   */\n\n  GlobalModel.prototype.queryComponents = function (condition) {\n    var mainType = condition.mainType;\n    if (!mainType) {\n      return [];\n    }\n    var index = condition.index;\n    var id = condition.id;\n    var name = condition.name;\n    var cmpts = this._componentsMap.get(mainType);\n    if (!cmpts || !cmpts.length) {\n      return [];\n    }\n    var result;\n    if (index != null) {\n      result = [];\n      each(modelUtil.normalizeToArray(index), function (idx) {\n        cmpts[idx] && result.push(cmpts[idx]);\n      });\n    } else if (id != null) {\n      result = queryByIdOrName('id', id, cmpts);\n    } else if (name != null) {\n      result = queryByIdOrName('name', name, cmpts);\n    } else {\n      // Return all non-empty components in that mainType\n      result = filter(cmpts, function (cmpt) {\n        return !!cmpt;\n      });\n    }\n    return filterBySubType(result, condition);\n  };\n  /**\n   * The interface is different from queryComponents,\n   * which is convenient for inner usage.\n   *\n   * @usage\n   * let result = findComponents(\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n   * );\n   * let result = findComponents(\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n   * );\n   * let result = findComponents(\n   *     {mainType: 'series',\n   *     filter: function (model, index) {...}}\n   * );\n   * // result like [component0, componnet1, ...]\n   */\n\n  GlobalModel.prototype.findComponents = function (condition) {\n    var query = condition.query;\n    var mainType = condition.mainType;\n    var queryCond = getQueryCond(query);\n    var result = queryCond ? this.queryComponents(queryCond) // Retrieve all non-empty components.\n    : filter(this._componentsMap.get(mainType), function (cmpt) {\n      return !!cmpt;\n    });\n    return doFilter(filterBySubType(result, condition));\n    function getQueryCond(q) {\n      var indexAttr = mainType + 'Index';\n      var idAttr = mainType + 'Id';\n      var nameAttr = mainType + 'Name';\n      return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n        mainType: mainType,\n        // subType will be filtered finally.\n        index: q[indexAttr],\n        id: q[idAttr],\n        name: q[nameAttr]\n      } : null;\n    }\n    function doFilter(res) {\n      return condition.filter ? filter(res, condition.filter) : res;\n    }\n  };\n  GlobalModel.prototype.eachComponent = function (mainType, cb, context) {\n    var componentsMap = this._componentsMap;\n    if (isFunction(mainType)) {\n      var ctxForAll_1 = cb;\n      var cbForAll_1 = mainType;\n      componentsMap.each(function (cmpts, componentType) {\n        for (var i = 0; cmpts && i < cmpts.length; i++) {\n          var cmpt = cmpts[i];\n          cmpt && cbForAll_1.call(ctxForAll_1, componentType, cmpt, cmpt.componentIndex);\n        }\n      });\n    } else {\n      var cmpts = isString(mainType) ? componentsMap.get(mainType) : isObject(mainType) ? this.findComponents(mainType) : null;\n      for (var i = 0; cmpts && i < cmpts.length; i++) {\n        var cmpt = cmpts[i];\n        cmpt && cb.call(context, cmpt, cmpt.componentIndex);\n      }\n    }\n  };\n  /**\n   * Get series list before filtered by name.\n   */\n\n  GlobalModel.prototype.getSeriesByName = function (name) {\n    var nameStr = modelUtil.convertOptionIdName(name, null);\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && nameStr != null && oneSeries.name === nameStr;\n    });\n  };\n  /**\n   * Get series list before filtered by index.\n   */\n\n  GlobalModel.prototype.getSeriesByIndex = function (seriesIndex) {\n    return this._componentsMap.get('series')[seriesIndex];\n  };\n  /**\n   * Get series list before filtered by type.\n   * FIXME: rename to getRawSeriesByType?\n   */\n\n  GlobalModel.prototype.getSeriesByType = function (subType) {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && oneSeries.subType === subType;\n    });\n  };\n  /**\n   * Get all series before filtered.\n   */\n\n  GlobalModel.prototype.getSeries = function () {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries;\n    });\n  };\n  /**\n   * Count series before filtered.\n   */\n\n  GlobalModel.prototype.getSeriesCount = function () {\n    return this._componentsCount.get('series');\n  };\n  /**\n   * After filtering, series may be different\n   * from raw series.\n   */\n\n  GlobalModel.prototype.eachSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n      cb.call(context, series, rawSeriesIndex);\n    }, this);\n  };\n  /**\n   * Iterate raw series before filtered.\n   *\n   * @param {Function} cb\n   * @param {*} context\n   */\n\n  GlobalModel.prototype.eachRawSeries = function (cb, context) {\n    each(this._componentsMap.get('series'), function (series) {\n      series && cb.call(context, series, series.componentIndex);\n    });\n  };\n  /**\n   * After filtering, series may be different.\n   * from raw series.\n   */\n\n  GlobalModel.prototype.eachSeriesByType = function (subType, cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n      if (series.subType === subType) {\n        cb.call(context, series, rawSeriesIndex);\n      }\n    }, this);\n  };\n  /**\n   * Iterate raw series before filtered of given type.\n   */\n\n  GlobalModel.prototype.eachRawSeriesByType = function (subType, cb, context) {\n    return each(this.getSeriesByType(subType), cb, context);\n  };\n  GlobalModel.prototype.isSeriesFiltered = function (seriesModel) {\n    assertSeriesInitialized(this);\n    return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\n  };\n  GlobalModel.prototype.getCurrentSeriesIndices = function () {\n    return (this._seriesIndices || []).slice();\n  };\n  GlobalModel.prototype.filterSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    var newSeriesIndices = [];\n    each(this._seriesIndices, function (seriesRawIdx) {\n      var series = this._componentsMap.get('series')[seriesRawIdx];\n      cb.call(context, series, seriesRawIdx) && newSeriesIndices.push(seriesRawIdx);\n    }, this);\n    this._seriesIndices = newSeriesIndices;\n    this._seriesIndicesMap = createHashMap(newSeriesIndices);\n  };\n  GlobalModel.prototype.restoreData = function (payload) {\n    reCreateSeriesIndices(this);\n    var componentsMap = this._componentsMap;\n    var componentTypes = [];\n    componentsMap.each(function (components, componentType) {\n      if (ComponentModel.hasClass(componentType)) {\n        componentTypes.push(componentType);\n      }\n    });\n    ComponentModel.topologicalTravel(componentTypes, ComponentModel.getAllClassMainTypes(), function (componentType) {\n      each(componentsMap.get(componentType), function (component) {\n        if (component && (componentType !== 'series' || !isNotTargetSeries(component, payload))) {\n          component.restoreData();\n        }\n      });\n    });\n  };\n  GlobalModel.internalField = function () {\n    reCreateSeriesIndices = function reCreateSeriesIndices(ecModel) {\n      var seriesIndices = ecModel._seriesIndices = [];\n      each(ecModel._componentsMap.get('series'), function (series) {\n        // series may have been removed by `replaceMerge`.\n        series && seriesIndices.push(series.componentIndex);\n      });\n      ecModel._seriesIndicesMap = createHashMap(seriesIndices);\n    };\n    assertSeriesInitialized = function assertSeriesInitialized(ecModel) {\n      // Components that use _seriesIndices should depends on series component,\n      // which make sure that their initialization is after series.\n      if (process.env.NODE_ENV !== 'production') {\n        if (!ecModel._seriesIndices) {\n          throw new Error('Option should contains series.');\n        }\n      }\n    };\n    initBase = function initBase(ecModel, baseOption) {\n      // Using OPTION_INNER_KEY to mark that this option cannot be used outside,\n      // i.e. `chart.setOption(chart.getModel().option);` is forbidden.\n      ecModel.option = {};\n      ecModel.option[OPTION_INNER_KEY] = OPTION_INNER_VALUE; // Init with series: [], in case of calling findSeries method\n      // before series initialized.\n\n      ecModel._componentsMap = createHashMap({\n        series: []\n      });\n      ecModel._componentsCount = createHashMap(); // If user spefied `option.aria`, aria will be enable. This detection should be\n      // performed before theme and globalDefault merge.\n\n      var airaOption = baseOption.aria;\n      if (isObject(airaOption) && airaOption.enabled == null) {\n        airaOption.enabled = true;\n      }\n      mergeTheme(baseOption, ecModel._theme.option); // TODO Needs clone when merging to the unexisted property\n\n      merge(baseOption, globalDefault, false);\n      ecModel._mergeOption(baseOption, null);\n    };\n  }();\n  return GlobalModel;\n}(Model);\nfunction isNotTargetSeries(seriesModel, payload) {\n  if (payload) {\n    var index = payload.seriesIndex;\n    var id = payload.seriesId;\n    var name_1 = payload.seriesName;\n    return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name_1 != null && seriesModel.name !== name_1;\n  }\n}\nfunction mergeTheme(option, theme) {\n  // PENDING\n  // NOT use `colorLayer` in theme if option has `color`\n  var notMergeColorLayer = option.color && !option.colorLayer;\n  each(theme, function (themeItem, name) {\n    if (name === 'colorLayer' && notMergeColorLayer) {\n      return;\n    } // If it is component model mainType, the model handles that merge later.\n    // otherwise, merge them here.\n\n    if (!ComponentModel.hasClass(name)) {\n      if (_typeof(themeItem) === 'object') {\n        option[name] = !option[name] ? clone(themeItem) : merge(option[name], themeItem, false);\n      } else {\n        if (option[name] == null) {\n          option[name] = themeItem;\n        }\n      }\n    }\n  });\n}\nfunction queryByIdOrName(attr, idOrName, cmpts) {\n  // Here is a break from echarts4: string and number are\n  // treated as equal.\n  if (isArray(idOrName)) {\n    var keyMap_1 = createHashMap();\n    each(idOrName, function (idOrNameItem) {\n      if (idOrNameItem != null) {\n        var idName = modelUtil.convertOptionIdName(idOrNameItem, null);\n        idName != null && keyMap_1.set(idOrNameItem, true);\n      }\n    });\n    return filter(cmpts, function (cmpt) {\n      return cmpt && keyMap_1.get(cmpt[attr]);\n    });\n  } else {\n    var idName_1 = modelUtil.convertOptionIdName(idOrName, null);\n    return filter(cmpts, function (cmpt) {\n      return cmpt && idName_1 != null && cmpt[attr] === idName_1;\n    });\n  }\n}\nfunction filterBySubType(components, condition) {\n  // Using hasOwnProperty for restrict. Consider\n  // subType is undefined in user payload.\n  return condition.hasOwnProperty('subType') ? filter(components, function (cmpt) {\n    return cmpt && cmpt.subType === condition.subType;\n  }) : components;\n}\nfunction normalizeSetOptionInput(opts) {\n  var replaceMergeMainTypeMap = createHashMap();\n  opts && each(modelUtil.normalizeToArray(opts.replaceMerge), function (mainType) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(ComponentModel.hasClass(mainType), '\"' + mainType + '\" is not valid component main type in \"replaceMerge\"');\n    }\n    replaceMergeMainTypeMap.set(mainType, true);\n  });\n  return {\n    replaceMergeMainTypeMap: replaceMergeMainTypeMap\n  };\n}\nmixin(GlobalModel, PaletteMixin);\nexport default GlobalModel;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper.js';\nexport var AREA_STYLE_KEY_MAP = [['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\n\nvar getAreaStyle = makeStyleMapper(AREA_STYLE_KEY_MAP);\nvar AreaStyleMixin = /** @class */\nfunction () {\n  function AreaStyleMixin() {}\n  AreaStyleMixin.prototype.getAreaStyle = function (excludes, includes) {\n    return getAreaStyle(this, excludes, includes);\n  };\n  return AreaStyleMixin;\n}();\n;\nexport { AreaStyleMixin };","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getFont } from '../../label/labelStyle.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\nvar PATH_COLOR = ['textStyle', 'color'];\nvar textStyleParams = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'padding', 'lineHeight', 'rich', 'width', 'height', 'overflow']; // TODO Performance improvement?\n\nvar tmpText = new ZRText();\nvar TextStyleMixin = /** @class */\nfunction () {\n  function TextStyleMixin() {}\n  /**\n   * Get color property or get color from option.textStyle.color\n   */\n  // TODO Callback\n\n  TextStyleMixin.prototype.getTextColor = function (isEmphasis) {\n    var ecModel = this.ecModel;\n    return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\n  };\n  /**\n   * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n   * @return {string}\n   */\n\n  TextStyleMixin.prototype.getFont = function () {\n    return getFont({\n      fontStyle: this.getShallow('fontStyle'),\n      fontWeight: this.getShallow('fontWeight'),\n      fontSize: this.getShallow('fontSize'),\n      fontFamily: this.getShallow('fontFamily')\n    }, this.ecModel);\n  };\n  TextStyleMixin.prototype.getTextRect = function (text) {\n    var style = {\n      text: text,\n      verticalAlign: this.getShallow('verticalAlign') || this.getShallow('baseline')\n    };\n    for (var i = 0; i < textStyleParams.length; i++) {\n      style[textStyleParams[i]] = this.getShallow(textStyleParams[i]);\n    }\n    tmpText.useStyle(style);\n    tmpText.update();\n    return tmpText.getBoundingRect();\n  };\n  return TextStyleMixin;\n}();\n;\nexport default TextStyleMixin;","import _typeof from \"D:/\\u9879\\u76EE\\u5730\\u5740/\\u770B\\u677F\\u9879\\u76EE/top-board/node_modules/@babel/runtime/helpers/esm/typeof.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport env from 'zrender/lib/core/env.js';\nimport { enableClassExtend, enableClassCheck } from '../util/clazz.js';\nimport { AreaStyleMixin } from './mixin/areaStyle.js';\nimport TextStyleMixin from './mixin/textStyle.js';\nimport { LineStyleMixin } from './mixin/lineStyle.js';\nimport { ItemStyleMixin } from './mixin/itemStyle.js';\nimport { mixin, clone, merge } from 'zrender/lib/core/util.js';\nvar Model = /** @class */\nfunction () {\n  function Model(option, parentModel, ecModel) {\n    this.parentModel = parentModel;\n    this.ecModel = ecModel;\n    this.option = option; // Simple optimization\n    // if (this.init) {\n    //     if (arguments.length <= 4) {\n    //         this.init(option, parentModel, ecModel, extraOpt);\n    //     }\n    //     else {\n    //         this.init.apply(this, arguments);\n    //     }\n    // }\n  }\n\n  Model.prototype.init = function (option, parentModel, ecModel) {\n    var rest = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n      rest[_i - 3] = arguments[_i];\n    }\n  };\n  /**\n   * Merge the input option to me.\n   */\n\n  Model.prototype.mergeOption = function (option, ecModel) {\n    merge(this.option, option, true);\n  }; // `path` can be 'a.b.c', so the return value type have to be `ModelOption`\n  // TODO: TYPE strict key check?\n  // get(path: string | string[], ignoreParent?: boolean): ModelOption;\n\n  Model.prototype.get = function (path, ignoreParent) {\n    if (path == null) {\n      return this.option;\n    }\n    return this._doGet(this.parsePath(path), !ignoreParent && this.parentModel);\n  };\n  Model.prototype.getShallow = function (key, ignoreParent) {\n    var option = this.option;\n    var val = option == null ? option : option[key];\n    if (val == null && !ignoreParent) {\n      var parentModel = this.parentModel;\n      if (parentModel) {\n        // FIXME:TS do not know how to make it works\n        val = parentModel.getShallow(key);\n      }\n    }\n    return val;\n  }; // `path` can be 'a.b.c', so the return value type have to be `Model<ModelOption>`\n  // getModel(path: string | string[], parentModel?: Model): Model;\n  // TODO 'a.b.c' is deprecated\n\n  Model.prototype.getModel = function (path, parentModel) {\n    var hasPath = path != null;\n    var pathFinal = hasPath ? this.parsePath(path) : null;\n    var obj = hasPath ? this._doGet(pathFinal) : this.option;\n    parentModel = parentModel || this.parentModel && this.parentModel.getModel(this.resolveParentPath(pathFinal));\n    return new Model(obj, parentModel, this.ecModel);\n  };\n  /**\n   * If model has option\n   */\n\n  Model.prototype.isEmpty = function () {\n    return this.option == null;\n  };\n  Model.prototype.restoreData = function () {}; // Pending\n\n  Model.prototype.clone = function () {\n    var Ctor = this.constructor;\n    return new Ctor(clone(this.option));\n  }; // setReadOnly(properties): void {\n  // clazzUtil.setReadOnly(this, properties);\n  // }\n  // If path is null/undefined, return null/undefined.\n\n  Model.prototype.parsePath = function (path) {\n    if (typeof path === 'string') {\n      return path.split('.');\n    }\n    return path;\n  }; // Resolve path for parent. Perhaps useful when parent use a different property.\n  // Default to be a identity resolver.\n  // Can be modified to a different resolver.\n\n  Model.prototype.resolveParentPath = function (path) {\n    return path;\n  }; // FIXME:TS check whether put this method here\n\n  Model.prototype.isAnimationEnabled = function () {\n    if (!env.node && this.option) {\n      if (this.option.animation != null) {\n        return !!this.option.animation;\n      } else if (this.parentModel) {\n        return this.parentModel.isAnimationEnabled();\n      }\n    }\n  };\n  Model.prototype._doGet = function (pathArr, parentModel) {\n    var obj = this.option;\n    if (!pathArr) {\n      return obj;\n    }\n    for (var i = 0; i < pathArr.length; i++) {\n      // Ignore empty\n      if (!pathArr[i]) {\n        continue;\n      } // obj could be number/string/... (like 0)\n\n      obj = obj && _typeof(obj) === 'object' ? obj[pathArr[i]] : null;\n      if (obj == null) {\n        break;\n      }\n    }\n    if (obj == null && parentModel) {\n      obj = parentModel._doGet(this.resolveParentPath(pathArr), parentModel.parentModel);\n    }\n    return obj;\n  };\n  return Model;\n}();\n; // Enable Model.extend.\n\nenableClassExtend(Model);\nenableClassCheck(Model);\nmixin(Model, LineStyleMixin);\nmixin(Model, ItemStyleMixin);\nmixin(Model, AreaStyleMixin);\nmixin(Model, TextStyleMixin);\nexport default Model;","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.match.js\";\nimport \"core-js/modules/es.array.join.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { normalizeToArray // , MappingExistingItem, setComponentTypeToKeyInfo, mappingToExists\n} from '../util/model.js';\nimport { each, clone, map, isTypedArray, setAsPrimitive, isArray, isObject // , HashMap , createHashMap, extend, merge,\n} from 'zrender/lib/core/util.js';\nimport { error } from '../util/log.js';\nvar QUERY_REG = /^(min|max)?(.+)$/; // Key: mainType\n// type FakeComponentsMap = HashMap<(MappingExistingItem & { subType: string })[]>;\n\n/**\n * TERM EXPLANATIONS:\n * See `ECOption` and `ECUnitOption` in `src/util/types.ts`.\n */\n\nvar OptionManager = /** @class */\nfunction () {\n  // timeline.notMerge is not supported in ec3. Firstly there is rearly\n  // case that notMerge is needed. Secondly supporting 'notMerge' requires\n  // rawOption cloned and backuped when timeline changed, which does no\n  // good to performance. What's more, that both timeline and setOption\n  // method supply 'notMerge' brings complex and some problems.\n  // Consider this case:\n  // (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n  // (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n  function OptionManager(api) {\n    this._timelineOptions = [];\n    this._mediaList = [];\n    /**\n     * -1, means default.\n     * empty means no media.\n     */\n\n    this._currentMediaIndices = [];\n    this._api = api;\n  }\n  OptionManager.prototype.setOption = function (rawOption, optionPreprocessorFuncs, opt) {\n    if (rawOption) {\n      // That set dat primitive is dangerous if user reuse the data when setOption again.\n      each(normalizeToArray(rawOption.series), function (series) {\n        series && series.data && isTypedArray(series.data) && setAsPrimitive(series.data);\n      });\n      each(normalizeToArray(rawOption.dataset), function (dataset) {\n        dataset && dataset.source && isTypedArray(dataset.source) && setAsPrimitive(dataset.source);\n      });\n    } // Caution: some series modify option data, if do not clone,\n    // it should ensure that the repeat modify correctly\n    // (create a new object when modify itself).\n\n    rawOption = clone(rawOption); // FIXME\n    // If some property is set in timeline options or media option but\n    // not set in baseOption, a warning should be given.\n\n    var optionBackup = this._optionBackup;\n    var newParsedOption = parseRawOption(rawOption, optionPreprocessorFuncs, !optionBackup);\n    this._newBaseOption = newParsedOption.baseOption; // For setOption at second time (using merge mode);\n\n    if (optionBackup) {\n      // FIXME\n      // the restore merge solution is essentially incorrect.\n      // the mapping can not be 100% consistent with ecModel, which probably brings\n      // potential bug!\n      // The first merge is delayed, because in most cases, users do not call `setOption` twice.\n      // let fakeCmptsMap = this._fakeCmptsMap;\n      // if (!fakeCmptsMap) {\n      //     fakeCmptsMap = this._fakeCmptsMap = createHashMap();\n      //     mergeToBackupOption(fakeCmptsMap, null, optionBackup.baseOption, null);\n      // }\n      // mergeToBackupOption(\n      //     fakeCmptsMap, optionBackup.baseOption, newParsedOption.baseOption, opt\n      // );\n      // For simplicity, timeline options and media options do not support merge,\n      // that is, if you `setOption` twice and both has timeline options, the latter\n      // timeline options will not be merged to the former, but just substitute them.\n      if (newParsedOption.timelineOptions.length) {\n        optionBackup.timelineOptions = newParsedOption.timelineOptions;\n      }\n      if (newParsedOption.mediaList.length) {\n        optionBackup.mediaList = newParsedOption.mediaList;\n      }\n      if (newParsedOption.mediaDefault) {\n        optionBackup.mediaDefault = newParsedOption.mediaDefault;\n      }\n    } else {\n      this._optionBackup = newParsedOption;\n    }\n  };\n  OptionManager.prototype.mountOption = function (isRecreate) {\n    var optionBackup = this._optionBackup;\n    this._timelineOptions = optionBackup.timelineOptions;\n    this._mediaList = optionBackup.mediaList;\n    this._mediaDefault = optionBackup.mediaDefault;\n    this._currentMediaIndices = [];\n    return clone(isRecreate // this._optionBackup.baseOption, which is created at the first `setOption`\n    // called, and is merged into every new option by inner method `mergeToBackupOption`\n    // each time `setOption` called, can be only used in `isRecreate`, because\n    // its reliability is under suspicion. In other cases option merge is\n    // performed by `model.mergeOption`.\n    ? optionBackup.baseOption : this._newBaseOption);\n  };\n  OptionManager.prototype.getTimelineOption = function (ecModel) {\n    var option;\n    var timelineOptions = this._timelineOptions;\n    if (timelineOptions.length) {\n      // getTimelineOption can only be called after ecModel inited,\n      // so we can get currentIndex from timelineModel.\n      var timelineModel = ecModel.getComponent('timeline');\n      if (timelineModel) {\n        option = clone(\n        // FIXME:TS as TimelineModel or quivlant interface\n        timelineOptions[timelineModel.getCurrentIndex()]);\n      }\n    }\n    return option;\n  };\n  OptionManager.prototype.getMediaOption = function (ecModel) {\n    var ecWidth = this._api.getWidth();\n    var ecHeight = this._api.getHeight();\n    var mediaList = this._mediaList;\n    var mediaDefault = this._mediaDefault;\n    var indices = [];\n    var result = []; // No media defined.\n\n    if (!mediaList.length && !mediaDefault) {\n      return result;\n    } // Multi media may be applied, the latter defined media has higher priority.\n\n    for (var i = 0, len = mediaList.length; i < len; i++) {\n      if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n        indices.push(i);\n      }\n    } // FIXME\n    // Whether mediaDefault should force users to provide? Otherwise\n    // the change by media query can not be recorvered.\n\n    if (!indices.length && mediaDefault) {\n      indices = [-1];\n    }\n    if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n      result = map(indices, function (index) {\n        return clone(index === -1 ? mediaDefault.option : mediaList[index].option);\n      });\n    } // Otherwise return nothing.\n\n    this._currentMediaIndices = indices;\n    return result;\n  };\n  return OptionManager;\n}();\n/**\n * [RAW_OPTION_PATTERNS]\n * (Note: \"series: []\" represents all other props in `ECUnitOption`)\n *\n * (1) No prop \"baseOption\" declared:\n * Root option is used as \"baseOption\" (except prop \"options\" and \"media\").\n * ```js\n * option = {\n *     series: [],\n *     timeline: {},\n *     options: [],\n * };\n * option = {\n *     series: [],\n *     media: {},\n * };\n * option = {\n *     series: [],\n *     timeline: {},\n *     options: [],\n *     media: {},\n * }\n * ```\n *\n * (2) Prop \"baseOption\" declared:\n * If \"baseOption\" declared, `ECUnitOption` props can only be declared\n * inside \"baseOption\" except prop \"timeline\" (compat ec2).\n * ```js\n * option = {\n *     baseOption: {\n *         timeline: {},\n *         series: [],\n *     },\n *     options: []\n * };\n * option = {\n *     baseOption: {\n *         series: [],\n *     },\n *     media: []\n * };\n * option = {\n *     baseOption: {\n *         timeline: {},\n *         series: [],\n *     },\n *     options: []\n *     media: []\n * };\n * option = {\n *     // ec3 compat ec2: allow (only) `timeline` declared\n *     // outside baseOption. Keep this setting for compat.\n *     timeline: {},\n *     baseOption: {\n *         series: [],\n *     },\n *     options: [],\n *     media: []\n * };\n * ```\n */\n\nfunction parseRawOption(\n// `rawOption` May be modified\nrawOption, optionPreprocessorFuncs, isNew) {\n  var mediaList = [];\n  var mediaDefault;\n  var baseOption;\n  var declaredBaseOption = rawOption.baseOption; // Compatible with ec2, [RAW_OPTION_PATTERNS] above.\n\n  var timelineOnRoot = rawOption.timeline;\n  var timelineOptionsOnRoot = rawOption.options;\n  var mediaOnRoot = rawOption.media;\n  var hasMedia = !!rawOption.media;\n  var hasTimeline = !!(timelineOptionsOnRoot || timelineOnRoot || declaredBaseOption && declaredBaseOption.timeline);\n  if (declaredBaseOption) {\n    baseOption = declaredBaseOption; // For merge option.\n\n    if (!baseOption.timeline) {\n      baseOption.timeline = timelineOnRoot;\n    }\n  } // For convenience, enable to use the root option as the `baseOption`:\n  // `{ ...normalOptionProps, media: [{ ... }, { ... }] }`\n  else {\n    if (hasTimeline || hasMedia) {\n      rawOption.options = rawOption.media = null;\n    }\n    baseOption = rawOption;\n  }\n  if (hasMedia) {\n    if (isArray(mediaOnRoot)) {\n      each(mediaOnRoot, function (singleMedia) {\n        if (process.env.NODE_ENV !== 'production') {\n          // Real case of wrong config.\n          if (singleMedia && !singleMedia.option && isObject(singleMedia.query) && isObject(singleMedia.query.option)) {\n            error('Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }');\n          }\n        }\n        if (singleMedia && singleMedia.option) {\n          if (singleMedia.query) {\n            mediaList.push(singleMedia);\n          } else if (!mediaDefault) {\n            // Use the first media default.\n            mediaDefault = singleMedia;\n          }\n        }\n      });\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        // Real case of wrong config.\n        error('Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }');\n      }\n    }\n  }\n  doPreprocess(baseOption);\n  each(timelineOptionsOnRoot, function (option) {\n    return doPreprocess(option);\n  });\n  each(mediaList, function (media) {\n    return doPreprocess(media.option);\n  });\n  function doPreprocess(option) {\n    each(optionPreprocessorFuncs, function (preProcess) {\n      preProcess(option, isNew);\n    });\n  }\n  return {\n    baseOption: baseOption,\n    timelineOptions: timelineOptionsOnRoot || [],\n    mediaDefault: mediaDefault,\n    mediaList: mediaList\n  };\n}\n/**\n * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\n * Support: width, height, aspectRatio\n * Can use max or min as prefix.\n */\n\nfunction applyMediaQuery(query, ecWidth, ecHeight) {\n  var realMap = {\n    width: ecWidth,\n    height: ecHeight,\n    aspectratio: ecWidth / ecHeight // lower case for convenience.\n  };\n\n  var applicable = true;\n  each(query, function (value, attr) {\n    var matched = attr.match(QUERY_REG);\n    if (!matched || !matched[1] || !matched[2]) {\n      return;\n    }\n    var operator = matched[1];\n    var realAttr = matched[2].toLowerCase();\n    if (!compare(realMap[realAttr], value, operator)) {\n      applicable = false;\n    }\n  });\n  return applicable;\n}\nfunction compare(real, expect, operator) {\n  if (operator === 'min') {\n    return real >= expect;\n  } else if (operator === 'max') {\n    return real <= expect;\n  } else {\n    // Equals\n    return real === expect;\n  }\n}\nfunction indicesEquals(indices1, indices2) {\n  // indices is always order by asc and has only finite number.\n  return indices1.join(',') === indices2.join(',');\n}\n/**\n * Consider case:\n * `chart.setOption(opt1);`\n * Then user do some interaction like dataZoom, dataView changing.\n * `chart.setOption(opt2);`\n * Then user press 'reset button' in toolbox.\n *\n * After doing that all of the interaction effects should be reset, the\n * chart should be the same as the result of invoke\n * `chart.setOption(opt1); chart.setOption(opt2);`.\n *\n * Although it is not able ensure that\n * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\n * `chart.setOption(merge(opt1, opt2));` exactly,\n * this might be the only simple way to implement that feature.\n *\n * MEMO: We've considered some other approaches:\n * 1. Each model handles its self restoration but not uniform treatment.\n *     (Too complex in logic and error-prone)\n * 2. Use a shadow ecModel. (Performance expensive)\n *\n * FIXME: A possible solution:\n * Add a extra level of model for each component model. The inheritance chain would be:\n * ecModel <- componentModel <- componentActionModel <- dataItemModel\n * And all of the actions can only modify the `componentActionModel` rather than\n * `componentModel`. `setOption` will only modify the `ecModel` and `componentModel`.\n * When \"resotre\" action triggered, model from `componentActionModel` will be discarded\n * instead of recreating the \"ecModel\" from the \"_optionBackup\".\n */\n// function mergeToBackupOption(\n//     fakeCmptsMap: FakeComponentsMap,\n//     // `tarOption` Can be null/undefined, means init\n//     tarOption: ECUnitOption,\n//     newOption: ECUnitOption,\n//     // Can be null/undefined\n//     opt: InnerSetOptionOpts\n// ): void {\n//     newOption = newOption || {} as ECUnitOption;\n//     const notInit = !!tarOption;\n//     each(newOption, function (newOptsInMainType, mainType) {\n//         if (newOptsInMainType == null) {\n//             return;\n//         }\n//         if (!ComponentModel.hasClass(mainType)) {\n//             if (tarOption) {\n//                 tarOption[mainType] = merge(tarOption[mainType], newOptsInMainType, true);\n//             }\n//         }\n//         else {\n//             const oldTarOptsInMainType = notInit ? normalizeToArray(tarOption[mainType]) : null;\n//             const oldFakeCmptsInMainType = fakeCmptsMap.get(mainType) || [];\n//             const resultTarOptsInMainType = notInit ? (tarOption[mainType] = [] as ComponentOption[]) : null;\n//             const resultFakeCmptsInMainType = fakeCmptsMap.set(mainType, []);\n//             const mappingResult = mappingToExists(\n//                 oldFakeCmptsInMainType,\n//                 normalizeToArray(newOptsInMainType),\n//                 (opt && opt.replaceMergeMainTypeMap.get(mainType)) ? 'replaceMerge' : 'normalMerge'\n//             );\n//             setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel as ComponentModelConstructor);\n//             each(mappingResult, function (resultItem, index) {\n//                 // The same logic as `Global.ts#_mergeOption`.\n//                 let fakeCmpt = resultItem.existing;\n//                 const newOption = resultItem.newOption;\n//                 const keyInfo = resultItem.keyInfo;\n//                 let fakeCmptOpt;\n//                 if (!newOption) {\n//                     fakeCmptOpt = oldTarOptsInMainType[index];\n//                 }\n//                 else {\n//                     if (fakeCmpt && fakeCmpt.subType === keyInfo.subType) {\n//                         fakeCmpt.name = keyInfo.name;\n//                         if (notInit) {\n//                             fakeCmptOpt = merge(oldTarOptsInMainType[index], newOption, true);\n//                         }\n//                     }\n//                     else {\n//                         fakeCmpt = extend({}, keyInfo);\n//                         if (notInit) {\n//                             fakeCmptOpt = clone(newOption);\n//                         }\n//                     }\n//                 }\n//                 if (fakeCmpt) {\n//                     notInit && resultTarOptsInMainType.push(fakeCmptOpt);\n//                     resultFakeCmptsInMainType.push(fakeCmpt);\n//                 }\n//                 else {\n//                     notInit && resultTarOptsInMainType.push(void 0);\n//                     resultFakeCmptsInMainType.push(void 0);\n//                 }\n//             });\n//         }\n//     });\n// }\n\nexport default OptionManager;","import \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.join.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport * as modelUtil from '../util/model.js';\nimport ComponentModel from './Component.js';\nimport { PaletteMixin } from './mixin/palette.js';\nimport { DataFormatMixin } from '../model/mixin/dataFormat.js';\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout.js';\nimport { createTask } from '../core/task.js';\nimport { mountExtend } from '../util/clazz.js';\nimport { SourceManager } from '../data/helper/sourceManager.js';\nimport { defaultSeriesFormatTooltip } from '../component/tooltip/seriesFormatTooltip.js';\nvar inner = modelUtil.makeInner();\nfunction getSelectionKey(data, dataIndex) {\n  return data.getName(dataIndex) || data.getId(dataIndex);\n}\nexport var SERIES_UNIVERSAL_TRANSITION_PROP = '__universalTransitionEnabled';\nvar SeriesModel = /** @class */\nfunction (_super) {\n  __extends(SeriesModel, _super);\n  function SeriesModel() {\n    // [Caution]: Because this class or desecendants can be used as `XXX.extend(subProto)`,\n    // the class members must not be initialized in constructor or declaration place.\n    // Otherwise there is bad case:\n    //   class A {xxx = 1;}\n    //   enableClassExtend(A);\n    //   class B extends A {}\n    //   var C = B.extend({xxx: 5});\n    //   var c = new C();\n    //   console.log(c.xxx); // expect 5 but always 1.\n    var _this = _super !== null && _super.apply(this, arguments) || this; // ---------------------------------------\n    // Props about data selection\n    // ---------------------------------------\n\n    _this._selectedDataIndicesMap = {};\n    return _this;\n  }\n  SeriesModel.prototype.init = function (option, parentModel, ecModel) {\n    this.seriesIndex = this.componentIndex;\n    this.dataTask = createTask({\n      count: dataTaskCount,\n      reset: dataTaskReset\n    });\n    this.dataTask.context = {\n      model: this\n    };\n    this.mergeDefaultAndTheme(option, ecModel);\n    var sourceManager = inner(this).sourceManager = new SourceManager(this);\n    sourceManager.prepareSource();\n    var data = this.getInitialData(option, ecModel);\n    wrapData(data, this);\n    this.dataTask.context.data = data;\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(data, 'getInitialData returned invalid data.');\n    }\n    inner(this).dataBeforeProcessed = data; // If we reverse the order (make data firstly, and then make\n    // dataBeforeProcessed by cloneShallow), cloneShallow will\n    // cause data.graph.data !== data when using\n    // module:echarts/data/Graph or module:echarts/data/Tree.\n    // See module:echarts/data/helper/linkSeriesData\n    // Theoretically, it is unreasonable to call `seriesModel.getData()` in the model\n    // init or merge stage, because the data can be restored. So we do not `restoreData`\n    // and `setData` here, which forbids calling `seriesModel.getData()` in this stage.\n    // Call `seriesModel.getRawData()` instead.\n    // this.restoreData();\n\n    autoSeriesName(this);\n    this._initSelectedMapFromData(data);\n  };\n  /**\n   * Util for merge default and theme to option\n   */\n\n  SeriesModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? getLayoutParams(option) : {}; // Backward compat: using subType on theme.\n    // But if name duplicate between series subType\n    // (for example: parallel) add component mainType,\n    // add suffix 'Series'.\n\n    var themeSubType = this.subType;\n    if (ComponentModel.hasClass(themeSubType)) {\n      themeSubType += 'Series';\n    }\n    zrUtil.merge(option, ecModel.getTheme().get(this.subType));\n    zrUtil.merge(option, this.getDefaultOption()); // Default label emphasis `show`\n\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\n    this.fillDataTextStyle(option.data);\n    if (layoutMode) {\n      mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n  SeriesModel.prototype.mergeOption = function (newSeriesOption, ecModel) {\n    // this.settingTask.dirty();\n    newSeriesOption = zrUtil.merge(this.option, newSeriesOption, true);\n    this.fillDataTextStyle(newSeriesOption.data);\n    var layoutMode = fetchLayoutMode(this);\n    if (layoutMode) {\n      mergeLayoutParam(this.option, newSeriesOption, layoutMode);\n    }\n    var sourceManager = inner(this).sourceManager;\n    sourceManager.dirty();\n    sourceManager.prepareSource();\n    var data = this.getInitialData(newSeriesOption, ecModel);\n    wrapData(data, this);\n    this.dataTask.dirty();\n    this.dataTask.context.data = data;\n    inner(this).dataBeforeProcessed = data;\n    autoSeriesName(this);\n    this._initSelectedMapFromData(data);\n  };\n  SeriesModel.prototype.fillDataTextStyle = function (data) {\n    // Default data label emphasis `show`\n    // FIXME Tree structure data ?\n    // FIXME Performance ?\n    if (data && !zrUtil.isTypedArray(data)) {\n      var props = ['show'];\n      for (var i = 0; i < data.length; i++) {\n        if (data[i] && data[i].label) {\n          modelUtil.defaultEmphasis(data[i], 'label', props);\n        }\n      }\n    }\n  };\n  /**\n   * Init a data structure from data related option in series\n   * Must be overridden.\n   */\n\n  SeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return;\n  };\n  /**\n   * Append data to list\n   */\n\n  SeriesModel.prototype.appendData = function (params) {\n    // FIXME ???\n    // (1) If data from dataset, forbidden append.\n    // (2) support append data of dataset.\n    var data = this.getRawData();\n    data.appendData(params.data);\n  };\n  /**\n   * Consider some method like `filter`, `map` need make new data,\n   * We should make sure that `seriesModel.getData()` get correct\n   * data in the stream procedure. So we fetch data from upstream\n   * each time `task.perform` called.\n   */\n\n  SeriesModel.prototype.getData = function (dataType) {\n    var task = getCurrentTask(this);\n    if (task) {\n      var data = task.context.data;\n      return dataType == null ? data : data.getLinkedData(dataType);\n    } else {\n      // When series is not alive (that may happen when click toolbox\n      // restore or setOption with not merge mode), series data may\n      // be still need to judge animation or something when graphic\n      // elements want to know whether fade out.\n      return inner(this).data;\n    }\n  };\n  SeriesModel.prototype.getAllData = function () {\n    var mainData = this.getData();\n    return mainData && mainData.getLinkedDataAll ? mainData.getLinkedDataAll() : [{\n      data: mainData\n    }];\n  };\n  SeriesModel.prototype.setData = function (data) {\n    var task = getCurrentTask(this);\n    if (task) {\n      var context = task.context; // Consider case: filter, data sample.\n      // FIXME:TS never used, so comment it\n      // if (context.data !== data && task.modifyOutputEnd) {\n      //     task.setOutputEnd(data.count());\n      // }\n\n      context.outputData = data; // Caution: setData should update context.data,\n      // Because getData may be called multiply in a\n      // single stage and expect to get the data just\n      // set. (For example, AxisProxy, x y both call\n      // getData and setDate sequentially).\n      // So the context.data should be fetched from\n      // upstream each time when a stage starts to be\n      // performed.\n\n      if (task !== this.dataTask) {\n        context.data = data;\n      }\n    }\n    inner(this).data = data;\n  };\n  SeriesModel.prototype.getEncode = function () {\n    var encode = this.get('encode', true);\n    if (encode) {\n      return zrUtil.createHashMap(encode);\n    }\n  };\n  SeriesModel.prototype.getSourceManager = function () {\n    return inner(this).sourceManager;\n  };\n  SeriesModel.prototype.getSource = function () {\n    return this.getSourceManager().getSource();\n  };\n  /**\n   * Get data before processed\n   */\n\n  SeriesModel.prototype.getRawData = function () {\n    return inner(this).dataBeforeProcessed;\n  };\n  SeriesModel.prototype.getColorBy = function () {\n    var colorBy = this.get('colorBy');\n    return colorBy || 'series';\n  };\n  SeriesModel.prototype.isColorBySeries = function () {\n    return this.getColorBy() === 'series';\n  };\n  /**\n   * Get base axis if has coordinate system and has axis.\n   * By default use coordSys.getBaseAxis();\n   * Can be overridden for some chart.\n   * @return {type} description\n   */\n\n  SeriesModel.prototype.getBaseAxis = function () {\n    var coordSys = this.coordinateSystem; // @ts-ignore\n\n    return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n  };\n  /**\n   * Default tooltip formatter\n   *\n   * @param dataIndex\n   * @param multipleSeries\n   * @param dataType\n   * @param renderMode valid values: 'html'(by default) and 'richText'.\n   *        'html' is used for rendering tooltip in extra DOM form, and the result\n   *        string is used as DOM HTML content.\n   *        'richText' is used for rendering tooltip in rich text form, for those where\n   *        DOM operation is not supported.\n   * @return formatted tooltip with `html` and `markers`\n   *        Notice: The override method can also return string\n   */\n\n  SeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    return defaultSeriesFormatTooltip({\n      series: this,\n      dataIndex: dataIndex,\n      multipleSeries: multipleSeries\n    });\n  };\n  SeriesModel.prototype.isAnimationEnabled = function () {\n    var ecModel = this.ecModel; // Disable animation if using echarts in node but not give ssr flag.\n    // In ssr mode, renderToString will generate svg with css animation.\n\n    if (env.node && !(ecModel && ecModel.ssr)) {\n      return false;\n    }\n    var animationEnabled = this.getShallow('animation');\n    if (animationEnabled) {\n      if (this.getData().count() > this.getShallow('animationThreshold')) {\n        animationEnabled = false;\n      }\n    }\n    return !!animationEnabled;\n  };\n  SeriesModel.prototype.restoreData = function () {\n    this.dataTask.dirty();\n  };\n  SeriesModel.prototype.getColorFromPalette = function (name, scope, requestColorNum) {\n    var ecModel = this.ecModel; // PENDING\n\n    var color = PaletteMixin.prototype.getColorFromPalette.call(this, name, scope, requestColorNum);\n    if (!color) {\n      color = ecModel.getColorFromPalette(name, scope, requestColorNum);\n    }\n    return color;\n  };\n  /**\n   * Use `data.mapDimensionsAll(coordDim)` instead.\n   * @deprecated\n   */\n\n  SeriesModel.prototype.coordDimToDataDim = function (coordDim) {\n    return this.getRawData().mapDimensionsAll(coordDim);\n  };\n  /**\n   * Get progressive rendering count each step\n   */\n\n  SeriesModel.prototype.getProgressive = function () {\n    return this.get('progressive');\n  };\n  /**\n   * Get progressive rendering count each step\n   */\n\n  SeriesModel.prototype.getProgressiveThreshold = function () {\n    return this.get('progressiveThreshold');\n  }; // PENGING If selectedMode is null ?\n\n  SeriesModel.prototype.select = function (innerDataIndices, dataType) {\n    this._innerSelect(this.getData(dataType), innerDataIndices);\n  };\n  SeriesModel.prototype.unselect = function (innerDataIndices, dataType) {\n    var selectedMap = this.option.selectedMap;\n    if (!selectedMap) {\n      return;\n    }\n    var selectedMode = this.option.selectedMode;\n    var data = this.getData(dataType);\n    if (selectedMode === 'series' || selectedMap === 'all') {\n      this.option.selectedMap = {};\n      this._selectedDataIndicesMap = {};\n      return;\n    }\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      var dataIndex = innerDataIndices[i];\n      var nameOrId = getSelectionKey(data, dataIndex);\n      selectedMap[nameOrId] = false;\n      this._selectedDataIndicesMap[nameOrId] = -1;\n    }\n  };\n  SeriesModel.prototype.toggleSelect = function (innerDataIndices, dataType) {\n    var tmpArr = [];\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      tmpArr[0] = innerDataIndices[i];\n      this.isSelected(innerDataIndices[i], dataType) ? this.unselect(tmpArr, dataType) : this.select(tmpArr, dataType);\n    }\n  };\n  SeriesModel.prototype.getSelectedDataIndices = function () {\n    if (this.option.selectedMap === 'all') {\n      return [].slice.call(this.getData().getIndices());\n    }\n    var selectedDataIndicesMap = this._selectedDataIndicesMap;\n    var nameOrIds = zrUtil.keys(selectedDataIndicesMap);\n    var dataIndices = [];\n    for (var i = 0; i < nameOrIds.length; i++) {\n      var dataIndex = selectedDataIndicesMap[nameOrIds[i]];\n      if (dataIndex >= 0) {\n        dataIndices.push(dataIndex);\n      }\n    }\n    return dataIndices;\n  };\n  SeriesModel.prototype.isSelected = function (dataIndex, dataType) {\n    var selectedMap = this.option.selectedMap;\n    if (!selectedMap) {\n      return false;\n    }\n    var data = this.getData(dataType);\n    return (selectedMap === 'all' || selectedMap[getSelectionKey(data, dataIndex)]) && !data.getItemModel(dataIndex).get(['select', 'disabled']);\n  };\n  SeriesModel.prototype.isUniversalTransitionEnabled = function () {\n    if (this[SERIES_UNIVERSAL_TRANSITION_PROP]) {\n      return true;\n    }\n    var universalTransitionOpt = this.option.universalTransition; // Quick reject\n\n    if (!universalTransitionOpt) {\n      return false;\n    }\n    if (universalTransitionOpt === true) {\n      return true;\n    } // Can be simply 'universalTransition: true'\n\n    return universalTransitionOpt && universalTransitionOpt.enabled;\n  };\n  SeriesModel.prototype._innerSelect = function (data, innerDataIndices) {\n    var _a, _b;\n    var option = this.option;\n    var selectedMode = option.selectedMode;\n    var len = innerDataIndices.length;\n    if (!selectedMode || !len) {\n      return;\n    }\n    if (selectedMode === 'series') {\n      option.selectedMap = 'all';\n    } else if (selectedMode === 'multiple') {\n      if (!zrUtil.isObject(option.selectedMap)) {\n        option.selectedMap = {};\n      }\n      var selectedMap = option.selectedMap;\n      for (var i = 0; i < len; i++) {\n        var dataIndex = innerDataIndices[i]; // TODO different types of data share same object.\n\n        var nameOrId = getSelectionKey(data, dataIndex);\n        selectedMap[nameOrId] = true;\n        this._selectedDataIndicesMap[nameOrId] = data.getRawIndex(dataIndex);\n      }\n    } else if (selectedMode === 'single' || selectedMode === true) {\n      var lastDataIndex = innerDataIndices[len - 1];\n      var nameOrId = getSelectionKey(data, lastDataIndex);\n      option.selectedMap = (_a = {}, _a[nameOrId] = true, _a);\n      this._selectedDataIndicesMap = (_b = {}, _b[nameOrId] = data.getRawIndex(lastDataIndex), _b);\n    }\n  };\n  SeriesModel.prototype._initSelectedMapFromData = function (data) {\n    // Ignore select info in data if selectedMap exists.\n    // NOTE It's only for legacy usage. edge data is not supported.\n    if (this.option.selectedMap) {\n      return;\n    }\n    var dataIndices = [];\n    if (data.hasItemOption) {\n      data.each(function (idx) {\n        var rawItem = data.getRawDataItem(idx);\n        if (rawItem && rawItem.selected) {\n          dataIndices.push(idx);\n        }\n      });\n    }\n    if (dataIndices.length > 0) {\n      this._innerSelect(data, dataIndices);\n    }\n  }; // /**\n  //  * @see {module:echarts/stream/Scheduler}\n  //  */\n  // abstract pipeTask: null\n\n  SeriesModel.registerClass = function (clz) {\n    return ComponentModel.registerClass(clz);\n  };\n  SeriesModel.protoInitialize = function () {\n    var proto = SeriesModel.prototype;\n    proto.type = 'series.__base__';\n    proto.seriesIndex = 0;\n    proto.ignoreStyleOnData = false;\n    proto.hasSymbolVisual = false;\n    proto.defaultSymbol = 'circle'; // Make sure the values can be accessed!\n\n    proto.visualStyleAccessPath = 'itemStyle';\n    proto.visualDrawType = 'fill';\n  }();\n  return SeriesModel;\n}(ComponentModel);\nzrUtil.mixin(SeriesModel, DataFormatMixin);\nzrUtil.mixin(SeriesModel, PaletteMixin);\nmountExtend(SeriesModel, ComponentModel);\n/**\n * MUST be called after `prepareSource` called\n * Here we need to make auto series, especially for auto legend. But we\n * do not modify series.name in option to avoid side effects.\n */\n\nfunction autoSeriesName(seriesModel) {\n  // User specified name has higher priority, otherwise it may cause\n  // series can not be queried unexpectedly.\n  var name = seriesModel.name;\n  if (!modelUtil.isNameSpecified(seriesModel)) {\n    seriesModel.name = getSeriesAutoName(seriesModel) || name;\n  }\n}\nfunction getSeriesAutoName(seriesModel) {\n  var data = seriesModel.getRawData();\n  var dataDims = data.mapDimensionsAll('seriesName');\n  var nameArr = [];\n  zrUtil.each(dataDims, function (dataDim) {\n    var dimInfo = data.getDimensionInfo(dataDim);\n    dimInfo.displayName && nameArr.push(dimInfo.displayName);\n  });\n  return nameArr.join(' ');\n}\nfunction dataTaskCount(context) {\n  return context.model.getRawData().count();\n}\nfunction dataTaskReset(context) {\n  var seriesModel = context.model;\n  seriesModel.setData(seriesModel.getRawData().cloneShallow());\n  return dataTaskProgress;\n}\nfunction dataTaskProgress(param, context) {\n  // Avoid repeat cloneShallow when data just created in reset.\n  if (context.outputData && param.end > context.outputData.count()) {\n    context.model.getRawData().cloneShallow(context.outputData);\n  }\n} // TODO refactor\n\nfunction wrapData(data, seriesModel) {\n  zrUtil.each(zrUtil.concatArray(data.CHANGABLE_METHODS, data.DOWNSAMPLE_METHODS), function (methodName) {\n    data.wrapMethod(methodName, zrUtil.curry(onDataChange, seriesModel));\n  });\n}\nfunction onDataChange(seriesModel, newList) {\n  var task = getCurrentTask(seriesModel);\n  if (task) {\n    // Consider case: filter, selectRange\n    task.setOutputEnd((newList || this).count());\n  }\n  return newList;\n}\nfunction getCurrentTask(seriesModel) {\n  var scheduler = (seriesModel.ecModel || {}).scheduler;\n  var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);\n  if (pipeline) {\n    // When pipline finished, the currrentTask keep the last\n    // task (renderTask).\n    var task = pipeline.currentTask;\n    if (task) {\n      var agentStubMap = task.agentStubMap;\n      if (agentStubMap) {\n        task = agentStubMap.get(seriesModel.uid);\n      }\n    }\n    return task;\n  }\n}\nexport default SeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, assert } from 'zrender/lib/core/util.js';\nimport { isComponentIdInternal } from '../util/model.js';\nvar internalOptionCreatorMap = createHashMap();\nexport function registerInternalOptionCreator(mainType, creator) {\n  assert(internalOptionCreatorMap.get(mainType) == null && creator);\n  internalOptionCreatorMap.set(mainType, creator);\n}\nexport function concatInternalOptions(ecModel, mainType, newCmptOptionList) {\n  var internalOptionCreator = internalOptionCreatorMap.get(mainType);\n\n  if (!internalOptionCreator) {\n    return newCmptOptionList;\n  }\n\n  var internalOptions = internalOptionCreator(ecModel);\n\n  if (!internalOptions) {\n    return newCmptOptionList;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < internalOptions.length; i++) {\n      assert(isComponentIdInternal(internalOptions[i]));\n    }\n  }\n\n  return newCmptOptionList.concat(internalOptions);\n}","import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.array.slice.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\nimport { formatTpl } from '../../util/format.js';\nimport { error, makePrintable } from '../../util/log.js';\nvar DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g;\nvar DataFormatMixin = /** @class */\nfunction () {\n  function DataFormatMixin() {}\n  /**\n   * Get params for formatter\n   */\n\n  DataFormatMixin.prototype.getDataParams = function (dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var style = data.getItemVisual(dataIndex, 'style');\n    var color = style && style[data.getItemVisual(dataIndex, 'drawType') || 'fill'];\n    var borderColor = style && style.stroke;\n    var mainType = this.mainType;\n    var isSeries = mainType === 'series';\n    var userOutput = data.userOutput && data.userOutput.get();\n    return {\n      componentType: mainType,\n      componentSubType: this.subType,\n      componentIndex: this.componentIndex,\n      seriesType: isSeries ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: isSeries ? this.id : null,\n      seriesName: isSeries ? this.name : null,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      borderColor: borderColor,\n      dimensionNames: userOutput ? userOutput.fullDimensions : null,\n      encode: userOutput ? userOutput.encode : null,\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  };\n  /**\n   * Format label\n   * @param dataIndex\n   * @param status 'normal' by default\n   * @param dataType\n   * @param labelDimIndex Only used in some chart that\n   *        use formatter in different dimensions, like radar.\n   * @param formatter Formatter given outside.\n   * @return return null/undefined if no formatter\n   */\n\n  DataFormatMixin.prototype.getFormattedLabel = function (dataIndex, status, dataType, labelDimIndex, formatter, extendParams) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var params = this.getDataParams(dataIndex, dataType);\n    if (extendParams) {\n      params.value = extendParams.interpolatedValue;\n    }\n    if (labelDimIndex != null && zrUtil.isArray(params.value)) {\n      params.value = params.value[labelDimIndex];\n    }\n    if (!formatter) {\n      var itemModel = data.getItemModel(dataIndex); // @ts-ignore\n\n      formatter = itemModel.get(status === 'normal' ? ['label', 'formatter'] : [status, 'label', 'formatter']);\n    }\n    if (zrUtil.isFunction(formatter)) {\n      params.status = status;\n      params.dimensionIndex = labelDimIndex;\n      return formatter(params);\n    } else if (zrUtil.isString(formatter)) {\n      var str = formatTpl(formatter, params); // Support 'aaa{@[3]}bbb{@product}ccc'.\n      // Do not support '}' in dim name util have to.\n\n      return str.replace(DIMENSION_LABEL_REG, function (origin, dimStr) {\n        var len = dimStr.length;\n        var dimLoose = dimStr;\n        if (dimLoose.charAt(0) === '[' && dimLoose.charAt(len - 1) === ']') {\n          dimLoose = +dimLoose.slice(1, len - 1); // Also support: '[]' => 0\n\n          if (process.env.NODE_ENV !== 'production') {\n            if (isNaN(dimLoose)) {\n              error(\"Invalide label formatter: @\" + dimStr + \", only support @[0], @[1], @[2], ...\");\n            }\n          }\n        }\n        var val = retrieveRawValue(data, dataIndex, dimLoose);\n        if (extendParams && zrUtil.isArray(extendParams.interpolatedValue)) {\n          var dimIndex = data.getDimensionIndex(dimLoose);\n          if (dimIndex >= 0) {\n            val = extendParams.interpolatedValue[dimIndex];\n          }\n        }\n        return val != null ? val + '' : '';\n      });\n    }\n  };\n  /**\n   * Get raw value in option\n   */\n\n  DataFormatMixin.prototype.getRawValue = function (idx, dataType) {\n    return retrieveRawValue(this.getData(dataType), idx);\n  };\n  /**\n   * Should be implemented.\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {string} [dataType]\n   */\n\n  DataFormatMixin.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    // Empty function\n    return;\n  };\n  return DataFormatMixin;\n}();\nexport { DataFormatMixin };\n; // PENDING: previously we accept this type when calling `formatTooltip`,\n// but guess little chance has been used outside. Do we need to backward\n// compat it?\n// type TooltipFormatResultLegacyObject = {\n//     // `html` means the markup language text, either in 'html' or 'richText'.\n//     // The name `html` is not appropriate because in 'richText' it is not a HTML\n//     // string. But still support it for backward compatibility.\n//     html: string;\n//     markers: Dictionary<ColorString>;\n// };\n\n/**\n * For backward compat, normalize the return from `formatTooltip`.\n */\n\nexport function normalizeTooltipFormatResult(result) {\n  var markupText; // let markers: Dictionary<ColorString>;\n\n  var markupFragment;\n  if (zrUtil.isObject(result)) {\n    if (result.type) {\n      markupFragment = result;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('The return type of `formatTooltip` is not supported: ' + makePrintable(result));\n      }\n    } // else {\n    //     markupText = (result as TooltipFormatResultLegacyObject).html;\n    //     markers = (result as TooltipFormatResultLegacyObject).markers;\n    //     if (markersExisting) {\n    //         markers = zrUtil.merge(markersExisting, markers);\n    //     }\n    // }\n  } else {\n    markupText = result;\n  }\n  return {\n    text: markupText,\n    // markers: markers || markersExisting,\n    frag: markupFragment\n  };\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper.js';\nexport var ITEM_STYLE_KEY_MAP = [['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'borderType'], ['lineDashOffset', 'borderDashOffset'], ['lineCap', 'borderCap'], ['lineJoin', 'borderJoin'], ['miterLimit', 'borderMiterLimit'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\n\nvar getItemStyle = makeStyleMapper(ITEM_STYLE_KEY_MAP);\nvar ItemStyleMixin = /** @class */\nfunction () {\n  function ItemStyleMixin() {}\n  ItemStyleMixin.prototype.getItemStyle = function (excludes, includes) {\n    return getItemStyle(this, excludes, includes);\n  };\n  return ItemStyleMixin;\n}();\nexport { ItemStyleMixin };","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport makeStyleMapper from './makeStyleMapper.js';\nexport var LINE_STYLE_KEY_MAP = [['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['lineDash', 'type'], ['lineDashOffset', 'dashOffset'], ['lineCap', 'cap'], ['lineJoin', 'join'], ['miterLimit'] // Option decal is in `DecalObject` but style.decal is in `PatternObject`.\n// So do not transfer decal directly.\n];\n\nvar getLineStyle = makeStyleMapper(LINE_STYLE_KEY_MAP);\nvar LineStyleMixin = /** @class */\nfunction () {\n  function LineStyleMixin() {}\n  LineStyleMixin.prototype.getLineStyle = function (excludes) {\n    return getLineStyle(this, excludes);\n  };\n  return LineStyleMixin;\n}();\n;\nexport { LineStyleMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Parse shadow style\n// TODO Only shallow path support\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function makeStyleMapper(properties, ignoreParent) {\n  // Normalize\n  for (var i = 0; i < properties.length; i++) {\n    if (!properties[i][1]) {\n      properties[i][1] = properties[i][0];\n    }\n  }\n\n  ignoreParent = ignoreParent || false;\n  return function (model, excludes, includes) {\n    var style = {};\n\n    for (var i = 0; i < properties.length; i++) {\n      var propName = properties[i][1];\n\n      if (excludes && zrUtil.indexOf(excludes, propName) >= 0 || includes && zrUtil.indexOf(includes, propName) < 0) {\n        continue;\n      }\n\n      var val = model.getShallow(propName, ignoreParent);\n\n      if (val != null) {\n        style[properties[i][0]] = val;\n      }\n    } // TODO Text or image?\n\n\n    return style;\n  };\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner, normalizeToArray } from '../../util/model.js';\nvar innerColor = makeInner();\nvar innerDecal = makeInner();\nvar PaletteMixin = /** @class */\nfunction () {\n  function PaletteMixin() {}\n  PaletteMixin.prototype.getColorFromPalette = function (name, scope, requestNum) {\n    var defaultPalette = normalizeToArray(this.get('color', true));\n    var layeredPalette = this.get('colorLayer', true);\n    return getFromPalette(this, innerColor, defaultPalette, layeredPalette, name, scope, requestNum);\n  };\n  PaletteMixin.prototype.clearColorPalette = function () {\n    clearPalette(this, innerColor);\n  };\n  return PaletteMixin;\n}();\nexport function getDecalFromPalette(ecModel, name, scope, requestNum) {\n  var defaultDecals = normalizeToArray(ecModel.get(['aria', 'decal', 'decals']));\n  return getFromPalette(ecModel, innerDecal, defaultDecals, null, name, scope, requestNum);\n}\nfunction getNearestPalette(palettes, requestColorNum) {\n  var paletteNum = palettes.length; // TODO palettes must be in order\n\n  for (var i = 0; i < paletteNum; i++) {\n    if (palettes[i].length > requestColorNum) {\n      return palettes[i];\n    }\n  }\n  return palettes[paletteNum - 1];\n}\n/**\n * @param name MUST NOT be null/undefined. Otherwise call this function\n *             twise with the same parameters will get different result.\n * @param scope default this.\n * @return Can be null/undefined\n */\n\nfunction getFromPalette(that, inner, defaultPalette, layeredPalette, name, scope, requestNum) {\n  scope = scope || that;\n  var scopeFields = inner(scope);\n  var paletteIdx = scopeFields.paletteIdx || 0;\n  var paletteNameMap = scopeFields.paletteNameMap = scopeFields.paletteNameMap || {}; // Use `hasOwnProperty` to avoid conflict with Object.prototype.\n\n  if (paletteNameMap.hasOwnProperty(name)) {\n    return paletteNameMap[name];\n  }\n  var palette = requestNum == null || !layeredPalette ? defaultPalette : getNearestPalette(layeredPalette, requestNum); // In case can't find in layered color palette.\n\n  palette = palette || defaultPalette;\n  if (!palette || !palette.length) {\n    return;\n  }\n  var pickedPaletteItem = palette[paletteIdx];\n  if (name) {\n    paletteNameMap[name] = pickedPaletteItem;\n  }\n  scopeFields.paletteIdx = (paletteIdx + 1) % palette.length;\n  return pickedPaletteItem;\n}\nfunction clearPalette(that, inner) {\n  inner(that).paletteIdx = 0;\n  inner(that).paletteNameMap = {};\n}\nexport { PaletteMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Helper for model references.\n * There are many manners to refer axis/coordSys.\n */\n// TODO\n// merge relevant logic to this file?\n// check: \"modelHelper\" of tooltip and \"BrushTargetManager\".\nimport { createHashMap, retrieve, each } from 'zrender/lib/core/util.js';\nimport { SINGLE_REFERRING } from '../util/model.js';\n/**\n * @class\n * For example:\n * {\n *     coordSysName: 'cartesian2d',\n *     coordSysDims: ['x', 'y', ...],\n *     axisMap: HashMap({\n *         x: xAxisModel,\n *         y: yAxisModel\n *     }),\n *     categoryAxisMap: HashMap({\n *         x: xAxisModel,\n *         y: undefined\n *     }),\n *     // The index of the first category axis in `coordSysDims`.\n *     // `null/undefined` means no category axis exists.\n *     firstCategoryDimIndex: 1,\n *     // To replace user specified encode.\n * }\n */\n\nvar CoordSysInfo =\n/** @class */\nfunction () {\n  function CoordSysInfo(coordSysName) {\n    this.coordSysDims = [];\n    this.axisMap = createHashMap();\n    this.categoryAxisMap = createHashMap();\n    this.coordSysName = coordSysName;\n  }\n\n  return CoordSysInfo;\n}();\n\nexport function getCoordSysInfoBySeries(seriesModel) {\n  var coordSysName = seriesModel.get('coordinateSystem');\n  var result = new CoordSysInfo(coordSysName);\n  var fetch = fetchers[coordSysName];\n\n  if (fetch) {\n    fetch(seriesModel, result, result.axisMap, result.categoryAxisMap);\n    return result;\n  }\n}\nvar fetchers = {\n  cartesian2d: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var xAxisModel = seriesModel.getReferringComponents('xAxis', SINGLE_REFERRING).models[0];\n    var yAxisModel = seriesModel.getReferringComponents('yAxis', SINGLE_REFERRING).models[0];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!xAxisModel) {\n        throw new Error('xAxis \"' + retrieve(seriesModel.get('xAxisIndex'), seriesModel.get('xAxisId'), 0) + '\" not found');\n      }\n\n      if (!yAxisModel) {\n        throw new Error('yAxis \"' + retrieve(seriesModel.get('xAxisIndex'), seriesModel.get('yAxisId'), 0) + '\" not found');\n      }\n    }\n\n    result.coordSysDims = ['x', 'y'];\n    axisMap.set('x', xAxisModel);\n    axisMap.set('y', yAxisModel);\n\n    if (isCategory(xAxisModel)) {\n      categoryAxisMap.set('x', xAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n\n    if (isCategory(yAxisModel)) {\n      categoryAxisMap.set('y', yAxisModel);\n      result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);\n    }\n  },\n  singleAxis: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var singleAxisModel = seriesModel.getReferringComponents('singleAxis', SINGLE_REFERRING).models[0];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!singleAxisModel) {\n        throw new Error('singleAxis should be specified.');\n      }\n    }\n\n    result.coordSysDims = ['single'];\n    axisMap.set('single', singleAxisModel);\n\n    if (isCategory(singleAxisModel)) {\n      categoryAxisMap.set('single', singleAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n  },\n  polar: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var polarModel = seriesModel.getReferringComponents('polar', SINGLE_REFERRING).models[0];\n    var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n    var angleAxisModel = polarModel.findAxisModel('angleAxis');\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!angleAxisModel) {\n        throw new Error('angleAxis option not found');\n      }\n\n      if (!radiusAxisModel) {\n        throw new Error('radiusAxis option not found');\n      }\n    }\n\n    result.coordSysDims = ['radius', 'angle'];\n    axisMap.set('radius', radiusAxisModel);\n    axisMap.set('angle', angleAxisModel);\n\n    if (isCategory(radiusAxisModel)) {\n      categoryAxisMap.set('radius', radiusAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n\n    if (isCategory(angleAxisModel)) {\n      categoryAxisMap.set('angle', angleAxisModel);\n      result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);\n    }\n  },\n  geo: function (seriesModel, result, axisMap, categoryAxisMap) {\n    result.coordSysDims = ['lng', 'lat'];\n  },\n  parallel: function (seriesModel, result, axisMap, categoryAxisMap) {\n    var ecModel = seriesModel.ecModel;\n    var parallelModel = ecModel.getComponent('parallel', seriesModel.get('parallelIndex'));\n    var coordSysDims = result.coordSysDims = parallelModel.dimensions.slice();\n    each(parallelModel.parallelAxisIndex, function (axisIndex, index) {\n      var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n      var axisDim = coordSysDims[index];\n      axisMap.set(axisDim, axisModel);\n\n      if (isCategory(axisModel)) {\n        categoryAxisMap.set(axisDim, axisModel);\n\n        if (result.firstCategoryDimIndex == null) {\n          result.firstCategoryDimIndex = index;\n        }\n      }\n    });\n  }\n};\n\nfunction isCategory(axisModel) {\n  return axisModel.get('type') === 'category';\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nimport { deprecateLog, deprecateReplaceLog } from '../../util/log.js';\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\n\nfunction compatEC2ItemStyle(opt) {\n  var itemStyleOpt = opt && opt.itemStyle;\n\n  if (!itemStyleOpt) {\n    return;\n  }\n\n  for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n    var styleName = POSSIBLE_STYLES[i];\n    var normalItemStyleOpt = itemStyleOpt.normal;\n    var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n\n    if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.normal.\" + styleName, styleName);\n      }\n\n      opt[styleName] = opt[styleName] || {};\n\n      if (!opt[styleName].normal) {\n        opt[styleName].normal = normalItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n      }\n\n      normalItemStyleOpt[styleName] = null;\n    }\n\n    if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.emphasis.\" + styleName, \"emphasis.\" + styleName);\n      }\n\n      opt[styleName] = opt[styleName] || {};\n\n      if (!opt[styleName].emphasis) {\n        opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n      }\n\n      emphasisItemStyleOpt[styleName] = null;\n    }\n  }\n}\n\nfunction convertNormalEmphasis(opt, optType, useExtend) {\n  if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {\n    var normalOpt = opt[optType].normal;\n    var emphasisOpt = opt[optType].emphasis;\n\n    if (normalOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line max-len\n        deprecateLog(\"'normal' hierarchy in \" + optType + \" has been removed since 4.0. All style properties are configured in \" + optType + \" directly now.\");\n      } // Timeline controlStyle has other properties besides normal and emphasis\n\n\n      if (useExtend) {\n        opt[optType].normal = opt[optType].emphasis = null;\n        zrUtil.defaults(opt[optType], normalOpt);\n      } else {\n        opt[optType] = normalOpt;\n      }\n    }\n\n    if (emphasisOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog(optType + \".emphasis has been changed to emphasis.\" + optType + \" since 4.0\");\n      }\n\n      opt.emphasis = opt.emphasis || {};\n      opt.emphasis[optType] = emphasisOpt; // Also compat the case user mix the style and focus together in ec3 style\n      // for example: { itemStyle: { normal: {}, emphasis: {focus, shadowBlur} } }\n\n      if (emphasisOpt.focus) {\n        opt.emphasis.focus = emphasisOpt.focus;\n      }\n\n      if (emphasisOpt.blurScope) {\n        opt.emphasis.blurScope = emphasisOpt.blurScope;\n      }\n    }\n  }\n}\n\nfunction removeEC3NormalStatus(opt) {\n  convertNormalEmphasis(opt, 'itemStyle');\n  convertNormalEmphasis(opt, 'lineStyle');\n  convertNormalEmphasis(opt, 'areaStyle');\n  convertNormalEmphasis(opt, 'label');\n  convertNormalEmphasis(opt, 'labelLine'); // treemap\n\n  convertNormalEmphasis(opt, 'upperLabel'); // graph\n\n  convertNormalEmphasis(opt, 'edgeLabel');\n}\n\nfunction compatTextStyle(opt, propName) {\n  // Check whether is not object (string\\null\\undefined ...)\n  var labelOptSingle = isObject(opt) && opt[propName];\n  var textStyle = isObject(labelOptSingle) && labelOptSingle.textStyle;\n\n  if (textStyle) {\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line max-len\n      deprecateLog(\"textStyle hierarchy in \" + propName + \" has been removed since 4.0. All textStyle properties are configured in \" + propName + \" directly now.\");\n    }\n\n    for (var i = 0, len = modelUtil.TEXT_STYLE_OPTIONS.length; i < len; i++) {\n      var textPropName = modelUtil.TEXT_STYLE_OPTIONS[i];\n\n      if (textStyle.hasOwnProperty(textPropName)) {\n        labelOptSingle[textPropName] = textStyle[textPropName];\n      }\n    }\n  }\n}\n\nfunction compatEC3CommonStyles(opt) {\n  if (opt) {\n    removeEC3NormalStatus(opt);\n    compatTextStyle(opt, 'label');\n    opt.emphasis && compatTextStyle(opt.emphasis, 'label');\n  }\n}\n\nfunction processSeries(seriesOpt) {\n  if (!isObject(seriesOpt)) {\n    return;\n  }\n\n  compatEC2ItemStyle(seriesOpt);\n  removeEC3NormalStatus(seriesOpt);\n  compatTextStyle(seriesOpt, 'label'); // treemap\n\n  compatTextStyle(seriesOpt, 'upperLabel'); // graph\n\n  compatTextStyle(seriesOpt, 'edgeLabel');\n\n  if (seriesOpt.emphasis) {\n    compatTextStyle(seriesOpt.emphasis, 'label'); // treemap\n\n    compatTextStyle(seriesOpt.emphasis, 'upperLabel'); // graph\n\n    compatTextStyle(seriesOpt.emphasis, 'edgeLabel');\n  }\n\n  var markPoint = seriesOpt.markPoint;\n\n  if (markPoint) {\n    compatEC2ItemStyle(markPoint);\n    compatEC3CommonStyles(markPoint);\n  }\n\n  var markLine = seriesOpt.markLine;\n\n  if (markLine) {\n    compatEC2ItemStyle(markLine);\n    compatEC3CommonStyles(markLine);\n  }\n\n  var markArea = seriesOpt.markArea;\n\n  if (markArea) {\n    compatEC3CommonStyles(markArea);\n  }\n\n  var data = seriesOpt.data; // Break with ec3: if `setOption` again, there may be no `type` in option,\n  // then the backward compat based on option type will not be performed.\n\n  if (seriesOpt.type === 'graph') {\n    data = data || seriesOpt.nodes;\n    var edgeData = seriesOpt.links || seriesOpt.edges;\n\n    if (edgeData && !zrUtil.isTypedArray(edgeData)) {\n      for (var i = 0; i < edgeData.length; i++) {\n        compatEC3CommonStyles(edgeData[i]);\n      }\n    }\n\n    zrUtil.each(seriesOpt.categories, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  }\n\n  if (data && !zrUtil.isTypedArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      compatEC3CommonStyles(data[i]);\n    }\n  } // mark point data\n\n\n  markPoint = seriesOpt.markPoint;\n\n  if (markPoint && markPoint.data) {\n    var mpData = markPoint.data;\n\n    for (var i = 0; i < mpData.length; i++) {\n      compatEC3CommonStyles(mpData[i]);\n    }\n  } // mark line data\n\n\n  markLine = seriesOpt.markLine;\n\n  if (markLine && markLine.data) {\n    var mlData = markLine.data;\n\n    for (var i = 0; i < mlData.length; i++) {\n      if (zrUtil.isArray(mlData[i])) {\n        compatEC3CommonStyles(mlData[i][0]);\n        compatEC3CommonStyles(mlData[i][1]);\n      } else {\n        compatEC3CommonStyles(mlData[i]);\n      }\n    }\n  } // Series\n\n\n  if (seriesOpt.type === 'gauge') {\n    compatTextStyle(seriesOpt, 'axisLabel');\n    compatTextStyle(seriesOpt, 'title');\n    compatTextStyle(seriesOpt, 'detail');\n  } else if (seriesOpt.type === 'treemap') {\n    convertNormalEmphasis(seriesOpt.breadcrumb, 'itemStyle');\n    zrUtil.each(seriesOpt.levels, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  } else if (seriesOpt.type === 'tree') {\n    removeEC3NormalStatus(seriesOpt.leaves);\n  } // sunburst starts from ec4, so it does not need to compat levels.\n\n}\n\nfunction toArr(o) {\n  return zrUtil.isArray(o) ? o : o ? [o] : [];\n}\n\nfunction toObj(o) {\n  return (zrUtil.isArray(o) ? o[0] : o) || {};\n}\n\nexport default function globalCompatStyle(option, isTheme) {\n  each(toArr(option.series), function (seriesOpt) {\n    isObject(seriesOpt) && processSeries(seriesOpt);\n  });\n  var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n  isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n  each(axes, function (axisName) {\n    each(toArr(option[axisName]), function (axisOpt) {\n      if (axisOpt) {\n        compatTextStyle(axisOpt, 'axisLabel');\n        compatTextStyle(axisOpt.axisPointer, 'label');\n      }\n    });\n  });\n  each(toArr(option.parallel), function (parallelOpt) {\n    var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n    compatTextStyle(parallelAxisDefault, 'axisLabel');\n    compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n  });\n  each(toArr(option.calendar), function (calendarOpt) {\n    convertNormalEmphasis(calendarOpt, 'itemStyle');\n    compatTextStyle(calendarOpt, 'dayLabel');\n    compatTextStyle(calendarOpt, 'monthLabel');\n    compatTextStyle(calendarOpt, 'yearLabel');\n  }); // radar.name.textStyle\n\n  each(toArr(option.radar), function (radarOpt) {\n    compatTextStyle(radarOpt, 'name'); // Use axisName instead of name because component has name property\n\n    if (radarOpt.name && radarOpt.axisName == null) {\n      radarOpt.axisName = radarOpt.name;\n      delete radarOpt.name;\n\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('name property in radar component has been changed to axisName');\n      }\n    }\n\n    if (radarOpt.nameGap != null && radarOpt.axisNameGap == null) {\n      radarOpt.axisNameGap = radarOpt.nameGap;\n      delete radarOpt.nameGap;\n\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('nameGap property in radar component has been changed to axisNameGap');\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      each(radarOpt.indicator, function (indicatorOpt) {\n        if (indicatorOpt.text) {\n          deprecateReplaceLog('text', 'name', 'radar.indicator');\n        }\n      });\n    }\n  });\n  each(toArr(option.geo), function (geoOpt) {\n    if (isObject(geoOpt)) {\n      compatEC3CommonStyles(geoOpt);\n      each(toArr(geoOpt.regions), function (regionObj) {\n        compatEC3CommonStyles(regionObj);\n      });\n    }\n  });\n  each(toArr(option.timeline), function (timelineOpt) {\n    compatEC3CommonStyles(timelineOpt);\n    convertNormalEmphasis(timelineOpt, 'label');\n    convertNormalEmphasis(timelineOpt, 'itemStyle');\n    convertNormalEmphasis(timelineOpt, 'controlStyle', true);\n    var data = timelineOpt.data;\n    zrUtil.isArray(data) && zrUtil.each(data, function (item) {\n      if (zrUtil.isObject(item)) {\n        convertNormalEmphasis(item, 'label');\n        convertNormalEmphasis(item, 'itemStyle');\n      }\n    });\n  });\n  each(toArr(option.toolbox), function (toolboxOpt) {\n    convertNormalEmphasis(toolboxOpt, 'iconStyle');\n    each(toolboxOpt.feature, function (featureOpt) {\n      convertNormalEmphasis(featureOpt, 'iconStyle');\n    });\n  });\n  compatTextStyle(toObj(option.axisPointer), 'label');\n  compatTextStyle(toObj(option.tooltip).axisPointer, 'label'); // Clean logs\n  // storedLogs = {};\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isArray, isObject, isTypedArray, defaults } from 'zrender/lib/core/util.js';\nimport compatStyle from './helper/compatStyle.js';\nimport { normalizeToArray } from '../util/model.js';\nimport { deprecateLog, deprecateReplaceLog } from '../util/log.js';\n\nfunction get(opt, path) {\n  var pathArr = path.split(',');\n  var obj = opt;\n\n  for (var i = 0; i < pathArr.length; i++) {\n    obj = obj && obj[pathArr[i]];\n\n    if (obj == null) {\n      break;\n    }\n  }\n\n  return obj;\n}\n\nfunction set(opt, path, val, overwrite) {\n  var pathArr = path.split(',');\n  var obj = opt;\n  var key;\n  var i = 0;\n\n  for (; i < pathArr.length - 1; i++) {\n    key = pathArr[i];\n\n    if (obj[key] == null) {\n      obj[key] = {};\n    }\n\n    obj = obj[key];\n  }\n\n  if (overwrite || obj[pathArr[i]] == null) {\n    obj[pathArr[i]] = val;\n  }\n}\n\nfunction compatLayoutProperties(option) {\n  option && each(LAYOUT_PROPERTIES, function (prop) {\n    if (prop[0] in option && !(prop[1] in option)) {\n      option[prop[1]] = option[prop[0]];\n    }\n  });\n}\n\nvar LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\nvar COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\nvar BAR_ITEM_STYLE_MAP = [['borderRadius', 'barBorderRadius'], ['borderColor', 'barBorderColor'], ['borderWidth', 'barBorderWidth']];\n\nfunction compatBarItemStyle(option) {\n  var itemStyle = option && option.itemStyle;\n\n  if (itemStyle) {\n    for (var i = 0; i < BAR_ITEM_STYLE_MAP.length; i++) {\n      var oldName = BAR_ITEM_STYLE_MAP[i][1];\n      var newName = BAR_ITEM_STYLE_MAP[i][0];\n\n      if (itemStyle[oldName] != null) {\n        itemStyle[newName] = itemStyle[oldName];\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog(oldName, newName);\n        }\n      }\n    }\n  }\n}\n\nfunction compatPieLabel(option) {\n  if (!option) {\n    return;\n  }\n\n  if (option.alignTo === 'edge' && option.margin != null && option.edgeDistance == null) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('label.margin', 'label.edgeDistance', 'pie');\n    }\n\n    option.edgeDistance = option.margin;\n  }\n}\n\nfunction compatSunburstState(option) {\n  if (!option) {\n    return;\n  }\n\n  if (option.downplay && !option.blur) {\n    option.blur = option.downplay;\n\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('downplay', 'blur', 'sunburst');\n    }\n  }\n}\n\nfunction compatGraphFocus(option) {\n  if (!option) {\n    return;\n  }\n\n  if (option.focusNodeAdjacency != null) {\n    option.emphasis = option.emphasis || {};\n\n    if (option.emphasis.focus == null) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog('focusNodeAdjacency', 'emphasis: { focus: \\'adjacency\\'}', 'graph/sankey');\n      }\n\n      option.emphasis.focus = 'adjacency';\n    }\n  }\n}\n\nfunction traverseTree(data, cb) {\n  if (data) {\n    for (var i = 0; i < data.length; i++) {\n      cb(data[i]);\n      data[i] && traverseTree(data[i].children, cb);\n    }\n  }\n}\n\nexport default function globalBackwardCompat(option, isTheme) {\n  compatStyle(option, isTheme); // Make sure series array for model initialization.\n\n  option.series = normalizeToArray(option.series);\n  each(option.series, function (seriesOpt) {\n    if (!isObject(seriesOpt)) {\n      return;\n    }\n\n    var seriesType = seriesOpt.type;\n\n    if (seriesType === 'line') {\n      if (seriesOpt.clipOverflow != null) {\n        seriesOpt.clip = seriesOpt.clipOverflow;\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clipOverflow', 'clip', 'line');\n        }\n      }\n    } else if (seriesType === 'pie' || seriesType === 'gauge') {\n      if (seriesOpt.clockWise != null) {\n        seriesOpt.clockwise = seriesOpt.clockWise;\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clockWise', 'clockwise');\n        }\n      }\n\n      compatPieLabel(seriesOpt.label);\n      var data = seriesOpt.data;\n\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          compatPieLabel(data[i]);\n        }\n      }\n\n      if (seriesOpt.hoverOffset != null) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n\n        if (seriesOpt.emphasis.scaleSize = null) {\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('hoverOffset', 'emphasis.scaleSize');\n          }\n\n          seriesOpt.emphasis.scaleSize = seriesOpt.hoverOffset;\n        }\n      }\n    } else if (seriesType === 'gauge') {\n      var pointerColor = get(seriesOpt, 'pointer.color');\n      pointerColor != null && set(seriesOpt, 'itemStyle.color', pointerColor);\n    } else if (seriesType === 'bar') {\n      compatBarItemStyle(seriesOpt);\n      compatBarItemStyle(seriesOpt.backgroundStyle);\n      compatBarItemStyle(seriesOpt.emphasis);\n      var data = seriesOpt.data;\n\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          if (typeof data[i] === 'object') {\n            compatBarItemStyle(data[i]);\n            compatBarItemStyle(data[i] && data[i].emphasis);\n          }\n        }\n      }\n    } else if (seriesType === 'sunburst') {\n      var highlightPolicy = seriesOpt.highlightPolicy;\n\n      if (highlightPolicy) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n\n        if (!seriesOpt.emphasis.focus) {\n          seriesOpt.emphasis.focus = highlightPolicy;\n\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('highlightPolicy', 'emphasis.focus', 'sunburst');\n          }\n        }\n      }\n\n      compatSunburstState(seriesOpt);\n      traverseTree(seriesOpt.data, compatSunburstState);\n    } else if (seriesType === 'graph' || seriesType === 'sankey') {\n      compatGraphFocus(seriesOpt); // TODO nodes, edges?\n    } else if (seriesType === 'map') {\n      if (seriesOpt.mapType && !seriesOpt.map) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('mapType', 'map', 'map');\n        }\n\n        seriesOpt.map = seriesOpt.mapType;\n      }\n\n      if (seriesOpt.mapLocation) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('`mapLocation` is not used anymore.');\n        }\n\n        defaults(seriesOpt, seriesOpt.mapLocation);\n      }\n    }\n\n    if (seriesOpt.hoverAnimation != null) {\n      seriesOpt.emphasis = seriesOpt.emphasis || {};\n\n      if (seriesOpt.emphasis && seriesOpt.emphasis.scale == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('hoverAnimation', 'emphasis.scale');\n        }\n\n        seriesOpt.emphasis.scale = seriesOpt.hoverAnimation;\n      }\n    }\n\n    compatLayoutProperties(seriesOpt);\n  }); // dataRange has changed to visualMap\n\n  if (option.dataRange) {\n    option.visualMap = option.dataRange;\n  }\n\n  each(COMPATITABLE_COMPONENTS, function (componentName) {\n    var options = option[componentName];\n\n    if (options) {\n      if (!isArray(options)) {\n        options = [options];\n      }\n\n      each(options, function (option) {\n        compatLayoutProperties(option);\n      });\n    }\n  });\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport default function dataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function reset(seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx); // If in any legend component the status is not selected.\n\n        for (var i = 0; i < legendModels.length; i++) {\n          // @ts-ignore FIXME: LegendModel\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n        return true;\n      });\n    }\n  };\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isFunction, isString } from 'zrender/lib/core/util.js';\nvar samplers = {\n  average: function average(frame) {\n    var sum = 0;\n    var count = 0;\n    for (var i = 0; i < frame.length; i++) {\n      if (!isNaN(frame[i])) {\n        sum += frame[i];\n        count++;\n      }\n    } // Return NaN if count is 0\n\n    return count === 0 ? NaN : sum / count;\n  },\n  sum: function sum(frame) {\n    var sum = 0;\n    for (var i = 0; i < frame.length; i++) {\n      // Ignore NaN\n      sum += frame[i] || 0;\n    }\n    return sum;\n  },\n  max: function max(frame) {\n    var max = -Infinity;\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] > max && (max = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n    return isFinite(max) ? max : NaN;\n  },\n  min: function min(frame) {\n    var min = Infinity;\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] < min && (min = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n    return isFinite(min) ? min : NaN;\n  },\n  // TODO\n  // Median\n  nearest: function nearest(frame) {\n    return frame[0];\n  }\n};\nvar indexSampler = function indexSampler(frame) {\n  return Math.round(frame.length / 2);\n};\nexport default function dataSample(seriesType) {\n  return {\n    seriesType: seriesType,\n    // FIXME:TS never used, so comment it\n    // modifyOutputEnd: true,\n    reset: function reset(seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var sampling = seriesModel.get('sampling');\n      var coordSys = seriesModel.coordinateSystem;\n      var count = data.count(); // Only cartesian2d support down sampling. Disable it when there is few data.\n\n      if (count > 10 && coordSys.type === 'cartesian2d' && sampling) {\n        var baseAxis = coordSys.getBaseAxis();\n        var valueAxis = coordSys.getOtherAxis(baseAxis);\n        var extent = baseAxis.getExtent();\n        var dpr = api.getDevicePixelRatio(); // Coordinste system has been resized\n\n        var size = Math.abs(extent[1] - extent[0]) * (dpr || 1);\n        var rate = Math.round(count / size);\n        if (isFinite(rate) && rate > 1) {\n          if (sampling === 'lttb') {\n            seriesModel.setData(data.lttbDownSample(data.mapDimension(valueAxis.dim), 1 / rate));\n          }\n          var sampler = void 0;\n          if (isString(sampling)) {\n            sampler = samplers[sampling];\n          } else if (isFunction(sampling)) {\n            sampler = sampling;\n          }\n          if (sampler) {\n            // Only support sample the first dim mapped from value axis.\n            seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n          }\n        }\n      }\n    }\n  };\n}","import \"core-js/modules/es.array.push.js\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport { addSafe } from '../util/number.js'; // (1) [Caution]: the logic is correct based on the premises:\n//     data processing stage is blocked in stream.\n//     See <module:echarts/stream/Scheduler#performDataProcessorTasks>\n// (2) Only register once when import repeatedly.\n//     Should be executed after series is filtered and before stack calculation.\n\nexport default function dataStack(ecModel) {\n  var stackInfoMap = createHashMap();\n  ecModel.eachSeries(function (seriesModel) {\n    var stack = seriesModel.get('stack'); // Compatible: when `stack` is set as '', do not stack.\n\n    if (stack) {\n      var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);\n      var data = seriesModel.getData();\n      var stackInfo = {\n        // Used for calculate axis extent automatically.\n        // TODO: Type getCalculationInfo return more specific type?\n        stackResultDimension: data.getCalculationInfo('stackResultDimension'),\n        stackedOverDimension: data.getCalculationInfo('stackedOverDimension'),\n        stackedDimension: data.getCalculationInfo('stackedDimension'),\n        stackedByDimension: data.getCalculationInfo('stackedByDimension'),\n        isStackedByIndex: data.getCalculationInfo('isStackedByIndex'),\n        data: data,\n        seriesModel: seriesModel\n      }; // If stacked on axis that do not support data stack.\n\n      if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {\n        return;\n      }\n      stackInfoList.length && data.setCalculationInfo('stackedOnSeries', stackInfoList[stackInfoList.length - 1].seriesModel);\n      stackInfoList.push(stackInfo);\n    }\n  });\n  stackInfoMap.each(calculateStack);\n}\nfunction calculateStack(stackInfoList) {\n  each(stackInfoList, function (targetStackInfo, idxInStack) {\n    var resultVal = [];\n    var resultNaN = [NaN, NaN];\n    var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];\n    var targetData = targetStackInfo.data;\n    var isStackedByIndex = targetStackInfo.isStackedByIndex;\n    var stackStrategy = targetStackInfo.seriesModel.get('stackStrategy') || 'samesign'; // Should not write on raw data, because stack series model list changes\n    // depending on legend selection.\n\n    targetData.modify(dims, function (v0, v1, dataIndex) {\n      var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex); // Consider `connectNulls` of line area, if value is NaN, stackedOver\n      // should also be NaN, to draw a appropriate belt area.\n\n      if (isNaN(sum)) {\n        return resultNaN;\n      }\n      var byValue;\n      var stackedDataRawIndex;\n      if (isStackedByIndex) {\n        stackedDataRawIndex = targetData.getRawIndex(dataIndex);\n      } else {\n        byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);\n      } // If stackOver is NaN, chart view will render point on value start.\n\n      var stackedOver = NaN;\n      for (var j = idxInStack - 1; j >= 0; j--) {\n        var stackInfo = stackInfoList[j]; // Has been optimized by inverted indices on `stackedByDimension`.\n\n        if (!isStackedByIndex) {\n          stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);\n        }\n        if (stackedDataRawIndex >= 0) {\n          var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex); // Considering positive stack, negative stack and empty data\n\n          if (stackStrategy === 'all' // single stack group\n          || stackStrategy === 'positive' && val > 0 || stackStrategy === 'negative' && val < 0 || stackStrategy === 'samesign' && sum >= 0 && val > 0 // All positive stack\n          || stackStrategy === 'samesign' && sum <= 0 && val < 0 // All negative stack\n          ) {\n            // The sum has to be very small to be affected by the\n            // floating arithmetic problem. An incorrect result will probably\n            // cause axis min/max to be filtered incorrectly.\n            sum = addSafe(sum, val);\n            stackedOver = val;\n            break;\n          }\n        }\n      }\n      resultVal[0] = sum;\n      resultVal[1] = stackedOver;\n      return resultVal;\n    });\n  });\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isNumber } from 'zrender/lib/core/util.js';\nexport default function negativeDataFilter(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function reset(seriesModel, ecModel) {\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        // handle negative value condition\n        var valueDim = data.mapDimension('value');\n        var curValue = data.get(valueDim, idx);\n        if (isNumber(curValue) && !isNaN(curValue) && curValue < 0) {\n          return false;\n        }\n        return true;\n      });\n    }\n  };\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CanvasPainter from 'zrender/lib/canvas/Painter.js';\nexport function install(registers) {\n  registers.registerPainter('canvas', CanvasPainter);\n}","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SVGPainter from 'zrender/lib/svg/Painter.js';\nexport function install(registers) {\n  registers.registerPainter('svg', SVGPainter);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as numberUtil from '../util/number.js';\nimport * as formatUtil from '../util/format.js';\nimport Scale from './Scale.js';\nimport * as helper from './helper.js';\nvar roundNumber = numberUtil.round;\n\nvar IntervalScale =\n/** @class */\nfunction (_super) {\n  __extends(IntervalScale, _super);\n\n  function IntervalScale() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'interval'; // Step is calculated in adjustExtent.\n\n    _this._interval = 0;\n    _this._intervalPrecision = 2;\n    return _this;\n  }\n\n  IntervalScale.prototype.parse = function (val) {\n    return val;\n  };\n\n  IntervalScale.prototype.contain = function (val) {\n    return helper.contain(val, this._extent);\n  };\n\n  IntervalScale.prototype.normalize = function (val) {\n    return helper.normalize(val, this._extent);\n  };\n\n  IntervalScale.prototype.scale = function (val) {\n    return helper.scale(val, this._extent);\n  };\n\n  IntervalScale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent; // start,end may be a Number like '25',so...\n\n    if (!isNaN(start)) {\n      thisExtent[0] = parseFloat(start);\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = parseFloat(end);\n    }\n  };\n\n  IntervalScale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // unionExtent may called by it's sub classes\n\n    this.setExtent(extent[0], extent[1]);\n  };\n\n  IntervalScale.prototype.getInterval = function () {\n    return this._interval;\n  };\n\n  IntervalScale.prototype.setInterval = function (interval) {\n    this._interval = interval; // Dropped auto calculated niceExtent and use user-set extent.\n    // We assume user wants to set both interval, min, max to get a better result.\n\n    this._niceExtent = this._extent.slice();\n    this._intervalPrecision = helper.getIntervalPrecision(interval);\n  };\n  /**\n   * @param expandToNicedExtent Whether expand the ticks to niced extent.\n   */\n\n\n  IntervalScale.prototype.getTicks = function (expandToNicedExtent) {\n    var interval = this._interval;\n    var extent = this._extent;\n    var niceTickExtent = this._niceExtent;\n    var intervalPrecision = this._intervalPrecision;\n    var ticks = []; // If interval is 0, return [];\n\n    if (!interval) {\n      return ticks;\n    } // Consider this case: using dataZoom toolbox, zoom and zoom.\n\n\n    var safeLimit = 10000;\n\n    if (extent[0] < niceTickExtent[0]) {\n      if (expandToNicedExtent) {\n        ticks.push({\n          value: roundNumber(niceTickExtent[0] - interval, intervalPrecision)\n        });\n      } else {\n        ticks.push({\n          value: extent[0]\n        });\n      }\n    }\n\n    var tick = niceTickExtent[0];\n\n    while (tick <= niceTickExtent[1]) {\n      ticks.push({\n        value: tick\n      }); // Avoid rounding error\n\n      tick = roundNumber(tick + interval, intervalPrecision);\n\n      if (tick === ticks[ticks.length - 1].value) {\n        // Consider out of safe float point, e.g.,\n        // -3711126.9907707 + 2e-10 === -3711126.9907707\n        break;\n      }\n\n      if (ticks.length > safeLimit) {\n        return [];\n      }\n    } // Consider this case: the last item of ticks is smaller\n    // than niceTickExtent[1] and niceTickExtent[1] === extent[1].\n\n\n    var lastNiceTick = ticks.length ? ticks[ticks.length - 1].value : niceTickExtent[1];\n\n    if (extent[1] > lastNiceTick) {\n      if (expandToNicedExtent) {\n        ticks.push({\n          value: roundNumber(lastNiceTick + interval, intervalPrecision)\n        });\n      } else {\n        ticks.push({\n          value: extent[1]\n        });\n      }\n    }\n\n    return ticks;\n  };\n\n  IntervalScale.prototype.getMinorTicks = function (splitNumber) {\n    var ticks = this.getTicks(true);\n    var minorTicks = [];\n    var extent = this.getExtent();\n\n    for (var i = 1; i < ticks.length; i++) {\n      var nextTick = ticks[i];\n      var prevTick = ticks[i - 1];\n      var count = 0;\n      var minorTicksGroup = [];\n      var interval = nextTick.value - prevTick.value;\n      var minorInterval = interval / splitNumber;\n\n      while (count < splitNumber - 1) {\n        var minorTick = roundNumber(prevTick.value + (count + 1) * minorInterval); // For the first and last interval. The count may be less than splitNumber.\n\n        if (minorTick > extent[0] && minorTick < extent[1]) {\n          minorTicksGroup.push(minorTick);\n        }\n\n        count++;\n      }\n\n      minorTicks.push(minorTicksGroup);\n    }\n\n    return minorTicks;\n  };\n  /**\n   * @param opt.precision If 'auto', use nice presision.\n   * @param opt.pad returns 1.50 but not 1.5 if precision is 2.\n   */\n\n\n  IntervalScale.prototype.getLabel = function (data, opt) {\n    if (data == null) {\n      return '';\n    }\n\n    var precision = opt && opt.precision;\n\n    if (precision == null) {\n      precision = numberUtil.getPrecision(data.value) || 0;\n    } else if (precision === 'auto') {\n      // Should be more precise then tick.\n      precision = this._intervalPrecision;\n    } // (1) If `precision` is set, 12.005 should be display as '12.00500'.\n    // (2) Use roundNumber (toFixed) to avoid scientific notation like '3.5e-7'.\n\n\n    var dataNum = roundNumber(data.value, precision, true);\n    return formatUtil.addCommas(dataNum);\n  };\n  /**\n   * @param splitNumber By default `5`.\n   */\n\n\n  IntervalScale.prototype.calcNiceTicks = function (splitNumber, minInterval, maxInterval) {\n    splitNumber = splitNumber || 5;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n\n    if (!isFinite(span)) {\n      return;\n    } // User may set axis min 0 and data are all negative\n    // FIXME If it needs to reverse ?\n\n\n    if (span < 0) {\n      span = -span;\n      extent.reverse();\n    }\n\n    var result = helper.intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval);\n    this._intervalPrecision = result.intervalPrecision;\n    this._interval = result.interval;\n    this._niceExtent = result.niceTickExtent;\n  };\n\n  IntervalScale.prototype.calcNiceExtent = function (opt) {\n    var extent = this._extent; // If extent start and end are same, expand them\n\n    if (extent[0] === extent[1]) {\n      if (extent[0] !== 0) {\n        // Expand extent\n        // Note that extents can be both negative. See #13154\n        var expandSize = Math.abs(extent[0]); // In the fowllowing case\n        //      Axis has been fixed max 100\n        //      Plus data are all 100 and axis extent are [100, 100].\n        // Extend to the both side will cause expanded max is larger than fixed max.\n        // So only expand to the smaller side.\n\n        if (!opt.fixMax) {\n          extent[1] += expandSize / 2;\n          extent[0] -= expandSize / 2;\n        } else {\n          extent[0] -= expandSize / 2;\n        }\n      } else {\n        extent[1] = 1;\n      }\n    }\n\n    var span = extent[1] - extent[0]; // If there are no data and extent are [Infinity, -Infinity]\n\n    if (!isFinite(span)) {\n      extent[0] = 0;\n      extent[1] = 1;\n    }\n\n    this.calcNiceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // let extent = this._extent;\n\n    var interval = this._interval;\n\n    if (!opt.fixMin) {\n      extent[0] = roundNumber(Math.floor(extent[0] / interval) * interval);\n    }\n\n    if (!opt.fixMax) {\n      extent[1] = roundNumber(Math.ceil(extent[1] / interval) * interval);\n    }\n  };\n\n  IntervalScale.prototype.setNiceExtent = function (min, max) {\n    this._niceExtent = [min, max];\n  };\n\n  IntervalScale.type = 'interval';\n  return IntervalScale;\n}(Scale);\n\nScale.registerClass(IntervalScale);\nexport default IntervalScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Scale from './Scale.js';\nimport * as numberUtil from '../util/number.js';\nimport * as scaleHelper from './helper.js'; // Use some method of IntervalScale\n\nimport IntervalScale from './Interval.js';\nvar scaleProto = Scale.prototype; // FIXME:TS refactor: not good to call it directly with `this`?\n\nvar intervalScaleProto = IntervalScale.prototype;\nvar roundingErrorFix = numberUtil.round;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar mathPow = Math.pow;\nvar mathLog = Math.log;\n\nvar LogScale =\n/** @class */\nfunction (_super) {\n  __extends(LogScale, _super);\n\n  function LogScale() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'log';\n    _this.base = 10;\n    _this._originalScale = new IntervalScale(); // FIXME:TS actually used by `IntervalScale`\n\n    _this._interval = 0;\n    return _this;\n  }\n  /**\n   * @param Whether expand the ticks to niced extent.\n   */\n\n\n  LogScale.prototype.getTicks = function (expandToNicedExtent) {\n    var originalScale = this._originalScale;\n    var extent = this._extent;\n    var originalExtent = originalScale.getExtent();\n    var ticks = intervalScaleProto.getTicks.call(this, expandToNicedExtent);\n    return zrUtil.map(ticks, function (tick) {\n      var val = tick.value;\n      var powVal = numberUtil.round(mathPow(this.base, val)); // Fix #4158\n\n      powVal = val === extent[0] && this._fixMin ? fixRoundingError(powVal, originalExtent[0]) : powVal;\n      powVal = val === extent[1] && this._fixMax ? fixRoundingError(powVal, originalExtent[1]) : powVal;\n      return {\n        value: powVal\n      };\n    }, this);\n  };\n\n  LogScale.prototype.setExtent = function (start, end) {\n    var base = mathLog(this.base); // log(-Infinity) is NaN, so safe guard here\n\n    start = mathLog(Math.max(0, start)) / base;\n    end = mathLog(Math.max(0, end)) / base;\n    intervalScaleProto.setExtent.call(this, start, end);\n  };\n  /**\n   * @return {number} end\n   */\n\n\n  LogScale.prototype.getExtent = function () {\n    var base = this.base;\n    var extent = scaleProto.getExtent.call(this);\n    extent[0] = mathPow(base, extent[0]);\n    extent[1] = mathPow(base, extent[1]); // Fix #4158\n\n    var originalScale = this._originalScale;\n    var originalExtent = originalScale.getExtent();\n    this._fixMin && (extent[0] = fixRoundingError(extent[0], originalExtent[0]));\n    this._fixMax && (extent[1] = fixRoundingError(extent[1], originalExtent[1]));\n    return extent;\n  };\n\n  LogScale.prototype.unionExtent = function (extent) {\n    this._originalScale.unionExtent(extent);\n\n    var base = this.base;\n    extent[0] = mathLog(extent[0]) / mathLog(base);\n    extent[1] = mathLog(extent[1]) / mathLog(base);\n    scaleProto.unionExtent.call(this, extent);\n  };\n\n  LogScale.prototype.unionExtentFromData = function (data, dim) {\n    // TODO\n    // filter value that <= 0\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Update interval and extent of intervals for nice ticks\n   * @param approxTickNum default 10 Given approx tick number\n   */\n\n\n  LogScale.prototype.calcNiceTicks = function (approxTickNum) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n\n    if (span === Infinity || span <= 0) {\n      return;\n    }\n\n    var interval = numberUtil.quantity(span);\n    var err = approxTickNum / span * interval; // Filter ticks to get closer to the desired count.\n\n    if (err <= 0.5) {\n      interval *= 10;\n    } // Interval should be integer\n\n\n    while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {\n      interval *= 10;\n    }\n\n    var niceExtent = [numberUtil.round(mathCeil(extent[0] / interval) * interval), numberUtil.round(mathFloor(extent[1] / interval) * interval)];\n    this._interval = interval;\n    this._niceExtent = niceExtent;\n  };\n\n  LogScale.prototype.calcNiceExtent = function (opt) {\n    intervalScaleProto.calcNiceExtent.call(this, opt);\n    this._fixMin = opt.fixMin;\n    this._fixMax = opt.fixMax;\n  };\n\n  LogScale.prototype.parse = function (val) {\n    return val;\n  };\n\n  LogScale.prototype.contain = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return scaleHelper.contain(val, this._extent);\n  };\n\n  LogScale.prototype.normalize = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return scaleHelper.normalize(val, this._extent);\n  };\n\n  LogScale.prototype.scale = function (val) {\n    val = scaleHelper.scale(val, this._extent);\n    return mathPow(this.base, val);\n  };\n\n  LogScale.type = 'log';\n  return LogScale;\n}(Scale);\n\nvar proto = LogScale.prototype;\nproto.getMinorTicks = intervalScaleProto.getMinorTicks;\nproto.getLabel = intervalScaleProto.getLabel;\n\nfunction fixRoundingError(val, originalVal) {\n  return roundingErrorFix(val, numberUtil.getPrecision(originalVal));\n}\n\nScale.registerClass(LogScale);\nexport default LogScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Linear continuous scale\n * http://en.wikipedia.org/wiki/Level_of_measurement\n */\n// FIXME only one data\n\nimport Scale from './Scale.js';\nimport OrdinalMeta from '../data/OrdinalMeta.js';\nimport * as scaleHelper from './helper.js';\nimport { isArray, map, isObject, isString } from 'zrender/lib/core/util.js';\n\nvar OrdinalScale =\n/** @class */\nfunction (_super) {\n  __extends(OrdinalScale, _super);\n\n  function OrdinalScale(setting) {\n    var _this = _super.call(this, setting) || this;\n\n    _this.type = 'ordinal';\n\n    var ordinalMeta = _this.getSetting('ordinalMeta'); // Caution: Should not use instanceof, consider ec-extensions using\n    // import approach to get OrdinalMeta class.\n\n\n    if (!ordinalMeta) {\n      ordinalMeta = new OrdinalMeta({});\n    }\n\n    if (isArray(ordinalMeta)) {\n      ordinalMeta = new OrdinalMeta({\n        categories: map(ordinalMeta, function (item) {\n          return isObject(item) ? item.value : item;\n        })\n      });\n    }\n\n    _this._ordinalMeta = ordinalMeta;\n    _this._extent = _this.getSetting('extent') || [0, ordinalMeta.categories.length - 1];\n    return _this;\n  }\n\n  OrdinalScale.prototype.parse = function (val) {\n    // Caution: Math.round(null) will return `0` rather than `NaN`\n    if (val == null) {\n      return NaN;\n    }\n\n    return isString(val) ? this._ordinalMeta.getOrdinal(val) // val might be float.\n    : Math.round(val);\n  };\n\n  OrdinalScale.prototype.contain = function (rank) {\n    rank = this.parse(rank);\n    return scaleHelper.contain(rank, this._extent) && this._ordinalMeta.categories[rank] != null;\n  };\n  /**\n   * Normalize given rank or name to linear [0, 1]\n   * @param val raw ordinal number.\n   * @return normalized value in [0, 1].\n   */\n\n\n  OrdinalScale.prototype.normalize = function (val) {\n    val = this._getTickNumber(this.parse(val));\n    return scaleHelper.normalize(val, this._extent);\n  };\n  /**\n   * @param val normalized value in [0, 1].\n   * @return raw ordinal number.\n   */\n\n\n  OrdinalScale.prototype.scale = function (val) {\n    val = Math.round(scaleHelper.scale(val, this._extent));\n    return this.getRawOrdinalNumber(val);\n  };\n\n  OrdinalScale.prototype.getTicks = function () {\n    var ticks = [];\n    var extent = this._extent;\n    var rank = extent[0];\n\n    while (rank <= extent[1]) {\n      ticks.push({\n        value: rank\n      });\n      rank++;\n    }\n\n    return ticks;\n  };\n\n  OrdinalScale.prototype.getMinorTicks = function (splitNumber) {\n    // Not support.\n    return;\n  };\n  /**\n   * @see `Ordinal['_ordinalNumbersByTick']`\n   */\n\n\n  OrdinalScale.prototype.setSortInfo = function (info) {\n    if (info == null) {\n      this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null;\n      return;\n    }\n\n    var infoOrdinalNumbers = info.ordinalNumbers;\n    var ordinalsByTick = this._ordinalNumbersByTick = [];\n    var ticksByOrdinal = this._ticksByOrdinalNumber = []; // Unnecessary support negative tick in `realtimeSort`.\n\n    var tickNum = 0;\n    var allCategoryLen = this._ordinalMeta.categories.length;\n\n    for (var len = Math.min(allCategoryLen, infoOrdinalNumbers.length); tickNum < len; ++tickNum) {\n      var ordinalNumber = infoOrdinalNumbers[tickNum];\n      ordinalsByTick[tickNum] = ordinalNumber;\n      ticksByOrdinal[ordinalNumber] = tickNum;\n    } // Handle that `series.data` only covers part of the `axis.category.data`.\n\n\n    var unusedOrdinal = 0;\n\n    for (; tickNum < allCategoryLen; ++tickNum) {\n      while (ticksByOrdinal[unusedOrdinal] != null) {\n        unusedOrdinal++;\n      }\n\n      ;\n      ordinalsByTick.push(unusedOrdinal);\n      ticksByOrdinal[unusedOrdinal] = tickNum;\n    }\n  };\n\n  OrdinalScale.prototype._getTickNumber = function (ordinal) {\n    var ticksByOrdinalNumber = this._ticksByOrdinalNumber; // also support ordinal out of range of `ordinalMeta.categories.length`,\n    // where ordinal numbers are used as tick value directly.\n\n    return ticksByOrdinalNumber && ordinal >= 0 && ordinal < ticksByOrdinalNumber.length ? ticksByOrdinalNumber[ordinal] : ordinal;\n  };\n  /**\n   * @usage\n   * ```js\n   * const ordinalNumber = ordinalScale.getRawOrdinalNumber(tickVal);\n   *\n   * // case0\n   * const rawOrdinalValue = axisModel.getCategories()[ordinalNumber];\n   * // case1\n   * const rawOrdinalValue = this._ordinalMeta.categories[ordinalNumber];\n   * // case2\n   * const coord = axis.dataToCoord(ordinalNumber);\n   * ```\n   *\n   * @param {OrdinalNumber} tickNumber index of display\n   */\n\n\n  OrdinalScale.prototype.getRawOrdinalNumber = function (tickNumber) {\n    var ordinalNumbersByTick = this._ordinalNumbersByTick; // tickNumber may be out of range, e.g., when axis max is larger than `ordinalMeta.categories.length`.,\n    // where ordinal numbers are used as tick value directly.\n\n    return ordinalNumbersByTick && tickNumber >= 0 && tickNumber < ordinalNumbersByTick.length ? ordinalNumbersByTick[tickNumber] : tickNumber;\n  };\n  /**\n   * Get item on tick\n   */\n\n\n  OrdinalScale.prototype.getLabel = function (tick) {\n    if (!this.isBlank()) {\n      var ordinalNumber = this.getRawOrdinalNumber(tick.value);\n      var cateogry = this._ordinalMeta.categories[ordinalNumber]; // Note that if no data, ordinalMeta.categories is an empty array.\n      // Return empty if it's not exist.\n\n      return cateogry == null ? '' : cateogry + '';\n    }\n  };\n\n  OrdinalScale.prototype.count = function () {\n    return this._extent[1] - this._extent[0] + 1;\n  };\n\n  OrdinalScale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * @override\n   * If value is in extent range\n   */\n\n\n  OrdinalScale.prototype.isInExtentRange = function (value) {\n    value = this._getTickNumber(value);\n    return this._extent[0] <= value && this._extent[1] >= value;\n  };\n\n  OrdinalScale.prototype.getOrdinalMeta = function () {\n    return this._ordinalMeta;\n  };\n\n  OrdinalScale.prototype.calcNiceTicks = function () {};\n\n  OrdinalScale.prototype.calcNiceExtent = function () {};\n\n  OrdinalScale.type = 'ordinal';\n  return OrdinalScale;\n}(Scale);\n\nScale.registerClass(OrdinalScale);\nexport default OrdinalScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as clazzUtil from '../util/clazz.js';\n\nvar Scale =\n/** @class */\nfunction () {\n  function Scale(setting) {\n    this._setting = setting || {};\n    this._extent = [Infinity, -Infinity];\n  }\n\n  Scale.prototype.getSetting = function (name) {\n    return this._setting[name];\n  };\n  /**\n   * Set extent from data\n   */\n\n\n  Scale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // not setExtent because in log axis it may transformed to power\n    // this.setExtent(extent[0], extent[1]);\n  };\n  /**\n   * Set extent from data\n   */\n\n\n  Scale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Get extent\n   *\n   * Extent is always in increase order.\n   */\n\n\n  Scale.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Set extent\n   */\n\n\n  Scale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent;\n\n    if (!isNaN(start)) {\n      thisExtent[0] = start;\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = end;\n    }\n  };\n  /**\n   * If value is in extent range\n   */\n\n\n  Scale.prototype.isInExtentRange = function (value) {\n    return this._extent[0] <= value && this._extent[1] >= value;\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n\n\n  Scale.prototype.isBlank = function () {\n    return this._isBlank;\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n\n\n  Scale.prototype.setBlank = function (isBlank) {\n    this._isBlank = isBlank;\n  };\n\n  return Scale;\n}();\n\nclazzUtil.enableClassManagement(Scale);\nexport default Scale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/*\n* A third-party license is embedded for some of the code in this file:\n* The \"scaleLevels\" was originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment on the definition of \"scaleLevels\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\n// [About UTC and local time zone]:\n// In most cases, `number.parseDate` will treat input data string as local time\n// (except time zone is specified in time string). And `format.formateTime` returns\n// local time by default. option.useUTC is false by default. This design has\n// considered these common cases:\n// (1) Time that is persistent in server is in UTC, but it is needed to be displayed\n// in local time by default.\n// (2) By default, the input data string (e.g., '2011-01-02') should be displayed\n// as its original time, without any time difference.\n\nimport * as numberUtil from '../util/number.js';\nimport { ONE_SECOND, ONE_MINUTE, ONE_HOUR, ONE_DAY, ONE_YEAR, format, leveledFormat, getUnitValue, timeUnits, fullLeveledFormatter, getPrimaryTimeUnit, isPrimaryTimeUnit, getDefaultFormatPrecisionOfInterval, fullYearGetterName, monthSetterName, fullYearSetterName, dateSetterName, hoursGetterName, hoursSetterName, minutesSetterName, secondsSetterName, millisecondsSetterName, monthGetterName, dateGetterName, minutesGetterName, secondsGetterName, millisecondsGetterName } from '../util/time.js';\nimport * as scaleHelper from './helper.js';\nimport IntervalScale from './Interval.js';\nimport Scale from './Scale.js';\nimport { warn } from '../util/log.js';\nimport { filter, isNumber, map } from 'zrender/lib/core/util.js'; // FIXME 公用？\n\nvar bisect = function (a, x, lo, hi) {\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n\n    if (a[mid][1] < x) {\n      lo = mid + 1;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return lo;\n};\n\nvar TimeScale =\n/** @class */\nfunction (_super) {\n  __extends(TimeScale, _super);\n\n  function TimeScale(settings) {\n    var _this = _super.call(this, settings) || this;\n\n    _this.type = 'time';\n    return _this;\n  }\n  /**\n   * Get label is mainly for other components like dataZoom, tooltip.\n   */\n\n\n  TimeScale.prototype.getLabel = function (tick) {\n    var useUTC = this.getSetting('useUTC');\n    return format(tick.value, fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))] || fullLeveledFormatter.second, useUTC, this.getSetting('locale'));\n  };\n\n  TimeScale.prototype.getFormattedLabel = function (tick, idx, labelFormatter) {\n    var isUTC = this.getSetting('useUTC');\n    var lang = this.getSetting('locale');\n    return leveledFormat(tick, idx, labelFormatter, lang, isUTC);\n  };\n  /**\n   * @override\n   */\n\n\n  TimeScale.prototype.getTicks = function () {\n    var interval = this._interval;\n    var extent = this._extent;\n    var ticks = []; // If interval is 0, return [];\n\n    if (!interval) {\n      return ticks;\n    }\n\n    ticks.push({\n      value: extent[0],\n      level: 0\n    });\n    var useUTC = this.getSetting('useUTC');\n    var innerTicks = getIntervalTicks(this._minLevelUnit, this._approxInterval, useUTC, extent);\n    ticks = ticks.concat(innerTicks);\n    ticks.push({\n      value: extent[1],\n      level: 0\n    });\n    return ticks;\n  };\n\n  TimeScale.prototype.calcNiceExtent = function (opt) {\n    var extent = this._extent; // If extent start and end are same, expand them\n\n    if (extent[0] === extent[1]) {\n      // Expand extent\n      extent[0] -= ONE_DAY;\n      extent[1] += ONE_DAY;\n    } // If there are no data and extent are [Infinity, -Infinity]\n\n\n    if (extent[1] === -Infinity && extent[0] === Infinity) {\n      var d = new Date();\n      extent[1] = +new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      extent[0] = extent[1] - ONE_DAY;\n    }\n\n    this.calcNiceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval);\n  };\n\n  TimeScale.prototype.calcNiceTicks = function (approxTickNum, minInterval, maxInterval) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n    this._approxInterval = span / approxTickNum;\n\n    if (minInterval != null && this._approxInterval < minInterval) {\n      this._approxInterval = minInterval;\n    }\n\n    if (maxInterval != null && this._approxInterval > maxInterval) {\n      this._approxInterval = maxInterval;\n    }\n\n    var scaleIntervalsLen = scaleIntervals.length;\n    var idx = Math.min(bisect(scaleIntervals, this._approxInterval, 0, scaleIntervalsLen), scaleIntervalsLen - 1); // Interval that can be used to calculate ticks\n\n    this._interval = scaleIntervals[idx][1]; // Min level used when picking ticks from top down.\n    // We check one more level to avoid the ticks are to sparse in some case.\n\n    this._minLevelUnit = scaleIntervals[Math.max(idx - 1, 0)][0];\n  };\n\n  TimeScale.prototype.parse = function (val) {\n    // val might be float.\n    return isNumber(val) ? val : +numberUtil.parseDate(val);\n  };\n\n  TimeScale.prototype.contain = function (val) {\n    return scaleHelper.contain(this.parse(val), this._extent);\n  };\n\n  TimeScale.prototype.normalize = function (val) {\n    return scaleHelper.normalize(this.parse(val), this._extent);\n  };\n\n  TimeScale.prototype.scale = function (val) {\n    return scaleHelper.scale(val, this._extent);\n  };\n\n  TimeScale.type = 'time';\n  return TimeScale;\n}(IntervalScale);\n/**\n * This implementation was originally copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/time/scale.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\n\n\nvar scaleIntervals = [// Format                           interval\n['second', ONE_SECOND], ['minute', ONE_MINUTE], ['hour', ONE_HOUR], ['quarter-day', ONE_HOUR * 6], ['half-day', ONE_HOUR * 12], ['day', ONE_DAY * 1.2], ['half-week', ONE_DAY * 3.5], ['week', ONE_DAY * 7], ['month', ONE_DAY * 31], ['quarter', ONE_DAY * 95], ['half-year', ONE_YEAR / 2], ['year', ONE_YEAR] // 1Y\n];\n\nfunction isUnitValueSame(unit, valueA, valueB, isUTC) {\n  var dateA = numberUtil.parseDate(valueA);\n  var dateB = numberUtil.parseDate(valueB);\n\n  var isSame = function (unit) {\n    return getUnitValue(dateA, unit, isUTC) === getUnitValue(dateB, unit, isUTC);\n  };\n\n  var isSameYear = function () {\n    return isSame('year');\n  }; // const isSameHalfYear = () => isSameYear() && isSame('half-year');\n  // const isSameQuater = () => isSameYear() && isSame('quarter');\n\n\n  var isSameMonth = function () {\n    return isSameYear() && isSame('month');\n  };\n\n  var isSameDay = function () {\n    return isSameMonth() && isSame('day');\n  }; // const isSameHalfDay = () => isSameDay() && isSame('half-day');\n\n\n  var isSameHour = function () {\n    return isSameDay() && isSame('hour');\n  };\n\n  var isSameMinute = function () {\n    return isSameHour() && isSame('minute');\n  };\n\n  var isSameSecond = function () {\n    return isSameMinute() && isSame('second');\n  };\n\n  var isSameMilliSecond = function () {\n    return isSameSecond() && isSame('millisecond');\n  };\n\n  switch (unit) {\n    case 'year':\n      return isSameYear();\n\n    case 'month':\n      return isSameMonth();\n\n    case 'day':\n      return isSameDay();\n\n    case 'hour':\n      return isSameHour();\n\n    case 'minute':\n      return isSameMinute();\n\n    case 'second':\n      return isSameSecond();\n\n    case 'millisecond':\n      return isSameMilliSecond();\n  }\n} // const primaryUnitGetters = {\n//     year: fullYearGetterName(),\n//     month: monthGetterName(),\n//     day: dateGetterName(),\n//     hour: hoursGetterName(),\n//     minute: minutesGetterName(),\n//     second: secondsGetterName(),\n//     millisecond: millisecondsGetterName()\n// };\n// const primaryUnitUTCGetters = {\n//     year: fullYearGetterName(true),\n//     month: monthGetterName(true),\n//     day: dateGetterName(true),\n//     hour: hoursGetterName(true),\n//     minute: minutesGetterName(true),\n//     second: secondsGetterName(true),\n//     millisecond: millisecondsGetterName(true)\n// };\n// function moveTick(date: Date, unitName: TimeUnit, step: number, isUTC: boolean) {\n//     step = step || 1;\n//     switch (getPrimaryTimeUnit(unitName)) {\n//         case 'year':\n//             date[fullYearSetterName(isUTC)](date[fullYearGetterName(isUTC)]() + step);\n//             break;\n//         case 'month':\n//             date[monthSetterName(isUTC)](date[monthGetterName(isUTC)]() + step);\n//             break;\n//         case 'day':\n//             date[dateSetterName(isUTC)](date[dateGetterName(isUTC)]() + step);\n//             break;\n//         case 'hour':\n//             date[hoursSetterName(isUTC)](date[hoursGetterName(isUTC)]() + step);\n//             break;\n//         case 'minute':\n//             date[minutesSetterName(isUTC)](date[minutesGetterName(isUTC)]() + step);\n//             break;\n//         case 'second':\n//             date[secondsSetterName(isUTC)](date[secondsGetterName(isUTC)]() + step);\n//             break;\n//         case 'millisecond':\n//             date[millisecondsSetterName(isUTC)](date[millisecondsGetterName(isUTC)]() + step);\n//             break;\n//     }\n//     return date.getTime();\n// }\n// const DATE_INTERVALS = [[8, 7.5], [4, 3.5], [2, 1.5]];\n// const MONTH_INTERVALS = [[6, 5.5], [3, 2.5], [2, 1.5]];\n// const MINUTES_SECONDS_INTERVALS = [[30, 30], [20, 20], [15, 15], [10, 10], [5, 5], [2, 2]];\n\n\nfunction getDateInterval(approxInterval, daysInMonth) {\n  approxInterval /= ONE_DAY;\n  return approxInterval > 16 ? 16 // Math.floor(daysInMonth / 2) + 1  // In this case we only want one tick between two months.\n  : approxInterval > 7.5 ? 7 // TODO week 7 or day 8?\n  : approxInterval > 3.5 ? 4 : approxInterval > 1.5 ? 2 : 1;\n}\n\nfunction getMonthInterval(approxInterval) {\n  var APPROX_ONE_MONTH = 30 * ONE_DAY;\n  approxInterval /= APPROX_ONE_MONTH;\n  return approxInterval > 6 ? 6 : approxInterval > 3 ? 3 : approxInterval > 2 ? 2 : 1;\n}\n\nfunction getHourInterval(approxInterval) {\n  approxInterval /= ONE_HOUR;\n  return approxInterval > 12 ? 12 : approxInterval > 6 ? 6 : approxInterval > 3.5 ? 4 : approxInterval > 2 ? 2 : 1;\n}\n\nfunction getMinutesAndSecondsInterval(approxInterval, isMinutes) {\n  approxInterval /= isMinutes ? ONE_MINUTE : ONE_SECOND;\n  return approxInterval > 30 ? 30 : approxInterval > 20 ? 20 : approxInterval > 15 ? 15 : approxInterval > 10 ? 10 : approxInterval > 5 ? 5 : approxInterval > 2 ? 2 : 1;\n}\n\nfunction getMillisecondsInterval(approxInterval) {\n  return numberUtil.nice(approxInterval, true);\n}\n\nfunction getFirstTimestampOfUnit(date, unitName, isUTC) {\n  var outDate = new Date(date);\n\n  switch (getPrimaryTimeUnit(unitName)) {\n    case 'year':\n    case 'month':\n      outDate[monthSetterName(isUTC)](0);\n\n    case 'day':\n      outDate[dateSetterName(isUTC)](1);\n\n    case 'hour':\n      outDate[hoursSetterName(isUTC)](0);\n\n    case 'minute':\n      outDate[minutesSetterName(isUTC)](0);\n\n    case 'second':\n      outDate[secondsSetterName(isUTC)](0);\n      outDate[millisecondsSetterName(isUTC)](0);\n  }\n\n  return outDate.getTime();\n}\n\nfunction getIntervalTicks(bottomUnitName, approxInterval, isUTC, extent) {\n  var safeLimit = 10000;\n  var unitNames = timeUnits;\n  var iter = 0;\n\n  function addTicksInSpan(interval, minTimestamp, maxTimestamp, getMethodName, setMethodName, isDate, out) {\n    var date = new Date(minTimestamp);\n    var dateTime = minTimestamp;\n    var d = date[getMethodName](); // if (isDate) {\n    //     d -= 1; // Starts with 0;   PENDING\n    // }\n\n    while (dateTime < maxTimestamp && dateTime <= extent[1]) {\n      out.push({\n        value: dateTime\n      });\n      d += interval;\n      date[setMethodName](d);\n      dateTime = date.getTime();\n    } // This extra tick is for calcuating ticks of next level. Will not been added to the final result\n\n\n    out.push({\n      value: dateTime,\n      notAdd: true\n    });\n  }\n\n  function addLevelTicks(unitName, lastLevelTicks, levelTicks) {\n    var newAddedTicks = [];\n    var isFirstLevel = !lastLevelTicks.length;\n\n    if (isUnitValueSame(getPrimaryTimeUnit(unitName), extent[0], extent[1], isUTC)) {\n      return;\n    }\n\n    if (isFirstLevel) {\n      lastLevelTicks = [{\n        // TODO Optimize. Not include so may ticks.\n        value: getFirstTimestampOfUnit(new Date(extent[0]), unitName, isUTC)\n      }, {\n        value: extent[1]\n      }];\n    }\n\n    for (var i = 0; i < lastLevelTicks.length - 1; i++) {\n      var startTick = lastLevelTicks[i].value;\n      var endTick = lastLevelTicks[i + 1].value;\n\n      if (startTick === endTick) {\n        continue;\n      }\n\n      var interval = void 0;\n      var getterName = void 0;\n      var setterName = void 0;\n      var isDate = false;\n\n      switch (unitName) {\n        case 'year':\n          interval = Math.max(1, Math.round(approxInterval / ONE_DAY / 365));\n          getterName = fullYearGetterName(isUTC);\n          setterName = fullYearSetterName(isUTC);\n          break;\n\n        case 'half-year':\n        case 'quarter':\n        case 'month':\n          interval = getMonthInterval(approxInterval);\n          getterName = monthGetterName(isUTC);\n          setterName = monthSetterName(isUTC);\n          break;\n\n        case 'week': // PENDING If week is added. Ignore day.\n\n        case 'half-week':\n        case 'day':\n          interval = getDateInterval(approxInterval, 31); // Use 32 days and let interval been 16\n\n          getterName = dateGetterName(isUTC);\n          setterName = dateSetterName(isUTC);\n          isDate = true;\n          break;\n\n        case 'half-day':\n        case 'quarter-day':\n        case 'hour':\n          interval = getHourInterval(approxInterval);\n          getterName = hoursGetterName(isUTC);\n          setterName = hoursSetterName(isUTC);\n          break;\n\n        case 'minute':\n          interval = getMinutesAndSecondsInterval(approxInterval, true);\n          getterName = minutesGetterName(isUTC);\n          setterName = minutesSetterName(isUTC);\n          break;\n\n        case 'second':\n          interval = getMinutesAndSecondsInterval(approxInterval, false);\n          getterName = secondsGetterName(isUTC);\n          setterName = secondsSetterName(isUTC);\n          break;\n\n        case 'millisecond':\n          interval = getMillisecondsInterval(approxInterval);\n          getterName = millisecondsGetterName(isUTC);\n          setterName = millisecondsSetterName(isUTC);\n          break;\n      }\n\n      addTicksInSpan(interval, startTick, endTick, getterName, setterName, isDate, newAddedTicks);\n\n      if (unitName === 'year' && levelTicks.length > 1 && i === 0) {\n        // Add nearest years to the left extent.\n        levelTicks.unshift({\n          value: levelTicks[0].value - interval\n        });\n      }\n    }\n\n    for (var i = 0; i < newAddedTicks.length; i++) {\n      levelTicks.push(newAddedTicks[i]);\n    } // newAddedTicks.length && console.log(unitName, newAddedTicks);\n\n\n    return newAddedTicks;\n  }\n\n  var levelsTicks = [];\n  var currentLevelTicks = [];\n  var tickCount = 0;\n  var lastLevelTickCount = 0;\n\n  for (var i = 0; i < unitNames.length && iter++ < safeLimit; ++i) {\n    var primaryTimeUnit = getPrimaryTimeUnit(unitNames[i]);\n\n    if (!isPrimaryTimeUnit(unitNames[i])) {\n      // TODO\n      continue;\n    }\n\n    addLevelTicks(unitNames[i], levelsTicks[levelsTicks.length - 1] || [], currentLevelTicks);\n    var nextPrimaryTimeUnit = unitNames[i + 1] ? getPrimaryTimeUnit(unitNames[i + 1]) : null;\n\n    if (primaryTimeUnit !== nextPrimaryTimeUnit) {\n      if (currentLevelTicks.length) {\n        lastLevelTickCount = tickCount; // Remove the duplicate so the tick count can be precisely.\n\n        currentLevelTicks.sort(function (a, b) {\n          return a.value - b.value;\n        });\n        var levelTicksRemoveDuplicated = [];\n\n        for (var i_1 = 0; i_1 < currentLevelTicks.length; ++i_1) {\n          var tickValue = currentLevelTicks[i_1].value;\n\n          if (i_1 === 0 || currentLevelTicks[i_1 - 1].value !== tickValue) {\n            levelTicksRemoveDuplicated.push(currentLevelTicks[i_1]);\n\n            if (tickValue >= extent[0] && tickValue <= extent[1]) {\n              tickCount++;\n            }\n          }\n        }\n\n        var targetTickNum = (extent[1] - extent[0]) / approxInterval; // Added too much in this level and not too less in last level\n\n        if (tickCount > targetTickNum * 1.5 && lastLevelTickCount > targetTickNum / 1.5) {\n          break;\n        } // Only treat primary time unit as one level.\n\n\n        levelsTicks.push(levelTicksRemoveDuplicated);\n\n        if (tickCount > targetTickNum || bottomUnitName === unitNames[i]) {\n          break;\n        }\n      } // Reset if next unitName is primary\n\n\n      currentLevelTicks = [];\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (iter >= safeLimit) {\n      warn('Exceed safe limit.');\n    }\n  }\n\n  var levelsTicksInExtent = filter(map(levelsTicks, function (levelTicks) {\n    return filter(levelTicks, function (tick) {\n      return tick.value >= extent[0] && tick.value <= extent[1] && !tick.notAdd;\n    });\n  }), function (levelTicks) {\n    return levelTicks.length > 0;\n  });\n  var ticks = [];\n  var maxLevel = levelsTicksInExtent.length - 1;\n\n  for (var i = 0; i < levelsTicksInExtent.length; ++i) {\n    var levelTicks = levelsTicksInExtent[i];\n\n    for (var k = 0; k < levelTicks.length; ++k) {\n      ticks.push({\n        value: levelTicks[k].value,\n        level: maxLevel - i\n      });\n    }\n  }\n\n  ticks.sort(function (a, b) {\n    return a.value - b.value;\n  }); // Remove duplicates\n\n  var result = [];\n\n  for (var i = 0; i < ticks.length; ++i) {\n    if (i === 0 || ticks[i].value !== ticks[i - 1].value) {\n      result.push(ticks[i]);\n    }\n  }\n\n  return result;\n}\n\nScale.registerClass(TimeScale);\nexport default TimeScale;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getPrecision, round, nice, quantityExponent } from '../util/number.js';\nexport function isValueNice(val) {\n  var exp10 = Math.pow(10, quantityExponent(Math.abs(val)));\n  var f = Math.abs(val / exp10);\n  return f === 0 || f === 1 || f === 2 || f === 3 || f === 5;\n}\nexport function isIntervalOrLogScale(scale) {\n  return scale.type === 'interval' || scale.type === 'log';\n}\n/**\n * @param extent Both extent[0] and extent[1] should be valid number.\n *               Should be extent[0] < extent[1].\n * @param splitNumber splitNumber should be >= 1.\n */\n\nexport function intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval) {\n  var result = {};\n  var span = extent[1] - extent[0];\n  var interval = result.interval = nice(span / splitNumber, true);\n\n  if (minInterval != null && interval < minInterval) {\n    interval = result.interval = minInterval;\n  }\n\n  if (maxInterval != null && interval > maxInterval) {\n    interval = result.interval = maxInterval;\n  } // Tow more digital for tick.\n\n\n  var precision = result.intervalPrecision = getIntervalPrecision(interval); // Niced extent inside original extent\n\n  var niceTickExtent = result.niceTickExtent = [round(Math.ceil(extent[0] / interval) * interval, precision), round(Math.floor(extent[1] / interval) * interval, precision)];\n  fixExtent(niceTickExtent, extent);\n  return result;\n}\nexport function increaseInterval(interval) {\n  var exp10 = Math.pow(10, quantityExponent(interval)); // Increase interval\n\n  var f = interval / exp10;\n\n  if (!f) {\n    f = 1;\n  } else if (f === 2) {\n    f = 3;\n  } else if (f === 3) {\n    f = 5;\n  } else {\n    // f is 1 or 5\n    f *= 2;\n  }\n\n  return round(f * exp10);\n}\n/**\n * @return interval precision\n */\n\nexport function getIntervalPrecision(interval) {\n  // Tow more digital for tick.\n  return getPrecision(interval) + 2;\n}\n\nfunction clamp(niceTickExtent, idx, extent) {\n  niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent[1]), extent[0]);\n} // In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.\n\n\nexport function fixExtent(niceTickExtent, extent) {\n  !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent[0]);\n  !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent[1]);\n  clamp(niceTickExtent, 0, extent);\n  clamp(niceTickExtent, 1, extent);\n\n  if (niceTickExtent[0] > niceTickExtent[1]) {\n    niceTickExtent[0] = niceTickExtent[1];\n  }\n}\nexport function contain(val, extent) {\n  return val >= extent[0] && val <= extent[1];\n}\nexport function normalize(val, extent) {\n  if (extent[1] === extent[0]) {\n    return 0.5;\n  }\n\n  return (val - extent[0]) / (extent[1] - extent[0]);\n}\nexport function scale(val, extent) {\n  return val * (extent[1] - extent[0]) + extent[0];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar contrastColor = '#B9B8CE';\nvar backgroundColor = '#100C2A';\n\nvar axisCommon = function () {\n  return {\n    axisLine: {\n      lineStyle: {\n        color: contrastColor\n      }\n    },\n    splitLine: {\n      lineStyle: {\n        color: '#484753'\n      }\n    },\n    splitArea: {\n      areaStyle: {\n        color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0.05)']\n      }\n    },\n    minorSplitLine: {\n      lineStyle: {\n        color: '#20203B'\n      }\n    }\n  };\n};\n\nvar colorPalette = ['#4992ff', '#7cffb2', '#fddd60', '#ff6e76', '#58d9f9', '#05c091', '#ff8a45', '#8d48e3', '#dd79ff'];\nvar theme = {\n  darkMode: true,\n  color: colorPalette,\n  backgroundColor: backgroundColor,\n  axisPointer: {\n    lineStyle: {\n      color: '#817f91'\n    },\n    crossStyle: {\n      color: '#817f91'\n    },\n    label: {\n      // TODO Contrast of label backgorundColor\n      color: '#fff'\n    }\n  },\n  legend: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  textStyle: {\n    color: contrastColor\n  },\n  title: {\n    textStyle: {\n      color: '#EEF1FA'\n    },\n    subtextStyle: {\n      color: '#B9B8CE'\n    }\n  },\n  toolbox: {\n    iconStyle: {\n      borderColor: contrastColor\n    }\n  },\n  dataZoom: {\n    borderColor: '#71708A',\n    textStyle: {\n      color: contrastColor\n    },\n    brushStyle: {\n      color: 'rgba(135,163,206,0.3)'\n    },\n    handleStyle: {\n      color: '#353450',\n      borderColor: '#C5CBE3'\n    },\n    moveHandleStyle: {\n      color: '#B0B6C3',\n      opacity: 0.3\n    },\n    fillerColor: 'rgba(135,163,206,0.2)',\n    emphasis: {\n      handleStyle: {\n        borderColor: '#91B7F2',\n        color: '#4D587D'\n      },\n      moveHandleStyle: {\n        color: '#636D9A',\n        opacity: 0.7\n      }\n    },\n    dataBackground: {\n      lineStyle: {\n        color: '#71708A',\n        width: 1\n      },\n      areaStyle: {\n        color: '#71708A'\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: '#87A3CE'\n      },\n      areaStyle: {\n        color: '#87A3CE'\n      }\n    }\n  },\n  visualMap: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  timeline: {\n    lineStyle: {\n      color: contrastColor\n    },\n    label: {\n      color: contrastColor\n    },\n    controlStyle: {\n      color: contrastColor,\n      borderColor: contrastColor\n    }\n  },\n  calendar: {\n    itemStyle: {\n      color: backgroundColor\n    },\n    dayLabel: {\n      color: contrastColor\n    },\n    monthLabel: {\n      color: contrastColor\n    },\n    yearLabel: {\n      color: contrastColor\n    }\n  },\n  timeAxis: axisCommon(),\n  logAxis: axisCommon(),\n  valueAxis: axisCommon(),\n  categoryAxis: axisCommon(),\n  line: {\n    symbol: 'circle'\n  },\n  graph: {\n    color: colorPalette\n  },\n  gauge: {\n    title: {\n      color: contrastColor\n    },\n    axisLine: {\n      lineStyle: {\n        color: [[1, 'rgba(207,212,219,0.2)']]\n      }\n    },\n    axisLabel: {\n      color: contrastColor\n    },\n    detail: {\n      color: '#EEF1FA'\n    }\n  },\n  candlestick: {\n    itemStyle: {\n      color: '#f64e56',\n      color0: '#54ea92',\n      borderColor: '#f64e56',\n      borderColor0: '#54ea92' // borderColor: '#ca2824',\n      // borderColor0: '#09a443'\n\n    }\n  }\n};\ntheme.categoryAxis.splitLine.show = false;\nexport default theme;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar colorAll = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF'];\nexport default {\n  color: colorAll,\n  colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], colorAll]\n};"],"names":["createLegacyDataSelectAction","seriesType","ecRegisterAction","getSeriesIndices","ecModel","payload","seriesIndices","eachComponent","mainType","subType","query","seriesModel","push","seriesIndex","each","eventsMap","api","extend","dispatchAction","type","handleSeriesLegacySelectEvents","eventPostfix","ecIns","legacyEventName","isSilent","selectedMap","option","selected","i","length","data","getData","dataIndex","fromActionPayload","trigger","seriesId","id","name","isArray","getName","isString","handleLegacySelectEvents","messageCenter","on","params","getModel","isFromClick","fromAction","getTextRect","text","font","align","verticalAlign","padding","rich","truncate","lineHeight","textEl","Text","style","overflow","getBoundingRect","PI","Math","defaultLoading","opts","zrUtil","textColor","fontSize","fontWeight","fontStyle","fontFamily","maskColor","showSpinner","color","spinnerRadius","lineWidth","zlevel","group","graphic","mask","fill","z","add","arc","textContent","labelRect","textConfig","position","distance","shape","startAngle","endAngle","r","stroke","lineCap","animateShape","when","start","delay","resize","textWidth","width","cx","getWidth","cy","getHeight","setShape","x","y","height","inner","ComponentModel","_super","parentModel","_this","call","this","uid","prototype","init","mergeDefaultAndTheme","layoutMode","inputPositionParams","themeModel","getTheme","get","getDefaultOption","mergeOption","optionUpdated","newCptOption","isInit","ctor","constructor","defaultOption","fields","optList","clz","opt","superClass","getReferringComponents","indexKey","idKey","index","getBoxLayoutParams","boxLayoutModel","left","top","right","bottom","getZLevelKey","setZLevel","protoInitialize","proto","componentIndex","getDependencies","componentType","deps","getClassesByMainType","concat","dependencies","main","unshift","platform","navigator","reCreateSeriesIndices","assertSeriesInitialized","initBase","decalColor","darkMode","colorBy","gradientColor","aria","decal","decals","dashArrayX","dashArrayY","symbolSize","rotation","symbol","textStyle","match","blendMode","stateAnimation","duration","easing","animation","animationDuration","animationDurationUpdate","animationEasing","animationEasingUpdate","animationThreshold","progressiveThreshold","progressive","hoverLayerThreshold","useUTC","OPTION_INNER_KEY","OPTION_INNER_VALUE","GlobalModel","apply","arguments","theme","locale","optionManager","_theme","Model","_locale","_optionManager","setOption","optionPreprocessorFuncs","innerOpt","normalizeSetOptionInput","_resetOption","resetOption","optionChanged","baseOption","mountOption","restoreData","_mergeOption","timelineOption","getTimelineOption","mediaOptions","getMediaOption","mediaOption","newOption","componentsMap","_componentsMap","componentsCount","_componentsCount","newCmptTypes","newCmptTypeMap","createHashMap","replaceMergeMainTypeMap","visitComponent","newCmptOptionList","model","oldCmptList","mergeMode","mappingResult","Component","set","tooltipExists","optionsByMainType","cmptsByMainType","cmptsCountByMainType","resultItem","componentModel","existing","newCmptOption","isSeriesType","ComponentModelClass","keyInfo","extraOpt","brandNew","__requireNewView","componentOption","clone","merge","val","mainTypeInReplaceMerge","_seriesIndices","getOption","optInMainType","realLen","metNonInner","getLocaleModel","setUpdatePayload","_payload","getUpdatePayload","getComponent","idx","list","cmpt","queryComponents","condition","result","cmpts","queryByIdOrName","filter","filterBySubType","findComponents","queryCond","getQueryCond","doFilter","q","indexAttr","idAttr","nameAttr","res","cb","context","isFunction","ctxForAll_1","cbForAll_1","isObject","getSeriesByName","nameStr","oneSeries","getSeriesByIndex","getSeriesByType","getSeries","getSeriesCount","eachSeries","rawSeriesIndex","series","eachRawSeries","eachSeriesByType","eachRawSeriesByType","isSeriesFiltered","_seriesIndicesMap","getCurrentSeriesIndices","slice","filterSeries","newSeriesIndices","seriesRawIdx","componentTypes","components","component","isNotTargetSeries","internalField","airaOption","enabled","mergeTheme","globalDefault","name_1","seriesName","notMergeColorLayer","colorLayer","themeItem","attr","idOrName","keyMap_1","idOrNameItem","idName","idName_1","hasOwnProperty","replaceMerge","mixin","AREA_STYLE_KEY_MAP","getAreaStyle","makeStyleMapper","AreaStyleMixin","excludes","includes","PATH_COLOR","textStyleParams","tmpText","TextStyleMixin","getTextColor","isEmphasis","getShallow","getFont","useStyle","update","rest","_i","path","ignoreParent","_doGet","parsePath","key","hasPath","pathFinal","obj","resolveParentPath","isEmpty","Ctor","split","isAnimationEnabled","env","pathArr","QUERY_REG","OptionManager","_timelineOptions","_mediaList","_currentMediaIndices","_api","rawOption","isTypedArray","setAsPrimitive","dataset","source","optionBackup","_optionBackup","newParsedOption","parseRawOption","_newBaseOption","timelineOptions","mediaList","mediaDefault","isRecreate","_mediaDefault","timelineModel","getCurrentIndex","ecWidth","ecHeight","indices","len","applyMediaQuery","indicesEquals","map","isNew","declaredBaseOption","timelineOnRoot","timeline","timelineOptionsOnRoot","options","mediaOnRoot","media","hasMedia","hasTimeline","doPreprocess","preProcess","singleMedia","realMap","aspectratio","applicable","value","matched","operator","realAttr","toLowerCase","compare","real","expect","indices1","indices2","join","getSelectionKey","getId","SERIES_UNIVERSAL_TRANSITION_PROP","SeriesModel","_selectedDataIndicesMap","dataTask","count","dataTaskCount","reset","dataTaskReset","sourceManager","prepareSource","getInitialData","wrapData","dataBeforeProcessed","autoSeriesName","_initSelectedMapFromData","themeSubType","fillDataTextStyle","newSeriesOption","dirty","props","label","appendData","getRawData","dataType","task","getCurrentTask","getLinkedData","getAllData","mainData","getLinkedDataAll","setData","outputData","getEncode","encode","getSourceManager","getSource","getColorBy","isColorBySeries","getBaseAxis","coordSys","coordinateSystem","formatTooltip","multipleSeries","ssr","animationEnabled","getColorFromPalette","scope","requestColorNum","coordDimToDataDim","coordDim","mapDimensionsAll","getProgressive","getProgressiveThreshold","select","innerDataIndices","_innerSelect","unselect","selectedMode","nameOrId","toggleSelect","tmpArr","isSelected","getSelectedDataIndices","getIndices","selectedDataIndicesMap","nameOrIds","dataIndices","getItemModel","isUniversalTransitionEnabled","universalTransitionOpt","universalTransition","_a","_b","getRawIndex","lastDataIndex","hasItemOption","rawItem","getRawDataItem","registerClass","ignoreStyleOnData","hasSymbolVisual","defaultSymbol","visualStyleAccessPath","visualDrawType","getSeriesAutoName","dataDims","nameArr","dataDim","dimInfo","getDimensionInfo","displayName","cloneShallow","dataTaskProgress","param","end","CHANGABLE_METHODS","DOWNSAMPLE_METHODS","methodName","wrapMethod","onDataChange","newList","setOutputEnd","scheduler","pipeline","getPipeline","currentTask","agentStubMap","internalOptionCreatorMap","registerInternalOptionCreator","creator","assert","concatInternalOptions","internalOptionCreator","internalOptions","DIMENSION_LABEL_REG","DataFormatMixin","getDataParams","rawValue","getRawValue","rawDataIndex","itemOpt","getItemVisual","borderColor","isSeries","userOutput","componentSubType","dimensionNames","fullDimensions","$vars","getFormattedLabel","status","labelDimIndex","formatter","extendParams","interpolatedValue","itemModel","dimensionIndex","str","replace","origin","dimStr","dimLoose","charAt","dimIndex","getDimensionIndex","normalizeTooltipFormatResult","markupText","markupFragment","frag","ITEM_STYLE_KEY_MAP","getItemStyle","ItemStyleMixin","LINE_STYLE_KEY_MAP","getLineStyle","LineStyleMixin","properties","propName","innerColor","innerDecal","PaletteMixin","requestNum","defaultPalette","layeredPalette","getFromPalette","clearColorPalette","clearPalette","getDecalFromPalette","defaultDecals","getNearestPalette","palettes","paletteNum","that","scopeFields","paletteIdx","paletteNameMap","palette","pickedPaletteItem","CoordSysInfo","coordSysName","coordSysDims","axisMap","categoryAxisMap","getCoordSysInfoBySeries","fetch","fetchers","cartesian2d","xAxisModel","SINGLE_REFERRING","models","yAxisModel","isCategory","firstCategoryDimIndex","singleAxis","singleAxisModel","polar","polarModel","radiusAxisModel","findAxisModel","angleAxisModel","geo","parallel","parallelModel","dimensions","parallelAxisIndex","axisIndex","axisModel","axisDim","POSSIBLE_STYLES","compatEC2ItemStyle","itemStyleOpt","itemStyle","styleName","normalItemStyleOpt","normal","emphasisItemStyleOpt","emphasis","convertNormalEmphasis","optType","useExtend","normalOpt","emphasisOpt","focus","blurScope","removeEC3NormalStatus","compatTextStyle","labelOptSingle","process","modelUtil","textPropName","compatEC3CommonStyles","processSeries","seriesOpt","markPoint","markLine","markArea","nodes","edgeData","links","edges","categories","mpData","mlData","breadcrumb","levels","leaves","toArr","o","toObj","globalCompatStyle","isTheme","axes","axisName","axisOpt","axisPointer","parallelOpt","parallelAxisDefault","calendar","calendarOpt","radar","radarOpt","nameGap","axisNameGap","geoOpt","regions","regionObj","timelineOpt","item","toolbox","toolboxOpt","feature","featureOpt","tooltip","overwrite","compatLayoutProperties","LAYOUT_PROPERTIES","prop","COMPATITABLE_COMPONENTS","BAR_ITEM_STYLE_MAP","compatBarItemStyle","oldName","newName","compatPieLabel","alignTo","margin","edgeDistance","compatSunburstState","downplay","blur","compatGraphFocus","focusNodeAdjacency","traverseTree","children","globalBackwardCompat","compatStyle","normalizeToArray","clipOverflow","clip","clockWise","clockwise","hoverOffset","scaleSize","pointerColor","backgroundStyle","_typeof","highlightPolicy","mapType","mapLocation","defaults","hoverAnimation","scale","dataRange","visualMap","componentName","dataFilter","legendModels","filterSelf","samplers","average","frame","sum","isNaN","NaN","max","Infinity","isFinite","min","nearest","indexSampler","round","dataSample","sampling","baseAxis","valueAxis","getOtherAxis","extent","getExtent","dpr","getDevicePixelRatio","size","abs","rate","lttbDownSample","mapDimension","dim","sampler","downSample","dataStack","stackInfoMap","stack","stackInfoList","stackInfo","stackResultDimension","getCalculationInfo","stackedOverDimension","stackedDimension","stackedByDimension","isStackedByIndex","setCalculationInfo","calculateStack","targetStackInfo","idxInStack","resultVal","resultNaN","dims","targetData","stackStrategy","modify","v0","v1","byValue","stackedDataRawIndex","stackedOver","j","rawIndexOf","getByRawIndex","negativeDataFilter","valueDim","curValue","isNumber","install","registers","registerPainter","roundNumber","numberUtil","IntervalScale","_interval","_intervalPrecision","__extends","parse","contain","helper","_extent","normalize","setExtent","thisExtent","parseFloat","unionExtent","other","getInterval","setInterval","interval","_niceExtent","getTicks","expandToNicedExtent","niceTickExtent","intervalPrecision","ticks","safeLimit","tick","lastNiceTick","getMinorTicks","splitNumber","minorTicks","nextTick","prevTick","minorTicksGroup","minorInterval","minorTick","getLabel","precision","dataNum","formatUtil","calcNiceTicks","minInterval","maxInterval","span","reverse","calcNiceExtent","expandSize","fixMax","fixMin","floor","ceil","setNiceExtent","Scale","scaleProto","intervalScaleProto","roundingErrorFix","mathFloor","mathCeil","mathPow","pow","mathLog","log","LogScale","base","_originalScale","originalScale","originalExtent","powVal","_fixMin","fixRoundingError","_fixMax","unionExtentFromData","getApproximateExtent","approxTickNum","err","niceExtent","scaleHelper","originalVal","OrdinalScale","setting","ordinalMeta","getSetting","OrdinalMeta","_ordinalMeta","getOrdinal","rank","_getTickNumber","getRawOrdinalNumber","setSortInfo","info","infoOrdinalNumbers","ordinalNumbers","ordinalsByTick","_ordinalNumbersByTick","ticksByOrdinal","_ticksByOrdinalNumber","tickNum","allCategoryLen","ordinalNumber","unusedOrdinal","ordinal","ticksByOrdinalNumber","tickNumber","ordinalNumbersByTick","isBlank","cateogry","isInExtentRange","getOrdinalMeta","_setting","_isBlank","setBlank","clazzUtil","bisect","a","lo","hi","mid","TimeScale","settings","format","fullLeveledFormatter","getDefaultFormatPrecisionOfInterval","getPrimaryTimeUnit","_minLevelUnit","labelFormatter","isUTC","lang","leveledFormat","level","innerTicks","getIntervalTicks","_approxInterval","ONE_DAY","d","Date","getFullYear","getMonth","getDate","scaleIntervalsLen","scaleIntervals","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_YEAR","isUnitValueSame","unit","valueA","valueB","dateA","dateB","isSame","getUnitValue","isSameYear","isSameMonth","isSameDay","isSameHour","isSameMinute","isSameSecond","isSameMilliSecond","getDateInterval","approxInterval","daysInMonth","getMonthInterval","APPROX_ONE_MONTH","getHourInterval","getMinutesAndSecondsInterval","isMinutes","getMillisecondsInterval","getFirstTimestampOfUnit","date","unitName","outDate","monthSetterName","dateSetterName","hoursSetterName","minutesSetterName","secondsSetterName","millisecondsSetterName","getTime","bottomUnitName","unitNames","timeUnits","iter","addTicksInSpan","minTimestamp","maxTimestamp","getMethodName","setMethodName","isDate","out","dateTime","notAdd","addLevelTicks","lastLevelTicks","levelTicks","newAddedTicks","isFirstLevel","startTick","endTick","getterName","setterName","fullYearGetterName","fullYearSetterName","monthGetterName","dateGetterName","hoursGetterName","minutesGetterName","secondsGetterName","millisecondsGetterName","levelsTicks","currentLevelTicks","tickCount","lastLevelTickCount","primaryTimeUnit","isPrimaryTimeUnit","nextPrimaryTimeUnit","sort","b","levelTicksRemoveDuplicated","i_1","tickValue","targetTickNum","levelsTicksInExtent","maxLevel","k","isIntervalOrLogScale","intervalScaleNiceTicks","nice","getIntervalPrecision","fixExtent","increaseInterval","exp10","quantityExponent","f","getPrecision","clamp","contrastColor","backgroundColor","axisCommon","axisLine","lineStyle","splitLine","splitArea","areaStyle","minorSplitLine","colorPalette","crossStyle","legend","title","subtextStyle","iconStyle","dataZoom","brushStyle","handleStyle","moveHandleStyle","opacity","fillerColor","dataBackground","selectedDataBackground","controlStyle","dayLabel","monthLabel","yearLabel","timeAxis","logAxis","categoryAxis","line","graph","gauge","axisLabel","detail","candlestick","color0","borderColor0","show","colorAll"],"sourceRoot":""}